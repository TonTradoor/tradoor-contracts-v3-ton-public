{"name":"OrderBook","code":"te6ccgECzQEAPlQAART/APSkE/S88sgLAQIBYgIDA+LQAdDTAwFxsKMB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFRQUwNvBPhhAvhi2zwRFhEYERYRFREXERURFBEWERQRExEVERMREhEUERIRERETEREREBESERAPEREPDhEQDhDfVRzbPPLggsIEBQIBIKusBPLtou37AY/jgCDXIXAh10nCH5UwINcLH94gghDonNRfuuMCghD/V+VXuo880x8BghD/V+VXuvLggdM/0wfTP1UgbBNbJYEBASJZ9A1voZIwbd8gbpIwbY6H0Ns8bB1vDeIgbpFb4w5/4DB/4HAh10nCH5UwINcLH94gCbcKCwFAyPhDAcx/AcoAERcRFhEVERQRExESEREREFXg2zzJ7VQGAdoBERYBEReBAQHPAAERFAGBAQHPAAEREgGBAQHPABEQyIEBAc8AH4EBAc8AHYEBAc8AC8iBAQHPABqBAQHPABiBAQHPAAbIgQEBzwBQBSDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFlADBwH8INdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WyFgg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYSygAS9ABQAyDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFhP0ABTLPxT0AAXI9AAWyz8W9AAWyz/JWMzJCAAaUAPMyVADzMlYzMkBzAP8MNMfAYIQ6JzUX7ry4IHSANM/WWwSMSeBAQEiWfQNb6GSMG3fIG6SMG2Oh9DbPGwYbwjiIG6RW49DIG7y0IBvKDIQRhA1RlZwgQEBUYfIVXDbPMkaEyBulTBZ9FowlEEz9BXiJ26zjpEHIG7y0IBwgEJ/VSBtbW3bPJE34uJ/tJmpA+4gbvLQgG8tMivAA46uG18LgQEBbSBukjBtjo0gbvLQgG8tyFXA2zzJ4hA4QYAgbpUwWfRaMJRBM/QV4o6gVZFwgQEBUc3IVcDbPMkQOEGAIG6VMFn0WjCUQTP0FeLiJW6zjpEFIG7y0IBwgEJ/VSBtbW3bPJE14p6eqQRighCSzzVmuo8IMNs8bB7bPH/gIMAAItdJwSGwklt/4CCCEHNi0Jy64wIgghAlshckugwNDg8B3tMfAYIQks81Zrry4IGBAQHXAPQE+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAGBAQHXAPoA1AHQ+gD6APoA+gD6APoA+gDUMND6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIARAE9hEWESQRFhEVESMRFREUESIRFBETESERExESESAREhERER8REREQER4REA8RHQ8OERwODREbDQwRGgwLERkLChEYCgkRFwkIESQIBxEjBwYRIgYFESEFBBEgBAMRHwMCER4CAREdAREc2zw3Ojo7Ozs7Ozs7OztwioroMJIREhMD2jDTHwGCEHNi0Jy68uCB0z/6APpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IhUEwMQI2wU+EJWEQHHBbOPKDD4QnCAQnBtUzPIywDJ0CcQahBZBAhVIMhVYNs8yRRDMBRDMG1t2zzjDn+iqRQE/o6bMNMfAYIQJbIXJLry4IH6ANN/0z9VIGwT2zx/4CCCEH2R6za6jsQw0x8BghB9kes2uvLggdM/0z/6QCHXCwHDAI4dASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IiSMW3iQzBsE9s8f+AgghAShrmLuuMCIIIQHPDPgbobHB0eAFT6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIMRCeEJ0QnBCbEJoACCBWEbkA5i+BAQEiWfQNb6GSMG3fIG6SMG2OKND6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAdIAWWwSbwLiIG6zjiyBAQshIG7y0IBvIjACIG7y0IBvIjEQOxJxIW6VW1n0WTCYyAHPAEEz9EHiCJEw4qQBQj4++EJ/cIBAECNtbW3bPAoRFgoQnxCuXikQehBpEFhVI6kDNC3jAtMAAcABILPjAgHUMNDTHyKTIcABkXDiFRYXBPYwERgRGREYERcRGREXERYRGREWERURGREVERQRGREUERMRGRETERIRGRESERERGRERERARGREQDxEZDw4RGQ4NERkNDBEZDAsRGQsKERkKCREZCREZCAcGVUBWGVYa2zx/cIBCiAQRGwQQNG1t2zwRFREWERURFBEVERSgGKkaBPZbERgRGREYERcRGREXERYRGREWERURGREVERQRGREUERMRGRETERIRGRESERERGRERERARGREQDxEZDw4RGQ4NERkNDBEZDAsRGQsKERkKCREZCREZCAcGVUBWGVYa2zx/cIBCiAQRGwQQNG1t2zwRFREWERURFBEVERSgGakaAhyOimwh03/6ADAB2zzjDiEiADAAAAAAY3JlYXRlIG9yZGVyIHN0b3BwZWQAKgAAAABwYXlsb2FkIG5vdCBleGlzdAA8ERMRFBETERIRExESEREREhERERAREREQDxEQD1UOAvQRFhEZERYRFREYERURFBEXERQRExEZERMREhEYERIREREXEREREBEZERAPERgPDhEXDg0RGQ0MERgMCxEXCwoRGQoJERgJCBEXCAcRGQcGERgGBREXBQQRGQQDERgDAhEXAgERGQERGNs8+EFvJDAxgUtpMlYZoVYXvpMfAu74QW8kE18DKoEBASVZ9A1voZIwbd8gbpIwbY6H0Ns8bBhvCOKBf30hbrPy9CBu8tCAbyhbJZ2BS2lWIFYcoBi+F/L0moFLaQdWIL4X8vTigV5tBrMW8vT4QhEXER8RFxEWER4RFhEVER0RFREUERwRFBETERsRE7QuAYgw0x8BghAShrmLuvLggdM/0z/6QCHXCwHDAI4dASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IiSMW3iQzBsE9s8fzQEeI6eMNMfAYIQHPDPgbry4IHTP4EBAdcA0z9VIGwT2zx/4CCCEGqSPdu6jwgw2zxsF9s8f+AgghAjxy9Yujo7PD0D9PL0gV/yVhhWEb7y9CWkgQEBcPhC+CNw+EJtViEEViBENMhVcNs8ySgQOgEgbpUwWfRaMJRBM/QV4g5WGKBy+EJQQwIRHAJWGgIRHBnIVVDbPMnIgljAAAAAAAAAAAAAAAABActnzMlw+wBx+EIhERcRGhEXERYRGREWmSUgAY4RFREYERURFBEXERQRExEWERMREhEVERIREREUEREREBETERAPERIPDREQDRDPEL4QrRCcEIsQihB5EFgQRxA2EDRBMHDbPKYC9vhBbyQTXwOLCHAkVh6gE7mOElt/i+Z2FzIG5vdCBlbm91Z2iN5TUrmOFlt/jQRamV0dG9uIG5vdCBlbm91Z2iDeI1YXuY4dW3+NBhleGVjdXRpb24gZmVlIG5vdCBlbm91Z2iDeAeMCMDMppIEBAX/4I3BtJ1E5UThSpCMkA7ACksACkjBw4o6k+gDSAAHA/wHTP9IAAcD/AdN/03/T/9Qw0NN/0//Tf9P/MNs8jycwcIBCcG1TM8jLAMnQJhBpEFgEB1UgyFVg2zzJVhBVMBRDMG1t2zziJqKpAvxsIREYERoRGBEXERkRFxEWERoRFhEVERkRFREUERoRFBETERkRExESERoREhERERkREREQERoREA8RGQ8OERoODREZDQwRGgwLERkLChEaCgkRGQkIERoIBxEZBwYRGgYFERkFBBEaBAMRGQMCERoCAREZAREaVhlWGts8f3CgKgOiyFVw2zzJLBA+ASBulTBZ9FowlEEz9BXiERIhoHFRMEUTVCAXHchVUNs8yciCWMAAAAAAAAAAAAAAAAEBy2fMyXD7AHEgAhERAhAqSTAScNs8mSWmAHiCELQXzGxQB8sfFcsHUAMg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxaBAQHPAAH6AoEBAc8Ayz8D7PhBbyQTXwOLCHAtViagE7mOElt/i+Z2FzIG5vdCBlbm91Z2iN5T6LmOFlt/jQRamV0dG9uIG5vdCBlbm91Z2iDecSbCAJMlwgCRcOKSMHLeJMIAkyPCAJFw4pGk3lYfIahS4LnjAALjAjA9CZF6koAL4lKtqQQnKCkAPmwhf40GGV4ZWN1dGlvbiBmZWUgbm90IGVub3VnaIFgC/GzBERgRGhEYERcRGREXERYRGhEWERURGREVERQRGhEUERMRGRETERIRGhESERERGRERERARGhEQDxEZDw4RGg4NERkNDBEaDAsRGQsKERoKCREZCQgRGggHERkHBhEaBgURGQUEERoEAxEZAwIRGgIBERkBERpWGVYa2zx/cKAqAfwRIhEkESIRIREjESERIBEkESARHxEjER8RHhEkER4RHREjER0RHBEkERwRGxEjERsRGhEkERoRGREjERkRGBEkERgRFxEjERcRFhEkERYRFREjERURFBEkERQRExEjERMREhEkERIREREjEREREBEkERAPESMPDhEkDg0RIw0tAnyAQhEb2zwEERoEQTABERsBEDRtbds8ERQRFhEUERMRFRETERIRFBESERERExERERAREhEQDxERDw4REA5VHSupAULIcAHLH28AAW+MbW+MAds8byIByZMhbrOWAW8iWczJ6DEsALog10oh10mXIMIAIsIAsY5KA28igH8izzGrAqEFqwJRVbYIIMIAnCCqAhXXGFAzzxZAFN5ZbwJTQaHCAJnIAW8CUEShqgKOEjEzwgCZ1DDQINdKIddJknAg4uLoXwMC0AwRJAwLESMLChEkClYjUKrbPDANVhigERYRGBEWERURFxEVERQRFhEUERMRFRETERIRFBESERERExERERAREhEQDxERDw4REA4PEM4QvRCsEJsQihB5EGgQVxBGEDUQJHJAFANxcNs8a6YC/hESERoREhERERkREREQERgREA8RHw8OER4ODREdDQwRHAwLERsLChEaCgkRGQkIERgIBxEfBwYRHgYFER0FBBEcBAMRGwMCERoCAREZAds8ggCg9yGRf5f4QlYdAccF4vL0s44SggCbFxEdVheg+CO7AREdAfL0klcc4vhCVh2BLwTgbrOaMBEcIG7y0IARHJJXHeKBAQFtIG6SMG2OjSBu8tCAbyjIVXDbPMniECdWGAEgbpUwWfRaMJRBM/QV4lYalFcYVxjjDVYVwgCOkhEaf1YWchAjbW1t2zwJVhShCZJXGuJWF5FxkXLiAgERFAERG5kwqTEC/vhCERYRGREWERURGBEVERQRFxEUERMRFhETERIRFRESERERFBERERARExEQDxESDw4REQ4NERANEM8QvhCtEJwQixB6GRBYEEcQNl4iAxEcA1YeAwIRHQIRGwHbPBEZAhEXAgYRFgYRFQIRFAIGERMGERICERECBhEQBk4fEG2gMgH8yFUgghBLZYrAUATLHxLLB8s/yz/JyIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsAcfhCERSjIRETERsRExESERoREhERERkREREQERgREA8RFw8OERYODREVDQwRFAwLERMLChESCgkREQkIERAIEH8QbhBdEEwQaxBqEEkQaF4jMwAYSxwQakgZBkUXUEQDAQpBBAPbPKYE9vhBbyQTXwMqgQEBJVn0DW+hkjBt3yBukjBtjofQ2zxsGG8I4oF/fSFus/L0IG7y0IBvKFsl4w+BXm0RGLMBERgB8vT4QhETERcRExESERYREhERERUREREQERQREA8REw8OERIODRERDQwREAwQvxCuEJ0QjBB7EGoQWbQ1NjcC+IFLaVYgqgARFhEiERYRFREhERURFBEgERQRExEfERMREhEeERIREREdEREREBEcERAPERsPDhEaDg0RGQ0MERgMCxEXCwoRIgoJESEJCBEgCAcRHwcGER4GBREdBQQRHAQDERsDAhEaAgERGQERGHHbPAERGQGgAREgAb5+OAL+gUtpViCqABEWESIRFhEVESERFREUESARFBETER8RExESER4REhERER0REREQERwREA8RGw8OERoODREZDQwRGAwLERcLChEiCgkRIQkIESAIBxEfBwYRHgYFER0FBBEcBAMRGwMCERoCAREZAREYcds8AREZAaBWEKABESABvn44A+QQSBA3RlAQNBAjAhEdAts8ggCg9wHy9FYdbrOXER0gbvLQgJRXHfhC4vhCf4EBAVYeBVYeBVYeBQQRHgQDER0DAhEeAshVcNs8yRAlAREWAVYbASBulTBZ9FowlEEz9BXiAREYAREZcBEcgEARGX8RGViBmTkADAERGAHy9AHkyFVAghDonNRfUAbLHxTKABLLPwEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxaBAQHPAMs/yScEAxEbAwIRFwIRFgEUQzBtbds8DhEWDg0RFQ0MERQMCxETCwoREgoJEREJCBEQCFV3FxBGXiJYqQP2+EFvJBNfA4IAoPf4QlYRAccF8vQqgQEBJVn0DW+hkjBt3yBukjBtjofQ2zxsGG8I4oF/fSFus/L0IG7y0IBvKGwiMySagUtpBlYfvhby9J2BS2lWH1YboBe+FvL04oEBAW0gbpIwbY6NIG7y0IBvKMhVcNs8yeICERACtJk+ADrTHwGCEGqSPdu68uCB+gDTP9IA03/Tf9N/0z9VYAL0ERYRHREWERURHBEVERQRGxEUERMRGhETERIRGRESERERGBERERARFxEQDxEdDw4RHA4NERsNDBEaDAsRGQsKERgKCREXCQgRHQgHERwHBhEbBgURGgUEERkEAxEYAwIRFwIBER0BERzbPPhBbyQwMYFLaTJWHaFWFr6TQgTGjwgw2zxsGNs8f+AgghDB+VPyuo7FMNMfAYIQwflT8rry4IH6QCHXCwHDAI4dASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IiSMW3iAdM/0z9VIGwT2zx/4CCCEJ36Dti6REVGRwPaUpAgbpUwWfRaMJRBM/QV4ibCAJEy4w0twgCOkQN/LnIQI21tbds8ERMsoRETkTPiAZFxkXLiQFPIVSCCELMFX9RQBMsfEssHyz/LP8nIgljAAAAAAAAAAAAAAAABActnzMlw+wAgbrOSWzfjDT+pQAL2ERcRHhEXERYRHREWERURHBEVERQRGxEUERMRGhETERIRGRESERERGBERERARHhEQDxEdDw4RHA4NERsNDBEaDAsRGQsKERgKCREeCQgRHQgHBhEbBgURGgUEERkEAxEYAwIRHgIBER0BVhoBVhwBESBWH9s8ERYRHREWoEEBKnEBIG7y0IAKo1RBE8IAEEtBQBPbPKYAmhEVERwRFREUERsRFBETERoRExESERkREhERERgREREQERcREA8RFg8OERUODREUDQwREwwLERILChERCgkREAkQjxB+EFwQSxA6SYcWAfzy9IFf8lYcVhC+8vSADPhCcFRwABEcESIRHBEbESERGxEaESARGhEZER8RGREYER4RGBEXER0RFxEWERwRFhEVERsRFREUERoRFBETERkRExESERgREhERERcREREQERYREA8RFQ8OERQODRETDQwREgwLERELChEQChCfEI5DAuIQfRBsEKsQWhBJBBEjBFYj2zwwDVYXoHL4QhEYERkRGBEXERgRFxEWERcRFhEVERYRFREUERURFBETERQRExESERMREhERERIREREQEREREAIREAIQ7xDeEM0QvBCrEJoQiRB4EGcQVhBFEDRYcXDbPGumAD7THwGCECPHL1i68uCB+gDTP9IA03/Tf9N/03/TP1VwA/QRFhEeERYRFREdERURFBEcERQRExEbERMREhEaERIREREZEREREBEYERAPERcPDhEeDg0RHQ0MERwMCxEbCwoRGgoJERkJCBEYCAcRFwcGER4GBREdBQQRHAQDERsDAhEaAgERGQERGNs8+EFvJBNfA3BWHsIAkXDjDZNISQLw+EFvJBNfAyiBAQEkWfQNb6GSMG3fIG6SMG2Oh9DbPGwdbw3igX99IW6z8vQgbvLQgG8tW2wzNDUlwAqRf5MlwAvinYFLaVYfVhygGL4X8vSagUtpB1Yfvhfy9OKBXm0CsxLy9PhCERcRHxEXERYRHhEWERURHREVt08EOo8IMNs8bBbbPH/gIIIQ7wHCtLrjAiCCECM0O7S6WVpbXAAIVh3CAAP6kjBx3lYcwgCUVhvCAJFw4pGk3oFLaQJWGqFWFyKovhLy9IFf8lYQIqhWGgG+8vRWHcIAlFYcwgCRcOKUVxxXHOMNVhnCAJRWGMIAkXDijhIEER0EAxEcAwIRGQJXF1cXXwPjDQdWEaBy+EIREhEaERIREREZEREREBEYERBKS0wB/IAN+EJwVHAAIFYfKKkEER8RIBEfER4RHxEeER0RHhEdERwRHREcERsRHBEbERoRGxEaERkRGhEZERgRGREYERcRGBEXERYRFxEWERURFhEVERQRFREUERMRFBETERIRExESEREREhERERAREREQDxEQDxDvEN4QzRC8EKsQmk0B/oAO+EJwVHAAIFYdViKpBBEdESMRHREcESIRHBEbESERGxEaESARGhEZER8RGREYER4RGBEXER0RFxEWERwRFhEVERsRFREUERoRFBETERkRExESERgREhERERcREREQERYREA8RFQ8OERQODRETDQwREgwLERELChEQChCfEI5OAXIPERcPDhEWDg0RFQ0MERQMCxETCwoREgoCERECCBEQCBB/EG4QXRBMEDsQmhAoEGcQVhBFQDRw2zymAXJWIQoQiRB4VigIVigIBwYRKAYFEScFBAMRKAMCEScCAREo2zwwERsRGhEWERURFBETERIREREQVeBrAaAQvRC8EHsQagkRJQkIESQIEFcGESUGBREkBds8MAURGAUEERcEERYFERUFAxEUAwIREwIBERIBBBERBBEQEF8QPk3AEEsKEFkQOEcUBVUgBmsE/BEUERwRFBETERsRExESERoREhERERkREREQERgREA8RHw8OER4ODREdDQwRHAwLERsLChEaCgkRGQkIERgIBxEfBwYRHgYFER0FBBEcBAMRGwMCERoCAREZAds8ggCg9yGRf5f4QlYcAccF4vL0s5Fw4w2SVxrjDfhCVhdus4FQUVIAGFYbwAqRf5RWG8AM4gAkggCbFxEbVheg+CO7AREbAfL0BPyaMBEWIG7y0IARFpJXF+JwVhvACpF/lFYbwAvilFcYVxjjDYEBAW0gbpIwbY6NIG7y0IBvLchVwNs8yeIQJFYeASBulTBZ9FowlEEz9BXiVhrCAI6WERV/VhtyECNtbW3bPAERFQERGaARFJRXFVcZ4glWFKFWFwIBERsBERpTnqlUAvgjgQEBViBZ9A1voZIwbd8gbpIwbY4o0IEBAdcAgQEB1wCBAQHXANQB0IEBAdcAgQEB1wAwECUQJBAjbBVvBeIgbrORMOMN+EIRFxEZERcRFhEYERYRFREXERURFBEWERQRExEVERMREhEUERIRERETEREREBESERAPEREPVVYB/MhVIIIQgD5hdVAEyx8SywfLP8s/yciCWMAAAAAAAAAAAAAAAAEBy2fMyXD7AHL4QhEUo3FWGMAKk1cYf5QRGMAL4hETERsRExESERoREhERERkREREQERgREA8RFw8OERYODREVDQwRFAwLERMLCxESCwkREQkIERAIEH8QblgC9iBu8tCAbyUlBcIAkwPCAJIzcOKUM1RBE94BwgCSwgCSMHDikaCRMOIgwgCOjTFWGX8ichAjbW1t2zyRMOKBAQFtIG6SMG2OLSBu8tCAbyXIVUBQRYEBAc8AEoEBAc8AgQEBzwAByIEBAc8AEoEBAc8AyQHMyeIQJVYgAalXAZAOERAOEN8QzhC9EKwQmxCKEHkQaBBXEEYQNRAkAxEbA1YeAwIRHAIRGwHbPBEYAREXAREWAREVAREUARETARESARERAREQVdGgAB4gbpUwWfRaMJRBM/QV4gMBKBBdEEwQOxA6EEkQSBA3EDVBQNs8pgCW0x8BghCd+g7YuvLggfpAIdcLAcMAjh0BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiJIxbeIB0z/TP9M/gQEB1wCBAQHXAFVQBPb4QW8kE18DK4EBASdZ9A1voZIwbd8gbpIwbY6H0Ns8bB1vDeKBf30hbrPy9CBu8tCAby1bKsAKkX+TKsAL4uMPgV5tESizAREoAfL0ggDKxxEhVhy6AREhAfL0+EIREhEXERIREREWEREREBEVERAPERQPDhETDg0REg23XV5fAqgw0x8BghDvAcK0uvLggdM/gQEB1wDTP1UgbBP4QW8kE18DggCg9/hCVhEBxwXy9CiBAQElWfQNb6GSMG3fIG6SMG2Oh9DbPGwdbw3iIG6SXwXjDn+3YwQ6jwgw2zxsF9s8f+AgghDsM8xSuuMCIIIQXdWEYbp0dXZ3AviBS2lWJ6oAERYRKhEWERURKREVERQRKBEUERMRJxETERIRJhESERERJRERERARJBEQDxEjDw4RIg4NESENDBEgDAsRHwsKER4KCREdCQgRHAgHERsHBhEaBgURGQUEERgEAxEXAwIRKgIBESkBEShy2zwBESkBoAERIQG+fmAC/oFLaVYnqgARFhEqERYRFREpERURFBEoERQRExEnERMREhEmERIRERElEREREBEkERAPESMPDhEiDg0RIQ0MESAMCxEfCwoRHgoJER0JCBEcCAcRGwcGERoGBREZBQQRGAQDERcDAhEqAgERKQERKHLbPAERKQGgVhCgAREhAb5+YAP+DBERDAsREAsQrxCeEI0QfBBrEFoQSRA4R2AFESAFBBEmBAMRJQMCER0CAREkAds8ggCg9wHy9FYibrOXESIgbvLQgJRXIvhC4vhCf4EBAVYeBVYeBVYeBVYeBVYeBVYsBVYlBVYtBQQRKgQDETADAhEqAshVwNs8yRAjAREkAYGeYQAMAREoAfL0A/hWIAEgbpUwWfRaMJRBM/QV4ggRHggHERgHBhEdBgURFgUEERcEAxEVAwIRFAIBESEBERlwESGAQBEdfxEdEHkQZxBWEEUQNBAjyFWw2zzJVhYEAxEZAwIRFAIREwEUQzBtbds8BxEWBwYRFQYFERQFBBETBAMREgMCERECg6liACYBERABDxBdDBA7SRoIEDdGFUMUAvwgbvLQgG8tNTVbMzNxJ8AKkX+TJ8AL4o7RgUtpCVYhvhny9C6BAQEsWfQNb6GSMG3fIG6SMG2OKNCBAQHXAIEBAdcAgQEB1wDUAdCBAQHXAIEBAdcAMBAlECQQI2wVbwXiIG6zkzAzNOMNjhE0NYFLaVYfVhygGL4X8vQVE+JkZQLmIG7y0IBvJSTCAJMjwgCRcOKSMzPjDSDCAJMiwgCRcOKUXwMzNOMNgQEBbSBukjBtji0gbvLQgG8lyFVAUEWBAQHPABKBAQHPAIEBAc8AAciBAQHPABKBAQHPAMkBzMniKhA/ASBulTBZ9FowlEEz9BXiDGZnBPiBAQFtIG6SMG2OjSBu8tCAby3IVcDbPMniEC9SoCBulTBZ9FowlEEz9BXiJ8IAkTLjDUN1yFUgghChuws/UATLHxLLB8s/yz/JyIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsAIMIAjpECfyNyECNtbW3bPBERIaEREZEy4nIJnnCpcQH+PHKADfhCcFRwACARHxEtER8RHhEsER4RHRErER0RHBEqERwRGxEpERsRGhEoERoRGREnERkRGBEmERgRFxElERcRFhEkERYRFREjERURFBEiERQRExEhERMREhEgERIREREtEREREBEsERAPESsPDhEqDg0RKQ0MESgMCxEnC2gB+gqkgA74QnBUcAAgESIRKxEiESERKhEhESARKREgER8RKBEfER4RJxEeER0RJhEdERwRJREcERsRJBEbERoRIxEaERkRKxEZERgRKhEYERcRKREXERYRKBEWERURJxEVERQRJhEUERMRJRETERIRJBESERERIxERERARKxEQagL8ChEmCgkRJQlWIgkQeBBnVi4HVi0HBgURKgUEESkEAwIRKgIBESkBViTbPDARFhEkERYRFREjERURFBEiERQRExEhERMREhEgERIREREfEREREBEeERAPER0PDhEcDg0RGw0MERoMCxEZCwoRGAoJERcJCBEWCAcRFQcGERQGa2kAJgUREwUEERIEAxERAwIREAJQ/hoC/A8RKg8OESkODREoDQwRJwxWJAwQexBqCRErCQgRKQgQVwYRJAYFESQFESvbPDARFhEfERYRFREeERURFBEdERQRExEcERMREhEbERIREREaEREREBEZERAPERgPDhEXDg0RFg0MERUMCxEUCwoREwoJERIJCBERCAcREAcQb2tsA+QvpCzACpF/kyzAC+KOECzADJEpmSzADZEpkimz4uLjDYEBAfgjcPhCbVYSBFYRBFYTBFYSBFYSBFYSBFYSUUxRT1UwyFXA2zzJAhEVAlYTASBulTBZ9FowlEEz9BXiELwQJ1YRBxA2BREUBQQCERQCUA9tnm4AEhBeEE0QPEupFQDEKbMmwgCTJcIAkXDikX+aJMIAkyPCAJFw4uKORYEBAVR3ZVN2yFVAUEWBAQHPABKBAQHPAIEBAc8AAciBAQHPABKBAQHPAMkBzMkCERQCVhMBIG6VMFn0WjCUQTP0FeIREt4BVBBoEFcQRhA1RDDIVeDbPMnIgljAAAAAAAAAAAAAAAABActnzMlw+wAFA28A6oIQcmNhXQEREMsfHssHHMs/UAog10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYYygAWgQEBzwAUgQEBzwACyIEBAc8AygASgQEBzwASgQEBzwACyIEBAc8AE4EBAc8AUAP6AhOBAQHPABPLP8lYzMkBzAP4JMADjvURFxEfERcRFhEeERYRFREdERURFBEcERQRExEbERMREhEaERIREREZEREREBEYERAPER8PDhEeDg0RHQ0MERwMCxEbCwoRGgoJERkJCBEYCAcRHwcGER4GBQQRHAQDERsDAhEaAgERGQFWHgFWIAERHFYf2zzjDaBycwEgIG7y0IACowPCABBJECPbPKYB4DIRFhEeERYRFREdERURFBEcERQRExEbERMREhEaERIREREZEREREBEYERAPERcPDhEeDg0RHQ0MERwMCxEbCwoRGgoJERkJCBEYCAcRFwcGER4GBREdBRQDERsDAhEaAgERGQERGFYdVh9WGlYf2zygAKoRFhEeERYRFREdERURFBEcERQRExEbERMREhEaERIREREZEREREBEYERAPERcPDhEWDg0RFQ0MERQMCxETCwoREgoJEREJCBEQCBB/EG4QXRA7SpgUAObTHwGCECM0O7S68uCB+kAh1wsBwwCOHQEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIkjFt4gHTP/pAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB0gDTP4EBAdcA1AHQgQEB1wAwFxYVFEMwAvKBS2n4QW8kE18DVh2qABEWESARFhEVER8RFREUER4RFBETER0RExESERwREhERERsREREQERoREA8RGQ8OERgODREXDQwRIAwLER8LChEeCgkRHQkIERwIBxEbBwYRGgYFERkFBBEYBAMRFwMCESACAREfAREects8fngCEDDbPGwY2zx/fH0D9o93MNMfAYIQXdWEYbry4IHTP/pAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgBgQEB1wBVIGwTggCg9/hCVhABxwXy9CDCAI8ngEJwbXAgyMsAydAmEGgQWAQHVSDIVWDbPMkvA1YUQTMUQzBtbds8kl8D4n/gIKKphQP+AREfAaBWEKABER8BvgERHwHy9PhCERQRFxEUERMRFhETERIRFRESERERFBERERARExEQDxESDw4REQ4NERANEM8QvhCtEJwQixB6EGkQWBBHEDZFQAMRHgMCER0CAREcAds8ggCg9wHy9PhCVhtus5JXG+MNIqSBAQFzcFMAcIF5egAUMBEaIG7y0IARGgP6Ifgjf/hCEIlWJAlWJAlWJAkHBVCDFkRAAREoAchVwNs8yRAmAREcAVJAIG6VMFn0WjCUQTP0FeJwgEB/c1RzMxA6CBEjCAcRHwcGESAGBREeBUA0cAIBESMBESUQqxB5EGcQVhBFEDQQI8hV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uvLQiYMJuvLgiM8W4iFus5V/AcoAzJRwMsoA4gH6AgHPFgH0J26zm39QCcoAF4EBAc8AmDdwUAjKABBn4hXLPxPLPwEgbpUwcAHLAY4eINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8W4oEBAc8AyFggbpUwcAHLAY4eINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8W4lilAQhEMNs8pgAW+gISgQEBzwDJAcwC9hEaERsRGhEZERsRGREYERsRGBEXERsRFxEWERsRFhEVERsRFREUERsRFBETERsRExESERsREhERERsREREQERsREA8RGw8OERsODREbDQwRGwwLERsLChEbCgkRGwkIERsIBxEbBwYRGwYFERsFBBEbBAMRGwPbPCDCAKeoAKL4J28QVhKhI6D4QW8kE18DoXABtgkgVhe2CFYXAaFwAlYYoRK2CQXAAZJWGpJWGeL4QW8kE18DWKEDqBKhUAOgIcIAknAy3wGhAZJWEZFw4qEBfo6OAREYAX8BchAjbW1t2zyTMFcX4hEVERYRFREUERURFBETERQRExESERMREhERERIREREQEREREA8REA9VDqkByshxAcoBUAcBygBwAcoCUAUg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxZQA/oCcAHKaCNus5F/kyRus+KXMzMBcAHKAOMNIW6znH8BygABIG7y0IABzJUxcAHKAOLJAfsAqgCYfwHKAMhwAcoAcAHKACRus51/AcoABCBu8tCAUATMljQDcAHKAOIkbrOdfwHKAAQgbvLQgFAEzJY0A3ABygDicAHKAAJ/AcoAAslYzAIBIK2uAgEgvr8CASCvsAIBx7q7AgFmsbICGbQve2ebZ4riC+HtjjDCuQKgqZvbPBEWERcRFhEVERYRFREUERURFBETERQRExESERMREhERERIREREQEREREA8REA9VDts8VxJXEF8PUGdfBiBukjBtmSBu8tCAbyhvCOLCswK4qvLbPBEWERcRFhEVERYRFREUERURFBETERQRExESERMREhERERIREREQEREREA8REA9VDts8bPNsgwEgbpIwbZkgbvLQgG8tbw3iASBukjBtmSBu8tCAbyVvBeLCtgE+gQEBKAJZ9A1voZIwbd8gbpIwbY6H0Ns8bBhvCOJSYLQBptIA+kAB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","abi":"{\"name\":\"OrderBook\",\"types\":[{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounced\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"Deploy\",\"header\":2490013878,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"DeployOk\",\"header\":2952335191,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"FactoryDeploy\",\"header\":1829761339,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"cashback\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwner\",\"header\":2174598809,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwnerOk\",\"header\":846932810,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"TokenTransfer\",\"header\":260734629,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"responseDestination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"customPayload\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"forwardTonAmount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"forwardPayload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"TokenNotification\",\"header\":1935855772,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"from\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"forwardPayload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"TokenExcesses\",\"header\":3576854235,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"UpdateConfig\",\"header\":2463053158,\"fields\":[{\"name\":\"executorLength\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executors\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"ExecutorParam\",\"valueFormat\":\"ref\"}},{\"name\":\"compensator\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"minTimeDelayTrader\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpMinExecutionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"perpMinExecutionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"lpGasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"perpGasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"poolLpGasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"poolPerpGasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"minTonsForStorage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"gasTransferJetton\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"usdtWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"pool\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"SendProtocolFee\",\"header\":1574274145,\"fields\":[{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"feeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"CreateDecreaseLPPositionOrder\",\"header\":632428324,\"fields\":[{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"CancelLPPositionOrder\",\"header\":2106714934,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}]},{\"name\":\"ExecuteLPPositionOrder\",\"header\":310819211,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}]},{\"name\":\"UpdateLPPosition\",\"header\":3902592095,\"fields\":[{\"name\":\"isIncrease\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"UpdateLPPositionSuccess\",\"header\":485543809,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"CreateCompensate\",\"header\":2945693128,\"fields\":[{\"name\":\"orderType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":true,\"format\":8}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"refundReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"refundAmount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"ExecuteOrCancelCompensate\",\"header\":2296903975,\"fields\":[{\"name\":\"isCancel\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"compensateId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"CreateDecreasePerpPositionOrder\",\"header\":1787968987,\"fields\":[{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"triggerPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"CreateTpSlPerpPositionOrder\",\"header\":600256344,\"fields\":[{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"tpSize\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"tpPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"slSize\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"slPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"CancelPerpPositionOrder\",\"header\":3254342642,\"fields\":[{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"ExecutePerpPositionOrder\",\"header\":2650410712,\"fields\":[{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"premiumRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LiquidatePerpPosition\",\"header\":590625716,\"fields\":[{\"name\":\"liquidationFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"premiumRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"ADLPerpPosition\",\"header\":3962817618,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"premiumRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"UpdatePerpPosition\",\"header\":4283950423,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerAbove\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"premiumRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"UpdatePerpPositionSuccess\",\"header\":4009870004,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"LPPositionOrderCreatedEvent\",\"header\":3021458540,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"LPPositionOrderCancelledEvent\",\"header\":1264945856,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"LPPositionOrderExecutedEvent\",\"header\":3003473876,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"PerpPositionOrderCreatedEvent\",\"header\":1919115613,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerAbove\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"tpSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tpPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"slSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"slPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"PerpPositionOrderCancelledEvent\",\"header\":2151571829,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"PerpPositionOrderExecutedEvent\",\"header\":2713389887,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"CompensateCreatedEvent\",\"header\":401001363,\"fields\":[{\"name\":\"compensateId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"orderType\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"refundReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"refundAmount\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"unlockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"CompensateCancelledEvent\",\"header\":1271087573,\"fields\":[{\"name\":\"compensateId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"CompensateExecutedEvent\",\"header\":3678790712,\"fields\":[{\"name\":\"compensateId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"ConfigData\",\"header\":null,\"fields\":[{\"name\":\"isExecutor\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":true}},{\"name\":\"minTimeDelayTrader\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpMinExecutionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"perpMinExecutionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"lpGasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"perpGasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"poolLpGasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"poolPerpGasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"minTonsForStorage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"gasTransferJetton\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"totalExecutionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"usdtWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"pool\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ExecutorParam\",\"header\":null,\"fields\":[{\"name\":\"executor\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"enable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"LPPositionOrder\",\"header\":null,\"fields\":[{\"name\":\"isIncrease\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"blockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isPending\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"lastOperator\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}]},{\"name\":\"LPPositionOrderData\",\"header\":null,\"fields\":[{\"name\":\"lpPositionOrderIndexNext\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpPositionOrder\",\"type\":{\"kind\":\"simple\",\"type\":\"LPPositionOrder\",\"optional\":true}}]},{\"name\":\"PerpPositionOrder\",\"header\":null,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerAbove\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"blockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isPending\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"lastOperator\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}]},{\"name\":\"PerpPositionOrderEx\",\"header\":null,\"fields\":[{\"name\":\"tpSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tpPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"slSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"slPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PerpPositionOrderData\",\"header\":null,\"fields\":[{\"name\":\"perpPositionOrderIndexNext\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"perpPositionOrder\",\"type\":{\"kind\":\"simple\",\"type\":\"PerpPositionOrder\",\"optional\":true}},{\"name\":\"perpPositionOrderEx\",\"type\":{\"kind\":\"simple\",\"type\":\"PerpPositionOrderEx\",\"optional\":true}}]},{\"name\":\"UpdatePrice\",\"header\":null,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"Compensate\",\"header\":null,\"fields\":[{\"name\":\"orderType\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"refundReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"refundAmount\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"unlockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"CompensateData\",\"header\":null,\"fields\":[{\"name\":\"compensateIndexNext\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"compensate\",\"type\":{\"kind\":\"simple\",\"type\":\"Compensate\",\"optional\":true}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateConfig\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"empty\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"TokenNotification\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"CreateDecreaseLPPositionOrder\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"CancelLPPositionOrder\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ExecuteLPPositionOrder\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateLPPositionSuccess\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"CreateDecreasePerpPositionOrder\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"CreateTpSlPerpPositionOrder\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"CancelPerpPositionOrder\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ExecutePerpPositionOrder\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdatePerpPositionSuccess\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"LiquidatePerpPosition\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ADLPerpPosition\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"SendProtocolFee\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"CreateCompensate\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ExecuteOrCancelCompensate\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Deploy\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"Resume\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"Stop\"}}],\"getters\":[{\"name\":\"configData\",\"arguments\":[{\"name\":\"executor\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"ConfigData\",\"optional\":false}},{\"name\":\"lpPositionOrder\",\"arguments\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"LPPositionOrderData\",\"optional\":false}},{\"name\":\"perpPositionOrder\",\"arguments\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"PerpPositionOrderData\",\"optional\":false}},{\"name\":\"compensate\",\"arguments\":[{\"name\":\"compensateId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"CompensateData\",\"optional\":false}},{\"name\":\"stopped\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"owner\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}],\"errors\":{\"2\":{\"message\":\"Stack undeflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"13\":{\"message\":\"Out of gas error\"},\"32\":{\"message\":\"Method ID not found\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"37\":{\"message\":\"Not enough TON\"},\"38\":{\"message\":\"Not enough extra-currencies\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid address\"},\"137\":{\"message\":\"Masterchain support is not enabled for this contract\"},\"11120\":{\"message\":\"compensate not exist\"},\"19305\":{\"message\":\"gas not enough\"},\"24173\":{\"message\":\"order is pending\"},\"24562\":{\"message\":\"execution fee not enough\"},\"31425\":{\"message\":\"not reach unlock time\"},\"32637\":{\"message\":\"order not exist\"},\"39703\":{\"message\":\"too early\"},\"40368\":{\"message\":\"Contract stopped\"},\"41207\":{\"message\":\"invalid sender\"},\"51911\":{\"message\":\"token not match\"},\"53296\":{\"message\":\"Contract not stopped\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\",\"org.ton.chain.workchain.v0\",\"org.ton.resumable\",\"org.ton.stoppable\",\"org.ton.ownable\"]}","init":{"kind":"direct","args":[{"name":"deployId","type":{"kind":"simple","type":"int","optional":false,"format":257}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":"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AMhYIG6VMHABywGOHiDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFuJYQgAW+gISgQEBzwDJAcwA8tMfAYIQr5O1yLry4IHSAAGS0weSbQHi0z/TP/pAIdcLAcMAjh0BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiJIxbeIB03/6QCHXCwHDAI4dASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IiSMW3iAfoAVWACEDDbPGwY2zx/SUUC8oFLafhBbyQTXwNWHqoAERYRIREWERURIBEVERQRHxEUERMRHhETERIRHRESERERHBERERARGxEQDxEaDw4RGQ4NERgNDBEXDAsRIQsKESAKCREfCQgRHggHER0HBhEcBgURGwUEERoEAxEZAwIRGAIBERcBESFy2zyLRgL+AREiAaBWEKABERcBvgERFwHy9PhCERQRFxEUERMRFhETERIRFRESERERFBERERARExEQDxESDw4REQ4NERANEM8QvhCtEJwQixB6EGkQWBBHEDZFQEMwAREfAds8ggCg9wHy9CKkgQEBdHBwIfgjf/hC+EIQeFYnCFYnCFYnCJRHBP4HEScHViZGVwQRKAQDESjIVcDbPMkQJgERHAFSQCBulTBZ9FowlEEz9BXicIBAf3RUODMQiQgRHggHESIHBhEjBgURIQUUAxEfAwJwAgERHgERJRCrEHkQZxBWEEUQNBAjyFWw2zzJJwQDERgDAhEbAhEWARRDMG1t2zwOERYOv2LESABADREVDQwRFAwLERMLChESCgkREQkIERAIVXcDBgVQRAcAmNMfAYIQ7DPMUrry4IHTP/pAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB0gDTf9N/0z+BAQHXANQB0IEBAdcAMBgXFhUUQzAC8oFLafhBbyQTXwNWHaoAERYRIBEWERURHxEVERQRHhEUERMRHRETERIRHBESERERGxERERARGhEQDxEZDw4RGA4NERcNDBEgDAsRHwsKER4KCREdCQgRHAgHERsHBhEaBgURGQUEERgEAxEXAwIRIAIBER8BER5y2zyLSwP+AREfAaBWEKABER8BvgERHwHy9PhCERQRFxEUERMRFhETERIRFRESERERFBERERARExEQDxESDw4REQ4NERANEM8QvhCtEJwQixB6EGkQWBBHEDZFQAMRHgMCER0CAREcAds8ggCg9wHy9PhCVhtus5JXG+MNIqSBAQFzcFMAcJROTAP6Ifgjf/hCEIlWJAlWJAlWJAkHBVCDFkRAAREoAchVwNs8yRAmAREcAVJAIG6VMFn0WjCUQTP0FeJwgEB/c1RzMxA6CBEjCAcRHwcGESAGBREeBUA0cAIBESMBESUQqxB5EGcQVhBFEDQQI8hVsNs8ySgEAxEXAwIRFQIRGQG/Yk0BXhRDMG1t2zwPERYPDhEVDg0RFA0MERMMCxESCwoREQoJERAJEI8QflVmEEVQA0QUxAAUMBEaIG7y0IARGgDm0x8BghAjNDu0uvLggfpAIdcLAcMAjh0BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiJIxbeIB0z/6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAdIA0z+BAQHXANQB0IEBAdcAMBcWFRRDMAKoMNMfAYIQ7wHCtLry4IHTP4EBAdcA0z9VIGwT+EFvJBNfA4IAoPf4QlYRAccF8vQogQEBJVn0DW+hkjBt3yBukjBtjofQ2zxsHW8N4iBukl8F4w5/wVEC/CBu8tCAby01NVszM3EnwAqRf5MnwAvijtGBS2kJViG+GfL0LoEBASxZ9A1voZIwbd8gbpIwbY4o0IEBAdcAgQEB1wCBAQHXANQB0IEBAdcAgQEB1wAwECUQJBAjbBVvBeIgbrOTMDM04w2OETQ1gUtpVh9WHKAYvhfy9BUT4ldSBPiBAQFtIG6SMG2OjSBu8tCAby3IVcDbPMniEC9SoCBulTBZ9FowlEEz9BXiJ8IAkTLjDUN1yFUgghChuws/UATLHxLLB8s/yz/JyIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsAIMIAjpECfyNyECNtbW3bPBERIaEREZEy4nIJv1TEUwEgIG7y0IACowPCABBJECPbPKgD+CTAA471ERcRHxEXERYRHhEWERURHREVERQRHBEUERMRGxETERIRGhESERERGRERERARGBEQDxEfDw4RHg4NER0NDBEcDAsRGwsKERoKCREZCQgRGAgHER8HBhEeBgUEERwEAxEbAwIRGgIBERkBVh4BViABERxWH9s84w21VlUAqhEWER4RFhEVER0RFREUERwRFBETERsRExESERoREhERERkREREQERgREA8RFw8OERYODREVDQwRFAwLERMLChESCgkREQkIERAIEH8QbhBdEDtKmBQB4DIRFhEeERYRFREdERURFBEcERQRExEbERMREhEaERIREREZEREREBEYERAPERcPDhEeDg0RHQ0MERwMCxEbCwoRGgoJERkJCBEYCAcRFwcGER4GBREdBRQDERsDAhEaAgERGQERGFYdVh9WGlYf2zy1AuYgbvLQgG8lJMIAkyPCAJFw4pIzM+MNIMIAkyLCAJFw4pRfAzM04w2BAQFtIG6SMG2OLSBu8tCAbyXIVUBQRYEBAc8AEoEBAc8AgQEBzwAByIEBAc8AEoEBAc8AyQHMyeIqED8BIG6VMFn0WjCUQTP0FeIMW1gB+gqkgA74QnBUcAAgESIRKxEiESERKhEhESARKREgER8RKBEfER4RJxEeER0RJhEdERwRJREcERsRJBEbERoRIxEaERkRKxEZERgRKhEYERcRKREXERYRKBEWERURJxEVERQRJhEUERMRJRETERIRJBESERERIxERERARKxEQWQL8DxEqDw4RKQ4NESgNDBEnDFYkDBB7EGoJESsJCBEpCBBXBhEkBgURJAURK9s8MBEWER8RFhEVER4RFREUER0RFBETERwRExESERsREhERERoREREQERkREA8RGA8OERcODREWDQwRFQwLERQLChETCgkREgkIEREIBxEQBxBvoFoAEhBeEE0QPEupFQH+PHKADfhCcFRwACARHxEtER8RHhEsER4RHRErER0RHBEqERwRGxEpERsRGhEoERoRGREnERkRGBEmERgRFxElERcRFhEkERYRFREjERURFBEiERQRExEhERMREhEgERIREREtEREREBEsERAPESsPDhEqDg0RKQ0MESgMCxEnC1wC/AoRJgoJESUJViIJEHgQZ1YuB1YtBwYFESoFBBEpBAMCESoCAREpAVYk2zwwERYRJBEWERURIxEVERQRIhEUERMRIRETERIRIBESERERHxERERARHhEQDxEdDw4RHA4NERsNDBEaDAsRGQsKERgKCREXCQgRFggHERUHBhEUBqBdACYFERMFBBESBAMREQMCERACUP4aBPb4QW8kE18DK4EBASdZ9A1voZIwbd8gbpIwbY6H0Ns8bB1vDeKBf30hbrPy9CBu8tCAby1bKsAKkX+TKsAL4uMPgV5tESizAREoAfL0ggDKxxEhVhy6AREhAfL0+EIREhEXERIREREWEREREBEVERAPERQPDhETDg0REg3BZGNfA/4MEREMCxEQCxCvEJ4QjRB8EGsQWhBJEDhHYAURIAUEESYEAxElAwIRHQIBESQB2zyCAKD3AfL0ViJus5cRIiBu8tCAlFci+ELi+EJ/gQEBVh4FVh4FVh4FVh4FVh4FViwFViUFVi0FBBEqBAMRMAMCESoCyFXA2zzJECMBESQBlL9gA/hWIAEgbpUwWfRaMJRBM/QV4ggRHggHERgHBhEdBgURFgUEERcEAxEVAwIRFAIBESEBERlwESGAQBEdfxEdEHkQZxBWEEUQNBAjyFWw2zzJVhYEAxEZAwIRFAIREwEUQzBtbds8BxEWBwYRFQYFERQFBBETBAMREgMCERECYsRhACYBERABDxBdDBA7SRoIEDdGFUMUALiCEP9X5VdQDcsfG8s/GcsHF8s/UAUg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYTygCBAQHPAIEBAc8AAciBAQHPABLKABLLPxKBAQHPABKBAQHPAMkBzAL+gUtpVieqABEWESoRFhEVESkRFREUESgRFBETEScRExESESYREhERESUREREQESQREA8RIw8OESIODREhDQwRIAwLER8LChEeCgkRHQkIERwIBxEbBwYRGgYFERkFBBEYBAMRFwMCESoCAREpAREocts8AREpAaBWEKABESEBvotlAviBS2lWJ6oAERYRKhEWERURKREVERQRKBEUERMRJxETERIRJhESERERJRERERARJBEQDxEjDw4RIg4NESENDBEgDAsRHwsKER4KCREdCQgRHAgHERsHBhEaBgURGQUEERgEAxEXAwIRKgIBESkBEShy2zwBESkBoAERIQG+i2UADAERKAHy9ACW0x8BghCd+g7YuvLggfpAIdcLAcMAjh0BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiJIxbeIB0z/TP9M/gQEB1wCBAQHXAFVQAvD4QW8kE18DKIEBASRZ9A1voZIwbd8gbpIwbY6H0Ns8bB1vDeKBf30hbrPy9CBu8tCAby1bbDM0NSXACpF/kyXAC+KdgUtpVh9WHKAYvhfy9JqBS2kHVh++F/L04oFebQKzEvL0+EIRFxEfERcRFhEeERYRFREdERXBaAT8ERQRHBEUERMRGxETERIRGhESERERGRERERARGBEQDxEfDw4RHg4NER0NDBEcDAsRGwsKERoKCREZCQgRGAgHER8HBhEeBgURHQUEERwEAxEbAwIRGgIBERkB2zyCAKD3IZF/l/hCVhwBxwXi8vSzkXDjDZJXGuMN+EJWF26zlHFwaQT8mjARFiBu8tCAERaSVxficFYbwAqRf5RWG8AL4pRXGFcY4w2BAQFtIG6SMG2OjSBu8tCAby3IVcDbPMniECRWHgEgbpUwWfRaMJRBM/QV4lYawgCOlhEVf1YbchAjbW1t2zwBERUBERmgERSUVxVXGeIJVhShVhcCAREbAREabL/EagH8yFUgghCAPmF1UATLHxLLB8s/yz/JyIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsAcvhCERSjcVYYwAqTVxh/lBEYwAviERMRGxETERIRGhESERERGRERERARGBEQDxEXDw4RFg4NERUNDBEUDAsREwsLERILCRERCQgREAgQfxBuawEoEF0QTBA7EDoQSRBIEDcQNUFA2zyoAvgjgQEBViBZ9A1voZIwbd8gbpIwbY4o0IEBAdcAgQEB1wCBAQHXANQB0IEBAdcAgQEB1wAwECUQJBAjbBVvBeIgbrORMOMN+EIRFxEZERcRFhEYERYRFREXERURFBEWERQRExEVERMREhEUERIRERETEREREBESERAPEREPbm0BkA4REA4Q3xDOEL0QrBCbEIoQeRBoEFcQRhA1ECQDERsDVh4DAhEcAhEbAds8ERgBERcBERYBERUBERQBERMBERIBEREBERBV0bUC9iBu8tCAbyUlBcIAkwPCAJIzcOKUM1RBE94BwgCSwgCSMHDikaCRMOIgwgCOjTFWGX8ichAjbW1t2zyRMOKBAQFtIG6SMG2OLSBu8tCAbyXIVUBQRYEBAc8AEoEBAc8AgQEBzwAByIEBAc8AEoEBAc8AyQHMyeIQJVYgAcRvAB4gbpUwWfRaMJRBM/QV4gMAJIIAmxcRG1YXoPgjuwERGwHy9AAYVhvACpF/lFYbwAziA/QRFhEeERYRFREdERURFBEcERQRExEbERMREhEaERIREREZEREREBEYERAPERcPDhEeDg0RHQ0MERwMCxEbCwoRGgoJERkJCBEYCAcRFwcGER4GBREdBQQRHAQDERsDAhEaAgERGQERGNs8+EFvJBNfA3BWHsIAkXDjDZh5cwP6kjBx3lYcwgCUVhvCAJFw4pGk3oFLaQJWGqFWFyKovhLy9IFf8lYQIqhWGgG+8vRWHcIAlFYcwgCRcOKUVxxXHOMNVhnCAJRWGMIAkXDijhIEER0EAxEcAwIRGQJXF1cXXwPjDQdWEaBy+EIREhEaERIREREZEREREBEYERB3dXQBcg8RFw8OERYODREVDQwRFAwLERMLChESCgIREQIIERAIEH8QbhBdEEwQOxCaECgQZxBWEEVANHDbPKgB/oAO+EJwVHAAIFYdViKpBBEdESMRHREcESIRHBEbESERGxEaESARGhEZER8RGREYER4RGBEXER0RFxEWERwRFhEVERsRFREUERoRFBETERkRExESERgREhERERcREREQERYREA8RFQ8OERQODRETDQwREgwLERELChEQChCfEI52AaAQvRC8EHsQagkRJQkIESQIEFcGESUGBREkBds8MAURGAUEERcEERYFERUFAxEUAwIREwIBERIBBBERBBEQEF8QPk3AEEsKEFkQOEcUBVUgBqAB/IAN+EJwVHAAIFYfKKkEER8RIBEfER4RHxEeER0RHhEdERwRHREcERsRHBEbERoRGxEaERkRGhEZERgRGREYERcRGBEXERYRFxEWERURFhEVERQRFREUERMRFBETERIRExESEREREhERERAREREQDxEQDxDvEN4QzRC8EKsQmngBclYhChCJEHhWKAhWKAgHBhEoBgURJwUEAxEoAwIRJwIBESjbPDARGxEaERYRFREUERMREhERERBV4KAACFYdwgAAPtMfAYIQI8cvWLry4IH6ANM/0gDTf9N/03/Tf9M/VXAC9BEWER0RFhEVERwRFREUERsRFBETERoRExESERkREhERERgREREQERcREA8RHQ8OERwODREbDQwRGgwLERkLChEYCgkRFwkIER0IBxEcBwYRGwYFERoFBBEZBAMRGAMCERcCAREdAREc2zz4QW8kMDGBS2kyVh2hVha+mHwB/PL0gV/yVhxWEL7y9IAM+EJwVHAAERwRIhEcERsRIREbERoRIBEaERkRHxEZERgRHhEYERcRHREXERYRHBEWERURGxEVERQRGhEUERMRGRETERIRGBESERERFxERERARFhEQDxEVDw4RFA4NERMNDBESDAsREQsKERAKEJ8Qjn0C4hB9EGwQqxBaEEkEESMEViPbPDANVhegcvhCERgRGREYERcRGBEXERYRFxEWERURFhEVERQRFREUERMRFBETERIRExESEREREhERERAREREQAhEQAhDvEN4QzRC8EKsQmhCJEHgQZxBWEEUQNFhxcNs8oKgAOtMfAYIQapI927ry4IH6ANM/0gDTf9N/03/TP1VgA/b4QW8kE18DggCg9/hCVhEBxwXy9CqBAQElWfQNb6GSMG3fIG6SMG2Oh9DbPGwYbwjigX99IW6z8vQgbvLQgG8obCIzJJqBS2kGVh++FvL0nYFLaVYfVhugF74W8vTigQEBbSBukjBtjo0gbvLQgG8oyFVw2zzJ4gIREALIxoAD2lKQIG6VMFn0WjCUQTP0FeImwgCRMuMNLcIAjpEDfy5yECNtbW3bPBETLKERE5Ez4gGRcZFy4kBTyFUgghCzBV/UUATLHxLLB8s/yz/JyIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsAIG6zkls34w2CxIEBKnEBIG7y0IAKo1RBE8IAEEtBQBPbPKgC9hEXER4RFxEWER0RFhEVERwRFREUERsRFBETERoRExESERkREhERERgREREQER4REA8RHQ8OERwODREbDQwRGgwLERkLChEYCgkRHgkIER0IBwYRGwYFERoFBBEZBAMRGAMCER4CAREdAVYaAVYcAREgVh/bPBEWER0RFrWDAJoRFREcERURFBEbERQRExEaERMREhEZERIREREYEREREBEXERAPERYPDhEVDg0RFA0MERMMCxESCwoREQoJERAJEI8QfhBcEEsQOkmHFgGIMNMfAYIQEoa5i7ry4IHTP9M/+kAh1wsBwwCOHQEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIkjFt4kMwbBPbPH+FBPb4QW8kE18DKoEBASVZ9A1voZIwbd8gbpIwbY6H0Ns8bBhvCOKBf30hbrPy9CBu8tCAbyhbJeMPgV5tERizAREYAfL0+EIRExEXERMREhEWERIREREVEREREBEUERAPERMPDhESDg0REQ0MERAMEL8QrhCdEIwQexBqEFnIiYiGA+QQSBA3RlAQNBAjAhEdAts8ggCg9wHy9FYdbrOXER0gbvLQgJRXHfhC4vhCf4EBAVYeBVYeBVYeBQQRHgQDER0DAhEeAshVcNs8yRAlAREWAVYbASBulTBZ9FowlEEz9BXiAREYAREZcBEcgEARGX8RGViUxocB5MhVQIIQ6JzUX1AGyx8UygASyz8BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WgQEBzwDLP8knBAMRGwMCERcCERYBFEMwbW3bPA4RFg4NERUNDBEUDAsREwsKERIKCRERCQgREAhVdxcQRl4iWMQC/oFLaVYgqgARFhEiERYRFREhERURFBEgERQRExEfERMREhEeERIREREdEREREBEcERAPERsPDhEaDg0RGQ0MERgMCxEXCwoRIgoJESEJCBEgCAcRHwcGER4GBREdBQQRHAQDERsDAhEaAgERGQERGHHbPAERGQGgVhCgAREgAb6LigL4gUtpViCqABEWESIRFhEVESERFREUESARFBETER8RExESER4REhERER0REREQERwREA8RGw8OERoODREZDQwRGAwLERcLChEiCgkRIQkIESAIBxEfBwYRHgYFER0FBBEcBAMRGwMCERoCAREZAREYcds8AREZAaABESABvouKAAwBERgB8vQBKMABklYTklYS4vhBbyTbPAGgVhKgjABkbDH6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIMPoAMXHXIfoAMfoAMKcDqwAC7vhBbyQTXwMqgQEBJVn0DW+hkjBt3yBukjBtjofQ2zxsGG8I4oF/fSFus/L0IG7y0IBvKFslnYFLaVYgVhygGL4X8vSagUtpB1Ygvhfy9OKBXm0Gsxby9PhCERcRHxEXERYRHhEWERURHREVERQRHBEUERMRGxETyI4C/hESERoREhERERkREREQERgREA8RHw8OER4ODREdDQwRHAwLERsLChEaCgkRGQkIERgIBxEfBwYRHgYFER0FBBEcBAMRGwMCERoCAREZAds8ggCg9yGRf5f4QlYdAccF4vL0s44SggCbFxEdVheg+CO7AREdAfL0klcc4vhCVh2UjwTgbrOaMBEcIG7y0IARHJJXHeKBAQFtIG6SMG2OjSBu8tCAbyjIVXDbPMniECdWGAEgbpUwWfRaMJRBM/QV4lYalFcYVxjjDVYVwgCOkhEaf1YWchAjbW1t2zwJVhShCZJXGuJWF5FxkXLiAgERFAERG8aSxJAB/MhVIIIQS2WKwFAEyx8SywfLP8s/yciCWMAAAAAAAAAAAAAAAAEBy2fMyXD7AHH4QhEUoyERExEbERMREhEaERIREREZEREREBEYERAPERcPDhEWDg0RFQ0MERQMCxETCwoREgoJEREJCBEQCBB/EG4QXRBMEGsQahBJEGheI5EBCkEEA9s8qAL++EIRFhEZERYRFREYERURFBEXERQRExEWERMREhEVERIREREUEREREBETERAPERIPDhERDg0REA0QzxC+EK0QnBCLEHoZEFgQRxA2XiIDERwDVh4DAhEdAhEbAds8ERkCERcCBhEWBhEVAhEUAgYREwYREgIREQIGERAGTh8QbbWTABhLHBBqSBkGRRdQRAMAQIEBCyoCcUEz9ApvoZQB1wAwkltt4iBukjBw4CBu8tCAAvQRFhEZERYRFREYERURFBEXERQRExEZERMREhEYERIREREXEREREBEZERAPERgPDhEXDg0RGQ0MERgMCxEXCwoRGQoJERgJCBEXCAcRGQcGERgGBREXBQQRGQQDERgDAhEXAgERGQERGNs8+EFvJDAxgUtpMlYZoVYXvpiWA/Ty9IFf8lYYVhG+8vQlpIEBAXD4QvgjcPhCbVYhBFYgRDTIVXDbPMkoEDoBIG6VMFn0WjCUQTP0FeIOVhigcvhCUEMCERwCVhoCERwZyFVQ2zzJyIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsAcfhCIREXERoRFxEWERkRFsarlwGOERURGBEVERQRFxEUERMRFhETERIRFRESERERFBERERARExEQDxESDw0REA0QzxC+EK0QnBCLEIoQeRBYEEcQNhA0QTBw2zyoABCCAJ2wKrPy9APaMNMfAYIQc2LQnLry4IHTP/oA+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFQTAxAjbBT4QlYRAccFs48oMPhCcIBCcG1TM8jLAMnQJxBqEFkECFUgyFVg2zzJFEMwFEMwbW3bPOMOf7bEmgM0LeMC0wABwAEgs+MCAdQw0NMfIpMhwAGRcOKysJsCHI6KbCHTf/oAMAHbPOMOppwDsAKSwAKSMHDijqT6ANIAAcD/AdM/0gABwP8B03/Tf9P/1DDQ03/T/9N/0/8w2zyPJzBwgEJwbVMzyMsAydAmEGkQWAQHVSDIVWDbPMlWEFUwFEMwbW3bPOKdtsQD7PhBbyQTXwOLCHAtViagE7mOElt/i+Z2FzIG5vdCBlbm91Z2iN5T6LmOFlt/jQRamV0dG9uIG5vdCBlbm91Z2iDecSbCAJMlwgCRcOKSMHLeJMIAkyPCAJFw4pGk3lYfIahS4LnjAALjAjA9CZF6koAL4lKtqQSlpJ4B/BEiESQRIhEhESMRIREgESQRIBEfESMRHxEeESQRHhEdESMRHREcESQRHBEbESMRGxEaESQRGhEZESMRGREYESQRGBEXESMRFxEWESQRFhEVESMRFREUESQRFBETESMRExESESQREhERESMREREQESQREA8RIw8OESQODREjDZ8C0AwRJAwLESMLChEkClYjUKrbPDANVhigERYRGBEWERURFxEVERQRFhEUERMRFRETERIRFBESERERExERERAREhEQDxERDw4REA4PEM4QvRCsEJsQihB5EGgQVxBGEDUQJHJAFANxcNs8oKgD5C+kLMAKkX+TLMAL4o4QLMAMkSmZLMANkSmSKbPi4uMNgQEB+CNw+EJtVhIEVhEEVhMEVhIEVhIEVhIEVhJRTFFPVTDIVcDbPMkCERUCVhMBIG6VMFn0WjCUQTP0FeIQvBAnVhEHEDYFERQFBAIRFAJQD6O/oQFUEGgQVxBGEDVEMMhV4Ns8yciCWMAAAAAAAAAAAAAAAAEBy2fMyXD7AAUDogDqghByY2FdAREQyx8eywccyz9QCiDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFhjKABaBAQHPABSBAQHPAALIgQEBzwDKABKBAQHPABKBAQHPAALIgQEBzwATgQEBzwBQA/oCE4EBAc8AE8s/yVjMyQHMAMQpsybCAJMlwgCRcOKRf5okwgCTI8IAkXDi4o5FgQEBVHdlU3bIVUBQRYEBAc8AEoEBAc8AgQEBzwAByIEBAc8AEoEBAc8AyQHMyQIRFAJWEwEgbpUwWfRaMJRBM/QV4hES3gL8bMERGBEaERgRFxEZERcRFhEaERYRFREZERURFBEaERQRExEZERMREhEaERIREREZEREREBEaERAPERkPDhEaDg0RGQ0MERoMCxEZCwoRGgoJERkJCBEaCAcRGQcGERoGBREZBQQRGgQDERkDAhEaAgERGQERGlYZVhrbPH9wta0APmwhf40GGV4ZWN1dGlvbiBmZWUgbm90IGVub3VnaIFgC9vhBbyQTXwOLCHAkVh6gE7mOElt/i+Z2FzIG5vdCBlbm91Z2iN5TUrmOFlt/jQRamV0dG9uIG5vdCBlbm91Z2iDeI1YXuY4dW3+NBhleGVjdXRpb24gZmVlIG5vdCBlbm91Z2iDeAeMCMDMppIEBAX/4I3BtJ1E5UThSpKynA6LIVXDbPMksED4BIG6VMFn0WjCUQTP0FeIREiGgcVEwRRNUIBcdyFVQ2zzJyIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsAcSACERECECpJMBJw2zzGq6gC9hEaERsRGhEZERsRGREYERsRGBEXERsRFxEWERsRFhEVERsRFREUERsRFBETERsRExESERsREhERERsREREQERsREA8RGw8OERsODREbDQwRGwwLERsLChEbCgkRGwkIERsIBxEbBwYRGwYFERsFBBEbBAMRGwPbPCDCAKqpAX6OjgERGAF/AXIQI21tbds8kzBXF+IRFREWERURFBEVERQRExEUERMREhETERIRERESEREREBERERAPERAPVQ7EAKL4J28QVhKhI6D4QW8kE18DoXABtgkgVhe2CFYXAaFwAlYYoRK2CQXAAZJWGpJWGeL4QW8kE18DWKEDqBKhUAOgIcIAknAy3wGhAZJWEZFw4qEAeIIQtBfMbFAHyx8VywdQAyDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFoEBAc8AAfoCgQEBzwDLPwL8bCERGBEaERgRFxEZERcRFhEaERYRFREZERURFBEaERQRExEZERMREhEaERIREREZEREREBEaERAPERkPDhEaDg0RGQ0MERoMCxEZCwoRGgoJERkJCBEaCAcRGQcGERoGBREZBQQRGgQDERkDAhEaAgERGQERGlYZVhrbPH9wta0CfIBCERvbPAQRGgRBMAERGwEQNG1t2zwRFBEWERQRExEVERMREhEUERIRERETEREREBESERAPEREPDhEQDlUdrsQBQshwAcsfbwABb4xtb4wB2zxvIgHJkyFus5YBbyJZzMnoMa8AuiDXSiHXSZcgwgAiwgCxjkoDbyKAfyLPMasCoQWrAlFVtgggwgCcIKoCFdcYUDPPFkAU3llvAlNBocIAmcgBbwJQRKGqAo4SMTPCAJnUMNAg10oh10mScCDi4uhfAwT2WxEYERkRGBEXERkRFxEWERkRFhEVERkRFREUERkRFBETERkRExESERkREhERERkREREQERkREA8RGQ8OERkODREZDQwRGQwLERkLChEZCgkRGQkRGQgHBlVAVhlWGts8f3CAQogEERsEEDRtbds8ERURFhEVERQRFREUtbHEswAqAAAAAHBheWxvYWQgbm90IGV4aXN0BPYwERgRGREYERcRGREXERYRGREWERURGREVERQRGREUERMRGRETERIRGRESERERGRERERARGREQDxEZDw4RGQ4NERkNDBEZDAsRGQsKERkKCREZCREZCAcGVUBWGVYa2zx/cIBCiAQRGwQQNG1t2zwRFREWERURFBEVERS1tMSzADwRExEUERMREhETERIRERESEREREBERERAPERAPVQ4AMAAAAABjcmVhdGUgb3JkZXIgc3RvcHBlZAJYIsIAjyNycG1wIMjLAMnQEGheNBA3yFVg2zzJLwNWFEEzFEMwbW3bPJJfBOK2xADeghAPin6lUAjLHxbLP1AE+gJYINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WASBulTBwAcsBjh4g10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxbiIW6zlX8BygDMlHAyygDiAfoCAc8WBPYRFhEkERYRFREjERURFBEiERQRExEhERMREhEgERIREREfEREREBEeERAPER0PDhEcDg0RGw0MERoMCxEZCwoRGAoJERcJCBEkCAcRIwcGESIGBREhBQQRIAQDER8DAhEeAgERHQERHNs8Nzo6Ozs7Ozs7Ozs7cIqK6DC7urm4AUI+PvhCf3CAQBAjbW1t2zwKERYKEJ8Qrl4pEHoQaRBYVSPEAOYvgQEBIln0DW+hkjBt3yBukjBtjijQ+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAHSAFlsEm8C4iBus44sgQELISBu8tCAbyIwAiBu8tCAbyIxEDsScSFulVtZ9FkwmMgBzwBBM/RB4giRMOKkAAggVhG5ABL4QlKwxwXy4IQB3tMfAYIQks81Zrry4IGBAQHXAPQE+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAGBAQHXAPoA1AHQ+gD6APoA+gD6APoA+gDUMND6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAb0AVPpAASDXSYEBC7ry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"}},"sources":{"contracts/order/messages.tact":"aW1wb3J0ICIuL3N0cnVjdHMiOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBKRVRUT04gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KbWVzc2FnZSgweGY4YTdlYTUpIFRva2VuVHJhbnNmZXIgewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIGFtb3VudDogSW50IGFzIGNvaW5zOwogICAgcmVjZWl2ZXI6IEFkZHJlc3M7CiAgICByZXNwb25zZURlc3RpbmF0aW9uOiBBZGRyZXNzPzsKICAgIGN1c3RvbVBheWxvYWQ6IENlbGw/OwogICAgZm9yd2FyZFRvbkFtb3VudDogSW50IGFzIGNvaW5zOwogICAgZm9yd2FyZFBheWxvYWQ6IFNsaWNlIGFzIHJlbWFpbmluZzsKfQoKbWVzc2FnZSgweDczNjJkMDljKSBUb2tlbk5vdGlmaWNhdGlvbiB7CiAgICBxdWVyeUlkOiBJbnQgYXMgdWludDY0OwogICAgYW1vdW50OiBJbnQgYXMgY29pbnM7CiAgICBmcm9tOiBBZGRyZXNzOwogICAgZm9yd2FyZFBheWxvYWQ6IFNsaWNlIGFzIHJlbWFpbmluZzsgLy8gQ29tbWVudCBUZXh0IG1lc3NhZ2Ugd2hlbiBUcmFuc2ZlciB0aGUgamV0dG9uIAp9CgptZXNzYWdlKDB4ZDUzMjc2ZGIpIFRva2VuRXhjZXNzZXMgewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBhZG1pbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwptZXNzYWdlIFVwZGF0ZUNvbmZpZyB7CiAgICBleGVjdXRvckxlbmd0aDogSW50OwogICAgZXhlY3V0b3JzOiBtYXA8SW50LCBFeGVjdXRvclBhcmFtPjsKICAgIGNvbXBlbnNhdG9yOiBBZGRyZXNzOwogICAgbWluVGltZURlbGF5VHJhZGVyOiBJbnQ7CiAgICBscE1pbkV4ZWN1dGlvbkZlZTogSW50IGFzIGNvaW5zOwogICAgcGVycE1pbkV4ZWN1dGlvbkZlZTogSW50IGFzIGNvaW5zOwogICAgbHBHYXNDb25zdW1wdGlvbjogSW50IGFzIGNvaW5zOwogICAgcGVycEdhc0NvbnN1bXB0aW9uOiBJbnQgYXMgY29pbnM7CiAgICBwb29sTHBHYXNDb25zdW1wdGlvbjogSW50IGFzIGNvaW5zOwogICAgcG9vbFBlcnBHYXNDb25zdW1wdGlvbjogSW50IGFzIGNvaW5zOwogICAgbWluVG9uc0ZvclN0b3JhZ2U6IEludCBhcyBjb2luczsKICAgIGdhc1RyYW5zZmVySmV0dG9uOiBJbnQgYXMgY29pbnM7CiAgICB1c2R0V2FsbGV0OiBBZGRyZXNzOwogICAgcG9vbDogQWRkcmVzczsKfQoKbWVzc2FnZSgweDVkZDU4NDYxKSBTZW5kUHJvdG9jb2xGZWUgewogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7CiAgICBmZWVSZWNlaXZlcjogQWRkcmVzczsKICAgIGFtb3VudDogSW50Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IExQID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCm1lc3NhZ2UgQ3JlYXRlRGVjcmVhc2VMUFBvc2l0aW9uT3JkZXIgewogICAgZXhlY3V0aW9uRmVlOiBJbnQgYXMgY29pbnM7CiAgICBsaXF1aWRpdHlEZWx0YTogSW50IGFzIHVpbnQxMjg7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKbWVzc2FnZSBDYW5jZWxMUFBvc2l0aW9uT3JkZXIgewogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0OwogICAgZXhlY3V0aW9uRmVlUmVjZWl2ZXI6IEFkZHJlc3M/Owp9CgptZXNzYWdlIEV4ZWN1dGVMUFBvc2l0aW9uT3JkZXIgewogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0OwogICAgZXhlY3V0aW9uRmVlUmVjZWl2ZXI6IEFkZHJlc3M/Owp9CgptZXNzYWdlKDB4ZTg5Y2Q0NWYpIFVwZGF0ZUxQUG9zaXRpb24gewogICAgaXNJbmNyZWFzZTogQm9vbDsKICAgIG9yZGVySWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgbGlxdWlkaXR5RGVsdGE6IEludDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0Owp9CgptZXNzYWdlKDB4MWNmMGNmODEpIFVwZGF0ZUxQUG9zaXRpb25TdWNjZXNzIHsKICAgIG9yZGVySWQ6IEludCBhcyB1aW50NjQ7CiAgICByZWNlaXZlOiBJbnQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gQ29tcGVuc2F0ZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwptZXNzYWdlIENyZWF0ZUNvbXBlbnNhdGUgewogICAgb3JkZXJUeXBlOiBJbnQ/IGFzIHVpbnQ4OwogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0OwogICAgcmVmdW5kUmVjZWl2ZXI6IEFkZHJlc3M/OwogICAgcmVmdW5kQW1vdW50OiBJbnQgYXMgdWludDEyODsKICAgIGV4ZWN1dGlvbkZlZVJlY2VpdmVyOiBBZGRyZXNzPzsKICAgIGV4ZWN1dGlvbkZlZTogSW50IGFzIGNvaW5zOwp9CgptZXNzYWdlIEV4ZWN1dGVPckNhbmNlbENvbXBlbnNhdGUgewogICAgaXNDYW5jZWw6IEJvb2w7CiAgICBjb21wZW5zYXRlSWQ6IEludCBhcyB1aW50NjQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBQZXJwID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCm1lc3NhZ2UgQ3JlYXRlRGVjcmVhc2VQZXJwUG9zaXRpb25PcmRlciB7CiAgICBleGVjdXRpb25GZWU6IEludCBhcyBjb2luczsKICAgIHRva2VuSWQ6IEludCBhcyB1aW50NjQ7CiAgICBpc0xvbmc6IEJvb2w7CiAgICBtYXJnaW5EZWx0YTogSW50IGFzIHVpbnQxMjg7CiAgICBzaXplRGVsdGE6IEludCBhcyB1aW50MTI4OwogICAgdHJpZ2dlclByaWNlOiBJbnQgYXMgdWludDEyODsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0Owp9CgptZXNzYWdlIENyZWF0ZVRwU2xQZXJwUG9zaXRpb25PcmRlciB7CiAgICBleGVjdXRpb25GZWU6IEludCBhcyBjb2luczsKICAgIHRva2VuSWQ6IEludCBhcyB1aW50NjQ7CiAgICBpc0xvbmc6IEJvb2w7CiAgICB0cFNpemU6IEludCBhcyB1aW50MTI4OwogICAgdHBQcmljZTogSW50IGFzIHVpbnQxMjg7CiAgICBzbFNpemU6IEludCBhcyB1aW50MTI4OwogICAgc2xQcmljZTogSW50IGFzIHVpbnQxMjg7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKbWVzc2FnZSBDYW5jZWxQZXJwUG9zaXRpb25PcmRlciB7CiAgICBleGVjdXRpb25GZWVSZWNlaXZlcjogQWRkcmVzcz87CiAgICBvcmRlcklkOiBJbnQgYXMgdWludDY0OwogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7Cn0KCm1lc3NhZ2UgRXhlY3V0ZVBlcnBQb3NpdGlvbk9yZGVyIHsKICAgIGV4ZWN1dGlvbkZlZVJlY2VpdmVyOiBBZGRyZXNzPzsKICAgIG9yZGVySWQ6IEludCBhcyB1aW50NjQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKICAgIHRva2VuSWQ6IEludCBhcyB1aW50NjQ7CiAgICBwcmljZTogSW50OwogICAgcHJlbWl1bVJhdGU6IEludDsKfQoKbWVzc2FnZSBMaXF1aWRhdGVQZXJwUG9zaXRpb24gewogICAgbGlxdWlkYXRpb25GZWVSZWNlaXZlcjogQWRkcmVzcz87CiAgICB0b2tlbklkOiBJbnQgYXMgdWludDY0OwogICAgYWNjb3VudDogQWRkcmVzczsKICAgIGlzTG9uZzogQm9vbDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0OwogICAgcHJpY2U6IEludDsKICAgIHByZW1pdW1SYXRlOiBJbnQ7Cn0KCm1lc3NhZ2UgQURMUGVycFBvc2l0aW9uIHsKICAgIHRva2VuSWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgaXNMb25nOiBCb29sOwogICAgbWFyZ2luRGVsdGE6IEludCBhcyB1aW50MTI4OwogICAgc2l6ZURlbHRhOiBJbnQgYXMgdWludDEyODsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0OwogICAgcHJpY2U6IEludDsKICAgIHByZW1pdW1SYXRlOiBJbnQ7Cn0KCm1lc3NhZ2UoMHhmZjU3ZTU1NykgVXBkYXRlUGVycFBvc2l0aW9uIHsKICAgIG9yZGVySWQ6IEludCBhcyB1aW50NjQ7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIHRva2VuSWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgaXNMb25nOiBCb29sOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIHNpemVEZWx0YTogSW50OwogICAgdHJpZ2dlclByaWNlOiBJbnQ7CiAgICB0cmlnZ2VyQWJvdmU6IEJvb2w7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKICAgIHByaWNlOiBJbnQ7CiAgICBwcmVtaXVtUmF0ZTogSW50Owp9CgptZXNzYWdlKDB4ZWYwMWMyYjQpIFVwZGF0ZVBlcnBQb3NpdGlvblN1Y2Nlc3MgewogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIHJlY2VpdmU6IEludDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0Owp9Cg==","contracts/order/events.tact":"Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBMUCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwovLyBpbmNyZWFzZSBMUAptZXNzYWdlIExQUG9zaXRpb25PcmRlckNyZWF0ZWRFdmVudCB7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICBsaXF1aWRpdHlEZWx0YTogSW50OwogICAgZXhlY3V0aW9uRmVlOiBJbnQgYXMgY29pbnM7CiAgICBvcmRlcklkOiBJbnQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKbWVzc2FnZSBMUFBvc2l0aW9uT3JkZXJDYW5jZWxsZWRFdmVudCB7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIG9yZGVySWQ6IEludCBhcyB1aW50NjQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKbWVzc2FnZSBMUFBvc2l0aW9uT3JkZXJFeGVjdXRlZEV2ZW50IHsKICAgIG9wVHlwZTogSW50IGFzIHVpbnQ4OwogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFBlcnAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KbWVzc2FnZSBQZXJwUG9zaXRpb25PcmRlckNyZWF0ZWRFdmVudCB7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIHRva2VuSWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgaXNMb25nOiBCb29sOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIHNpemVEZWx0YTogSW50OwogICAgdHJpZ2dlclByaWNlOiBJbnQ7CiAgICB0cmlnZ2VyQWJvdmU6IEJvb2w7CiAgICB0cFNpemU6IEludDsKICAgIHRwUHJpY2U6IEludDsKICAgIHNsU2l6ZTogSW50OwogICAgc2xQcmljZTogSW50OwogICAgZXhlY3V0aW9uRmVlOiBJbnQgYXMgY29pbnM7CiAgICBvcmRlcklkOiBJbnQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKbWVzc2FnZSBQZXJwUG9zaXRpb25PcmRlckNhbmNlbGxlZEV2ZW50IHsKICAgIG9wVHlwZTogSW50IGFzIHVpbnQ4OwogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0Owp9CgptZXNzYWdlIFBlcnBQb3NpdGlvbk9yZGVyRXhlY3V0ZWRFdmVudCB7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIG9yZGVySWQ6IEludCBhcyB1aW50NjQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBDb21wZW5zYXRlID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCm1lc3NhZ2UgQ29tcGVuc2F0ZUNyZWF0ZWRFdmVudCB7CiAgICBjb21wZW5zYXRlSWQ6IEludCBhcyB1aW50NjQ7CiAgICBvcmRlclR5cGU6IEludD87CiAgICBvcmRlcklkOiBJbnQgYXMgdWludDY0OwogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7CiAgICByZWZ1bmRSZWNlaXZlcjogQWRkcmVzcz87CiAgICByZWZ1bmRBbW91bnQ6IEludDsKICAgIGV4ZWN1dGlvbkZlZVJlY2VpdmVyOiBBZGRyZXNzPzsKICAgIGV4ZWN1dGlvbkZlZTogSW50IGFzIGNvaW5zOwogICAgdW5sb2NrVGltZTogSW50Owp9CgptZXNzYWdlIENvbXBlbnNhdGVDYW5jZWxsZWRFdmVudCB7CiAgICBjb21wZW5zYXRlSWQ6IEludCBhcyB1aW50NjQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKbWVzc2FnZSBDb21wZW5zYXRlRXhlY3V0ZWRFdmVudCB7CiAgICBjb21wZW5zYXRlSWQ6IEludCBhcyB1aW50NjQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQo=","contracts/order/structs.tact":"Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBDb25maWcgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8Kc3RydWN0IENvbmZpZ0RhdGEgewogICAgaXNFeGVjdXRvcjogQm9vbD87CiAgICBtaW5UaW1lRGVsYXlUcmFkZXI6IEludDsKICAgIGxwTWluRXhlY3V0aW9uRmVlOiBJbnQgYXMgY29pbnM7CiAgICBwZXJwTWluRXhlY3V0aW9uRmVlOiBJbnQgYXMgY29pbnM7CiAgICBscEdhc0NvbnN1bXB0aW9uOiBJbnQgYXMgY29pbnM7CiAgICBwZXJwR2FzQ29uc3VtcHRpb246IEludCBhcyBjb2luczsKICAgIHBvb2xMcEdhc0NvbnN1bXB0aW9uOiBJbnQgYXMgY29pbnM7CiAgICBwb29sUGVycEdhc0NvbnN1bXB0aW9uOiBJbnQgYXMgY29pbnM7CiAgICBtaW5Ub25zRm9yU3RvcmFnZTogSW50IGFzIGNvaW5zOwogICAgZ2FzVHJhbnNmZXJKZXR0b246IEludCBhcyBjb2luczsKICAgIHRvdGFsRXhlY3V0aW9uRmVlOiBJbnQgYXMgY29pbnM7CiAgICB1c2R0V2FsbGV0OiBBZGRyZXNzOwogICAgcG9vbDogQWRkcmVzczsKfQoKc3RydWN0IEV4ZWN1dG9yUGFyYW0gewogICAgZXhlY3V0b3I6IEFkZHJlc3M7CiAgICBlbmFibGU6IEJvb2w7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gTFAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8Kc3RydWN0IExQUG9zaXRpb25PcmRlciB7CiAgICBpc0luY3JlYXNlOiBCb29sOwogICAgYWNjb3VudDogQWRkcmVzczsKICAgIGxpcXVpZGl0eURlbHRhOiBJbnQ7CiAgICBleGVjdXRpb25GZWU6IEludCBhcyBjb2luczsKICAgIGJsb2NrVGltZTogSW50OwogICAgaXNQZW5kaW5nOiBCb29sOwogICAgZXhlY3V0aW9uRmVlUmVjZWl2ZXI6IEFkZHJlc3M7CiAgICBsYXN0T3BlcmF0b3I6IEFkZHJlc3M/Owp9CgpzdHJ1Y3QgTFBQb3NpdGlvbk9yZGVyRGF0YSB7CiAgICBscFBvc2l0aW9uT3JkZXJJbmRleE5leHQ6IEludDsKICAgIGxwUG9zaXRpb25PcmRlcjogTFBQb3NpdGlvbk9yZGVyPzsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBQZXJwID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCnN0cnVjdCBQZXJwUG9zaXRpb25PcmRlciB7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIHRva2VuSWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgaXNMb25nOiBCb29sOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIHNpemVEZWx0YTogSW50OwogICAgdHJpZ2dlclByaWNlOiBJbnQ7CiAgICB0cmlnZ2VyQWJvdmU6IEJvb2w7CiAgICBleGVjdXRpb25GZWU6IEludCBhcyBjb2luczsKICAgIGJsb2NrVGltZTogSW50OwogICAgaXNQZW5kaW5nOiBCb29sOwogICAgZXhlY3V0aW9uRmVlUmVjZWl2ZXI6IEFkZHJlc3M7CiAgICBsYXN0T3BlcmF0b3I6IEFkZHJlc3M/Owp9CgpzdHJ1Y3QgUGVycFBvc2l0aW9uT3JkZXJFeCB7CiAgICB0cFNpemU6IEludDsKICAgIHRwUHJpY2U6IEludDsKICAgIHNsU2l6ZTogSW50OwogICAgc2xQcmljZTogSW50OwogICAgZXhlY3V0aW9uRmVlOiBJbnQ7Cn0KCnN0cnVjdCBQZXJwUG9zaXRpb25PcmRlckRhdGEgewogICAgcGVycFBvc2l0aW9uT3JkZXJJbmRleE5leHQ6IEludDsKICAgIHBlcnBQb3NpdGlvbk9yZGVyOiBQZXJwUG9zaXRpb25PcmRlcj87CiAgICBwZXJwUG9zaXRpb25PcmRlckV4OiBQZXJwUG9zaXRpb25PcmRlckV4PzsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBQcmljZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwpzdHJ1Y3QgVXBkYXRlUHJpY2UgewogICAgdG9rZW5JZDogSW50IGFzIHVpbnQ2NDsKICAgIHByaWNlOiBJbnQ7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gQ29tcGVuc2F0ZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwpzdHJ1Y3QgQ29tcGVuc2F0ZSB7CiAgICBvcmRlclR5cGU6IEludD87CiAgICBvcmRlcklkOiBJbnQgYXMgdWludDY0OwogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7CiAgICByZWZ1bmRSZWNlaXZlcjogQWRkcmVzcz87CiAgICByZWZ1bmRBbW91bnQ6IEludDsKICAgIGV4ZWN1dGlvbkZlZVJlY2VpdmVyOiBBZGRyZXNzPzsKICAgIGV4ZWN1dGlvbkZlZTogSW50IGFzIGNvaW5zOwogICAgdW5sb2NrVGltZTogSW50Owp9CgpzdHJ1Y3QgQ29tcGVuc2F0ZURhdGEgewogICAgY29tcGVuc2F0ZUluZGV4TmV4dDogSW50OwogICAgY29tcGVuc2F0ZTogQ29tcGVuc2F0ZT87Cn0K","contracts/order/constants.tact":"Y29uc3QgT1BfQ1JFQVRFX0lOQ1JFQVNFX0xQX1BPU0lUSU9OX09SREVSOiBJbnQgPSAxOwpjb25zdCBPUF9DUkVBVEVfSU5DUkVBU0VfUEVSUF9QT1NJVElPTl9PUkRFUjogSW50ID0gMjsKCmNvbnN0IE9SREVSX1RZUEVfTFA6IEludCA9IDE7CmNvbnN0IE9SREVSX1RZUEVfUEVSUDogSW50ID0gMjsKCmNvbnN0IE9SREVSX09QX1RZUEVfSU5DUkVBU0U6IEludCA9IDE7CmNvbnN0IE9SREVSX09QX1RZUEVfREVDUkVBU0U6IEludCA9IDI7CmNvbnN0IE9SREVSX09QX1RZUEVfTElRVUlEQVRJT046IEludCA9IDM7CmNvbnN0IE9SREVSX09QX1RZUEVfQURMOiBJbnQgPSA0OwoKY29uc3QgT1JERVJfT1BfVFlQRV9JTkNSRUFTRV9NQVJLRVQ6IEludCA9IDEwOwpjb25zdCBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFX0xJTUlUOiBJbnQgPSAxMTsKY29uc3QgT1JERVJfT1BfVFlQRV9ERUNSRUFTRV9NQVJLRVQ6IEludCA9IDEyOwpjb25zdCBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFX1RQOiBJbnQgPSAxMzsKY29uc3QgT1JERVJfT1BfVFlQRV9ERUNSRUFTRV9TTDogSW50ID0gMTQ7Cgpjb25zdCBEQVk6IEludCA9IDI0ICogNjAgKiA2MDs=","contracts/order/order_book.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CmltcG9ydCAiQHN0ZGxpYi9vd25hYmxlIjsKaW1wb3J0ICJAc3RkbGliL3N0b3BwYWJsZSI7CmltcG9ydCAiLi9tZXNzYWdlcyI7CmltcG9ydCAiLi9ldmVudHMiOwppbXBvcnQgIi4vc3RydWN0cyI7CmltcG9ydCAiLi9jb25zdGFudHMiOwoKY29udHJhY3QgT3JkZXJCb29rIHdpdGggRGVwbG95YWJsZSwgUmVzdW1hYmxlIHsKICAgIAogICAgLy8gY29uZmlnCiAgICBtaW5UaW1lRGVsYXlUcmFkZXI6IEludCA9IDMgKiA2MDsgLy8gdHJhZGVyIGV4ZWN1dGUgYWZ0ZXIgM21pbgoKICAgIC8vIGdhcwogICAgLy8gb3JkZXIgZ2FzCiAgICBscEdhc0NvbnN1bXB0aW9uOiBJbnQgPSB0b24oIjAuMDQiKTsgLy8gbWluIGxwIGNvbnN1bXB0aW9uIGdhcwogICAgcGVycEdhc0NvbnN1bXB0aW9uOiBJbnQgPSB0b24oIjAuMDkiKTsgLy8gbWluIHBlcnAgY29uc3VtcHRpb24gZ2FzCiAgICAvLyBwb29sIGdhcwogICAgcG9vbExwR2FzQ29uc3VtcHRpb246IEludCA9IHRvbigiMC4wNCIpOyAvLyBtaW4gb3JkZXJib29rIGNvbnN1bXB0aW9uIGdhcwogICAgcG9vbFBlcnBHYXNDb25zdW1wdGlvbjogSW50ID0gdG9uKCIwLjA5Iik7IC8vIG1pbiBwZXJwIGNvbnN1bXB0aW9uIGdhcwogICAgLy8gc3RvcmFnZSBnYXMKICAgIG1pblRvbnNGb3JTdG9yYWdlOiBJbnQgPSB0b24oIjAuMDEiKTsgLy8gbWluIHBvb2wgc3RvcmFnZSBnYXMKICAgIC8vIGpldHRvbiBnYXMKICAgIGdhc1RyYW5zZmVySmV0dG9uOiBJbnQgPSB0b24oIjAuMDgiKTsgLy8gbWluIHBvb2wgc3RvcmFnZSBnYXMKICAgIC8vIGV4ZWN1dGlvbiBmZWUKICAgIGxwTWluRXhlY3V0aW9uRmVlOiBJbnQgPSB0b24oIjAuMDUiKTsgLy8gZmVlIGZvciBldmVyeSBvcGVyYXRpb24KICAgIHBlcnBNaW5FeGVjdXRpb25GZWU6IEludCA9IHRvbigiMC4xIik7IC8vIGZlZSBmb3IgZXZlcnkgb3BlcmF0aW9uCiAgICAvLyB0b3RhbCBnYXMKICAgIHRvdGFsRXhlY3V0aW9uRmVlOiBJbnQgPSAwOwoKICAgIC8vIGFkZHJlc3MKICAgIHVzZHRXYWxsZXQ6IEFkZHJlc3M7IC8vIG9yZGVyIGJvb2sgVVNEVCBqZXR0b24gd2FsbGV0IGFkZHJlc3MKICAgIHBvb2w6IEFkZHJlc3M7IC8vIHBvb2wgYWRkcmVzcwoKICAgIC8vIGFkbWluCiAgICBvd25lcjogQWRkcmVzczsKICAgIHN0b3BwZWQ6IEJvb2w7CiAgICBleGVjdXRvcnM6IG1hcDxBZGRyZXNzLCBCb29sPjsgLy8gYWNjb3VudCA9PiBlbmFibGVkCiAgICBjb21wZW5zYXRvcjogQWRkcmVzczsKCiAgICAvLyBMUAogICAgbHBQb3NpdGlvbk9yZGVyczogbWFwPEludCwgTFBQb3NpdGlvbk9yZGVyPjsgLy8gb3JkZXJJZCA9PiBvcmRlcgogICAgbHBQb3NpdGlvbk9yZGVySW5kZXhOZXh0OiBJbnQgYXMgdWludDY0ID0gMTsKCiAgICAvLyBQZXJwCiAgICBwZXJwUG9zaXRpb25PcmRlcnM6IG1hcDxJbnQsIFBlcnBQb3NpdGlvbk9yZGVyPjsgLy8gb3JkZXJJZCA9PiBvcmRlcgogICAgcGVycFBvc2l0aW9uT3JkZXJFeHM6IG1hcDxJbnQsIFBlcnBQb3NpdGlvbk9yZGVyRXg+OyAvLyBvcmRlcklkID0+IG9yZGVyRXgKICAgIHBlcnBQb3NpdGlvbk9yZGVySW5kZXhOZXh0OiBJbnQgYXMgdWludDY0ID0gMTsKCiAgICAvLyBDb21wZW5zYXRlCiAgICBjb21wZW5zYXRlczogbWFwPEludCwgQ29tcGVuc2F0ZT47IC8vIGlkID0+IGNvbXBlbnNhdGUKICAgIGNvbXBlbnNhdGVJbmRleE5leHQ6IEludCBhcyB1aW50NjQgPSAxOwoKCiAgICAvKioKICAgICAqIEluaXRpYWxpemVzIHRoZSBvcmRlciBib29rIGNvbnRyYWN0LgogICAgICogQHBhcmFtIGRlcGxveUlkIFRoZSBkZXBsb3ltZW50IElELgogICAgICovCiAgICBpbml0KGRlcGxveUlkOiBJbnQpIHsKICAgICAgICBzZWxmLm93bmVyID0gc2VuZGVyKCk7CiAgICAgICAgc2VsZi5jb21wZW5zYXRvciA9IHNlbmRlcigpOwogICAgICAgIHNlbGYuc3RvcHBlZCA9IGZhbHNlOwogICAgICAgIHNlbGYuZXhlY3V0b3JzLnNldChzZW5kZXIoKSwgdHJ1ZSk7CgogICAgICAgIHNlbGYudXNkdFdhbGxldCA9IG5ld0FkZHJlc3MoMCwgMCk7CiAgICAgICAgc2VsZi5wb29sID0gbmV3QWRkcmVzcygwLCAwKTsKICAgIH0KCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBBZG1pbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCiAgICAvKioKICAgICAqIEBkZXYgUmVjZWl2ZSBmdW5jdGlvbiB0byB1cGRhdGUgdGhlIGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyBvZiB0aGUgb3JkZXIgYm9vayBjb250cmFjdC4KICAgICAqIEBwYXJhbSBtc2cgVGhlIFVwZGF0ZUNvbmZpZyBtZXNzYWdlIGNvbnRhaW5pbmcgdGhlIG5ldyBjb25maWd1cmF0aW9uIHZhbHVlcy4KICAgICAqLwogICAgcmVjZWl2ZShtc2c6IFVwZGF0ZUNvbmZpZykgewogICAgICAgIHNlbGYucmVxdWlyZU93bmVyKCk7CiAgICAgICAgLy8gYXV0aAogICAgICAgIGxldCBpOiBJbnQgPSAwOwogICAgICAgIHdoaWxlIChpIDwgbXNnLmV4ZWN1dG9yTGVuZ3RoKSB7CiAgICAgICAgICAgIGxldCBleGVjdXRvcjogRXhlY3V0b3JQYXJhbT8gPSBtc2cuZXhlY3V0b3JzLmdldChpKTsKICAgICAgICAgICAgaWYgKGV4ZWN1dG9yICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIHNlbGYuZXhlY3V0b3JzLnNldCgoZXhlY3V0b3IhISkuZXhlY3V0b3IsIChleGVjdXRvciEhKS5lbmFibGUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGkgKz0gMTsKICAgICAgICB9CiAgICAgICAgc2VsZi5jb21wZW5zYXRvciA9IG1zZy5jb21wZW5zYXRvcjsKCiAgICAgICAgLy8gY29uZmlnCiAgICAgICAgc2VsZi5taW5UaW1lRGVsYXlUcmFkZXIgPSBtc2cubWluVGltZURlbGF5VHJhZGVyOwogICAgICAgIHNlbGYubHBNaW5FeGVjdXRpb25GZWUgPSBtc2cubHBNaW5FeGVjdXRpb25GZWU7CiAgICAgICAgc2VsZi5wZXJwTWluRXhlY3V0aW9uRmVlID0gbXNnLnBlcnBNaW5FeGVjdXRpb25GZWU7CgogICAgICAgIHNlbGYubHBHYXNDb25zdW1wdGlvbiA9IG1zZy5scEdhc0NvbnN1bXB0aW9uOwogICAgICAgIHNlbGYucGVycEdhc0NvbnN1bXB0aW9uID0gbXNnLnBlcnBHYXNDb25zdW1wdGlvbjsKICAgICAgICBzZWxmLnBvb2xMcEdhc0NvbnN1bXB0aW9uID0gbXNnLnBvb2xMcEdhc0NvbnN1bXB0aW9uOwogICAgICAgIHNlbGYucG9vbFBlcnBHYXNDb25zdW1wdGlvbiA9IG1zZy5wb29sUGVycEdhc0NvbnN1bXB0aW9uOwogICAgICAgIHNlbGYubWluVG9uc0ZvclN0b3JhZ2UgPSBtc2cubWluVG9uc0ZvclN0b3JhZ2U7CiAgICAgICAgc2VsZi5nYXNUcmFuc2ZlckpldHRvbiA9IG1zZy5nYXNUcmFuc2ZlckpldHRvbjsKCiAgICAgICAgc2VsZi51c2R0V2FsbGV0ID0gbXNnLnVzZHRXYWxsZXQ7CiAgICAgICAgc2VsZi5wb29sID0gbXNnLnBvb2w7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbmRlcigpLAogICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUKICAgICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHJpZXZlcyB0aGUgY29uZmlndXJhdGlvbiBkYXRhIGZvciB0aGUgb3JkZXIgYm9vay4KICAgICAqIAogICAgICogQHBhcmFtIGV4ZWN1dG9yIFRoZSBhZGRyZXNzIG9mIHRoZSBleGVjdXRvci4KICAgICAqIEByZXR1cm4gVGhlIENvbmZpZ0RhdGEgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGNvbmZpZ3VyYXRpb24gZGF0YS4KICAgICAqLwogICAgZ2V0IGZ1biBjb25maWdEYXRhKGV4ZWN1dG9yOiBBZGRyZXNzPyk6IENvbmZpZ0RhdGEgewogICAgICAgIGxldCBpc0V4ZWN1dG9yOiBCb29sPyA9IG51bGw7CiAgICAgICAgaWYgKGV4ZWN1dG9yICE9IG51bGwpIHsKICAgICAgICAgICAgaXNFeGVjdXRvciA9IHNlbGYuZXhlY3V0b3JzLmdldChleGVjdXRvciEhKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBDb25maWdEYXRhewogICAgICAgICAgICBpc0V4ZWN1dG9yOiBpc0V4ZWN1dG9yLAogICAgICAgICAgICBtaW5UaW1lRGVsYXlUcmFkZXI6IHNlbGYubWluVGltZURlbGF5VHJhZGVyLAogICAgICAgICAgICBscE1pbkV4ZWN1dGlvbkZlZTogc2VsZi5scE1pbkV4ZWN1dGlvbkZlZSwKICAgICAgICAgICAgcGVycE1pbkV4ZWN1dGlvbkZlZTogc2VsZi5wZXJwTWluRXhlY3V0aW9uRmVlLAogICAgICAgICAgICBscEdhc0NvbnN1bXB0aW9uOiBzZWxmLmxwR2FzQ29uc3VtcHRpb24sCiAgICAgICAgICAgIHBlcnBHYXNDb25zdW1wdGlvbjogc2VsZi5wZXJwR2FzQ29uc3VtcHRpb24sCiAgICAgICAgICAgIHBvb2xMcEdhc0NvbnN1bXB0aW9uOiBzZWxmLnBvb2xMcEdhc0NvbnN1bXB0aW9uLAogICAgICAgICAgICBwb29sUGVycEdhc0NvbnN1bXB0aW9uOiBzZWxmLnBvb2xQZXJwR2FzQ29uc3VtcHRpb24sCiAgICAgICAgICAgIG1pblRvbnNGb3JTdG9yYWdlOiBzZWxmLm1pblRvbnNGb3JTdG9yYWdlLAogICAgICAgICAgICBnYXNUcmFuc2ZlckpldHRvbjogc2VsZi5nYXNUcmFuc2ZlckpldHRvbiwKICAgICAgICAgICAgdG90YWxFeGVjdXRpb25GZWU6IHNlbGYudG90YWxFeGVjdXRpb25GZWUsCiAgICAgICAgICAgIHVzZHRXYWxsZXQ6IHNlbGYudXNkdFdhbGxldCwKICAgICAgICAgICAgcG9vbDogc2VsZi5wb29sCiAgICAgICAgfTsKICAgIH0KCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBUb2tlbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwogICAgLyoqCiAgICAgKiByZWNlaXZlIFRPTiBjb2luIHRyYW5zZmVycyB0byB0aGUgY29udHJhY3QKICAgICAqLwogICAgcmVjZWl2ZSgpIHt9CgogICAgLyoqCiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHRoZSByZWNlaXZlIGZ1bmN0aW9uIG9mIHRoZSBPcmRlckJvb2sgY29udHJhY3QuCiAgICAgKiBJdCBoYW5kbGVzIGluY29taW5nIFRva2VuTm90aWZpY2F0aW9uIG1lc3NhZ2VzIGFuZCBwZXJmb3JtcyB2YXJpb3VzIG9wZXJhdGlvbnMgYmFzZWQgb24gdGhlIG1lc3NhZ2UncyBwYXlsb2FkLgogICAgICogSWYgdGhlIHNlbmRlciBpcyBub3QgdGhlIGNvbnRyYWN0J3MgVVNEVCB3YWxsZXQsIGl0IHJlZnVuZHMgdGhlIHRva2VuIHRvIHRoZSBzZW5kZXIuCiAgICAgKiBJZiB0aGUgY29udHJhY3QgaXMgc3RvcHBlZCwgaXQgcmVmdW5kcyB0aGUgdG9rZW4gYW5kIHNlbmRzIGEgYm91bmNlIG1lc3NhZ2UgdG8gdGhlIHNlbmRlciBpbmRpY2F0aW5nIHRoYXQgb3JkZXIgY3JlYXRpb24gaXMgc3RvcHBlZC4KICAgICAqIElmIHRoZSBvcGVyYXRpb24gY29kZSBpcyBPUF9DUkVBVEVfSU5DUkVBU0VfTFBfUE9TSVRJT05fT1JERVIsIGl0IGhhbmRsZXMgdGhlIGNyZWF0aW9uIG9mIGFuIGluY3JlYXNlIExQIHBvc2l0aW9uIG9yZGVyLgogICAgICogSWYgdGhlIG9wZXJhdGlvbiBjb2RlIGlzIE9QX0NSRUFURV9JTkNSRUFTRV9QRVJQX1BPU0lUSU9OX09SREVSLCBpdCBoYW5kbGVzIHRoZSBjcmVhdGlvbiBvZiBhbiBpbmNyZWFzZSBwZXJwZXR1YWwgcG9zaXRpb24gb3JkZXIuCiAgICAgKiBJZiB0aGUgb3BlcmF0aW9uIGNvZGUgaXMgbm90IHJlY29nbml6ZWQsIGl0IHJlZnVuZHMgdGhlIHRva2VuIHRvIHRoZSBzZW5kZXIuCiAgICAgKgogICAgICogQHBhcmFtIG1zZyBUaGUgVG9rZW5Ob3RpZmljYXRpb24gbWVzc2FnZSByZWNlaXZlZC4KICAgICAqLwogICAgcmVjZWl2ZShtc2c6IFRva2VuTm90aWZpY2F0aW9uKSB7CiAgICAgICAgLy8ganVzdCByZWZ1bmQgb3RoZXIgdG9rZW4KICAgICAgICBpZiAoc2VuZGVyKCkgIT0gc2VsZi51c2R0V2FsbGV0KSB7CiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogc2VuZGVyKCksIAogICAgICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgICAgICBtb2RlOiBTZW5kSWdub3JlRXJyb3JzICsgU2VuZFJlbWFpbmluZ1ZhbHVlLCAKICAgICAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgICAgICBib2R5OiBUb2tlblRyYW5zZmVyewogICAgICAgICAgICAgICAgICAgIHF1ZXJ5SWQ6IG1zZy5xdWVyeUlkLAogICAgICAgICAgICAgICAgICAgIGFtb3VudDogbXNnLmFtb3VudCwKICAgICAgICAgICAgICAgICAgICByZWNlaXZlcjogbXNnLmZyb20sCiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEZXN0aW5hdGlvbjogbXNnLmZyb20sCiAgICAgICAgICAgICAgICAgICAgY3VzdG9tUGF5bG9hZDogbnVsbCwKICAgICAgICAgICAgICAgICAgICBmb3J3YXJkVG9uQW1vdW50OiAwLAogICAgICAgICAgICAgICAgICAgIGZvcndhcmRQYXlsb2FkOiBiZWdpbkNlbGwoKS5zdG9yZVVpbnQoMCwgMSkuZW5kQ2VsbCgpLmFzU2xpY2UoKQogICAgICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgLy8gc3RvcAogICAgICAgIGlmIChzZWxmLnN0b3BwZWQpIHsKICAgICAgICAgICAgc2VsZi5yZWZ1bmRKZXR0b24obXNnLnF1ZXJ5SWQsIG1zZy5hbW91bnQsIG1zZy5mcm9tLCBtc2cuZnJvbSk7CiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogbXNnLmZyb20sCiAgICAgICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMgKyBTZW5kUmVtYWluaW5nVmFsdWUsCiAgICAgICAgICAgICAgICBib2R5OiAiY3JlYXRlIG9yZGVyIHN0b3BwZWQiLmFzQ29tbWVudCgpCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICAvLyBnZXQgb3AgY29kZQogICAgICAgIGxldCBleGlzdDogQm9vbCA9IG1zZy5mb3J3YXJkUGF5bG9hZC5sb2FkVWludCgxKSA9PSAxOwogICAgICAgIGlmICghZXhpc3QpIHsKICAgICAgICAgICAgc2VsZi5yZWZ1bmRKZXR0b24obXNnLnF1ZXJ5SWQsIG1zZy5hbW91bnQsIG1zZy5mcm9tLCBtc2cuZnJvbSk7CiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogbXNnLmZyb20sCiAgICAgICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMgKyBTZW5kUmVtYWluaW5nVmFsdWUsCiAgICAgICAgICAgICAgICBib2R5OiAicGF5bG9hZCBub3QgZXhpc3QiLmFzQ29tbWVudCgpCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGxldCBvcGVyYXRpb246IFNsaWNlID0gbXNnLmZvcndhcmRQYXlsb2FkLmxvYWRSZWYoKS5hc1NsaWNlKCk7CiAgICAgICAgbGV0IG9wQ29kZTogSW50ID0gb3BlcmF0aW9uLmxvYWRVaW50KDMyKTsKICAgICAgICBpZiAoZXhpc3QgJiYgb3BDb2RlID09IE9QX0NSRUFURV9JTkNSRUFTRV9MUF9QT1NJVElPTl9PUkRFUikgewogICAgICAgICAgICBsZXQgbGlxdWlkaXR5RGVsdGE6IEludCA9IG9wZXJhdGlvbi5sb2FkVWludCgxMjgpOwogICAgICAgICAgICBsZXQgZXhlY3V0aW9uRmVlOiBJbnQgPSBvcGVyYXRpb24ubG9hZENvaW5zKCk7CgogICAgICAgICAgICBzZWxmLmhhbmRsZUNyZWF0ZUluY3JlYXNlTFBQb3NpdGlvbk9yZGVyKG1zZy5xdWVyeUlkLCBtc2cuYW1vdW50LCBtc2cuZnJvbSwgZXhlY3V0aW9uRmVlLCBsaXF1aWRpdHlEZWx0YSk7CiAgICAgICAgfSBlbHNlIGlmIChleGlzdCAmJiBvcENvZGUgPT0gT1BfQ1JFQVRFX0lOQ1JFQVNFX1BFUlBfUE9TSVRJT05fT1JERVIpIHsKICAgICAgICAgICAgbGV0IGV4ZWN1dGlvbkZlZTogSW50ID0gb3BlcmF0aW9uLmxvYWRDb2lucygpOwogICAgICAgICAgICBsZXQgaXNNYXJrZXQ6IEJvb2wgPSBvcGVyYXRpb24ubG9hZEludCgxKSA9PSAtMTsKICAgICAgICAgICAgbGV0IHRva2VuSWQ6IEludCA9IG9wZXJhdGlvbi5sb2FkVWludCg2NCk7CiAgICAgICAgICAgIGxldCBpc0xvbmc6IEJvb2wgPSBvcGVyYXRpb24ubG9hZEludCgxKSA9PSAtMTsKICAgICAgICAgICAgbGV0IG1hcmdpbkRlbHRhOiBJbnQgPSBvcGVyYXRpb24ubG9hZFVpbnQoMTI4KTsKICAgICAgICAgICAgbGV0IHNpemVEZWx0YTogSW50ID0gb3BlcmF0aW9uLmxvYWRVaW50KDEyOCk7CiAgICAgICAgICAgIGxldCB0cmlnZ2VyUHJpY2U6IEludCA9IG9wZXJhdGlvbi5sb2FkVWludCgyNTYpOwogICAgICAgICAgICAKICAgICAgICAgICAgbGV0IHRwU2w6IFNsaWNlID0gb3BlcmF0aW9uLmxvYWRSZWYoKS5hc1NsaWNlKCk7CiAgICAgICAgICAgIGxldCB0cFNpemU6IEludCA9IHRwU2wubG9hZFVpbnQoMTI4KTsKICAgICAgICAgICAgbGV0IHRwUHJpY2U6IEludCA9IHRwU2wubG9hZFVpbnQoMjU2KTsKICAgICAgICAgICAgbGV0IHNsU2l6ZTogSW50ID0gdHBTbC5sb2FkVWludCgxMjgpOwogICAgICAgICAgICBsZXQgc2xQcmljZTogSW50ID0gdHBTbC5sb2FkVWludCgyNTYpOwoKICAgICAgICAgICAgc2VsZi5oYW5kbGVDcmVhdGVJbmNyZWFzZVBlcnBQb3NpdGlvbk9yZGVyKG1zZy5xdWVyeUlkLCBtc2cuYW1vdW50LCBtc2cuZnJvbSwgZXhlY3V0aW9uRmVlLCBpc01hcmtldCwgdG9rZW5JZCwgaXNMb25nLCBtYXJnaW5EZWx0YSwgCiAgICAgICAgICAgICAgICBzaXplRGVsdGEsIHRyaWdnZXJQcmljZSwgdHBTaXplLCB0cFByaWNlLCBzbFNpemUsIHNsUHJpY2UpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogc2VsZi51c2R0V2FsbGV0LCAKICAgICAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICAgICAgbW9kZTogU2VuZElnbm9yZUVycm9ycyArIFNlbmRSZW1haW5pbmdWYWx1ZSwgCiAgICAgICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICAgICAgYm9keTogVG9rZW5UcmFuc2ZlcnsKICAgICAgICAgICAgICAgICAgICBxdWVyeUlkOiBtc2cucXVlcnlJZCwKICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IG1zZy5hbW91bnQsCiAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXI6IG1zZy5mcm9tLAogICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGVzdGluYXRpb246IG1zZy5mcm9tLAogICAgICAgICAgICAgICAgICAgIGN1c3RvbVBheWxvYWQ6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgZm9yd2FyZFRvbkFtb3VudDogMCwKICAgICAgICAgICAgICAgICAgICBmb3J3YXJkUGF5bG9hZDogYmVnaW5DZWxsKCkuc3RvcmVVaW50KDAsIDEpLmVuZENlbGwoKS5hc1NsaWNlKCkKICAgICAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogUmVmdW5kcyB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiBqZXR0b24gdG8gdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICAgICogCiAgICAgKiBAcGFyYW0gcXVlcnlJZCBUaGUgSUQgb2YgdGhlIHF1ZXJ5LgogICAgICogQHBhcmFtIGFtb3VudCBUaGUgYW1vdW50IG9mIGpldHRvbiB0byByZWZ1bmQuCiAgICAgKiBAcGFyYW0gdG8gVGhlIGFkZHJlc3MgdG8gcmVmdW5kIHRoZSBqZXR0b24gdG8uCiAgICAgKiBAcGFyYW0gZGVzdGluYXRpb24gVGhlIG9wdGlvbmFsIGFkZHJlc3MgdG8gc3BlY2lmeSBhcyB0aGUgcmVzcG9uc2UgZGVzdGluYXRpb24uCiAgICAgKi8KICAgIGZ1biByZWZ1bmRKZXR0b24ocXVlcnlJZDogSW50LCBhbW91bnQ6IEludCwgdG86IEFkZHJlc3MsIGRlc3RpbmF0aW9uOiBBZGRyZXNzPykgewogICAgICAgIGlmIChhbW91bnQgPiAwKSB7CiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogc2VsZi51c2R0V2FsbGV0LCAKICAgICAgICAgICAgICAgIHZhbHVlOiBzZWxmLmdhc1RyYW5zZmVySmV0dG9uLAogICAgICAgICAgICAgICAgbW9kZTogU2VuZElnbm9yZUVycm9ycywgCiAgICAgICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICAgICAgYm9keTogVG9rZW5UcmFuc2ZlcnsKICAgICAgICAgICAgICAgICAgICBxdWVyeUlkOiBxdWVyeUlkLAogICAgICAgICAgICAgICAgICAgIGFtb3VudDogYW1vdW50LAogICAgICAgICAgICAgICAgICAgIHJlY2VpdmVyOiB0bywKICAgICAgICAgICAgICAgICAgICByZXNwb25zZURlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbiwKICAgICAgICAgICAgICAgICAgICBjdXN0b21QYXlsb2FkOiBudWxsLAogICAgICAgICAgICAgICAgICAgIGZvcndhcmRUb25BbW91bnQ6IDAsCiAgICAgICAgICAgICAgICAgICAgZm9yd2FyZFBheWxvYWQ6IGJlZ2luQ2VsbCgpLnN0b3JlVWludCgwLCAxKS5lbmRDZWxsKCkuYXNTbGljZSgpCiAgICAgICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIENhbGN1bGF0ZXMgdGhlIGdhcyBjb3N0IGZvciBleGVjdXRpbmcgYW4gb3JkZXIuCiAgICAgKiAKICAgICAqIEBwYXJhbSBvcmRlclR5cGUgVGhlIHR5cGUgb2YgdGhlIG9yZGVyICgwIGZvciBMUCBvcmRlciwgMSBmb3IgcGVycGV0dWFsIG9yZGVyKS4KICAgICAqIEBwYXJhbSBleGVjdXRpb25GZWVEZWx0YSBUaGUgY2hhbmdlIGluIGV4ZWN1dGlvbiBmZWUuCiAgICAgKiBAcGFyYW0gZXhlY3V0aW9uTXVsdGlwbGUgVGhlIGV4ZWN1dGlvbiBmZWUgbXVsdGlwbGUuCiAgICAgKiBAcGFyYW0gdHJhbnNmZXJKZXR0b24gSW5kaWNhdGVzIHdoZXRoZXIgdG8gdHJhbnNmZXIgamV0dG9uLgogICAgICogQHJldHVybiBUaGUgZ2FzIGNvc3QgZm9yIGV4ZWN1dGluZyB0aGUgb3JkZXIuCiAgICAgKi8KICAgIGZ1biBleGNlZWRHYXMob3JkZXJUeXBlOiBJbnQsIGV4ZWN1dGlvbkZlZURlbHRhOiBJbnQsIGV4ZWN1dGlvbk11bHRpcGxlOiBJbnQsIHRyYW5zZmVySmV0dG9uOiBCb29sKTogSW50IHsKICAgICAgICBsZXQgdG9uQmFsYW5jZUJlZm9yZU1zZzogSW50ID0gbXlCYWxhbmNlKCkgLSBzZWxmLnRvdGFsRXhlY3V0aW9uRmVlICsgZXhlY3V0aW9uRmVlRGVsdGEgLSBjb250ZXh0KCkudmFsdWU7CiAgICAgICAgdG9uQmFsYW5jZUJlZm9yZU1zZyA9IG1heCgwLCB0b25CYWxhbmNlQmVmb3JlTXNnKTsKICAgICAgICBsZXQgc3RvcmFnZUZlZTogSW50ID0gc2VsZi5taW5Ub25zRm9yU3RvcmFnZSAtIG1pbih0b25CYWxhbmNlQmVmb3JlTXNnLCBzZWxmLm1pblRvbnNGb3JTdG9yYWdlKTsKICAgICAgICBsZXQgZXh0cmFWYWx1ZTogSW50ID0gbWF4KDAsIHRvbkJhbGFuY2VCZWZvcmVNc2cgLSBzZWxmLm1pblRvbnNGb3JTdG9yYWdlKTsKICAgICAgICBsZXQgZ2FzQ29uc3VtcHRpb246IEludCA9IG9yZGVyVHlwZSA9PSBPUkRFUl9UWVBFX0xQID8gc2VsZi5scEdhc0NvbnN1bXB0aW9uIDogc2VsZi5wZXJwR2FzQ29uc3VtcHRpb247CiAgICAgICAgcmV0dXJuIGNvbnRleHQoKS52YWx1ZSAtIHN0b3JhZ2VGZWUgLSBnYXNDb25zdW1wdGlvbiAqIGV4ZWN1dGlvbk11bHRpcGxlICsgZXh0cmFWYWx1ZSAtIAogICAgICAgICAgICAoZXhlY3V0aW9uRmVlRGVsdGEgPiAwID8gZXhlY3V0aW9uRmVlRGVsdGEgOiAwKSAtICh0cmFuc2ZlckpldHRvbiA/IHNlbGYuZ2FzVHJhbnNmZXJKZXR0b24gOiAwKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJlZnVuZHMgdGhlIGV4Y2VzcyB0b24gdG9rZW5zIHRvIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAgICAqIAogICAgICogQHBhcmFtIG9yZGVyVHlwZSBUaGUgdHlwZSBvZiB0aGUgb3JkZXIuCiAgICAgKiBAcGFyYW0gdG8gVGhlIGFkZHJlc3MgdG8gd2hpY2ggdGhlIGV4Y2VzcyB0b24gdG9rZW5zIHdpbGwgYmUgcmVmdW5kZWQuCiAgICAgKiBAcGFyYW0gZXhlY3V0aW9uRmVlRGVsdGEgVGhlIGV4ZWN1dGlvbiBmZWUgZGVsdGEuCiAgICAgKiBAcGFyYW0gZXhlY3V0aW9uTXVsdGlwbGUgVGhlIGV4ZWN1dGlvbiBtdWx0aXBsZS4KICAgICAqIEBwYXJhbSB0cmFuc2ZlckpldHRvbiBBIGJvb2xlYW4gdmFsdWUgaW5kaWNhdGluZyB3aGV0aGVyIHRvIHRyYW5zZmVyIGpldHRvbi4KICAgICAqLwogICAgZnVuIHJlZnVuZEV4Y2VlZFRvbihvcmRlclR5cGU6IEludCwgdG86IEFkZHJlc3MsIGV4ZWN1dGlvbkZlZURlbHRhOiBJbnQsIGV4ZWN1dGlvbk11bHRpcGxlOiBJbnQsIHRyYW5zZmVySmV0dG9uOiBCb29sKSB7CiAgICAgICAgbGV0IHJlZnVuZFZhbHVlOiBJbnQgPSBzZWxmLmV4Y2VlZEdhcyhvcmRlclR5cGUsIGV4ZWN1dGlvbkZlZURlbHRhLCBleGVjdXRpb25NdWx0aXBsZSwgdHJhbnNmZXJKZXR0b24pOwogICAgICAgIGlmIChyZWZ1bmRWYWx1ZSA+IDApIHsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiB0bywKICAgICAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgICAgIHZhbHVlOiByZWZ1bmRWYWx1ZSwKICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogQ2FsY3VsYXRlcyB0aGUgdG90YWwgZ2FzIGNvbnN1bXB0aW9uIGZvciBhIGdpdmVuIG9yZGVyIHR5cGUuCiAgICAgKiAKICAgICAqIEBwYXJhbSBvcmRlclR5cGUgVGhlIHR5cGUgb2YgdGhlIG9yZGVyICgwIGZvciBMUCBvcmRlciwgMSBmb3IgUGVycCBvcmRlcikuCiAgICAgKiBAcmV0dXJuIFRoZSB0b3RhbCBnYXMgY29uc3VtcHRpb24sIGluY2x1ZGluZyBmb3J3YXJkIGZlZSwgZ2FzIGNvbnN1bXB0aW9uLCBhbmQgbWluaW11bSB0b25zIGZvciBzdG9yYWdlLgogICAgICovCiAgICBmdW4gZ2V0UG9vbEdhcyhvcmRlclR5cGU6IEludCk6IEludCB7CiAgICAgICAgbGV0IGdhc0NvbnN1bXB0aW9uOiBJbnQgPSBvcmRlclR5cGUgPT0gT1JERVJfVFlQRV9MUCA/IHNlbGYucG9vbExwR2FzQ29uc3VtcHRpb24gOiBzZWxmLnBvb2xQZXJwR2FzQ29uc3VtcHRpb247CiAgICAgICAgcmV0dXJuIGNvbnRleHQoKS5yZWFkRm9yd2FyZEZlZSgpICsgZ2FzQ29uc3VtcHRpb24gKyBzZWxmLm1pblRvbnNGb3JTdG9yYWdlOwogICAgfQoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IExQID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCiAgICAvKioKICAgICAqIEhhbmRsZXMgdGhlIGNyZWF0aW9uIG9mIGFuIGluY3JlYXNlIExQIHBvc2l0aW9uIG9yZGVyLgogICAgICogCiAgICAgKiBAcGFyYW0gcXVlcnlJZCBUaGUgSUQgb2YgdGhlIHF1ZXJ5LgogICAgICogQHBhcmFtIGpldHRvbkZyb21BbW91bnQgVGhlIGFtb3VudCBvZiBqZXR0b24gZnJvbSB3aGljaCB0aGUgb3JkZXIgaXMgY3JlYXRlZC4KICAgICAqIEBwYXJhbSBhY2NvdW50IFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGNyZWF0aW5nIHRoZSBvcmRlci4KICAgICAqIEBwYXJhbSBleGVjdXRpb25GZWUgVGhlIGV4ZWN1dGlvbiBmZWUgZm9yIHRoZSBvcmRlci4KICAgICAqIEBwYXJhbSBsaXF1aWRpdHlEZWx0YSBUaGUgY2hhbmdlIGluIGxpcXVpZGl0eSBmb3IgdGhlIG9yZGVyLgogICAgICovCiAgICBmdW4gaGFuZGxlQ3JlYXRlSW5jcmVhc2VMUFBvc2l0aW9uT3JkZXIocXVlcnlJZDogSW50LCBqZXR0b25Gcm9tQW1vdW50OiBJbnQsIGFjY291bnQ6IEFkZHJlc3MsIGV4ZWN1dGlvbkZlZTogSW50LCBsaXF1aWRpdHlEZWx0YTogSW50KSB7CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKCiAgICAgICAgbGV0IHJlZnVuZENvbW1lbnQ6IFN0cmluZyA9ICIiOwogICAgICAgIGxldCByZWZ1bmQ6IEJvb2wgPSBmYWxzZTsKICAgICAgICBpZiAoY3R4LnZhbHVlIDwgZXhlY3V0aW9uRmVlICsgc2VsZi5scEdhc0NvbnN1bXB0aW9uKSB7CiAgICAgICAgICAgIHJlZnVuZCA9IHRydWU7CiAgICAgICAgICAgIHJlZnVuZENvbW1lbnQgPSAiZ2FzIG5vdCBlbm91Z2giOwogICAgICAgIH0KCiAgICAgICAgaWYgKGpldHRvbkZyb21BbW91bnQgPCBsaXF1aWRpdHlEZWx0YSkgewogICAgICAgICAgICByZWZ1bmQgPSB0cnVlOwogICAgICAgICAgICByZWZ1bmRDb21tZW50ID0gImpldHRvbiBub3QgZW5vdWdoIjsKICAgICAgICB9CgogICAgICAgIGlmIChleGVjdXRpb25GZWUgPCBzZWxmLmxwTWluRXhlY3V0aW9uRmVlKSB7CiAgICAgICAgICAgIHJlZnVuZCA9IHRydWU7CiAgICAgICAgICAgIHJlZnVuZENvbW1lbnQgPSAiZXhlY3V0aW9uIGZlZSBub3QgZW5vdWdoIjsKICAgICAgICB9CgogICAgICAgIC8vIG5lZWQgcmVmdW5kCiAgICAgICAgaWYgKHJlZnVuZCkgewogICAgICAgICAgICBzZWxmLnJlZnVuZEpldHRvbihxdWVyeUlkLCBqZXR0b25Gcm9tQW1vdW50LCBhY2NvdW50LCBhY2NvdW50KTsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBhY2NvdW50LAogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgICAgICBtb2RlOiBTZW5kSWdub3JlRXJyb3JzICsgU2VuZFJlbWFpbmluZ1ZhbHVlLAogICAgICAgICAgICAgICAgYm9keTogcmVmdW5kQ29tbWVudC5hc0NvbW1lbnQoKQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgLy8gYWRkIG5ldyBvcmRlcgogICAgICAgIGxldCBvcmRlcklkOiBJbnQgPSBzZWxmLmxwUG9zaXRpb25PcmRlckluZGV4TmV4dDsKICAgICAgICBzZWxmLmxwUG9zaXRpb25PcmRlckluZGV4TmV4dCA9IG9yZGVySWQgKyAxOwogICAgICAgIHNlbGYubHBQb3NpdGlvbk9yZGVycy5zZXQob3JkZXJJZCwgTFBQb3NpdGlvbk9yZGVyewogICAgICAgICAgICBpc0luY3JlYXNlOiB0cnVlLAogICAgICAgICAgICBhY2NvdW50OiBhY2NvdW50LAogICAgICAgICAgICBsaXF1aWRpdHlEZWx0YTogbGlxdWlkaXR5RGVsdGEsCiAgICAgICAgICAgIGV4ZWN1dGlvbkZlZTogZXhlY3V0aW9uRmVlLAogICAgICAgICAgICBibG9ja1RpbWU6IG5vdygpLAogICAgICAgICAgICBpc1BlbmRpbmc6IGZhbHNlLAogICAgICAgICAgICBleGVjdXRpb25GZWVSZWNlaXZlcjogYWNjb3VudCwKICAgICAgICAgICAgbGFzdE9wZXJhdG9yOiBudWxsCiAgICAgICAgfSk7CgogICAgICAgIHNlbGYudG90YWxFeGVjdXRpb25GZWUgKz0gZXhlY3V0aW9uRmVlOwoKICAgICAgICAvLyBldmVudAogICAgICAgIGVtaXQoTFBQb3NpdGlvbk9yZGVyQ3JlYXRlZEV2ZW50ewogICAgICAgICAgICBvcFR5cGU6IE9SREVSX09QX1RZUEVfSU5DUkVBU0UsCiAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgICAgICAgIGxpcXVpZGl0eURlbHRhOiBsaXF1aWRpdHlEZWx0YSwKICAgICAgICAgICAgZXhlY3V0aW9uRmVlOiBleGVjdXRpb25GZWUsCiAgICAgICAgICAgIG9yZGVySWQ6IG9yZGVySWQsCiAgICAgICAgICAgIHRyeElkOiBxdWVyeUlkCiAgICAgICAgfS50b0NlbGwoKSk7CgogICAgICAgIHNlbGYucmVmdW5kRXhjZWVkVG9uKE9SREVSX1RZUEVfTFAsIGFjY291bnQsIGV4ZWN1dGlvbkZlZSwgMSwgZmFsc2UpOwogICAgfQoKICAgIC8qKgogICAgICogUmVjZWl2ZSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYSBkZWNyZWFzZSBMUCBwb3NpdGlvbiBvcmRlci4KICAgICAqIAogICAgICogQHBhcmFtIG1zZyBUaGUgQ3JlYXRlRGVjcmVhc2VMUFBvc2l0aW9uT3JkZXIgbWVzc2FnZSBjb250YWluaW5nIHRoZSBvcmRlciBkZXRhaWxzLgogICAgICovCiAgICByZWNlaXZlKG1zZzogQ3JlYXRlRGVjcmVhc2VMUFBvc2l0aW9uT3JkZXIpIHsKICAgICAgICBzZWxmLnJlcXVpcmVOb3RTdG9wcGVkKCk7CgogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgLy8gY2hlY2sgZ2FzCiAgICAgICAgcmVxdWlyZShjdHgudmFsdWUgLSBtc2cuZXhlY3V0aW9uRmVlID49IHNlbGYubHBHYXNDb25zdW1wdGlvbiwgImdhcyBub3QgZW5vdWdoIik7CiAgICAgICAgLy8gY2hlY2sgZXhlY3V0aW9uIGZlZQogICAgICAgIHJlcXVpcmUobXNnLmV4ZWN1dGlvbkZlZSA+PSBzZWxmLmxwTWluRXhlY3V0aW9uRmVlLCAiZXhlY3V0aW9uIGZlZSBub3QgZW5vdWdoIik7CgogICAgICAgIC8vIGFkZCBuZXcgb3JkZXIKICAgICAgICBsZXQgb3JkZXJJZDogSW50ID0gc2VsZi5scFBvc2l0aW9uT3JkZXJJbmRleE5leHQ7CiAgICAgICAgc2VsZi5scFBvc2l0aW9uT3JkZXJJbmRleE5leHQgPSBzZWxmLmxwUG9zaXRpb25PcmRlckluZGV4TmV4dCArIDE7CiAgICAgICAgc2VsZi5scFBvc2l0aW9uT3JkZXJzLnNldChvcmRlcklkLCBMUFBvc2l0aW9uT3JkZXJ7CiAgICAgICAgICAgIGlzSW5jcmVhc2U6IGZhbHNlLAogICAgICAgICAgICBhY2NvdW50OiBzZW5kZXIoKSwKICAgICAgICAgICAgbGlxdWlkaXR5RGVsdGE6IG1zZy5saXF1aWRpdHlEZWx0YSwKICAgICAgICAgICAgZXhlY3V0aW9uRmVlOiBtc2cuZXhlY3V0aW9uRmVlLAogICAgICAgICAgICBibG9ja1RpbWU6IG5vdygpLAogICAgICAgICAgICBpc1BlbmRpbmc6IGZhbHNlLAogICAgICAgICAgICBleGVjdXRpb25GZWVSZWNlaXZlcjogc2VuZGVyKCksCiAgICAgICAgICAgIGxhc3RPcGVyYXRvcjogbnVsbAogICAgICAgIH0pOwoKICAgICAgICBzZWxmLnRvdGFsRXhlY3V0aW9uRmVlICs9IG1zZy5leGVjdXRpb25GZWU7CgogICAgICAgIC8vIGV2ZW50CiAgICAgICAgZW1pdChMUFBvc2l0aW9uT3JkZXJDcmVhdGVkRXZlbnR7CiAgICAgICAgICAgIG9wVHlwZTogT1JERVJfT1BfVFlQRV9ERUNSRUFTRSwKICAgICAgICAgICAgYWNjb3VudDogc2VuZGVyKCksCiAgICAgICAgICAgIGxpcXVpZGl0eURlbHRhOiBtc2cubGlxdWlkaXR5RGVsdGEsCiAgICAgICAgICAgIGV4ZWN1dGlvbkZlZTogbXNnLmV4ZWN1dGlvbkZlZSwKICAgICAgICAgICAgb3JkZXJJZDogb3JkZXJJZCwKICAgICAgICAgICAgdHJ4SWQ6IG1zZy50cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwoKICAgICAgICAvLyB0cmFuc2ZlciBleGVjZXNzIGdhcwogICAgICAgIHNlbGYucmVmdW5kRXhjZWVkVG9uKE9SREVSX1RZUEVfTFAsIHNlbmRlcigpLCBtc2cuZXhlY3V0aW9uRmVlLCAxLCBmYWxzZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aGVuIGEgQ2FuY2VsTFBQb3NpdGlvbk9yZGVyIG1lc3NhZ2UgaXMgcmVjZWl2ZWQuCiAgICAgKiBJdCBjYW5jZWxzIGEgbGlxdWlkaXR5IHBvc2l0aW9uIG9yZGVyIGFuZCBwZXJmb3JtcyB2YXJpb3VzIGNoZWNrcyBhbmQgb3BlcmF0aW9ucy4KICAgICAqIAogICAgICogQHBhcmFtIG1zZyBUaGUgQ2FuY2VsTFBQb3NpdGlvbk9yZGVyIG1lc3NhZ2UgY29udGFpbmluZyB0aGUgb3JkZXIgSUQgYW5kIG90aGVyIHBhcmFtZXRlcnMuCiAgICAgKi8KICAgIHJlY2VpdmUobXNnOiBDYW5jZWxMUFBvc2l0aW9uT3JkZXIpIHsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIC8vIGdldCBvcmRlcgogICAgICAgIGxldCBvcmRlck9wdDogTFBQb3NpdGlvbk9yZGVyPyA9IHNlbGYubHBQb3NpdGlvbk9yZGVycy5nZXQobXNnLm9yZGVySWQpOwogICAgICAgIHJlcXVpcmUob3JkZXJPcHQgIT0gbnVsbCwgIm9yZGVyIG5vdCBleGlzdCIpOwogICAgICAgIGxldCBvcmRlcjogTFBQb3NpdGlvbk9yZGVyID0gb3JkZXJPcHQhITsKCiAgICAgICAgLy8gY2hlY2sgZ2FzCiAgICAgICAgaWYgKG9yZGVyLmlzSW5jcmVhc2UpIHsKICAgICAgICAgICAgcmVxdWlyZShjdHgudmFsdWUgPj0gc2VsZi5scEdhc0NvbnN1bXB0aW9uICsgc2VsZi5nYXNUcmFuc2ZlckpldHRvbiwgImdhcyBub3QgZW5vdWdoIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVxdWlyZShjdHgudmFsdWUgPj0gc2VsZi5scEdhc0NvbnN1bXB0aW9uLCAiZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gY2hlY2sgb3JkZXIKICAgICAgICByZXF1aXJlKCFvcmRlci5pc1BlbmRpbmcsICJvcmRlciBpcyBwZW5kaW5nIik7CgogICAgICAgIC8vIGV4ZWN1dG9yIG9yIHRyYWRlcgogICAgICAgIGxldCBpc0V4ZWN1dG9yOiBCb29sID0gc2VsZi5pc0V4ZWN1dG9yKHNlbmRlcigpKTsKICAgICAgICByZXF1aXJlKGlzRXhlY3V0b3IgfHwgc2VuZGVyKCkgPT0gb3JkZXIuYWNjb3VudCwgImludmFsaWQgc2VuZGVyIik7CgogICAgICAgIC8vIHRyYWRlciBjYW5jZWwgbXVzdCBhZnRlciBtaW5UaW1lRGVsYXlUcmFkZXIKICAgICAgICBpZiAoIWlzRXhlY3V0b3IpIHsKICAgICAgICAgICAgcmVxdWlyZShvcmRlci5ibG9ja1RpbWUgKyBzZWxmLm1pblRpbWVEZWxheVRyYWRlciA8PSBub3coKSwgInRvbyBlYXJseSIpOwogICAgICAgIH0KCiAgICAgICAgLy8gZ2V0IGZlZSByZWNlaXZlcgogICAgICAgIGxldCBleGVjdXRpb25GZWVSZWNlaXZlcjogQWRkcmVzcyA9IHNlbmRlcigpOwogICAgICAgIGlmIChtc2cuZXhlY3V0aW9uRmVlUmVjZWl2ZXIgIT0gbnVsbCkgewogICAgICAgICAgICBleGVjdXRpb25GZWVSZWNlaXZlciA9IG1zZy5leGVjdXRpb25GZWVSZWNlaXZlciEhOwogICAgICAgIH0KCiAgICAgICAgLy8gZGVsZXRlIG9yZGVyCiAgICAgICAgc2VsZi5scFBvc2l0aW9uT3JkZXJzLnNldChtc2cub3JkZXJJZCwgbnVsbCk7CgogICAgICAgIGlmIChvcmRlci5pc0luY3JlYXNlKSB7CiAgICAgICAgICAgIC8vIHRyYW5zZmVyIGpldHRvbgogICAgICAgICAgICBzZWxmLnJlZnVuZEpldHRvbihtc2cudHJ4SWQsIG9yZGVyLmxpcXVpZGl0eURlbHRhLCBvcmRlci5hY2NvdW50LCBzZW5kZXIoKSk7CiAgICAgICAgfQoKICAgICAgICAvLyB0cmFuc2ZlciBleGVjdXRpb24gZmVlCiAgICAgICAgLy8gc2VsZi50cmFuc2ZlckV4ZWN1dGlvbkZlZShleGVjdXRpb25GZWVSZWNlaXZlciwgb3JkZXIuZXhlY3V0aW9uRmVlKTsKICAgICAgICBpZiAob3JkZXIuZXhlY3V0aW9uRmVlID4gMCkgewogICAgICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICAgICAgdG86IGV4ZWN1dGlvbkZlZVJlY2VpdmVyLAogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICAgICAgdmFsdWU6IG9yZGVyLmV4ZWN1dGlvbkZlZSwKICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBzZWxmLnRvdGFsRXhlY3V0aW9uRmVlIC09IG9yZGVyLmV4ZWN1dGlvbkZlZTsKICAgICAgICB9CgogICAgICAgIC8vIGV2ZW50CiAgICAgICAgZW1pdChMUFBvc2l0aW9uT3JkZXJDYW5jZWxsZWRFdmVudHsKICAgICAgICAgICAgb3BUeXBlOiBvcmRlci5pc0luY3JlYXNlID8gT1JERVJfT1BfVFlQRV9JTkNSRUFTRSA6IE9SREVSX09QX1RZUEVfREVDUkVBU0UsCiAgICAgICAgICAgIG9yZGVySWQ6IG1zZy5vcmRlcklkLAogICAgICAgICAgICB0cnhJZDogbXNnLnRyeElkCiAgICAgICAgfS50b0NlbGwoKSk7CgogICAgICAgIC8vIHRyYW5zZmVyIGV4ZWNlc3MgZ2FzCiAgICAgICAgc2VsZi5yZWZ1bmRFeGNlZWRUb24oT1JERVJfVFlQRV9MUCwgc2VuZGVyKCksIC1vcmRlci5leGVjdXRpb25GZWUsIDEsIG9yZGVyLmlzSW5jcmVhc2UpOwogICAgfQoKICAgIC8qKgogICAgICogVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbiBleGVjdXRpbmcgYW4gTFAgcG9zaXRpb24gb3JkZXIuCiAgICAgKiBJdCBwZXJmb3JtcyB2YXJpb3VzIGNoZWNrcyBhbmQgdXBkYXRlcyB0aGUgb3JkZXIgYWNjb3JkaW5nbHkuCiAgICAgKiAKICAgICAqIEBwYXJhbSBtc2cgVGhlIEV4ZWN1dGVMUFBvc2l0aW9uT3JkZXIgbWVzc2FnZSBjb250YWluaW5nIHRoZSBvcmRlciBkZXRhaWxzLgogICAgICovCiAgICByZWNlaXZlKG1zZzogRXhlY3V0ZUxQUG9zaXRpb25PcmRlcikgewogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CgogICAgICAgIC8vIGdldCBvcmRlcgogICAgICAgIGxldCBvcmRlck9wdDogTFBQb3NpdGlvbk9yZGVyPyA9IHNlbGYubHBQb3NpdGlvbk9yZGVycy5nZXQobXNnLm9yZGVySWQpOwogICAgICAgIHJlcXVpcmUob3JkZXJPcHQgIT0gbnVsbCwgIm9yZGVyIG5vdCBleGlzdCIpOwoKICAgICAgICBsZXQgb3JkZXI6IExQUG9zaXRpb25PcmRlciA9IG9yZGVyT3B0ISE7CgogICAgICAgIC8vIGNoZWNrIGdhcwogICAgICAgIGlmIChvcmRlci5pc0luY3JlYXNlKSB7CiAgICAgICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlID49IHNlbGYubHBHYXNDb25zdW1wdGlvbiAqIDIgKyBzZWxmLmdldFBvb2xHYXMoT1JERVJfVFlQRV9MUCksICJnYXMgbm90IGVub3VnaCIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlID49IHNlbGYubHBHYXNDb25zdW1wdGlvbiAqIDIgKyBzZWxmLmdldFBvb2xHYXMoT1JERVJfVFlQRV9MUCkgKyBzZWxmLmdhc1RyYW5zZmVySmV0dG9uLCAiZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICB9CgogICAgICAgIC8vIGNoZWNrIG9yZGVyCiAgICAgICAgcmVxdWlyZSghb3JkZXIuaXNQZW5kaW5nLCAib3JkZXIgaXMgcGVuZGluZyIpOwoKICAgICAgICAvLyBjaGVjayBzZW5kZXIKICAgICAgICBsZXQgaXNFeGVjdXRvcjogQm9vbCA9IHNlbGYuaXNFeGVjdXRvcihzZW5kZXIoKSk7CiAgICAgICAgcmVxdWlyZShpc0V4ZWN1dG9yLCAiaW52YWxpZCBzZW5kZXIiKTsKCiAgICAgICAgLy8gdXBkYXRlIG9yZGVyCiAgICAgICAgaWYgKG1zZy5leGVjdXRpb25GZWVSZWNlaXZlciAhPSBudWxsKSB7CiAgICAgICAgICAgIG9yZGVyLmV4ZWN1dGlvbkZlZVJlY2VpdmVyID0gbXNnLmV4ZWN1dGlvbkZlZVJlY2VpdmVyISE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgb3JkZXIuZXhlY3V0aW9uRmVlUmVjZWl2ZXIgPSBzZW5kZXIoKTsKICAgICAgICB9CiAgICAgICAgb3JkZXIubGFzdE9wZXJhdG9yID0gc2VuZGVyKCk7CiAgICAgICAgb3JkZXIuaXNQZW5kaW5nID0gdHJ1ZTsKICAgICAgICBzZWxmLmxwUG9zaXRpb25PcmRlcnMuc2V0KG1zZy5vcmRlcklkLCBvcmRlcik7CgogICAgICAgIC8vIHNlbmQgdXBkYXRlIHBvc2l0aW9uIG1zZwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLnBvb2wsCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUsCiAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgYm9keTogVXBkYXRlTFBQb3NpdGlvbiB7CiAgICAgICAgICAgICAgICBpc0luY3JlYXNlOiBvcmRlci5pc0luY3JlYXNlLAogICAgICAgICAgICAgICAgb3JkZXJJZDogbXNnLm9yZGVySWQsCiAgICAgICAgICAgICAgICB0cnhJZDogbXNnLnRyeElkLAogICAgICAgICAgICAgICAgYWNjb3VudDogb3JkZXIuYWNjb3VudCwKICAgICAgICAgICAgICAgIGxpcXVpZGl0eURlbHRhOiBvcmRlci5saXF1aWRpdHlEZWx0YQogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHRyaWdnZXJlZCB3aGVuIGFuIExQIHBvc2l0aW9uIHVwZGF0ZSBpcyBzdWNjZXNzZnVsLgogICAgICogSXQgcGVyZm9ybXMgdmFyaW91cyBjaGVja3MgYW5kIG9wZXJhdGlvbnMgcmVsYXRlZCB0byB0aGUgTFAgcG9zaXRpb24gb3JkZXIuCiAgICAgKiAKICAgICAqIEBwYXJhbSBtc2cgVGhlIFVwZGF0ZUxQUG9zaXRpb25TdWNjZXNzIG1lc3NhZ2UgY29udGFpbmluZyB0aGUgb3JkZXIgSUQsIHRyYW5zYWN0aW9uIElELCBhbmQgcmVjZWl2ZWQgYW1vdW50LgogICAgICovCiAgICByZWNlaXZlKG1zZzogVXBkYXRlTFBQb3NpdGlvblN1Y2Nlc3MpIHsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gc2VsZi5wb29sLCAiaW52YWxpZCBzZW5kZXIiKTsKCiAgICAgICAgLy8gZ2V0IG9yZGVyCiAgICAgICAgbGV0IG9yZGVyT3B0OiBMUFBvc2l0aW9uT3JkZXI/ID0gc2VsZi5scFBvc2l0aW9uT3JkZXJzLmdldChtc2cub3JkZXJJZCk7CiAgICAgICAgcmVxdWlyZShvcmRlck9wdCAhPSBudWxsLCAib3JkZXIgbm90IGV4aXN0Iik7CiAgICAgICAgbGV0IG9yZGVyOiBMUFBvc2l0aW9uT3JkZXIgPSBvcmRlck9wdCEhOwoKICAgICAgICAvLyBjaGVjayBnYXMKICAgICAgICBpZiAob3JkZXIuaXNJbmNyZWFzZSkgewogICAgICAgICAgICByZXF1aXJlKGN0eC52YWx1ZSA+PSBzZWxmLmxwR2FzQ29uc3VtcHRpb24sICJnYXMgbm90IGVub3VnaCIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlID49IHNlbGYubHBHYXNDb25zdW1wdGlvbiArIHNlbGYuZ2FzVHJhbnNmZXJKZXR0b24sICJnYXMgbm90IGVub3VnaCIpOwogICAgICAgIH0KCiAgICAgICAgLy8gZGVsZXRlIG9yZGVyCiAgICAgICAgc2VsZi5scFBvc2l0aW9uT3JkZXJzLnNldChtc2cub3JkZXJJZCwgbnVsbCk7CgogICAgICAgIC8vIHRyYW5zZmVyIGpldHRvbgogICAgICAgIGlmIChtc2cucmVjZWl2ZSA+IDApIHsKICAgICAgICAgICAgc2VsZi5yZWZ1bmRKZXR0b24obXNnLnRyeElkLCBtc2cucmVjZWl2ZSwgb3JkZXIuYWNjb3VudCwgb3JkZXIubGFzdE9wZXJhdG9yKTsKICAgICAgICB9CgogICAgICAgIC8vIHRyYW5zZmVyIGV4ZWN1dGlvbiBmZWUKICAgICAgICBpZiAob3JkZXIuZXhlY3V0aW9uRmVlID4gMCkgewogICAgICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICAgICAgdG86IG9yZGVyLmV4ZWN1dGlvbkZlZVJlY2VpdmVyLAogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICAgICAgdmFsdWU6IG9yZGVyLmV4ZWN1dGlvbkZlZSwKICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNlbGYudG90YWxFeGVjdXRpb25GZWUgLT0gb3JkZXIuZXhlY3V0aW9uRmVlOwogICAgICAgIH0KCiAgICAgICAgLy8gZXZlbnQKICAgICAgICBlbWl0KExQUG9zaXRpb25PcmRlckV4ZWN1dGVkRXZlbnR7CiAgICAgICAgICAgIG9wVHlwZTogb3JkZXIuaXNJbmNyZWFzZSA/IE9SREVSX09QX1RZUEVfSU5DUkVBU0UgOiBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFLAogICAgICAgICAgICBvcmRlcklkOiBtc2cub3JkZXJJZCwKICAgICAgICAgICAgdHJ4SWQ6IG1zZy50cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwoKICAgICAgICAvLyB0cmFuc2ZlciBleGNlc3MgZ2FzCiAgICAgICAgaWYgKG9yZGVyLmxhc3RPcGVyYXRvciAhPSBudWxsKSB7CiAgICAgICAgICAgIHNlbGYucmVmdW5kRXhjZWVkVG9uKE9SREVSX1RZUEVfTFAsIG9yZGVyLmxhc3RPcGVyYXRvciEhLCAtb3JkZXIuZXhlY3V0aW9uRmVlLCAxLCBtc2cucmVjZWl2ZSA+IDApOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW4gYSB0cmFuc2FjdGlvbiBpcyBib3VuY2VkLCBpbmRpY2F0aW5nIHRoYXQgYW4gdXBkYXRlIHRvIGFuIExQIHBvc2l0aW9uIG9yZGVyIGhhcyBmYWlsZWQuCiAgICAgKiBJdCByZXRyaWV2ZXMgdGhlIExQIHBvc2l0aW9uIG9yZGVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgYm91bmNlZCB0cmFuc2FjdGlvbiBhbmQgdXBkYXRlcyBpdHMgcGVuZGluZyBzdGF0dXMuCiAgICAgKiBJZiB0aGUgb3JkZXIgaGFzIGEgbGFzdCBvcGVyYXRvciwgaXQgc2VuZHMgYSB6ZXJvLXZhbHVlIHRyYW5zYWN0aW9uIHRvIHRoZSBsYXN0IG9wZXJhdG9yLgogICAgICogCiAgICAgKiBAcGFyYW0gc3JjIFRoZSBib3VuY2VkIHRyYW5zYWN0aW9uIGNvbnRhaW5pbmcgdGhlIG9yZGVyIElELgogICAgICovCiAgICBib3VuY2VkKHNyYzogYm91bmNlZDxVcGRhdGVMUFBvc2l0aW9uPikgewoKICAgICAgICAvLyBnZXQgb3JkZXIKICAgICAgICBsZXQgb3JkZXJPcHQ6IExQUG9zaXRpb25PcmRlcj8gPSBzZWxmLmxwUG9zaXRpb25PcmRlcnMuZ2V0KHNyYy5vcmRlcklkKTsKICAgICAgICBpZiAob3JkZXJPcHQgPT0gbnVsbCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGxldCBvcmRlcjogTFBQb3NpdGlvbk9yZGVyID0gb3JkZXJPcHQhITsKCiAgICAgICAgLy8gdXBkYXRlIHBlbmRpbmcKICAgICAgICBvcmRlci5pc1BlbmRpbmcgPSBmYWxzZTsKICAgICAgICBzZWxmLmxwUG9zaXRpb25PcmRlcnMuc2V0KHNyYy5vcmRlcklkLCBvcmRlcik7CgogICAgICAgIGlmIChvcmRlci5sYXN0T3BlcmF0b3IgIT0gbnVsbCkgewogICAgICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICAgICAgdG86IG9yZGVyLmxhc3RPcGVyYXRvciEhLAogICAgICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgICAgICBtb2RlOiBTZW5kSWdub3JlRXJyb3JzICsgU2VuZFJlbWFpbmluZ1ZhbHVlCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFJldHJpZXZlcyB0aGUgTFBQb3NpdGlvbk9yZGVyRGF0YSBmb3IgdGhlIHNwZWNpZmllZCBvcmRlciBJRC4KICAgICAqIAogICAgICogQHBhcmFtIG9yZGVySWQgVGhlIElEIG9mIHRoZSBvcmRlciB0byByZXRyaWV2ZS4KICAgICAqIEByZXR1cm4gVGhlIExQUG9zaXRpb25PcmRlckRhdGEgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG5leHQgaW5kZXggYW5kIHRoZSBMUFBvc2l0aW9uT3JkZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBvcmRlciBJRC4KICAgICAqLwogICAgZ2V0IGZ1biBscFBvc2l0aW9uT3JkZXIob3JkZXJJZDogSW50KTogTFBQb3NpdGlvbk9yZGVyRGF0YSB7CiAgICAgICAgcmV0dXJuIExQUG9zaXRpb25PcmRlckRhdGF7CiAgICAgICAgICAgIGxwUG9zaXRpb25PcmRlckluZGV4TmV4dDogc2VsZi5scFBvc2l0aW9uT3JkZXJJbmRleE5leHQsCiAgICAgICAgICAgIGxwUG9zaXRpb25PcmRlcjogc2VsZi5scFBvc2l0aW9uT3JkZXJzLmdldChvcmRlcklkKQogICAgICAgIH07CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUGVycCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwogICAgLyoqCiAgICAgKiBIYW5kbGVzIHRoZSBjcmVhdGlvbiBhbmQgaW5jcmVhc2Ugb2YgYSBwZXJwZXR1YWwgcG9zaXRpb24gb3JkZXIuCiAgICAgKiAKICAgICAqIEBwYXJhbSBxdWVyeUlkIFRoZSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIG9yZGVyLgogICAgICogQHBhcmFtIGpldHRvbkZyb21BbW91bnQgVGhlIGFtb3VudCBvZiBqZXR0b24gdG8gYmUgdXNlZCBmb3IgdGhlIG9yZGVyLgogICAgICogQHBhcmFtIGFjY291bnQgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgcGxhY2luZyB0aGUgb3JkZXIuCiAgICAgKiBAcGFyYW0gZXhlY3V0aW9uRmVlIFRoZSBleGVjdXRpb24gZmVlIGZvciB0aGUgb3JkZXIuCiAgICAgKiBAcGFyYW0gaXNNYXJrZXQgQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgb3JkZXIgaXMgYSBtYXJrZXQgb3JkZXIgb3IgYSBsaW1pdCBvcmRlci4KICAgICAqIEBwYXJhbSB0b2tlbklkIFRoZSBJRCBvZiB0aGUgdG9rZW4gYXNzb2NpYXRlZCB3aXRoIHRoZSBvcmRlci4KICAgICAqIEBwYXJhbSBpc0xvbmcgQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgb3JkZXIgaXMgYSBsb25nIHBvc2l0aW9uIG9yIGEgc2hvcnQgcG9zaXRpb24uCiAgICAgKiBAcGFyYW0gbWFyZ2luRGVsdGEgVGhlIGNoYW5nZSBpbiBtYXJnaW4gZm9yIHRoZSBvcmRlci4KICAgICAqIEBwYXJhbSBzaXplRGVsdGEgVGhlIGNoYW5nZSBpbiBzaXplIGZvciB0aGUgb3JkZXIuCiAgICAgKiBAcGFyYW0gdHJpZ2dlclByaWNlIFRoZSB0cmlnZ2VyIHByaWNlIGZvciB0aGUgb3JkZXIuCiAgICAgKiBAcGFyYW0gdHBTaXplIFRoZSB0YWtlIHByb2ZpdCBzaXplIGZvciB0aGUgb3JkZXIuCiAgICAgKiBAcGFyYW0gdHBQcmljZSBUaGUgdGFrZSBwcm9maXQgcHJpY2UgZm9yIHRoZSBvcmRlci4KICAgICAqIEBwYXJhbSBzbFNpemUgVGhlIHN0b3AgbG9zcyBzaXplIGZvciB0aGUgb3JkZXIuCiAgICAgKiBAcGFyYW0gc2xQcmljZSBUaGUgc3RvcCBsb3NzIHByaWNlIGZvciB0aGUgb3JkZXIuCiAgICAgKi8KICAgIGZ1biBoYW5kbGVDcmVhdGVJbmNyZWFzZVBlcnBQb3NpdGlvbk9yZGVyKHF1ZXJ5SWQ6IEludCwgamV0dG9uRnJvbUFtb3VudDogSW50LCBhY2NvdW50OiBBZGRyZXNzLCBleGVjdXRpb25GZWU6IEludCwgaXNNYXJrZXQ6IEJvb2wsCiAgICAgICAgdG9rZW5JZDogSW50LCBpc0xvbmc6IEJvb2wsIG1hcmdpbkRlbHRhOiBJbnQsIHNpemVEZWx0YTogSW50LCB0cmlnZ2VyUHJpY2U6IEludCwgdHBTaXplOiBJbnQsIHRwUHJpY2U6IEludCwgc2xTaXplOiBJbnQsIHNsUHJpY2U6IEludCkgewogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CgogICAgICAgIGxldCByZWZ1bmRDb21tZW50OiBTdHJpbmcgPSAiIjsKICAgICAgICBsZXQgcmVmdW5kOiBCb29sID0gZmFsc2U7CiAgICAgICAgaWYgKGN0eC52YWx1ZSA8IGV4ZWN1dGlvbkZlZSArIHNlbGYucGVycEdhc0NvbnN1bXB0aW9uKSB7CiAgICAgICAgICAgIHJlZnVuZCA9IHRydWU7CiAgICAgICAgICAgIHJlZnVuZENvbW1lbnQgPSAiZ2FzIG5vdCBlbm91Z2giOwogICAgICAgIH0KCiAgICAgICAgaWYgKGpldHRvbkZyb21BbW91bnQgPCBtYXJnaW5EZWx0YSkgewogICAgICAgICAgICByZWZ1bmQgPSB0cnVlOwogICAgICAgICAgICByZWZ1bmRDb21tZW50ID0gImpldHRvbiBub3QgZW5vdWdoIjsKICAgICAgICB9CgogICAgICAgIGxldCBleGVjdXRpb25GZWVNdWx0aXBsZTogSW50ID0gMTsKICAgICAgICBpZiAodHBTaXplID4gMCAmJiB0cFByaWNlID4gMCkgewogICAgICAgICAgICBleGVjdXRpb25GZWVNdWx0aXBsZSArPSAxOwogICAgICAgIH0KICAgICAgICBpZiAoc2xTaXplID4gMCAmJiBzbFByaWNlID4gMCkgewogICAgICAgICAgICBleGVjdXRpb25GZWVNdWx0aXBsZSArPSAxOwogICAgICAgIH0KCiAgICAgICAgaWYgKGV4ZWN1dGlvbkZlZSA8IHNlbGYucGVycE1pbkV4ZWN1dGlvbkZlZSAqIGV4ZWN1dGlvbkZlZU11bHRpcGxlKSB7CiAgICAgICAgICAgIHJlZnVuZCA9IHRydWU7CiAgICAgICAgICAgIHJlZnVuZENvbW1lbnQgPSAiZXhlY3V0aW9uIGZlZSBub3QgZW5vdWdoIjsKICAgICAgICB9CgogICAgICAgIC8vIG5lZWQgcmVmdW5kCiAgICAgICAgaWYgKHJlZnVuZCkgewogICAgICAgICAgICBzZWxmLnJlZnVuZEpldHRvbihxdWVyeUlkLCBqZXR0b25Gcm9tQW1vdW50LCBhY2NvdW50LCBhY2NvdW50KTsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBhY2NvdW50LAogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgICAgICBtb2RlOiBTZW5kSWdub3JlRXJyb3JzICsgU2VuZFJlbWFpbmluZ1ZhbHVlLAogICAgICAgICAgICAgICAgYm9keTogcmVmdW5kQ29tbWVudC5hc0NvbW1lbnQoKQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgLy8gYWRkIG5ldyBvcmRlcgogICAgICAgIGxldCBvcFR5cGU6IEludCA9IDA7CiAgICAgICAgaWYgKGlzTWFya2V0KSB7CiAgICAgICAgICAgIG9wVHlwZSA9IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTUFSS0VUOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG9wVHlwZSA9IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTElNSVQ7CiAgICAgICAgfQogICAgICAgIHNlbGYuY3JlYXRlUGVycE9yZGVyKHF1ZXJ5SWQsIG9wVHlwZSwgYWNjb3VudCwgdG9rZW5JZCwgaXNMb25nLCBtYXJnaW5EZWx0YSwgc2l6ZURlbHRhLCB0cmlnZ2VyUHJpY2UsIAogICAgICAgICAgICB0cFNpemUsIHRwUHJpY2UsIHNsU2l6ZSwgc2xQcmljZSwgZXhlY3V0aW9uRmVlIC8gZXhlY3V0aW9uRmVlTXVsdGlwbGUpOwoKICAgICAgICBzZWxmLnRvdGFsRXhlY3V0aW9uRmVlICs9IGV4ZWN1dGlvbkZlZTsKCiAgICAgICAgc2VsZi5yZWZ1bmRFeGNlZWRUb24oT1JERVJfVFlQRV9QRVJQLCBhY2NvdW50LCBleGVjdXRpb25GZWUsIDEsIGZhbHNlKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJlY2VpdmUgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGEgZGVjcmVhc2UgcGVycGV0dWFsIHBvc2l0aW9uIG9yZGVyLgogICAgICogCiAgICAgKiBAcGFyYW0gbXNnIFRoZSBDcmVhdGVEZWNyZWFzZVBlcnBQb3NpdGlvbk9yZGVyIG1lc3NhZ2UgY29udGFpbmluZyB0aGUgb3JkZXIgZGV0YWlscy4KICAgICAqLwogICAgcmVjZWl2ZShtc2c6IENyZWF0ZURlY3JlYXNlUGVycFBvc2l0aW9uT3JkZXIpIHsKICAgICAgICBzZWxmLnJlcXVpcmVOb3RTdG9wcGVkKCk7CgogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgLy8gY2hlY2sgZ2FzCiAgICAgICAgcmVxdWlyZShjdHgudmFsdWUgLSBtc2cuZXhlY3V0aW9uRmVlID49IHNlbGYucGVycEdhc0NvbnN1bXB0aW9uLCAiZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICAvLyBjaGVjayBleGVjdXRpb24gZmVlCiAgICAgICAgcmVxdWlyZShtc2cuZXhlY3V0aW9uRmVlID49IHNlbGYucGVycE1pbkV4ZWN1dGlvbkZlZSwgImV4ZWN1dGlvbiBmZWUgbm90IGVub3VnaCIpOwoKICAgICAgICAvLyBhZGQgbmV3IG9yZGVyCiAgICAgICAgc2VsZi5jcmVhdGVQZXJwT3JkZXIobXNnLnRyeElkLCBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFX01BUktFVCwgc2VuZGVyKCksIG1zZy50b2tlbklkLCBtc2cuaXNMb25nLCBtc2cubWFyZ2luRGVsdGEsIG1zZy5zaXplRGVsdGEsIG1zZy50cmlnZ2VyUHJpY2UsIAogICAgICAgICAgICAgICAgMCwgMCwgMCwgMCwgbXNnLmV4ZWN1dGlvbkZlZSk7CgogICAgICAgIHNlbGYudG90YWxFeGVjdXRpb25GZWUgKz0gbXNnLmV4ZWN1dGlvbkZlZTsKCiAgICAgICAgLy8gdHJhbnNmZXIgZXhlY2VzcyBnYXMKICAgICAgICBzZWxmLnJlZnVuZEV4Y2VlZFRvbihPUkRFUl9UWVBFX1BFUlAsIHNlbmRlcigpLCBtc2cuZXhlY3V0aW9uRmVlLCAxLCBmYWxzZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW4gcmVjZWl2aW5nIGEgQ3JlYXRlVHBTbFBlcnBQb3NpdGlvbk9yZGVyIG1lc3NhZ2UuCiAgICAgKiBJdCBwZXJmb3JtcyB2YXJpb3VzIGNoZWNrcyBvbiBnYXMgYW5kIGV4ZWN1dGlvbiBmZWUsIGNyZWF0ZXMgdGFrZSBwcm9maXQgKHRwKSBhbmQgc3RvcCBsb3NzIChzbCkgb3JkZXJzIGlmIG5lY2Vzc2FyeSwKICAgICAqIHVwZGF0ZXMgdGhlIHRvdGFsIGV4ZWN1dGlvbiBmZWUsIGFuZCB0cmFuc2ZlcnMgZXhjZXNzIGdhcy4KICAgICAqIEBwYXJhbSBtc2cgVGhlIENyZWF0ZVRwU2xQZXJwUG9zaXRpb25PcmRlciBtZXNzYWdlIGNvbnRhaW5pbmcgdGhlIG5lY2Vzc2FyeSBpbmZvcm1hdGlvbiBmb3IgY3JlYXRpbmcgdHAvc2wgb3JkZXJzLgogICAgICovCiAgICByZWNlaXZlKG1zZzogQ3JlYXRlVHBTbFBlcnBQb3NpdGlvbk9yZGVyKSB7CiAgICAgICAgc2VsZi5yZXF1aXJlTm90U3RvcHBlZCgpOwogICAgICAgIAogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CgogICAgICAgIGxldCBleGVjdXRpb25GZWVNdWx0aXBsZTogSW50ID0gMDsKICAgICAgICBpZiAobXNnLnRwU2l6ZSA+IDAgJiYgbXNnLnRwUHJpY2UgPiAwKSB7CiAgICAgICAgICAgIGV4ZWN1dGlvbkZlZU11bHRpcGxlICs9IDE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cuc2xTaXplID4gMCAmJiBtc2cuc2xQcmljZSA+IDApIHsKICAgICAgICAgICAgZXhlY3V0aW9uRmVlTXVsdGlwbGUgKz0gMTsKICAgICAgICB9CgogICAgICAgIC8vIGNoZWNrIGdhcwogICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlIC0gbXNnLmV4ZWN1dGlvbkZlZSA+PSBzZWxmLnBlcnBHYXNDb25zdW1wdGlvbiAqIGV4ZWN1dGlvbkZlZU11bHRpcGxlLCAiZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICAvLyBjaGVjayBleGVjdXRpb24gZmVlCiAgICAgICAgcmVxdWlyZShtc2cuZXhlY3V0aW9uRmVlID49IHNlbGYucGVycE1pbkV4ZWN1dGlvbkZlZSAqIGV4ZWN1dGlvbkZlZU11bHRpcGxlLCAiZXhlY3V0aW9uIGZlZSBub3QgZW5vdWdoIik7CgogICAgICAgIC8vIGNyZWF0ZSB0cC9zbAogICAgICAgIGlmIChtc2cudHBTaXplID4gMCAmJiBtc2cudHBQcmljZSA+IDApIHsKICAgICAgICAgICAgc2VsZi5jcmVhdGVQZXJwT3JkZXIobXNnLnRyeElkLCBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFX1RQLCBzZW5kZXIoKSwgbXNnLnRva2VuSWQsIG1zZy5pc0xvbmcsIDAsIG1zZy50cFNpemUsIG1zZy50cFByaWNlLCAKICAgICAgICAgICAgICAgIDAsIDAsIDAsIDAsIG1zZy5leGVjdXRpb25GZWUgLyBleGVjdXRpb25GZWVNdWx0aXBsZSk7CiAgICAgICAgfQoKICAgICAgICBpZiAobXNnLnNsU2l6ZSA+IDAgJiYgbXNnLnNsUHJpY2UgPiAwKSB7CiAgICAgICAgICAgIHNlbGYuY3JlYXRlUGVycE9yZGVyKG1zZy50cnhJZCwgT1JERVJfT1BfVFlQRV9ERUNSRUFTRV9TTCwgc2VuZGVyKCksIG1zZy50b2tlbklkLCBtc2cuaXNMb25nLCAwLCBtc2cuc2xTaXplLCBtc2cuc2xQcmljZSwgCiAgICAgICAgICAgICAgICAwLCAwLCAwLCAwLCBtc2cuZXhlY3V0aW9uRmVlIC8gZXhlY3V0aW9uRmVlTXVsdGlwbGUpOwogICAgICAgIH0KCiAgICAgICAgc2VsZi50b3RhbEV4ZWN1dGlvbkZlZSArPSBtc2cuZXhlY3V0aW9uRmVlOwoKICAgICAgICAvLyB0cmFuc2ZlciBleGVjZXNzIGdhcwogICAgICAgIHNlbGYucmVmdW5kRXhjZWVkVG9uKE9SREVSX1RZUEVfUEVSUCwgc2VuZGVyKCksIG1zZy5leGVjdXRpb25GZWUsIGV4ZWN1dGlvbkZlZU11bHRpcGxlLCBmYWxzZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBDcmVhdGVzIGEgcGVycGV0dWFsIG9yZGVyIGluIHRoZSBvcmRlciBib29rLgogICAgICogCiAgICAgKiBAcGFyYW0gdHJ4SWQgVGhlIHRyYW5zYWN0aW9uIElEIGFzc29jaWF0ZWQgd2l0aCB0aGUgb3JkZXIuCiAgICAgKiBAcGFyYW0gb3BUeXBlIFRoZSBvcGVyYXRpb24gdHlwZSBvZiB0aGUgb3JkZXIuCiAgICAgKiBAcGFyYW0gYWNjb3VudCBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBwbGFjaW5nIHRoZSBvcmRlci4KICAgICAqIEBwYXJhbSB0b2tlbklkIFRoZSBJRCBvZiB0aGUgdG9rZW4gYmVpbmcgdHJhZGVkLgogICAgICogQHBhcmFtIGlzTG9uZyBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBvcmRlciBpcyBmb3IgYSBsb25nIHBvc2l0aW9uLgogICAgICogQHBhcmFtIG1hcmdpbkRlbHRhIFRoZSBjaGFuZ2UgaW4gbWFyZ2luIGZvciB0aGUgb3JkZXIuCiAgICAgKiBAcGFyYW0gc2l6ZURlbHRhIFRoZSBjaGFuZ2UgaW4gc2l6ZSBmb3IgdGhlIG9yZGVyLgogICAgICogQHBhcmFtIHRyaWdnZXJQcmljZSBUaGUgdHJpZ2dlciBwcmljZSBmb3IgdGhlIG9yZGVyLgogICAgICogQHBhcmFtIHRwU2l6ZSBUaGUgdGFrZSBwcm9maXQgc2l6ZSBmb3IgdGhlIG9yZGVyLgogICAgICogQHBhcmFtIHRwUHJpY2UgVGhlIHRha2UgcHJvZml0IHByaWNlIGZvciB0aGUgb3JkZXIuCiAgICAgKiBAcGFyYW0gc2xTaXplIFRoZSBzdG9wIGxvc3Mgc2l6ZSBmb3IgdGhlIG9yZGVyLgogICAgICogQHBhcmFtIHNsUHJpY2UgVGhlIHN0b3AgbG9zcyBwcmljZSBmb3IgdGhlIG9yZGVyLgogICAgICogQHBhcmFtIGV4ZWN1dGlvbkZlZSBUaGUgZXhlY3V0aW9uIGZlZSBmb3IgdGhlIG9yZGVyLgogICAgICogQHJldHVybiBUaGUgSUQgb2YgdGhlIGNyZWF0ZWQgb3JkZXIuCiAgICAgKi8gICAgCiAgICBmdW4gY3JlYXRlUGVycE9yZGVyKHRyeElkOiBJbnQsIG9wVHlwZTogSW50LCBhY2NvdW50OiBBZGRyZXNzLCB0b2tlbklkOiBJbnQsIGlzTG9uZzogQm9vbCwgbWFyZ2luRGVsdGE6IEludCwgc2l6ZURlbHRhOiBJbnQsIHRyaWdnZXJQcmljZTogSW50LCAKICAgICAgICB0cFNpemU6IEludCwgdHBQcmljZTogSW50LCBzbFNpemU6IEludCwgc2xQcmljZTogSW50LCBleGVjdXRpb25GZWU6IEludCk6IEludCB7CiAgICAgICAgbGV0IHRyaWdnZXJBYm92ZTogQm9vbCA9IGZhbHNlOwoKICAgICAgICBsZXQgb3JkZXJJZDogSW50ID0gc2VsZi5wZXJwUG9zaXRpb25PcmRlckluZGV4TmV4dDsKICAgICAgICBzZWxmLnBlcnBQb3NpdGlvbk9yZGVySW5kZXhOZXh0ID0gb3JkZXJJZCArIDE7CgogICAgICAgIGlmIChvcFR5cGUgPT0gT1JERVJfT1BfVFlQRV9JTkNSRUFTRV9NQVJLRVQgfHwgb3BUeXBlID09IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTElNSVQpIHsKICAgICAgICAgICAgLy8gaW5jcmVhc2UgZm9yIGxvbmcgb3JkZXIsIG11c3QgdHJpZ2dlciBiZWxvdyB0aGUgcHJpY2UKICAgICAgICAgICAgdHJpZ2dlckFib3ZlID0gIWlzTG9uZzsKICAgICAgICAgICAgaWYgKCh0cFNpemUgPiAwICYmIHRwUHJpY2UgPiAwKSB8fCAoc2xTaXplID4gMCAmJiBzbFByaWNlID4gMCkpIHsKICAgICAgICAgICAgICAgIHNlbGYucGVycFBvc2l0aW9uT3JkZXJFeHMuc2V0KG9yZGVySWQsIFBlcnBQb3NpdGlvbk9yZGVyRXh7CiAgICAgICAgICAgICAgICAgICAgdHBTaXplOiB0cFNpemUsCiAgICAgICAgICAgICAgICAgICAgdHBQcmljZTogdHBQcmljZSwKICAgICAgICAgICAgICAgICAgICBzbFNpemU6IHNsU2l6ZSwKICAgICAgICAgICAgICAgICAgICBzbFByaWNlOiBzbFByaWNlLAogICAgICAgICAgICAgICAgICAgIGV4ZWN1dGlvbkZlZTogZXhlY3V0aW9uRmVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChvcFR5cGUgPT0gT1JERVJfT1BfVFlQRV9ERUNSRUFTRV9NQVJLRVQpIHsKICAgICAgICAgICAgICAgIC8vIGRlY3JlYXNlIGZvciBsb25nIG1hcmtldCBvcmRlciwgbXVzdCB0cmlnZ2VyIGFib3ZlIHRoZSBwcmljZQogICAgICAgICAgICAgICAgdHJpZ2dlckFib3ZlID0gaXNMb25nOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaWYgKG9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFX1RQKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gdHAgZm9yIGxvbmcgbGltaXQgb3JkZXIsIG11c3QgdHJpZ2dlciBhYm92ZSB0aGUgcHJpY2UKICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyQWJvdmUgPSBpc0xvbmc7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRyaWdnZXJBYm92ZSA9ICFpc0xvbmc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHNlbGYucGVycFBvc2l0aW9uT3JkZXJzLnNldChvcmRlcklkLCBQZXJwUG9zaXRpb25PcmRlcnsKICAgICAgICAgICAgb3BUeXBlOiBvcFR5cGUsCiAgICAgICAgICAgIHRva2VuSWQ6IHRva2VuSWQsCiAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgICAgICAgIGlzTG9uZzogaXNMb25nLAogICAgICAgICAgICBtYXJnaW5EZWx0YTogbWFyZ2luRGVsdGEsCiAgICAgICAgICAgIHNpemVEZWx0YTogc2l6ZURlbHRhLAogICAgICAgICAgICB0cmlnZ2VyUHJpY2U6IHRyaWdnZXJQcmljZSwKICAgICAgICAgICAgdHJpZ2dlckFib3ZlOiB0cmlnZ2VyQWJvdmUsCiAgICAgICAgICAgIGV4ZWN1dGlvbkZlZTogZXhlY3V0aW9uRmVlLAogICAgICAgICAgICBibG9ja1RpbWU6IG5vdygpLAogICAgICAgICAgICBpc1BlbmRpbmc6IGZhbHNlLAogICAgICAgICAgICBleGVjdXRpb25GZWVSZWNlaXZlcjogc2VuZGVyKCksCiAgICAgICAgICAgIGxhc3RPcGVyYXRvcjogbnVsbAogICAgICAgIH0pOwoKICAgICAgICAvLyBldmVudAogICAgICAgIGVtaXQoUGVycFBvc2l0aW9uT3JkZXJDcmVhdGVkRXZlbnR7CiAgICAgICAgICAgIG9wVHlwZTogb3BUeXBlLAogICAgICAgICAgICB0b2tlbklkOiB0b2tlbklkLAogICAgICAgICAgICBhY2NvdW50OiBhY2NvdW50LAogICAgICAgICAgICBpc0xvbmc6IGlzTG9uZywKICAgICAgICAgICAgbWFyZ2luRGVsdGE6IG1hcmdpbkRlbHRhLAogICAgICAgICAgICBzaXplRGVsdGE6IHNpemVEZWx0YSwKICAgICAgICAgICAgZXhlY3V0aW9uRmVlOiBleGVjdXRpb25GZWUsCiAgICAgICAgICAgIG9yZGVySWQ6IG9yZGVySWQsCiAgICAgICAgICAgIHRyaWdnZXJQcmljZTogdHJpZ2dlclByaWNlLAogICAgICAgICAgICB0cmlnZ2VyQWJvdmU6IHRyaWdnZXJBYm92ZSwKICAgICAgICAgICAgdHBTaXplOiB0cFNpemUsCiAgICAgICAgICAgIHRwUHJpY2U6IHRwUHJpY2UsCiAgICAgICAgICAgIHNsU2l6ZTogc2xTaXplLAogICAgICAgICAgICBzbFByaWNlOiBzbFByaWNlLAogICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICByZXR1cm4gb3JkZXJJZDsKICAgIH0KCiAgICAvKioKICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW4gYSBDYW5jZWxQZXJwUG9zaXRpb25PcmRlciBtZXNzYWdlIGlzIHJlY2VpdmVkLgogICAgICogSXQgY2FuY2VscyBhIHBlcnBldHVhbCBwb3NpdGlvbiBvcmRlciBhbmQgcGVyZm9ybXMgdmFyaW91cyBjaGVja3MgYW5kIG9wZXJhdGlvbnMuCiAgICAgKiAKICAgICAqIEBwYXJhbSBtc2cgVGhlIENhbmNlbFBlcnBQb3NpdGlvbk9yZGVyIG1lc3NhZ2UgY29udGFpbmluZyB0aGUgb3JkZXIgSUQgYW5kIG90aGVyIHBhcmFtZXRlcnMuCiAgICAgKi8KICAgIHJlY2VpdmUobXNnOiBDYW5jZWxQZXJwUG9zaXRpb25PcmRlcikgewogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgLy8gY2hlY2sgb3JkZXIKICAgICAgICBsZXQgb3JkZXJPcHQ6IFBlcnBQb3NpdGlvbk9yZGVyPyA9IHNlbGYucGVycFBvc2l0aW9uT3JkZXJzLmdldChtc2cub3JkZXJJZCk7CiAgICAgICAgcmVxdWlyZShvcmRlck9wdCAhPSBudWxsLCAib3JkZXIgbm90IGV4aXN0Iik7CiAgICAgICAgbGV0IG9yZGVyOiBQZXJwUG9zaXRpb25PcmRlciA9IG9yZGVyT3B0ISE7CgogICAgICAgIC8vIGNoZWNrIGdhcwogICAgICAgIGlmIChvcmRlci5vcFR5cGUgPT0gT1JERVJfT1BfVFlQRV9JTkNSRUFTRV9NQVJLRVQgfHwgb3JkZXIub3BUeXBlID09IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTElNSVQpIHsKICAgICAgICAgICAgcmVxdWlyZShjdHgudmFsdWUgPj0gc2VsZi5wZXJwR2FzQ29uc3VtcHRpb24gKyBzZWxmLmdhc1RyYW5zZmVySmV0dG9uLCAiZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXF1aXJlKGN0eC52YWx1ZSA+PSBzZWxmLnBlcnBHYXNDb25zdW1wdGlvbiwgImdhcyBub3QgZW5vdWdoIik7CiAgICAgICAgfQoKICAgICAgICAvLyBjaGVjayBvcmRlcgogICAgICAgIHJlcXVpcmUoIW9yZGVyLmlzUGVuZGluZywgIm9yZGVyIGlzIHBlbmRpbmciKTsKCiAgICAgICAgLy8gZXhlY3V0b3Igb3IgdHJhZGVyCiAgICAgICAgbGV0IGlzRXhlY3V0b3I6IEJvb2wgPSBzZWxmLmlzRXhlY3V0b3Ioc2VuZGVyKCkpOwogICAgICAgIHJlcXVpcmUoaXNFeGVjdXRvciB8fCBzZW5kZXIoKSA9PSBvcmRlci5hY2NvdW50LCAiaW52YWxpZCBzZW5kZXIiKTsKICAgICAgICAKICAgICAgICAvLyB0cmFkZXIgY2FuY2VsIG1hcmtldCBvcmRlciBtdXN0IGFmdGVyIG1pblRpbWVEZWxheVRyYWRlcgogICAgICAgIGlmICghaXNFeGVjdXRvciAmJiAob3JkZXIub3BUeXBlID09IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTUFSS0VUIHx8IG9yZGVyLm9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFX01BUktFVCkpIHsKICAgICAgICAgICAgcmVxdWlyZShvcmRlci5ibG9ja1RpbWUgKyBzZWxmLm1pblRpbWVEZWxheVRyYWRlciA8PSBub3coKSwgInRvbyBlYXJseSIpOwogICAgICAgIH0KCiAgICAgICAgLy8gZ2V0IGZlZSByZWNlaXZlcgogICAgICAgIGxldCBleGVjdXRpb25GZWVSZWNlaXZlcjogQWRkcmVzcyA9IHNlbmRlcigpOwogICAgICAgIGlmIChtc2cuZXhlY3V0aW9uRmVlUmVjZWl2ZXIgIT0gbnVsbCkgewogICAgICAgICAgICBleGVjdXRpb25GZWVSZWNlaXZlciA9IG1zZy5leGVjdXRpb25GZWVSZWNlaXZlciEhOwogICAgICAgIH0KCiAgICAgICAgbGV0IGV4ZWN1dGlvbkZlZTogSW50ID0gMDsKICAgICAgICBpZiAob3JkZXIub3BUeXBlID09IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTUFSS0VUIHx8IG9yZGVyLm9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFX0xJTUlUKSB7CiAgICAgICAgICAgIGxldCBvcmRlckV4T3B0OiBQZXJwUG9zaXRpb25PcmRlckV4PyA9IHNlbGYucGVycFBvc2l0aW9uT3JkZXJFeHMuZ2V0KG1zZy5vcmRlcklkKTsKICAgICAgICAgICAgaWYgKG9yZGVyRXhPcHQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbGV0IG9yZGVyRXg6IFBlcnBQb3NpdGlvbk9yZGVyRXggPSBvcmRlckV4T3B0ISE7CiAgICAgICAgICAgICAgICAvLyB0cC9zbAogICAgICAgICAgICAgICAgbGV0IHRwU2xFeGVjdXRpb25GZWU6IEludCA9IDA7CiAgICAgICAgICAgICAgICBpZiAob3JkZXJFeC50cFNpemUgPiAwICYmIG9yZGVyRXgudHBQcmljZSA+IDApIHsKICAgICAgICAgICAgICAgICAgICB0cFNsRXhlY3V0aW9uRmVlICs9IG9yZGVyRXguZXhlY3V0aW9uRmVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKG9yZGVyRXguc2xTaXplID4gMCAmJiBvcmRlckV4LnNsUHJpY2UgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgdHBTbEV4ZWN1dGlvbkZlZSArPSBvcmRlckV4LmV4ZWN1dGlvbkZlZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0cFNsRXhlY3V0aW9uRmVlID4gMCkgewogICAgICAgICAgICAgICAgICAgIC8vIHRyYW5zZmVyIHRwc2wgZXhlY3V0aW9uIGZlZSB0byB1c2VyCiAgICAgICAgICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgICAgICAgICAgdG86IG9yZGVyLmFjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRwU2xFeGVjdXRpb25GZWUsCiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBleGVjdXRpb25GZWUgKz0gdHBTbEV4ZWN1dGlvbkZlZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyBkZWxldGUKICAgICAgICAgICAgICAgIHNlbGYucGVycFBvc2l0aW9uT3JkZXJFeHMuc2V0KG1zZy5vcmRlcklkLCBudWxsKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gdHJhbnNmZXIgamV0dG9uCiAgICAgICAgICAgIHNlbGYucmVmdW5kSmV0dG9uKG1zZy50cnhJZCwgb3JkZXIubWFyZ2luRGVsdGEsIG9yZGVyLmFjY291bnQsIHNlbmRlcigpKTsKICAgICAgICB9CgogICAgICAgIC8vIGRlbGV0ZSBvcmRlcgogICAgICAgIHNlbGYucGVycFBvc2l0aW9uT3JkZXJzLnNldChtc2cub3JkZXJJZCwgbnVsbCk7CgogICAgICAgIC8vIHRyYW5zZmVyIGV4ZWN1dGlvbiBmZWUKICAgICAgICAvLyBzZWxmLnRyYW5zZmVyRXhlY3V0aW9uRmVlKGV4ZWN1dGlvbkZlZVJlY2VpdmVyLCBvcmRlci5leGVjdXRpb25GZWUpOwogICAgICAgIGlmIChvcmRlci5leGVjdXRpb25GZWUgPiAwKSB7CiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogZXhlY3V0aW9uRmVlUmVjZWl2ZXIsCiAgICAgICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgICAgICB2YWx1ZTogb3JkZXIuZXhlY3V0aW9uRmVlLAogICAgICAgICAgICAgICAgbW9kZTogU2VuZElnbm9yZUVycm9ycwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgZXhlY3V0aW9uRmVlICs9IG9yZGVyLmV4ZWN1dGlvbkZlZTsKICAgICAgICB9CiAgICAgICAgc2VsZi50b3RhbEV4ZWN1dGlvbkZlZSAtPSBleGVjdXRpb25GZWU7CgogICAgICAgIC8vIGV2ZW50CiAgICAgICAgZW1pdChQZXJwUG9zaXRpb25PcmRlckNhbmNlbGxlZEV2ZW50ewogICAgICAgICAgICBvcFR5cGU6IG9yZGVyLm9wVHlwZSwKICAgICAgICAgICAgb3JkZXJJZDogbXNnLm9yZGVySWQsCiAgICAgICAgICAgIHRyeElkOiBtc2cudHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKCiAgICAgICAgLy8gdHJhbnNmZXIgZXhlY2VzcyBnYXMKICAgICAgICBzZWxmLnJlZnVuZEV4Y2VlZFRvbihPUkRFUl9UWVBFX1BFUlAsIHNlbmRlcigpLCAtZXhlY3V0aW9uRmVlLCAxLCBvcmRlci5vcFR5cGUgPT0gT1JERVJfT1BfVFlQRV9JTkNSRUFTRV9NQVJLRVQgfHwgb3JkZXIub3BUeXBlID09IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTElNSVQpOwogICAgfQoKCiAgICAvKioKICAgICAqIFJlY2VpdmVzIGFuZCBleGVjdXRlcyBhIHBlcnBldHVhbCBwb3NpdGlvbiBvcmRlci4KICAgICAqIAogICAgICogQHBhcmFtIG1zZyBUaGUgRXhlY3V0ZVBlcnBQb3NpdGlvbk9yZGVyIG1lc3NhZ2UgY29udGFpbmluZyB0aGUgb3JkZXIgZGV0YWlscy4KICAgICAqLwogICAgcmVjZWl2ZShtc2c6IEV4ZWN1dGVQZXJwUG9zaXRpb25PcmRlcikgewogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CgogICAgICAgIC8vIGNoZWNrIG9yZGVyCiAgICAgICAgbGV0IG9yZGVyT3B0OiBQZXJwUG9zaXRpb25PcmRlcj8gPSBzZWxmLnBlcnBQb3NpdGlvbk9yZGVycy5nZXQobXNnLm9yZGVySWQpOwogICAgICAgIHJlcXVpcmUob3JkZXJPcHQgIT0gbnVsbCwgIm9yZGVyIG5vdCBleGlzdCIpOwoKICAgICAgICBsZXQgb3JkZXI6IFBlcnBQb3NpdGlvbk9yZGVyID0gb3JkZXJPcHQhITsKCiAgICAgICAgLy8gY2hlY2sgZ2FzCiAgICAgICAgaWYgKG9yZGVyLm9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFX01BUktFVCB8fCBvcmRlci5vcFR5cGUgPT0gT1JERVJfT1BfVFlQRV9JTkNSRUFTRV9MSU1JVCkgewogICAgICAgICAgICByZXF1aXJlKGN0eC52YWx1ZSA+PSBzZWxmLnBlcnBHYXNDb25zdW1wdGlvbiAqIDIgKyBzZWxmLmdldFBvb2xHYXMoT1JERVJfVFlQRV9QRVJQKSwgImdhcyBub3QgZW5vdWdoIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVxdWlyZShjdHgudmFsdWUgPj0gc2VsZi5wZXJwR2FzQ29uc3VtcHRpb24gKiAyICsgc2VsZi5nZXRQb29sR2FzKE9SREVSX1RZUEVfUEVSUCkgKyBzZWxmLmdhc1RyYW5zZmVySmV0dG9uLCAiZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICB9CgogICAgICAgIC8vIGNoZWNrIG9yZGVyCiAgICAgICAgcmVxdWlyZSghb3JkZXIuaXNQZW5kaW5nLCAib3JkZXIgaXMgcGVuZGluZyIpOwogICAgICAgIHJlcXVpcmUobXNnLnRva2VuSWQgPT0gb3JkZXIudG9rZW5JZCwgInRva2VuIG5vdCBtYXRjaCIpOwoKICAgICAgICAvLyBjaGVjayBzZW5kZXIKICAgICAgICBsZXQgaXNFeGVjdXRvcjogQm9vbCA9IHNlbGYuaXNFeGVjdXRvcihzZW5kZXIoKSk7CiAgICAgICAgcmVxdWlyZShpc0V4ZWN1dG9yLCAiaW52YWxpZCBzZW5kZXIiKTsKCiAgICAgICAgLy8gdXBkYXRlIG9yZGVyCiAgICAgICAgaWYgKG1zZy5leGVjdXRpb25GZWVSZWNlaXZlciAhPSBudWxsKSB7CiAgICAgICAgICAgIG9yZGVyLmV4ZWN1dGlvbkZlZVJlY2VpdmVyID0gbXNnLmV4ZWN1dGlvbkZlZVJlY2VpdmVyISE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgb3JkZXIuZXhlY3V0aW9uRmVlUmVjZWl2ZXIgPSBzZW5kZXIoKTsKICAgICAgICB9CiAgICAgICAgb3JkZXIubGFzdE9wZXJhdG9yID0gc2VuZGVyKCk7CiAgICAgICAgb3JkZXIuaXNQZW5kaW5nID0gdHJ1ZTsKICAgICAgICBzZWxmLnBlcnBQb3NpdGlvbk9yZGVycy5zZXQobXNnLm9yZGVySWQsIG9yZGVyKTsKCiAgICAgICAgLy8gc2VuZCB1cGRhdGUgcG9zaXRpb24gbXNnCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbGYucG9vbCwKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdWYWx1ZSwKICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICBib2R5OiBVcGRhdGVQZXJwUG9zaXRpb24gewogICAgICAgICAgICAgICAgb3JkZXJJZDogbXNnLm9yZGVySWQsCiAgICAgICAgICAgICAgICBvcFR5cGU6IG9yZGVyLm9wVHlwZSwKICAgICAgICAgICAgICAgIHRyeElkOiBtc2cudHJ4SWQsCiAgICAgICAgICAgICAgICBhY2NvdW50OiBvcmRlci5hY2NvdW50LAogICAgICAgICAgICAgICAgdG9rZW5JZDogb3JkZXIudG9rZW5JZCwKICAgICAgICAgICAgICAgIGlzTG9uZzogb3JkZXIuaXNMb25nLAogICAgICAgICAgICAgICAgbWFyZ2luRGVsdGE6IG9yZGVyLm1hcmdpbkRlbHRhLAogICAgICAgICAgICAgICAgc2l6ZURlbHRhOiBvcmRlci5zaXplRGVsdGEsCiAgICAgICAgICAgICAgICB0cmlnZ2VyUHJpY2U6IG9yZGVyLnRyaWdnZXJQcmljZSwKICAgICAgICAgICAgICAgIHRyaWdnZXJBYm92ZTogb3JkZXIudHJpZ2dlckFib3ZlLAogICAgICAgICAgICAgICAgcHJpY2U6IG1zZy5wcmljZSwKICAgICAgICAgICAgICAgIHByZW1pdW1SYXRlOiBtc2cucHJlbWl1bVJhdGUKICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgICogVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbiBhIHN1Y2Nlc3NmdWwgdXBkYXRlIGlzIG1hZGUgdG8gYSBwZXJwZXR1YWwgcG9zaXRpb24gb3JkZXIuCiAgICAgKiBJdCBwZXJmb3JtcyB2YXJpb3VzIGNoZWNrcyBhbmQgYWN0aW9ucyBiYXNlZCBvbiB0aGUgdHlwZSBvZiBvcmRlciBhbmQgdGhlIHJlY2VpdmVkIG1lc3NhZ2UuCiAgICAgKiAKICAgICAqIEBwYXJhbSBtc2cgVGhlIFVwZGF0ZVBlcnBQb3NpdGlvblN1Y2Nlc3MgbWVzc2FnZSBjb250YWluaW5nIHRoZSBvcmRlciBJRCBhbmQgdHJhbnNhY3Rpb24gSUQuCiAgICAgKi8KICAgIHJlY2VpdmUobXNnOiBVcGRhdGVQZXJwUG9zaXRpb25TdWNjZXNzKSB7CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKICAgICAgICByZXF1aXJlKHNlbmRlcigpID09IHNlbGYucG9vbCwgImludmFsaWQgc2VuZGVyIik7CgogICAgICAgIC8vIGdldCBvcmRlcgogICAgICAgIGxldCBvcmRlck9wdDogUGVycFBvc2l0aW9uT3JkZXI/ID0gc2VsZi5wZXJwUG9zaXRpb25PcmRlcnMuZ2V0KG1zZy5vcmRlcklkKTsKICAgICAgICBpZiAob3JkZXJPcHQgPT0gbnVsbCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGxldCBvcmRlcjogUGVycFBvc2l0aW9uT3JkZXIgPSBvcmRlck9wdCEhOwoKICAgICAgICBsZXQgZXhlY3V0aW9uRmVlOiBJbnQgPSAwOwogICAgICAgIGxldCBleGVjdXRpb25GZWVNdWx0aXBsZTogSW50ID0gMTsKICAgICAgICAvLyBjaGVjayBnYXMKICAgICAgICBpZiAob3JkZXIub3BUeXBlID09IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTUFSS0VUIHx8IG9yZGVyLm9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFX0xJTUlUKSB7CiAgICAgICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlID49IHNlbGYucGVycEdhc0NvbnN1bXB0aW9uLCAiZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICAgICAgLy8gY3JlYXRlIHRwIHNsCiAgICAgICAgICAgIGxldCBvcmRlckV4T3B0OiBQZXJwUG9zaXRpb25PcmRlckV4PyA9IHNlbGYucGVycFBvc2l0aW9uT3JkZXJFeHMuZ2V0KG1zZy5vcmRlcklkKTsKICAgICAgICAgICAgaWYgKG9yZGVyRXhPcHQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbGV0IG9yZGVyRXg6IFBlcnBQb3NpdGlvbk9yZGVyRXggPSBvcmRlckV4T3B0ISE7CiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgdHAvc2wKICAgICAgICAgICAgICAgIGlmIChvcmRlckV4LnRwU2l6ZSA+IDAgJiYgb3JkZXJFeC50cFByaWNlID4gMCkgewogICAgICAgICAgICAgICAgICAgIGV4ZWN1dGlvbkZlZU11bHRpcGxlICs9IDE7CiAgICAgICAgICAgICAgICAgICAgc2VsZi5jcmVhdGVQZXJwT3JkZXIobXNnLnRyeElkLCBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFX1RQLCBzZW5kZXIoKSwgb3JkZXIudG9rZW5JZCwgb3JkZXIuaXNMb25nLCAwLCBvcmRlckV4LnRwU2l6ZSwgb3JkZXJFeC50cFByaWNlLCAKICAgICAgICAgICAgICAgICAgICAgICAgMCwgMCwgMCwgMCwgb3JkZXJFeC5leGVjdXRpb25GZWUpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChvcmRlckV4LnNsU2l6ZSA+IDAgJiYgb3JkZXJFeC5zbFByaWNlID4gMCkgewogICAgICAgICAgICAgICAgICAgIGV4ZWN1dGlvbkZlZU11bHRpcGxlICs9IDE7CiAgICAgICAgICAgICAgICAgICAgc2VsZi5jcmVhdGVQZXJwT3JkZXIobXNnLnRyeElkLCBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFX1NMLCBzZW5kZXIoKSwgb3JkZXIudG9rZW5JZCwgb3JkZXIuaXNMb25nLCAwLCBvcmRlckV4LnNsU2l6ZSwgb3JkZXJFeC5zbFByaWNlLCAKICAgICAgICAgICAgICAgICAgICAgICAgMCwgMCwgMCwgMCwgb3JkZXJFeC5leGVjdXRpb25GZWUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gZGVsZXRlCiAgICAgICAgICAgICAgICBzZWxmLnBlcnBQb3NpdGlvbk9yZGVyRXhzLnNldChtc2cub3JkZXJJZCwgbnVsbCk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXF1aXJlKGN0eC52YWx1ZSA+PSBzZWxmLnBlcnBHYXNDb25zdW1wdGlvbiArIHNlbGYuZ2FzVHJhbnNmZXJKZXR0b24sICJnYXMgbm90IGVub3VnaCIpOwogICAgICAgIH0KCiAgICAgICAgLy8gZGVsZXRlIG9yZGVyCiAgICAgICAgc2VsZi5wZXJwUG9zaXRpb25PcmRlcnMuc2V0KG1zZy5vcmRlcklkLCBudWxsKTsKCiAgICAgICAgLy8gdHJhbnNmZXIgamV0dG9uCiAgICAgICAgaWYgKG1zZy5yZWNlaXZlID4gMCkgewogICAgICAgICAgICBpZiAob3JkZXIub3BUeXBlID09IE9SREVSX09QX1RZUEVfTElRVUlEQVRJT04pIHsKICAgICAgICAgICAgICAgIHNlbGYucmVmdW5kSmV0dG9uKG1zZy50cnhJZCwgbXNnLnJlY2VpdmUsIG9yZGVyLmV4ZWN1dGlvbkZlZVJlY2VpdmVyLCBvcmRlci5sYXN0T3BlcmF0b3IpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2VsZi5yZWZ1bmRKZXR0b24obXNnLnRyeElkLCBtc2cucmVjZWl2ZSwgb3JkZXIuYWNjb3VudCwgb3JkZXIubGFzdE9wZXJhdG9yKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gZXZlbnQKICAgICAgICBlbWl0KFBlcnBQb3NpdGlvbk9yZGVyRXhlY3V0ZWRFdmVudHsKICAgICAgICAgICAgb3BUeXBlOiBvcmRlci5vcFR5cGUsCiAgICAgICAgICAgIG9yZGVySWQ6IG1zZy5vcmRlcklkLAogICAgICAgICAgICB0cnhJZDogbXNnLnRyeElkCiAgICAgICAgfS50b0NlbGwoKSk7CgogICAgICAgIC8vIHRyYW5zZmVyIGV4ZWN1dGlvbiBmZWUKICAgICAgICBpZiAob3JkZXIuZXhlY3V0aW9uRmVlID4gMCkgewogICAgICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICAgICAgdG86IG9yZGVyLmV4ZWN1dGlvbkZlZVJlY2VpdmVyLAogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICAgICAgdmFsdWU6IG9yZGVyLmV4ZWN1dGlvbkZlZSwKICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNlbGYudG90YWxFeGVjdXRpb25GZWUgLT0gb3JkZXIuZXhlY3V0aW9uRmVlOwogICAgICAgIH0KCiAgICAgICAgLy8gdHJhbnNmZXIgZXhlY2VzcyBnYXMKICAgICAgICBzZWxmLnJlZnVuZEV4Y2VlZFRvbihPUkRFUl9UWVBFX1BFUlAsIG9yZGVyLmxhc3RPcGVyYXRvciEhLCAtb3JkZXIuZXhlY3V0aW9uRmVlLCBleGVjdXRpb25GZWVNdWx0aXBsZSwgbXNnLnJlY2VpdmUgPiAwKTsKICAgIH0KCiAgICAvKioKICAgICAqIEhhbmRsZXMgdGhlIGJvdW5jZWQgZXZlbnQgZm9yIGFuIFVwZGF0ZVBlcnBQb3NpdGlvbi4KICAgICAqIElmIHRoZSBvcmRlciBpcyBhIGxpcXVpZGF0aW9uIG9yZGVyLCBpdCBpcyBkZWxldGVkIGZyb20gdGhlIHBlcnBQb3NpdGlvbk9yZGVycyBtYXBwaW5nLgogICAgICogT3RoZXJ3aXNlLCB0aGUgb3JkZXIncyBpc1BlbmRpbmcgZmxhZyBpcyBzZXQgdG8gZmFsc2UuCiAgICAgKiBJZiB0aGUgb3JkZXIgaGFzIGEgbGFzdE9wZXJhdG9yLCBhIHNlbmQgdHJhbnNhY3Rpb24gaXMgdHJpZ2dlcmVkIHRvIHRoZSBsYXN0T3BlcmF0b3Igd2l0aCBhIHZhbHVlIG9mIDAuCiAgICAgKi8KICAgIGJvdW5jZWQoc3JjOiBib3VuY2VkPFVwZGF0ZVBlcnBQb3NpdGlvbj4pIHsKICAgICAgICAvLyBnZXQgb3JkZXIKICAgICAgICBsZXQgb3JkZXJPcHQ6IFBlcnBQb3NpdGlvbk9yZGVyPyA9IHNlbGYucGVycFBvc2l0aW9uT3JkZXJzLmdldChzcmMub3JkZXJJZCk7CiAgICAgICAgaWYgKG9yZGVyT3B0ID09IG51bGwpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBsZXQgb3JkZXI6IFBlcnBQb3NpdGlvbk9yZGVyID0gb3JkZXJPcHQhITsKICAgICAgICBpZiAob3JkZXIub3BUeXBlID09IE9SREVSX09QX1RZUEVfTElRVUlEQVRJT04pIHsKICAgICAgICAgICAgLy8gZGVsZXRlCiAgICAgICAgICAgIHNlbGYucGVycFBvc2l0aW9uT3JkZXJzLnNldChzcmMub3JkZXJJZCwgbnVsbCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gdXBkYXRlIHBlbmRpbmcKICAgICAgICAgICAgb3JkZXIuaXNQZW5kaW5nID0gZmFsc2U7CiAgICAgICAgICAgIHNlbGYucGVycFBvc2l0aW9uT3JkZXJzLnNldChzcmMub3JkZXJJZCwgb3JkZXIpOwogICAgICAgIH0KICAgICAgICBpZiAob3JkZXIubGFzdE9wZXJhdG9yICE9IG51bGwpIHsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBvcmRlci5sYXN0T3BlcmF0b3IhISwKICAgICAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICAgICAgbW9kZTogU2VuZElnbm9yZUVycm9ycyArIFNlbmRSZW1haW5pbmdWYWx1ZQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aGVuIGEgTGlxdWlkYXRlUGVycFBvc2l0aW9uIG1lc3NhZ2UgaXMgcmVjZWl2ZWQuCiAgICAgKiBJdCBwZXJmb3JtcyB2YXJpb3VzIGNoZWNrcywgYWRkcyBhIG5ldyBvcmRlciB0byB0aGUgb3JkZXIgYm9vaywgYW5kIHNlbmRzIGFuIHVwZGF0ZSBwb3NpdGlvbiBtZXNzYWdlIHRvIHRoZSBwb29sLgogICAgICogCiAgICAgKiBAcGFyYW0gbXNnIFRoZSBMaXF1aWRhdGVQZXJwUG9zaXRpb24gbWVzc2FnZSBjb250YWluaW5nIGluZm9ybWF0aW9uIGFib3V0IHRoZSBsaXF1aWRhdGlvbi4KICAgICAqLwogICAgcmVjZWl2ZShtc2c6IExpcXVpZGF0ZVBlcnBQb3NpdGlvbikgewogICAgICAgIC8vIGNoZWNrIGdhcwogICAgICAgIHJlcXVpcmUoY29udGV4dCgpLnZhbHVlID49IHNlbGYucGVycEdhc0NvbnN1bXB0aW9uICogMiArIHNlbGYuZ2V0UG9vbEdhcyhPUkRFUl9UWVBFX1BFUlApICsgc2VsZi5nYXNUcmFuc2ZlckpldHRvbiwgImdhcyBub3QgZW5vdWdoIik7CgogICAgICAgIC8vIGNoZWNrIHNlbmRlcgogICAgICAgIGxldCBpc0V4ZWN1dG9yOiBCb29sID0gc2VsZi5pc0V4ZWN1dG9yKHNlbmRlcigpKTsKICAgICAgICByZXF1aXJlKGlzRXhlY3V0b3IsICJpbnZhbGlkIHNlbmRlciIpOwoKICAgICAgICAvLyBmZWUgcmVjZWl2ZXIKICAgICAgICBsZXQgbGlxdWlkYXRpb25GZWVSZWNlaXZlcjogQWRkcmVzcyA9IHNlbmRlcigpOwogICAgICAgIGlmIChtc2cubGlxdWlkYXRpb25GZWVSZWNlaXZlciAhPSBudWxsKSB7CiAgICAgICAgICAgIGxpcXVpZGF0aW9uRmVlUmVjZWl2ZXIgPSBtc2cubGlxdWlkYXRpb25GZWVSZWNlaXZlciEhOwogICAgICAgIH0KCiAgICAgICAgLy8gYWRkIG5ldyBvcmRlcgogICAgICAgIGxldCBvcmRlcklkOiBJbnQgPSBzZWxmLnBlcnBQb3NpdGlvbk9yZGVySW5kZXhOZXh0OwogICAgICAgIHNlbGYucGVycFBvc2l0aW9uT3JkZXJJbmRleE5leHQgPSBzZWxmLnBlcnBQb3NpdGlvbk9yZGVySW5kZXhOZXh0ICsgMTsKICAgICAgICBzZWxmLnBlcnBQb3NpdGlvbk9yZGVycy5zZXQob3JkZXJJZCwgUGVycFBvc2l0aW9uT3JkZXJ7CiAgICAgICAgICAgIG9wVHlwZTogT1JERVJfT1BfVFlQRV9MSVFVSURBVElPTiwKICAgICAgICAgICAgdG9rZW5JZDogbXNnLnRva2VuSWQsCiAgICAgICAgICAgIGFjY291bnQ6IG1zZy5hY2NvdW50LAogICAgICAgICAgICBpc0xvbmc6IG1zZy5pc0xvbmcsCiAgICAgICAgICAgIG1hcmdpbkRlbHRhOiAwLAogICAgICAgICAgICBzaXplRGVsdGE6IDAsCiAgICAgICAgICAgIHRyaWdnZXJQcmljZTogMCwKICAgICAgICAgICAgdHJpZ2dlckFib3ZlOiBmYWxzZSwKICAgICAgICAgICAgZXhlY3V0aW9uRmVlOiAwLAogICAgICAgICAgICBibG9ja1RpbWU6IG5vdygpLAogICAgICAgICAgICBpc1BlbmRpbmc6IHRydWUsCiAgICAgICAgICAgIGV4ZWN1dGlvbkZlZVJlY2VpdmVyOiBsaXF1aWRhdGlvbkZlZVJlY2VpdmVyLAogICAgICAgICAgICBsYXN0T3BlcmF0b3I6IHNlbmRlcigpCiAgICAgICAgfSk7CgogICAgICAgIC8vIHNlbmQgdXBkYXRlIHBvc2l0aW9uIG1zZwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLnBvb2wsCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUsCiAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgYm9keTogVXBkYXRlUGVycFBvc2l0aW9uIHsKICAgICAgICAgICAgICAgIG9wVHlwZTogT1JERVJfT1BfVFlQRV9MSVFVSURBVElPTiwKICAgICAgICAgICAgICAgIG9yZGVySWQ6IG9yZGVySWQsCiAgICAgICAgICAgICAgICB0cnhJZDogbXNnLnRyeElkLAogICAgICAgICAgICAgICAgYWNjb3VudDogbXNnLmFjY291bnQsCiAgICAgICAgICAgICAgICB0b2tlbklkOiBtc2cudG9rZW5JZCwKICAgICAgICAgICAgICAgIGlzTG9uZzogbXNnLmlzTG9uZywKICAgICAgICAgICAgICAgIG1hcmdpbkRlbHRhOiAwLAogICAgICAgICAgICAgICAgc2l6ZURlbHRhOiAwLAogICAgICAgICAgICAgICAgdHJpZ2dlclByaWNlOiAwLAogICAgICAgICAgICAgICAgdHJpZ2dlckFib3ZlOiBmYWxzZSwKICAgICAgICAgICAgICAgIHByaWNlOiBtc2cucHJpY2UsCiAgICAgICAgICAgICAgICBwcmVtaXVtUmF0ZTogbXNnLnByZW1pdW1SYXRlCiAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICB9KTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBAZGV2IFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW4gYSBuZXcgQURMUGVycFBvc2l0aW9uIGlzIHJlY2VpdmVkLgogICAgICogSXQgcGVyZm9ybXMgdGhlIGZvbGxvd2luZyBzdGVwczoKICAgICAqIDEuIENoZWNrcyBpZiB0aGVyZSBpcyBlbm91Z2ggZ2FzIGZvciBleGVjdXRpb24uCiAgICAgKiAyLiBWZXJpZmllcyB0aGUgc2VuZGVyIGlzIGEgdmFsaWQgZXhlY3V0b3IuCiAgICAgKiAzLiBBZGRzIGEgbmV3IG9yZGVyIHRvIHRoZSBvcmRlciBib29rLgogICAgICogNC4gU2VuZHMgYW4gdXBkYXRlIHBvc2l0aW9uIG1lc3NhZ2UgdG8gdGhlIHBvb2wuCiAgICAgKiBAcGFyYW0gbXNnIFRoZSBBRExQZXJwUG9zaXRpb24gbWVzc2FnZSBjb250YWluaW5nIHRoZSBvcmRlciBkZXRhaWxzLgogICAgICovCiAgICByZWNlaXZlKG1zZzogQURMUGVycFBvc2l0aW9uKSB7CiAgICAgICAgLy8gY2hlY2sgZ2FzCiAgICAgICAgcmVxdWlyZShjb250ZXh0KCkudmFsdWUgPj0gc2VsZi5wZXJwR2FzQ29uc3VtcHRpb24gKiAyICsgc2VsZi5nZXRQb29sR2FzKE9SREVSX1RZUEVfUEVSUCkgKyBzZWxmLmdhc1RyYW5zZmVySmV0dG9uLCAiZ2FzIG5vdCBlbm91Z2giKTsKCiAgICAgICAgLy8gY2hlY2sgc2VuZGVyCiAgICAgICAgbGV0IGlzRXhlY3V0b3I6IEJvb2wgPSBzZWxmLmlzRXhlY3V0b3Ioc2VuZGVyKCkpOwogICAgICAgIHJlcXVpcmUoaXNFeGVjdXRvciwgImludmFsaWQgc2VuZGVyIik7CgogICAgICAgIC8vIGFkZCBuZXcgb3JkZXIKICAgICAgICBsZXQgb3JkZXJJZDogSW50ID0gc2VsZi5wZXJwUG9zaXRpb25PcmRlckluZGV4TmV4dDsKICAgICAgICBzZWxmLnBlcnBQb3NpdGlvbk9yZGVySW5kZXhOZXh0ID0gc2VsZi5wZXJwUG9zaXRpb25PcmRlckluZGV4TmV4dCArIDE7CiAgICAgICAgc2VsZi5wZXJwUG9zaXRpb25PcmRlcnMuc2V0KG9yZGVySWQsIFBlcnBQb3NpdGlvbk9yZGVyewogICAgICAgICAgICBvcFR5cGU6IE9SREVSX09QX1RZUEVfQURMLAogICAgICAgICAgICB0b2tlbklkOiBtc2cudG9rZW5JZCwKICAgICAgICAgICAgYWNjb3VudDogbXNnLmFjY291bnQsCiAgICAgICAgICAgIGlzTG9uZzogbXNnLmlzTG9uZywKICAgICAgICAgICAgbWFyZ2luRGVsdGE6IG1zZy5tYXJnaW5EZWx0YSwKICAgICAgICAgICAgc2l6ZURlbHRhOiBtc2cuc2l6ZURlbHRhLAogICAgICAgICAgICB0cmlnZ2VyUHJpY2U6IDAsCiAgICAgICAgICAgIHRyaWdnZXJBYm92ZTogZmFsc2UsCiAgICAgICAgICAgIGV4ZWN1dGlvbkZlZTogMCwKICAgICAgICAgICAgYmxvY2tUaW1lOiBub3coKSwKICAgICAgICAgICAgaXNQZW5kaW5nOiB0cnVlLAogICAgICAgICAgICBleGVjdXRpb25GZWVSZWNlaXZlcjogc2VuZGVyKCksCiAgICAgICAgICAgIGxhc3RPcGVyYXRvcjogc2VuZGVyKCkKICAgICAgICB9KTsKCiAgICAgICAgLy8gc2VuZCB1cGRhdGUgcG9zaXRpb24gbXNnCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbGYucG9vbCwKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdWYWx1ZSwKICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICBib2R5OiBVcGRhdGVQZXJwUG9zaXRpb24gewogICAgICAgICAgICAgICAgb3BUeXBlOiBPUkRFUl9PUF9UWVBFX0FETCwKICAgICAgICAgICAgICAgIG9yZGVySWQ6IG9yZGVySWQsCiAgICAgICAgICAgICAgICB0cnhJZDogbXNnLnRyeElkLAogICAgICAgICAgICAgICAgYWNjb3VudDogbXNnLmFjY291bnQsCiAgICAgICAgICAgICAgICB0b2tlbklkOiBtc2cudG9rZW5JZCwKICAgICAgICAgICAgICAgIGlzTG9uZzogbXNnLmlzTG9uZywKICAgICAgICAgICAgICAgIG1hcmdpbkRlbHRhOiAwLAogICAgICAgICAgICAgICAgc2l6ZURlbHRhOiBtc2cuc2l6ZURlbHRhLAogICAgICAgICAgICAgICAgdHJpZ2dlclByaWNlOiAwLAogICAgICAgICAgICAgICAgdHJpZ2dlckFib3ZlOiBmYWxzZSwKICAgICAgICAgICAgICAgIHByaWNlOiBtc2cucHJpY2UsCiAgICAgICAgICAgICAgICBwcmVtaXVtUmF0ZTogbXNnLnByZW1pdW1SYXRlCiAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHJpZXZlcyB0aGUgUGVycFBvc2l0aW9uT3JkZXJEYXRhIGZvciB0aGUgc3BlY2lmaWVkIG9yZGVyIElELgogICAgICogCiAgICAgKiBAcGFyYW0gb3JkZXJJZDogVGhlIElEIG9mIHRoZSBvcmRlciB0byByZXRyaWV2ZS4KICAgICAqIEByZXR1cm4gVGhlIFBlcnBQb3NpdGlvbk9yZGVyRGF0YSBvYmplY3QgY29udGFpbmluZyB0aGUgbmV4dCBpbmRleCwgb3JkZXIgZGV0YWlscywgYW5kIGV4dGVuZGVkIG9yZGVyIGRldGFpbHMuCiAgICAgKi8KICAgIGdldCBmdW4gcGVycFBvc2l0aW9uT3JkZXIob3JkZXJJZDogSW50KTogUGVycFBvc2l0aW9uT3JkZXJEYXRhIHsKICAgICAgICByZXR1cm4gUGVycFBvc2l0aW9uT3JkZXJEYXRhewogICAgICAgICAgICBwZXJwUG9zaXRpb25PcmRlckluZGV4TmV4dDogc2VsZi5wZXJwUG9zaXRpb25PcmRlckluZGV4TmV4dCwKICAgICAgICAgICAgcGVycFBvc2l0aW9uT3JkZXI6IHNlbGYucGVycFBvc2l0aW9uT3JkZXJzLmdldChvcmRlcklkKSwKICAgICAgICAgICAgcGVycFBvc2l0aW9uT3JkZXJFeDogc2VsZi5wZXJwUG9zaXRpb25PcmRlckV4cy5nZXQob3JkZXJJZCkKICAgICAgICB9OwogICAgfQoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IENsYWltID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KICAgIC8qKgogICAgICogQGRldiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aGVuIGEgYFNlbmRQcm90b2NvbEZlZWAgbWVzc2FnZSBpcyByZWNlaXZlZC4KICAgICAqIEl0IHZlcmlmaWVzIHRoYXQgdGhlIHNlbmRlciBpcyB0aGUgY29udHJhY3QncyBwb29sIGFuZCB0cmFuc2ZlcnMgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIHRvIHRoZSBmZWUgcmVjZWl2ZXIuCiAgICAgKiBJZiB0aGUgYW1vdW50IGlzIGdyZWF0ZXIgdGhhbiAwLCBpdCBzZW5kcyB0aGUgdG9rZW5zIHVzaW5nIHRoZSBzcGVjaWZpZWQgcGFyYW1ldGVycy4KICAgICAqIEBwYXJhbSBtc2cgVGhlIGBTZW5kUHJvdG9jb2xGZWVgIG1lc3NhZ2UgY29udGFpbmluZyB0aGUgdHJhbnNhY3Rpb24gSUQsIGFtb3VudCwgZmVlIHJlY2VpdmVyLCBhbmQgb3RoZXIgZGV0YWlscy4KICAgICAqLwogICAgcmVjZWl2ZShtc2c6IFNlbmRQcm90b2NvbEZlZSkgewogICAgICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gc2VsZi5wb29sLCAiaW52YWxpZCBzZW5kZXIiKTsKCiAgICAgICAgaWYgKG1zZy5hbW91bnQgPiAwKSB7CiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogc2VsZi51c2R0V2FsbGV0LCAKICAgICAgICAgICAgICAgIHZhbHVlOiBzZWxmLmdhc1RyYW5zZmVySmV0dG9uLAogICAgICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ1ZhbHVlICsgU2VuZElnbm9yZUVycm9ycywgCiAgICAgICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICAgICAgYm9keTogVG9rZW5UcmFuc2ZlcnsKICAgICAgICAgICAgICAgICAgICBxdWVyeUlkOiBtc2cudHJ4SWQsCiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBtc2cuYW1vdW50LAogICAgICAgICAgICAgICAgICAgIHJlY2VpdmVyOiBtc2cuZmVlUmVjZWl2ZXIsCiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEZXN0aW5hdGlvbjogbXNnLmZlZVJlY2VpdmVyLAogICAgICAgICAgICAgICAgICAgIGN1c3RvbVBheWxvYWQ6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgZm9yd2FyZFRvbkFtb3VudDogMCwKICAgICAgICAgICAgICAgICAgICBmb3J3YXJkUGF5bG9hZDogYmVnaW5DZWxsKCkuc3RvcmVVaW50KDAsIDEpLmVuZENlbGwoKS5hc1NsaWNlKCkKICAgICAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfQoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IENvbXBlbnNhdGUgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwogICAgLyoqCiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aGVuIGEgQ3JlYXRlQ29tcGVuc2F0ZSBtZXNzYWdlIGlzIHJlY2VpdmVkLgogICAgICogSXQgcGVyZm9ybXMgdmFyaW91cyBjaGVja3MgYW5kIGFkZHMgYSBuZXcgY29tcGVuc2F0ZSB0byB0aGUgb3JkZXIgYm9vay4KICAgICAqIAogICAgICogQHBhcmFtIG1zZyBUaGUgQ3JlYXRlQ29tcGVuc2F0ZSBtZXNzYWdlIGNvbnRhaW5pbmcgdGhlIGRldGFpbHMgb2YgdGhlIGNvbXBlbnNhdGUuCiAgICAgKi8KICAgIHJlY2VpdmUobXNnOiBDcmVhdGVDb21wZW5zYXRlKSB7CgogICAgICAgIC8vIGNoZWNrIHNlbmRlcgogICAgICAgIHJlcXVpcmUoc2VsZi5jb21wZW5zYXRvciA9PSBzZW5kZXIoKSwgImludmFsaWQgc2VuZGVyIik7CgogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgLy8gY2hlY2sgZ2FzCiAgICAgICAgcmVxdWlyZShjdHgudmFsdWUgPj0gc2VsZi5wZXJwR2FzQ29uc3VtcHRpb24sICJnYXMgbm90IGVub3VnaCIpOwoKICAgICAgICAvLyBhZGQgbmV3IGNvbXBlbnNhdGUKICAgICAgICBsZXQgY29tcGVuc2F0ZUlkOiBJbnQgPSBzZWxmLmNvbXBlbnNhdGVJbmRleE5leHQ7CiAgICAgICAgc2VsZi5jb21wZW5zYXRlSW5kZXhOZXh0ICs9IDE7CiAgICAgICAgc2VsZi5jb21wZW5zYXRlcy5zZXQoY29tcGVuc2F0ZUlkLCBDb21wZW5zYXRlewogICAgICAgICAgICBvcmRlclR5cGU6IG1zZy5vcmRlclR5cGUsCiAgICAgICAgICAgIG9yZGVySWQ6IG1zZy5vcmRlcklkLAogICAgICAgICAgICB0cnhJZDogbXNnLnRyeElkLAogICAgICAgICAgICByZWZ1bmRSZWNlaXZlcjogbXNnLnJlZnVuZFJlY2VpdmVyLAogICAgICAgICAgICByZWZ1bmRBbW91bnQ6IG1zZy5yZWZ1bmRBbW91bnQsCiAgICAgICAgICAgIGV4ZWN1dGlvbkZlZVJlY2VpdmVyOiBtc2cuZXhlY3V0aW9uRmVlUmVjZWl2ZXIsCiAgICAgICAgICAgIGV4ZWN1dGlvbkZlZTogbXNnLmV4ZWN1dGlvbkZlZSwKICAgICAgICAgICAgdW5sb2NrVGltZTogbm93KCkgKyAzICogREFZCiAgICAgICAgfSk7CgogICAgICAgIC8vIGV2ZW50CiAgICAgICAgZW1pdChDb21wZW5zYXRlQ3JlYXRlZEV2ZW50ewogICAgICAgICAgICBjb21wZW5zYXRlSWQ6IGNvbXBlbnNhdGVJZCwKICAgICAgICAgICAgb3JkZXJUeXBlOiBtc2cub3JkZXJUeXBlLAogICAgICAgICAgICBvcmRlcklkOiBtc2cub3JkZXJJZCwKICAgICAgICAgICAgdHJ4SWQ6IG1zZy50cnhJZCwKICAgICAgICAgICAgcmVmdW5kUmVjZWl2ZXI6IG1zZy5yZWZ1bmRSZWNlaXZlciwKICAgICAgICAgICAgcmVmdW5kQW1vdW50OiBtc2cucmVmdW5kQW1vdW50LAogICAgICAgICAgICBleGVjdXRpb25GZWVSZWNlaXZlcjogbXNnLmV4ZWN1dGlvbkZlZVJlY2VpdmVyLAogICAgICAgICAgICBleGVjdXRpb25GZWU6IG1zZy5leGVjdXRpb25GZWUsCiAgICAgICAgICAgIHVubG9ja1RpbWU6IG5vdygpICsgMyAqIERBWQogICAgICAgIH0udG9DZWxsKCkpOwoKICAgICAgICAvLyB0cmFuc2ZlciBleGVjZXNzIGdhcwogICAgICAgIHNlbGYucmVmdW5kRXhjZWVkVG9uKE9SREVSX1RZUEVfUEVSUCwgc2VuZGVyKCksIDAsIDEsIGZhbHNlKTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgVGhpcyBmdW5jdGlvbiBpcyB0aGUgZW50cnkgcG9pbnQgZm9yIGV4ZWN1dGluZyBvciBjYW5jZWxpbmcgYSBjb21wZW5zYXRpb24uCiAgICAgKiBAcGFyYW0gbXNnIFRoZSBFeGVjdXRlT3JDYW5jZWxDb21wZW5zYXRlIG1lc3NhZ2UgY29udGFpbmluZyB0aGUgbmVjZXNzYXJ5IGluZm9ybWF0aW9uIGZvciBleGVjdXRpb24gb3IgY2FuY2VsbGF0aW9uLgogICAgICovCiAgICByZWNlaXZlKG1zZzogRXhlY3V0ZU9yQ2FuY2VsQ29tcGVuc2F0ZSkgewogICAgICAgIC8vIGNoZWNrIHNlbmRlcgogICAgICAgIHJlcXVpcmUoc2VsZi5jb21wZW5zYXRvciA9PSBzZW5kZXIoKSwgImludmFsaWQgc2VuZGVyIik7CgogICAgICAgIC8vIGNoZWNrIGdhcwogICAgICAgIHJlcXVpcmUoY29udGV4dCgpLnZhbHVlID49IHNlbGYucGVycEdhc0NvbnN1bXB0aW9uICsgc2VsZi5nYXNUcmFuc2ZlckpldHRvbiwgImdhcyBub3QgZW5vdWdoIik7CgogICAgICAgIC8vIGdldCBjb21wZW5zYXRlCiAgICAgICAgbGV0IGNvbXBlbnNhdGVPcHQ6IENvbXBlbnNhdGU/ID0gc2VsZi5jb21wZW5zYXRlcy5nZXQobXNnLmNvbXBlbnNhdGVJZCk7CiAgICAgICAgcmVxdWlyZShjb21wZW5zYXRlT3B0ICE9IG51bGwsICJjb21wZW5zYXRlIG5vdCBleGlzdCIpOwogICAgICAgIGxldCBjb21wZW5zYXRlOiBDb21wZW5zYXRlID0gY29tcGVuc2F0ZU9wdCEhOwoKICAgICAgICAvLyBjYW5jZWwKICAgICAgICBpZiAobXNnLmlzQ2FuY2VsKSB7CiAgICAgICAgICAgIC8vIGRlbGV0ZSBjb21wZW5zYXRlCiAgICAgICAgICAgIHNlbGYuY29tcGVuc2F0ZXMuc2V0KG1zZy5jb21wZW5zYXRlSWQsIG51bGwpOwoKICAgICAgICAgICAgLy8gZXZlbnQKICAgICAgICAgICAgZW1pdChDb21wZW5zYXRlQ2FuY2VsbGVkRXZlbnR7CiAgICAgICAgICAgICAgICBjb21wZW5zYXRlSWQ6IG1zZy5jb21wZW5zYXRlSWQsCiAgICAgICAgICAgICAgICB0cnhJZDogbXNnLnRyeElkCiAgICAgICAgICAgIH0udG9DZWxsKCkpOwoKICAgICAgICAgICAgLy8gdHJhbnNmZXIgZXhlY2VzcyBnYXMKICAgICAgICAgICAgc2VsZi5yZWZ1bmRFeGNlZWRUb24oT1JERVJfVFlQRV9QRVJQLCBzZW5kZXIoKSwgMCwgMSwgZmFsc2UpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICAvLyBjaGVjayB1bmxvY2sgdGltZQogICAgICAgIHJlcXVpcmUobm93KCkgPj0gY29tcGVuc2F0ZS51bmxvY2tUaW1lLCAibm90IHJlYWNoIHVubG9jayB0aW1lIik7ICAgICAgICAKCiAgICAgICAgLy8gZ2V0IG9yZGVyCiAgICAgICAgaWYoY29tcGVuc2F0ZS5vcmRlclR5cGUgIT0gbnVsbCkgewogICAgICAgICAgICBpZiAoY29tcGVuc2F0ZS5vcmRlclR5cGUgPT0gT1JERVJfVFlQRV9MUCkgewogICAgICAgICAgICAgICAgbGV0IG9yZGVyT3B0OiBMUFBvc2l0aW9uT3JkZXI/ID0gc2VsZi5scFBvc2l0aW9uT3JkZXJzLmdldChjb21wZW5zYXRlLm9yZGVySWQpOwogICAgICAgICAgICAgICAgc2VsZi5scFBvc2l0aW9uT3JkZXJzLnNldChjb21wZW5zYXRlLm9yZGVySWQsIG51bGwpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbGV0IG9yZGVyT3B0OiBQZXJwUG9zaXRpb25PcmRlcj8gPSBzZWxmLnBlcnBQb3NpdGlvbk9yZGVycy5nZXQoY29tcGVuc2F0ZS5vcmRlcklkKTsKICAgICAgICAgICAgICAgIHNlbGYucGVycFBvc2l0aW9uT3JkZXJzLnNldChjb21wZW5zYXRlLm9yZGVySWQsIG51bGwpOwogICAgICAgICAgICAgICAgc2VsZi5wZXJwUG9zaXRpb25PcmRlckV4cy5zZXQoY29tcGVuc2F0ZS5vcmRlcklkLCBudWxsKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gcmVmdW5kCiAgICAgICAgaWYgKGNvbXBlbnNhdGUucmVmdW5kUmVjZWl2ZXIgIT0gbnVsbCAmJiBjb21wZW5zYXRlLnJlZnVuZEFtb3VudCA+IDApIHsKICAgICAgICAgICAgLy8gdHJhbnNmZXIgamV0dG9uCiAgICAgICAgICAgIHNlbGYucmVmdW5kSmV0dG9uKGNvbXBlbnNhdGUudHJ4SWQsIGNvbXBlbnNhdGUucmVmdW5kQW1vdW50LCBjb21wZW5zYXRlLnJlZnVuZFJlY2VpdmVyISEsIHNlbmRlcigpKTsKICAgICAgICB9CgogICAgICAgIC8vIHRyYW5zZmVyIGV4ZWN1dGlvbiBmZWUKICAgICAgICAvLyBzZWxmLnRyYW5zZmVyRXhlY3V0aW9uRmVlKG1zZy5leGVjdXRpb25GZWVSZWNlaXZlciwgbXNnLmV4ZWN1dGlvbkZlZSk7CiAgICAgICAgaWYgKGNvbXBlbnNhdGUuZXhlY3V0aW9uRmVlUmVjZWl2ZXIgIT0gbnVsbCAmJiBjb21wZW5zYXRlLmV4ZWN1dGlvbkZlZSA+IDApIHsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBjb21wZW5zYXRlLmV4ZWN1dGlvbkZlZVJlY2VpdmVyISEsCiAgICAgICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgICAgICB2YWx1ZTogY29tcGVuc2F0ZS5leGVjdXRpb25GZWUsCiAgICAgICAgICAgICAgICBtb2RlOiBTZW5kSWdub3JlRXJyb3JzCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy8gZGVsZXRlIGNvbXBlbnNhdGUKICAgICAgICBzZWxmLmNvbXBlbnNhdGVzLnNldChtc2cuY29tcGVuc2F0ZUlkLCBudWxsKTsKCiAgICAgICAgZW1pdChDb21wZW5zYXRlRXhlY3V0ZWRFdmVudHsKICAgICAgICAgICAgY29tcGVuc2F0ZUlkOiBtc2cuY29tcGVuc2F0ZUlkLAogICAgICAgICAgICB0cnhJZDogY29tcGVuc2F0ZS50cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwoKICAgICAgICAvLyB0cmFuc2ZlciBleGVjZXNzIGdhcwogICAgICAgIHNlbGYucmVmdW5kRXhjZWVkVG9uKE9SREVSX1RZUEVfUEVSUCwgc2VuZGVyKCksIDAsIDEsIGNvbXBlbnNhdGUucmVmdW5kUmVjZWl2ZXIgIT0gbnVsbCAmJiBjb21wZW5zYXRlLnJlZnVuZEFtb3VudCA+IDApOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHJpZXZlcyB0aGUgY29tcGVuc2F0aW9uIGRhdGEgZm9yIGEgZ2l2ZW4gY29tcGVuc2F0ZUlkLgogICAgICogCiAgICAgKiBAcGFyYW0gY29tcGVuc2F0ZUlkIFRoZSBJRCBvZiB0aGUgY29tcGVuc2F0aW9uIHRvIHJldHJpZXZlLgogICAgICogQHJldHVybiBUaGUgQ29tcGVuc2F0ZURhdGEgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGNvbXBlbnNhdGVJbmRleE5leHQgYW5kIHRoZSBjb21wZW5zYXRlIHdpdGggdGhlIGdpdmVuIGNvbXBlbnNhdGVJZC4KICAgICAqLwogICAgZ2V0IGZ1biBjb21wZW5zYXRlKGNvbXBlbnNhdGVJZDogSW50KTogQ29tcGVuc2F0ZURhdGEgewogICAgICAgIHJldHVybiBDb21wZW5zYXRlRGF0YXsKICAgICAgICAgICAgY29tcGVuc2F0ZUluZGV4TmV4dDogc2VsZi5jb21wZW5zYXRlSW5kZXhOZXh0LAogICAgICAgICAgICBjb21wZW5zYXRlOiBzZWxmLmNvbXBlbnNhdGVzLmdldChjb21wZW5zYXRlSWQpCiAgICAgICAgfTsKICAgIH0KCiAgICAvKioKICAgICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYWNjb3VudCBpcyBhbiBleGVjdXRvci4KICAgICAqIAogICAgICogQHBhcmFtIGFjY291bnQgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgdG8gY2hlY2suCiAgICAgKiBAcmV0dXJuIFRydWUgaWYgdGhlIGFjY291bnQgaXMgYW4gZXhlY3V0b3IsIGZhbHNlIG90aGVyd2lzZS4KICAgICAqLwogICAgZnVuIGlzRXhlY3V0b3IoYWNjb3VudDogQWRkcmVzcyk6IEJvb2wgewogICAgICAgIGxldCBpc0V4ZWN1dG9yT3B0OiBCb29sPyA9IHNlbGYuZXhlY3V0b3JzLmdldChhY2NvdW50KTsKICAgICAgICBpZiAoaXNFeGVjdXRvck9wdCA9PSBudWxsKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGlzRXhlY3V0b3JPcHQhITsKICAgIH0KCgp9Cg=="},"compiler":{"name":"tact","version":"1.2.0","parameters":"{\"entrypoint\":\"contracts/order/order_book.tact\",\"options\":{}}"}}