{"name":"OrderBook","code":"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","abi":"{\"name\":\"OrderBook\",\"types\":[{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounced\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"Deploy\",\"header\":2490013878,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"DeployOk\",\"header\":2952335191,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"FactoryDeploy\",\"header\":1829761339,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"cashback\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwner\",\"header\":2174598809,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwnerOk\",\"header\":846932810,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"TokenTransfer\",\"header\":260734629,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"responseDestination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"customPayload\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"forwardTonAmount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"forwardPayload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"TokenNotification\",\"header\":1935855772,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"from\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"forwardPayload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"TokenExcesses\",\"header\":3576854235,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"UpdateConfig\",\"header\":1843397758,\"fields\":[{\"name\":\"executor\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"enableExecutor\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":true}},{\"name\":\"maxTimeDelayExecutor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"minTimeDelayTrader\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"minExecutionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"gasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"minTonsForStorage\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"usdtWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"pool\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"CreateDecreaseLPPositionOrder\",\"header\":3408287443,\"fields\":[{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"CancelLPPositionOrder\",\"header\":1211708109,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}]},{\"name\":\"ExecuteLPPositionOrder\",\"header\":2094273857,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"pricesLength\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"prices\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UpdatePrice\",\"valueFormat\":\"ref\"}}]},{\"name\":\"UpdateLPPosition\",\"header\":3902592095,\"fields\":[{\"name\":\"isIncrease\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"pricesLength\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"prices\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UpdatePrice\",\"valueFormat\":\"ref\"}}]},{\"name\":\"UpdateLPPositionSuccess\",\"header\":485543809,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"CompensateOrder\",\"header\":4163385099,\"fields\":[{\"name\":\"orderType\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"refundReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"refundAmount\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"CreateDecreasePerpPositionOrder\",\"header\":229084921,\"fields\":[{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"CancelPerpPositionOrder\",\"header\":4187297011,\"fields\":[{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"ExecutePerpPositionOrder\",\"header\":3809189531,\"fields\":[{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"pricesLength\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"prices\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UpdatePrice\",\"valueFormat\":\"ref\"}}]},{\"name\":\"LiquidateOrADLPerpPosition\",\"header\":492244992,\"fields\":[{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"pricesLength\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"prices\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UpdatePrice\",\"valueFormat\":\"ref\"}}]},{\"name\":\"UpdatePerpPosition\",\"header\":4283950423,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerAbove\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"pricesLength\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"prices\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UpdatePrice\",\"valueFormat\":\"ref\"}}]},{\"name\":\"UpdatePerpPositionSuccess\",\"header\":4009870004,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"LPPositionOrderCreatedEvent\",\"header\":2880096248,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LPPositionOrderCancelledEvent\",\"header\":275376848,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LPPositionOrderExecutedEvent\",\"header\":3610195672,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PerpPositionOrderCreatedEvent\",\"header\":3995768881,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerAbove\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"tpSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tpPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"slSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"slPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PerpPositionOrderCancelledEvent\",\"header\":2545166058,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PerpPositionOrderExecutedEvent\",\"header\":4274993791,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"CompensateOrderEvent\",\"header\":4102577430,\"fields\":[{\"name\":\"orderType\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"refundReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"refundAmount\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"ConfigData\",\"header\":null,\"fields\":[{\"name\":\"isExecutor\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":true}},{\"name\":\"maxTimeDelayExecutor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"minTimeDelayTrader\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"minExecutionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"gasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"minTonsForStorage\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"usdtWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"pool\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"LPPositionOrder\",\"header\":null,\"fields\":[{\"name\":\"isIncrease\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"blockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isPending\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"lastOperator\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}]},{\"name\":\"PerpPositionOrder\",\"header\":null,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerAbove\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"blockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isPending\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"lastOperator\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}]},{\"name\":\"PerpPositionOrderEx\",\"header\":null,\"fields\":[{\"name\":\"tpSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tpPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"slSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"slPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"UpdatePrice\",\"header\":null,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateConfig\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"TokenNotification\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"CreateDecreaseLPPositionOrder\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"CancelLPPositionOrder\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ExecuteLPPositionOrder\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateLPPositionSuccess\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"CreateDecreasePerpPositionOrder\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"CancelPerpPositionOrder\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ExecutePerpPositionOrder\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdatePerpPositionSuccess\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"LiquidateOrADLPerpPosition\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"CompensateOrder\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Deploy\"}}],\"getters\":[{\"name\":\"configData\",\"arguments\":[{\"name\":\"executor\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"ConfigData\",\"optional\":false}},{\"name\":\"lpPositionOrder\",\"arguments\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"LPPositionOrder\",\"optional\":true}},{\"name\":\"lpPositionOrderIndexNext\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"perpPositionOrder\",\"arguments\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"PerpPositionOrder\",\"optional\":true}},{\"name\":\"perpPositionOrderIndexNext\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"owner\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}],\"errors\":{\"2\":{\"message\":\"Stack undeflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"13\":{\"message\":\"Out of gas error\"},\"32\":{\"message\":\"Method ID not found\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"37\":{\"message\":\"Not enough TON\"},\"38\":{\"message\":\"Not enough extra-currencies\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid address\"},\"137\":{\"message\":\"Masterchain support is not enabled for this contract\"},\"16780\":{\"message\":\"order expired\"},\"19305\":{\"message\":\"gas not enough\"},\"24173\":{\"message\":\"order is pending\"},\"24562\":{\"message\":\"execution fee not enough\"},\"32637\":{\"message\":\"order not exist\"},\"39703\":{\"message\":\"too early\"},\"41207\":{\"message\":\"invalid sender\"},\"42241\":{\"message\":\"order not pending\"},\"54499\":{\"message\":\"invalid op type\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\",\"org.ton.chain.workchain.v0\",\"org.ton.ownable\"]}","init":{"kind":"direct","args":[{"name":"deployId","type":{"kind":"simple","type":"int","optional":false,"format":257}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":"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"}},"sources":{"contracts/order/messages.tact":"aW1wb3J0ICIuL3N0cnVjdHMiOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBKRVRUT04gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KbWVzc2FnZSgweGY4YTdlYTUpIFRva2VuVHJhbnNmZXIgewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIGFtb3VudDogSW50IGFzIGNvaW5zOwogICAgcmVjZWl2ZXI6IEFkZHJlc3M7CiAgICByZXNwb25zZURlc3RpbmF0aW9uOiBBZGRyZXNzPzsKICAgIGN1c3RvbVBheWxvYWQ6IENlbGw/OwogICAgZm9yd2FyZFRvbkFtb3VudDogSW50IGFzIGNvaW5zOwogICAgZm9yd2FyZFBheWxvYWQ6IFNsaWNlIGFzIHJlbWFpbmluZzsgCn0KCm1lc3NhZ2UoMHg3MzYyZDA5YykgVG9rZW5Ob3RpZmljYXRpb24gewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIGFtb3VudDogSW50IGFzIGNvaW5zOwogICAgZnJvbTogQWRkcmVzczsKICAgIGZvcndhcmRQYXlsb2FkOiBTbGljZSBhcyByZW1haW5pbmc7IC8vIENvbW1lbnQgVGV4dCBtZXNzYWdlIHdoZW4gVHJhbnNmZXIgdGhlIGpldHRvbiAKfQoKbWVzc2FnZSgweGQ1MzI3NmRiKSBUb2tlbkV4Y2Vzc2VzIHsKICAgIHF1ZXJ5SWQ6IEludCBhcyB1aW50NjQ7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gYWRtaW4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KbWVzc2FnZSBVcGRhdGVDb25maWcgewogICAgZXhlY3V0b3I6IEFkZHJlc3M/OwogICAgZW5hYmxlRXhlY3V0b3I6IEJvb2w/OwogICAgbWF4VGltZURlbGF5RXhlY3V0b3I6IEludDsKICAgIG1pblRpbWVEZWxheVRyYWRlcjogSW50OwogICAgbWluRXhlY3V0aW9uRmVlOiBJbnQ7CiAgICBnYXNDb25zdW1wdGlvbjogSW50OwogICAgbWluVG9uc0ZvclN0b3JhZ2U6IEludDsKICAgIHVzZHRXYWxsZXQ6IEFkZHJlc3M7CiAgICBwb29sOiBBZGRyZXNzOwp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IExQID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCm1lc3NhZ2UgQ3JlYXRlRGVjcmVhc2VMUFBvc2l0aW9uT3JkZXIgewogICAgZXhlY3V0aW9uRmVlOiBJbnQ7CiAgICBsaXF1aWRpdHlEZWx0YTogSW50Owp9CgptZXNzYWdlIENhbmNlbExQUG9zaXRpb25PcmRlciB7CiAgICBvcmRlcklkOiBJbnQ7CiAgICB0cnhJZDogSW50OwogICAgZXhlY3V0aW9uRmVlUmVjZWl2ZXI6IEFkZHJlc3M/Owp9CgptZXNzYWdlIEV4ZWN1dGVMUFBvc2l0aW9uT3JkZXIgewogICAgb3JkZXJJZDogSW50OwogICAgdHJ4SWQ6IEludDsKICAgIGV4ZWN1dGlvbkZlZVJlY2VpdmVyOiBBZGRyZXNzPzsKICAgIHByaWNlc0xlbmd0aDogSW50OwogICAgcHJpY2VzOiBtYXA8SW50LCBVcGRhdGVQcmljZT47Cn0KCm1lc3NhZ2UoMHhlODljZDQ1ZikgVXBkYXRlTFBQb3NpdGlvbiB7CiAgICBpc0luY3JlYXNlOiBCb29sOwogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICBsaXF1aWRpdHlEZWx0YTogSW50OwogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7CiAgICBwcmljZXNMZW5ndGg6IEludDsKICAgIHByaWNlczogbWFwPEludCwgVXBkYXRlUHJpY2U+Owp9CgptZXNzYWdlKDB4MWNmMGNmODEpIFVwZGF0ZUxQUG9zaXRpb25TdWNjZXNzIHsKICAgIG9yZGVySWQ6IEludDsKICAgIHJlY2VpdmU6IEludDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0Owp9CgptZXNzYWdlIENvbXBlbnNhdGVPcmRlciB7CiAgICBvcmRlclR5cGU6IEludD87CiAgICBvcmRlcklkOiBJbnQ7CiAgICB0cnhJZDogSW50OwogICAgcmVmdW5kUmVjZWl2ZXI6IEFkZHJlc3M/OwogICAgcmVmdW5kQW1vdW50OiBJbnQ7CiAgICBleGVjdXRpb25GZWVSZWNlaXZlcjogQWRkcmVzcz87CiAgICBleGVjdXRpb25GZWU6IEludDsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBQZXJwID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCm1lc3NhZ2UgQ3JlYXRlRGVjcmVhc2VQZXJwUG9zaXRpb25PcmRlciB7CiAgICBleGVjdXRpb25GZWU6IEludDsKICAgIG9wVHlwZTogSW50OwogICAgdG9rZW5JZDogSW50OwogICAgaXNMb25nOiBCb29sOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIHNpemVEZWx0YTogSW50OwogICAgdHJpZ2dlclByaWNlOiBJbnQ7Cn0KCm1lc3NhZ2UgQ2FuY2VsUGVycFBvc2l0aW9uT3JkZXIgewogICAgZXhlY3V0aW9uRmVlUmVjZWl2ZXI6IEFkZHJlc3M/OwogICAgb3JkZXJJZDogSW50OwogICAgdHJ4SWQ6IEludDsKfQoKbWVzc2FnZSBFeGVjdXRlUGVycFBvc2l0aW9uT3JkZXIgewogICAgZXhlY3V0aW9uRmVlUmVjZWl2ZXI6IEFkZHJlc3M/OwogICAgb3JkZXJJZDogSW50OwogICAgdHJ4SWQ6IEludDsKICAgIHByaWNlc0xlbmd0aDogSW50OwogICAgcHJpY2VzOiBtYXA8SW50LCBVcGRhdGVQcmljZT47Cn0KCm1lc3NhZ2UgTGlxdWlkYXRlT3JBRExQZXJwUG9zaXRpb24gewogICAgZXhlY3V0aW9uRmVlUmVjZWl2ZXI6IEFkZHJlc3M/OwogICAgdG9rZW5JZDogSW50OwogICAgYWNjb3VudDogQWRkcmVzczsKICAgIGlzTG9uZzogQm9vbDsKICAgIC8vIGFkbFNpemU6IEludDsKICAgIHRyeElkOiBJbnQ7CiAgICBwcmljZXNMZW5ndGg6IEludDsKICAgIHByaWNlczogbWFwPEludCwgVXBkYXRlUHJpY2U+Owp9CgptZXNzYWdlKDB4ZmY1N2U1NTcpIFVwZGF0ZVBlcnBQb3NpdGlvbiB7CiAgICBvcmRlcklkOiBJbnQgYXMgdWludDY0OwogICAgb3BUeXBlOiBJbnQgYXMgdWludDg7CiAgICB0b2tlbklkOiBJbnQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgaXNMb25nOiBCb29sOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIHNpemVEZWx0YTogSW50OwogICAgdHJpZ2dlclByaWNlOiBJbnQ7CiAgICB0cmlnZ2VyQWJvdmU6IEJvb2w7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKICAgIHByaWNlc0xlbmd0aDogSW50OwogICAgcHJpY2VzOiBtYXA8SW50LCBVcGRhdGVQcmljZT47Cn0KCm1lc3NhZ2UoMHhlZjAxYzJiNCkgVXBkYXRlUGVycFBvc2l0aW9uU3VjY2VzcyB7CiAgICBvcmRlcklkOiBJbnQ7CiAgICByZWNlaXZlOiBJbnQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQo=","contracts/order/events.tact":"Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBMUCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwovLyBpbmNyZWFzZSBMUAptZXNzYWdlIExQUG9zaXRpb25PcmRlckNyZWF0ZWRFdmVudCB7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICBsaXF1aWRpdHlEZWx0YTogSW50OwogICAgZXhlY3V0aW9uRmVlOiBJbnQ7CiAgICBvcmRlcklkOiBJbnQ7Cn0KCm1lc3NhZ2UgTFBQb3NpdGlvbk9yZGVyQ2FuY2VsbGVkRXZlbnQgewogICAgb3BUeXBlOiBJbnQgYXMgdWludDg7CiAgICBvcmRlcklkOiBJbnQ7CiAgICB0cnhJZDogSW50Owp9CgptZXNzYWdlIExQUG9zaXRpb25PcmRlckV4ZWN1dGVkRXZlbnQgewogICAgb3BUeXBlOiBJbnQgYXMgdWludDg7CiAgICBvcmRlcklkOiBJbnQ7CiAgICB0cnhJZDogSW50Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFBlcnAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KbWVzc2FnZSBQZXJwUG9zaXRpb25PcmRlckNyZWF0ZWRFdmVudCB7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIHRva2VuSWQ6IEludDsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICBpc0xvbmc6IEJvb2w7CiAgICBtYXJnaW5EZWx0YTogSW50OwogICAgc2l6ZURlbHRhOiBJbnQ7CiAgICB0cmlnZ2VyUHJpY2U6IEludDsKICAgIHRyaWdnZXJBYm92ZTogQm9vbDsKICAgIHRwU2l6ZTogSW50OwogICAgdHBQcmljZTogSW50OwogICAgc2xTaXplOiBJbnQ7CiAgICBzbFByaWNlOiBJbnQ7CiAgICBleGVjdXRpb25GZWU6IEludDsKICAgIG9yZGVySWQ6IEludDsKfQoKbWVzc2FnZSBQZXJwUG9zaXRpb25PcmRlckNhbmNlbGxlZEV2ZW50IHsKICAgIG9wVHlwZTogSW50IGFzIHVpbnQ4OwogICAgb3JkZXJJZDogSW50OwogICAgdHJ4SWQ6IEludDsKfQoKbWVzc2FnZSBQZXJwUG9zaXRpb25PcmRlckV4ZWN1dGVkRXZlbnQgewogICAgb3BUeXBlOiBJbnQgYXMgdWludDg7CiAgICBvcmRlcklkOiBJbnQ7CiAgICB0cnhJZDogSW50Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IENvbXBlbnNhdGUgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KbWVzc2FnZSBDb21wZW5zYXRlT3JkZXJFdmVudCB7CiAgICBvcmRlclR5cGU6IEludD87CiAgICBvcmRlcklkOiBJbnQ7CiAgICB0cnhJZDogSW50OwogICAgcmVmdW5kUmVjZWl2ZXI6IEFkZHJlc3M/OwogICAgcmVmdW5kQW1vdW50OiBJbnQ7CiAgICBleGVjdXRpb25GZWVSZWNlaXZlcjogQWRkcmVzcz87CiAgICBleGVjdXRpb25GZWU6IEludDsKfQ==","contracts/order/structs.tact":"Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBDb25maWcgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KLy8gc3RydWN0IFRva2VuQ29uZmlnIHsKLy8gICAgIG5hbWU6IFN0cmluZzsKLy8gICAgIGVuYWJsZTogQm9vbDsKLy8gfQoKc3RydWN0IENvbmZpZ0RhdGEgewogICAgaXNFeGVjdXRvcjogQm9vbD87CiAgICBtYXhUaW1lRGVsYXlFeGVjdXRvcjogSW50OwogICAgbWluVGltZURlbGF5VHJhZGVyOiBJbnQ7CiAgICBtaW5FeGVjdXRpb25GZWU6IEludDsKICAgIGdhc0NvbnN1bXB0aW9uOiBJbnQ7CiAgICBtaW5Ub25zRm9yU3RvcmFnZTogSW50OwogICAgdXNkdFdhbGxldDogQWRkcmVzczsKICAgIHBvb2w6IEFkZHJlc3M7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gTFAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8Kc3RydWN0IExQUG9zaXRpb25PcmRlciB7CiAgICBpc0luY3JlYXNlOiBCb29sOwogICAgYWNjb3VudDogQWRkcmVzczsKICAgIGxpcXVpZGl0eURlbHRhOiBJbnQ7CiAgICBleGVjdXRpb25GZWU6IEludDsKICAgIGJsb2NrVGltZTogSW50OwogICAgaXNQZW5kaW5nOiBCb29sOwogICAgZXhlY3V0aW9uRmVlUmVjZWl2ZXI6IEFkZHJlc3M/OwogICAgbGFzdE9wZXJhdG9yOiBBZGRyZXNzPzsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBQZXJwID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCnN0cnVjdCBQZXJwUG9zaXRpb25PcmRlciB7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIHRva2VuSWQ6IEludDsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICBpc0xvbmc6IEJvb2w7CiAgICBtYXJnaW5EZWx0YTogSW50OwogICAgc2l6ZURlbHRhOiBJbnQ7CiAgICB0cmlnZ2VyUHJpY2U6IEludDsKICAgIHRyaWdnZXJBYm92ZTogQm9vbDsKICAgIGV4ZWN1dGlvbkZlZTogSW50OwogICAgYmxvY2tUaW1lOiBJbnQ7CiAgICBpc1BlbmRpbmc6IEJvb2w7CiAgICBleGVjdXRpb25GZWVSZWNlaXZlcjogQWRkcmVzcz87CiAgICBsYXN0T3BlcmF0b3I6IEFkZHJlc3M/Owp9CgpzdHJ1Y3QgUGVycFBvc2l0aW9uT3JkZXJFeCB7CiAgICB0cFNpemU6IEludDsKICAgIHRwUHJpY2U6IEludDsKICAgIHNsU2l6ZTogSW50OwogICAgc2xQcmljZTogSW50Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFByaWNlID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCnN0cnVjdCBVcGRhdGVQcmljZSB7CiAgICB0b2tlbklkOiBJbnQ7CiAgICBwcmljZTogSW50Owp9Cg==","contracts/order/constants.tact":"Y29uc3QgT1BfQ1JFQVRFX0lOQ1JFQVNFX0xQX1BPU0lUSU9OX09SREVSOiBJbnQgPSAxOwpjb25zdCBPUF9DUkVBVEVfSU5DUkVBU0VfUEVSUF9QT1NJVElPTl9PUkRFUjogSW50ID0gMjsKCmNvbnN0IE9SREVSX1RZUEVfTFA6IEludCA9IDE7CmNvbnN0IE9SREVSX1RZUEVfUEVSUDogSW50ID0gMjsKCmNvbnN0IE9SREVSX09QX1RZUEVfSU5DUkVBU0U6IEludCA9IDE7CmNvbnN0IE9SREVSX09QX1RZUEVfREVDUkVBU0U6IEludCA9IDI7CmNvbnN0IE9SREVSX09QX1RZUEVfTElRVUlEQVRJT046IEludCA9IDM7CmNvbnN0IE9SREVSX09QX1RZUEVfQURMOiBJbnQgPSA0OwoKY29uc3QgT1JERVJfT1BfVFlQRV9JTkNSRUFTRV9NQVJLRVQ6IEludCA9IDEwOwpjb25zdCBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFX0xJTUlUOiBJbnQgPSAxMTsKY29uc3QgT1JERVJfT1BfVFlQRV9ERUNSRUFTRV9NQVJLRVQ6IEludCA9IDEyOwpjb25zdCBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFX1RQOiBJbnQgPSAxMzsKY29uc3QgT1JERVJfT1BfVFlQRV9ERUNSRUFTRV9TTDogSW50ID0gMTQ7Cgpjb25zdCBHQVNfVFJBTlNGRVJfSkVUVE9OOiBJbnQgPSB0b24oIjAuMSIpOw==","contracts/order/order_book.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CmltcG9ydCAiQHN0ZGxpYi9vd25hYmxlIjsKaW1wb3J0ICIuL21lc3NhZ2VzIjsKaW1wb3J0ICIuL2V2ZW50cyI7CmltcG9ydCAiLi9zdHJ1Y3RzIjsKaW1wb3J0ICIuL2NvbnN0YW50cyI7Cgpjb250cmFjdCBPcmRlckJvb2sgd2l0aCBEZXBsb3lhYmxlLCBPd25hYmxlIHsKICAgIAogICAgLy8gY29uZmlnCiAgICBtYXhUaW1lRGVsYXlFeGVjdXRvcjogSW50ID0gMzAgKiA2MDsgLy8gZXhlY3V0b3IgZXhlY3V0ZSBiZWZvcmUgMzBtaW4KICAgIG1pblRpbWVEZWxheVRyYWRlcjogSW50ID0gMyAqIDYwOyAvLyB0cmFkZXIgZXhlY3V0ZSBhZnRlciAzbWluCgogICAgLy8gVE9ETyBnYXMKICAgIG1pbkV4ZWN1dGlvbkZlZTogSW50ID0gdG9uKCIwLjEiKTsgLy8gZmVlIGZvciBldmVyeSBvcGVyYXRpb24KICAgIGdhc0NvbnN1bXB0aW9uOiBJbnQgPSB0b24oIjAuMDUiKTsgLy8gbWluIGNvbnN1bXB0aW9uIGdhcwogICAgbWluVG9uc0ZvclN0b3JhZ2U6IEludCA9IHRvbigiMC4wMyIpOyAvLyBtaW4gc3RvcmFnZSBnYXMKCiAgICB1c2R0V2FsbGV0OiBBZGRyZXNzOyAvLyBvcmRlciBib29rIFVTRFQgamV0dG9uIHdhbGxldCBhZGRyZXNzCiAgICBwb29sOiBBZGRyZXNzOyAvLyBwb29sIGFkZHJlc3MKCiAgICAvLyB0b2tlbkNvbmZpZ3M6IG1hcDxJbnQsIFRva2VuQ29uZmlnPjsgLy8gdG9rZW5JbmRleCA9PiB0b2tlbkNvbmZpZwogICAgLy8gdG9rZW5JbmRleE5leHQ6IEludCBhcyB1aW50NjQgPSAxOwoKICAgIC8vIGFkbWluCiAgICBvd25lcjogQWRkcmVzczsKICAgIGV4ZWN1dG9yczogbWFwPEFkZHJlc3MsIEJvb2w+OyAvLyBhY2NvdW50ID0+IGVuYWJsZWQKICAgIC8vIGNvbXBlbnNhdG9yczogbWFwPEFkZHJlc3MsIEJvb2w+OyAvLyBhY2NvdW50ID0+IGVuYWJsZWQKCiAgICAvLyBMUAogICAgbHBQb3NpdGlvbk9yZGVyczogbWFwPEludCwgTFBQb3NpdGlvbk9yZGVyPjsgLy8gb3JkZXJJZCA9PiBvcmRlcgogICAgbHBQb3NpdGlvbk9yZGVySW5kZXhOZXh0OiBJbnQgYXMgdWludDY0ID0gMTsKCiAgICAvLyBQZXJwCiAgICBwZXJwUG9zaXRpb25PcmRlcnM6IG1hcDxJbnQsIFBlcnBQb3NpdGlvbk9yZGVyPjsgLy8gb3JkZXJJZCA9PiBvcmRlcgogICAgcGVycFBvc2l0aW9uT3JkZXJFeHM6IG1hcDxJbnQsIFBlcnBQb3NpdGlvbk9yZGVyRXg+OyAvLyBvcmRlcklkID0+IG9yZGVyRXgKICAgIHBlcnBQb3NpdGlvbk9yZGVySW5kZXhOZXh0OiBJbnQgYXMgdWludDY0ID0gMTsKCiAgICBpbml0KGRlcGxveUlkOiBJbnQpIHsKICAgICAgICBzZWxmLm93bmVyID0gc2VuZGVyKCk7CgogICAgICAgIHNlbGYuZXhlY3V0b3JzLnNldChzZW5kZXIoKSwgdHJ1ZSk7CgogICAgICAgIHNlbGYudXNkdFdhbGxldCA9IG5ld0FkZHJlc3MoMCwgMCk7CiAgICAgICAgc2VsZi5wb29sID0gbmV3QWRkcmVzcygwLCAwKTsKICAgIH0KCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBBZG1pbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCiAgICByZWNlaXZlKG1zZzogVXBkYXRlQ29uZmlnKSB7CiAgICAgICAgc2VsZi5yZXF1aXJlT3duZXIoKTsKICAgICAgICAvLyBhdXRoCiAgICAgICAgaWYgKG1zZy5leGVjdXRvciAhPSBudWxsICYmIG1zZy5lbmFibGVFeGVjdXRvciAhPSBudWxsKSB7CiAgICAgICAgICAgIHNlbGYuZXhlY3V0b3JzLnNldChtc2cuZXhlY3V0b3IhISwgbXNnLmVuYWJsZUV4ZWN1dG9yISEpOwogICAgICAgIH0KCiAgICAgICAgLy8gY29uZmlnCiAgICAgICAgc2VsZi5tYXhUaW1lRGVsYXlFeGVjdXRvciA9IG1zZy5tYXhUaW1lRGVsYXlFeGVjdXRvcjsKICAgICAgICBzZWxmLm1pblRpbWVEZWxheVRyYWRlciA9IG1zZy5taW5UaW1lRGVsYXlUcmFkZXI7CiAgICAgICAgc2VsZi5taW5FeGVjdXRpb25GZWUgPSBtc2cubWluRXhlY3V0aW9uRmVlOwogICAgICAgIHNlbGYuZ2FzQ29uc3VtcHRpb24gPSBtc2cuZ2FzQ29uc3VtcHRpb247CiAgICAgICAgc2VsZi5taW5Ub25zRm9yU3RvcmFnZSA9IG1zZy5taW5Ub25zRm9yU3RvcmFnZTsKICAgICAgICBzZWxmLnVzZHRXYWxsZXQgPSBtc2cudXNkdFdhbGxldDsKICAgICAgICBzZWxmLnBvb2wgPSBtc2cucG9vbDsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogc2VuZGVyKCksCiAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUKICAgICAgICB9KTsKICAgIH0KCiAgICBnZXQgZnVuIGNvbmZpZ0RhdGEoZXhlY3V0b3I6IEFkZHJlc3M/KTogQ29uZmlnRGF0YSB7CiAgICAgICAgbGV0IGlzRXhlY3V0b3I6IEJvb2w/ID0gbnVsbDsKICAgICAgICBpZiAoZXhlY3V0b3IgIT0gbnVsbCkgewogICAgICAgICAgICBpc0V4ZWN1dG9yID0gc2VsZi5leGVjdXRvcnMuZ2V0KGV4ZWN1dG9yISEpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIENvbmZpZ0RhdGF7CiAgICAgICAgICAgIGlzRXhlY3V0b3I6IGlzRXhlY3V0b3IsCiAgICAgICAgICAgIG1heFRpbWVEZWxheUV4ZWN1dG9yOiBzZWxmLm1heFRpbWVEZWxheUV4ZWN1dG9yLAogICAgICAgICAgICBtaW5UaW1lRGVsYXlUcmFkZXI6IHNlbGYubWluVGltZURlbGF5VHJhZGVyLAogICAgICAgICAgICBtaW5FeGVjdXRpb25GZWU6IHNlbGYubWluRXhlY3V0aW9uRmVlLAogICAgICAgICAgICBnYXNDb25zdW1wdGlvbjogc2VsZi5nYXNDb25zdW1wdGlvbiwKICAgICAgICAgICAgbWluVG9uc0ZvclN0b3JhZ2U6IHNlbGYubWluVG9uc0ZvclN0b3JhZ2UsCiAgICAgICAgICAgIHVzZHRXYWxsZXQ6IHNlbGYudXNkdFdhbGxldCwKICAgICAgICAgICAgcG9vbDogc2VsZi5wb29sCiAgICAgICAgfTsKICAgIH0KCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBUb2tlbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCiAgICAvKioKICAgICogQGRldiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aGVuIHRoZSBjb250cmFjdCByZWNlaXZlcyBhIFRva2VuTm90aWZpY2F0aW9uIG1lc3NhZ2UuCiAgICAqIEl0IGNoZWNrcyB0aGUgdG9rZW4gYW5kIGhhbmRsZXMgdGhlIGNvcnJlc3BvbmRpbmcgb3BlcmF0aW9uIGNvZGUuCiAgICAqIEBwYXJhbSBtc2cgVGhlIFRva2VuTm90aWZpY2F0aW9uIG1lc3NhZ2UgcmVjZWl2ZWQuCiAgICAqLwogICAgcmVjZWl2ZShtc2c6IFRva2VuTm90aWZpY2F0aW9uKSB7CiAgICAgICAgLy8ganVzdCByZWZ1bmQgb3RoZXIgdG9rZW4KICAgICAgICBpZiAoc2VuZGVyKCkgIT0gc2VsZi51c2R0V2FsbGV0KSB7CiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogc2VuZGVyKCksIAogICAgICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUsIAogICAgICAgICAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICAgICAgICAgIGJvZHk6IFRva2VuVHJhbnNmZXJ7CiAgICAgICAgICAgICAgICAgICAgcXVlcnlJZDogbXNnLnF1ZXJ5SWQsCiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBtc2cuYW1vdW50LAogICAgICAgICAgICAgICAgICAgIHJlY2VpdmVyOiBtc2cuZnJvbSwKICAgICAgICAgICAgICAgICAgICByZXNwb25zZURlc3RpbmF0aW9uOiBtc2cuZnJvbSwKICAgICAgICAgICAgICAgICAgICBjdXN0b21QYXlsb2FkOiBudWxsLAogICAgICAgICAgICAgICAgICAgIGZvcndhcmRUb25BbW91bnQ6IDAsCiAgICAgICAgICAgICAgICAgICAgZm9yd2FyZFBheWxvYWQ6IGJlZ2luQ2VsbCgpLmVuZENlbGwoKS5hc1NsaWNlKCkKICAgICAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIC8vIGdldCBvcCBjb2RlCiAgICAgICAgbGV0IG9wZXJhdGlvbjogU2xpY2UgPSBtc2cuZm9yd2FyZFBheWxvYWQubG9hZFJlZigpLmFzU2xpY2UoKTsKICAgICAgICBsZXQgb3BDb2RlOiBJbnQgPSBvcGVyYXRpb24ubG9hZFVpbnQoMzIpOwogICAgICAgIGlmIChvcENvZGUgPT0gT1BfQ1JFQVRFX0lOQ1JFQVNFX0xQX1BPU0lUSU9OX09SREVSKSB7CiAgICAgICAgICAgIGxldCBsaXF1aWRpdHlEZWx0YTogSW50ID0gb3BlcmF0aW9uLmxvYWRVaW50KDEyOCk7CiAgICAgICAgICAgIGxldCBleGVjdXRpb25GZWU6IEludCA9IG9wZXJhdGlvbi5sb2FkQ29pbnMoKTsKCiAgICAgICAgICAgIHNlbGYuaGFuZGxlQ3JlYXRlSW5jcmVhc2VMUFBvc2l0aW9uT3JkZXIobXNnLnF1ZXJ5SWQsIG1zZy5hbW91bnQsIG1zZy5mcm9tLCBleGVjdXRpb25GZWUsIGxpcXVpZGl0eURlbHRhKTsKICAgICAgICB9IGVsc2UgaWYgKG9wQ29kZSA9PSBPUF9DUkVBVEVfSU5DUkVBU0VfUEVSUF9QT1NJVElPTl9PUkRFUikgewogICAgICAgICAgICBsZXQgZXhlY3V0aW9uRmVlOiBJbnQgPSBvcGVyYXRpb24ubG9hZENvaW5zKCk7CiAgICAgICAgICAgIGxldCBpc01hcmtldDogQm9vbCA9IG9wZXJhdGlvbi5sb2FkSW50KDEpID09IC0xOwogICAgICAgICAgICBsZXQgdG9rZW5JZDogSW50ID0gb3BlcmF0aW9uLmxvYWRVaW50KDY0KTsKICAgICAgICAgICAgbGV0IGlzTG9uZzogQm9vbCA9IG9wZXJhdGlvbi5sb2FkSW50KDEpID09IC0xOwogICAgICAgICAgICBsZXQgbWFyZ2luRGVsdGE6IEludCA9IG9wZXJhdGlvbi5sb2FkVWludCgxMjgpOwogICAgICAgICAgICBsZXQgc2l6ZURlbHRhOiBJbnQgPSBvcGVyYXRpb24ubG9hZFVpbnQoMTI4KTsKICAgICAgICAgICAgbGV0IHRyaWdnZXJQcmljZTogSW50ID0gb3BlcmF0aW9uLmxvYWRVaW50KDI1Nik7CiAgICAgICAgICAgIAogICAgICAgICAgICBsZXQgdHBTbDogU2xpY2UgPSBvcGVyYXRpb24ubG9hZFJlZigpLmFzU2xpY2UoKTsKICAgICAgICAgICAgbGV0IHRwU2l6ZTogSW50ID0gdHBTbC5sb2FkVWludCgxMjgpOwogICAgICAgICAgICBsZXQgdHBQcmljZTogSW50ID0gdHBTbC5sb2FkVWludCgyNTYpOwogICAgICAgICAgICBsZXQgc2xTaXplOiBJbnQgPSB0cFNsLmxvYWRVaW50KDEyOCk7CiAgICAgICAgICAgIGxldCBzbFByaWNlOiBJbnQgPSB0cFNsLmxvYWRVaW50KDI1Nik7CgogICAgICAgICAgICBzZWxmLmhhbmRsZUNyZWF0ZUluY3JlYXNlUGVycFBvc2l0aW9uT3JkZXIobXNnLnF1ZXJ5SWQsIG1zZy5hbW91bnQsIG1zZy5mcm9tLCBleGVjdXRpb25GZWUsIGlzTWFya2V0LCB0b2tlbklkLCBpc0xvbmcsIG1hcmdpbkRlbHRhLCAKICAgICAgICAgICAgICAgIHNpemVEZWx0YSwgdHJpZ2dlclByaWNlLCB0cFNpemUsIHRwUHJpY2UsIHNsU2l6ZSwgc2xQcmljZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBzZWxmLnVzZHRXYWxsZXQsIAogICAgICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUsIAogICAgICAgICAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICAgICAgICAgIGJvZHk6IFRva2VuVHJhbnNmZXJ7CiAgICAgICAgICAgICAgICAgICAgcXVlcnlJZDogbXNnLnF1ZXJ5SWQsCiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBtc2cuYW1vdW50LAogICAgICAgICAgICAgICAgICAgIHJlY2VpdmVyOiBtc2cuZnJvbSwKICAgICAgICAgICAgICAgICAgICByZXNwb25zZURlc3RpbmF0aW9uOiBtc2cuZnJvbSwKICAgICAgICAgICAgICAgICAgICBjdXN0b21QYXlsb2FkOiBudWxsLAogICAgICAgICAgICAgICAgICAgIGZvcndhcmRUb25BbW91bnQ6IDAsCiAgICAgICAgICAgICAgICAgICAgZm9yd2FyZFBheWxvYWQ6IGJlZ2luQ2VsbCgpLmVuZENlbGwoKS5hc1NsaWNlKCkKICAgICAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1biByZWZ1bmRKZXR0b24ocXVlcnlJZDogSW50LCBhbW91bnQ6IEludCwgdG86IEFkZHJlc3MsIGRlc3RpbmF0aW9uOiBBZGRyZXNzPykgewogICAgICAgIGlmIChhbW91bnQgPiAwKSB7CiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogc2VsZi51c2R0V2FsbGV0LCAKICAgICAgICAgICAgICAgIHZhbHVlOiBHQVNfVFJBTlNGRVJfSkVUVE9OLAogICAgICAgICAgICAgICAgbW9kZTogU2VuZElnbm9yZUVycm9ycywgCiAgICAgICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICAgICAgYm9keTogVG9rZW5UcmFuc2ZlcnsKICAgICAgICAgICAgICAgICAgICBxdWVyeUlkOiBxdWVyeUlkLAogICAgICAgICAgICAgICAgICAgIGFtb3VudDogYW1vdW50LAogICAgICAgICAgICAgICAgICAgIHJlY2VpdmVyOiB0bywKICAgICAgICAgICAgICAgICAgICByZXNwb25zZURlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbiwKICAgICAgICAgICAgICAgICAgICBjdXN0b21QYXlsb2FkOiBudWxsLAogICAgICAgICAgICAgICAgICAgIGZvcndhcmRUb25BbW91bnQ6IDAsCiAgICAgICAgICAgICAgICAgICAgZm9yd2FyZFBheWxvYWQ6IGJlZ2luQ2VsbCgpLmVuZENlbGwoKS5hc1NsaWNlKCkKICAgICAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfQoKICAgIC8vIHRyYW5zZmVyIGV4ZWNlc3MgdG9uCiAgICBmdW4gcmVmdW5kRXhlY2Vzc1Rvbih0bzogQWRkcmVzcywgZXhlY3V0aW9uRmVlOiBJbnQpIHsKICAgICAgICBsZXQgcmVmdW5kVmFsdWU6IEludCA9IGNvbnRleHQoKS52YWx1ZSAtIGV4ZWN1dGlvbkZlZSAtIHNlbGYuZ2FzQ29uc3VtcHRpb24gLSBzZWxmLm1pblRvbnNGb3JTdG9yYWdlOwogICAgICAgIGlmIChyZWZ1bmRWYWx1ZSA+IDApIHsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiB0bywKICAgICAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgICAgICB2YWx1ZTogcmVmdW5kVmFsdWUsCiAgICAgICAgICAgICAgICBtb2RlOiBTZW5kSWdub3JlRXJyb3JzCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0KCiAgICBmdW4gZ2V0UG9vbEdhcygpOiBJbnQgewogICAgICAgIHJldHVybiBjb250ZXh0KCkucmVhZEZvcndhcmRGZWUoKSAqIDIgKyBzZWxmLmdhc0NvbnN1bXB0aW9uICogMiArIHNlbGYubWluVG9uc0ZvclN0b3JhZ2U7CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gTFAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwogICAgLy8gQ3JlYXRlIEluY3JlYXNlCiAgICBmdW4gaGFuZGxlQ3JlYXRlSW5jcmVhc2VMUFBvc2l0aW9uT3JkZXIocXVlcnlJZDogSW50LCBqZXR0b25Gcm9tQW1vdW50OiBJbnQsIGFjY291bnQ6IEFkZHJlc3MsIGV4ZWN1dGlvbkZlZTogSW50LCBsaXF1aWRpdHlEZWx0YTogSW50KSB7CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKCiAgICAgICAgbGV0IHJlZnVuZENvbW1lbnQ6IFN0cmluZyA9ICIiOwogICAgICAgIGxldCByZWZ1bmQ6IEJvb2wgPSBmYWxzZTsKICAgICAgICBpZiAoY3R4LnZhbHVlIDwgZXhlY3V0aW9uRmVlICsgc2VsZi5nYXNDb25zdW1wdGlvbiArIHNlbGYubWluVG9uc0ZvclN0b3JhZ2UpIHsKICAgICAgICAgICAgcmVmdW5kID0gdHJ1ZTsKICAgICAgICAgICAgcmVmdW5kQ29tbWVudCA9ICJnYXMgbm90IGVub3VnaCI7CiAgICAgICAgfQoKICAgICAgICBpZiAoamV0dG9uRnJvbUFtb3VudCA8IGxpcXVpZGl0eURlbHRhKSB7CiAgICAgICAgICAgIHJlZnVuZCA9IHRydWU7CiAgICAgICAgICAgIHJlZnVuZENvbW1lbnQgPSAiamV0dG9uIG5vdCBlbm91Z2giOwogICAgICAgIH0KCiAgICAgICAgaWYgKGV4ZWN1dGlvbkZlZSA8IHNlbGYubWluRXhlY3V0aW9uRmVlKSB7CiAgICAgICAgICAgIHJlZnVuZCA9IHRydWU7CiAgICAgICAgICAgIHJlZnVuZENvbW1lbnQgPSAiZXhlY3V0aW9uIGZlZSBub3QgZW5vdWdoIjsKICAgICAgICB9CgogICAgICAgIC8vIG5lZWQgcmVmdW5kCiAgICAgICAgaWYgKHJlZnVuZCkgewogICAgICAgICAgICBzZWxmLnJlZnVuZEpldHRvbihxdWVyeUlkLCBqZXR0b25Gcm9tQW1vdW50LCBhY2NvdW50LCBhY2NvdW50KTsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBhY2NvdW50LAogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICAgICAgdmFsdWU6IGV4ZWN1dGlvbkZlZSwKICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMgKyBTZW5kUmVtYWluaW5nVmFsdWUsCiAgICAgICAgICAgICAgICBib2R5OiByZWZ1bmRDb21tZW50LmFzQ29tbWVudCgpCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICAvLyBhZGQgbmV3IG9yZGVyCiAgICAgICAgbGV0IG9yZGVySWQ6IEludCA9IHNlbGYubHBQb3NpdGlvbk9yZGVySW5kZXhOZXh0OwogICAgICAgIHNlbGYubHBQb3NpdGlvbk9yZGVySW5kZXhOZXh0ID0gb3JkZXJJZCArIDE7CiAgICAgICAgc2VsZi5scFBvc2l0aW9uT3JkZXJzLnNldChvcmRlcklkLCBMUFBvc2l0aW9uT3JkZXJ7CiAgICAgICAgICAgIGlzSW5jcmVhc2U6IHRydWUsCiAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgICAgICAgIGxpcXVpZGl0eURlbHRhOiBsaXF1aWRpdHlEZWx0YSwKICAgICAgICAgICAgZXhlY3V0aW9uRmVlOiBleGVjdXRpb25GZWUsCiAgICAgICAgICAgIGJsb2NrVGltZTogbm93KCksCiAgICAgICAgICAgIGlzUGVuZGluZzogZmFsc2UsCiAgICAgICAgICAgIGV4ZWN1dGlvbkZlZVJlY2VpdmVyOiBudWxsLAogICAgICAgICAgICBsYXN0T3BlcmF0b3I6IG51bGwKICAgICAgICB9KTsKCiAgICAgICAgLy8gZXZlbnQKICAgICAgICBlbWl0KExQUG9zaXRpb25PcmRlckNyZWF0ZWRFdmVudHsKICAgICAgICAgICAgb3BUeXBlOiBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFLAogICAgICAgICAgICBhY2NvdW50OiBhY2NvdW50LAogICAgICAgICAgICBsaXF1aWRpdHlEZWx0YTogbGlxdWlkaXR5RGVsdGEsCiAgICAgICAgICAgIGV4ZWN1dGlvbkZlZTogZXhlY3V0aW9uRmVlLAogICAgICAgICAgICBvcmRlcklkOiBvcmRlcklkCiAgICAgICAgfS50b0NlbGwoKSk7CgogICAgICAgIHNlbGYucmVmdW5kRXhlY2Vzc1RvbihhY2NvdW50LCBleGVjdXRpb25GZWUpOwogICAgfQoKICAgIC8vIENyZWF0ZSBEZWNyZWFzZQogICAgcmVjZWl2ZShtc2c6IENyZWF0ZURlY3JlYXNlTFBQb3NpdGlvbk9yZGVyKSB7CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKICAgICAgICAvLyBjaGVjayBnYXMKICAgICAgICByZXF1aXJlKGN0eC52YWx1ZSAtIG1zZy5leGVjdXRpb25GZWUgPj0gc2VsZi5nYXNDb25zdW1wdGlvbiArIHNlbGYubWluVG9uc0ZvclN0b3JhZ2UsICJnYXMgbm90IGVub3VnaCIpOwogICAgICAgIC8vIGNoZWNrIGV4ZWN1dGlvbiBmZWUKICAgICAgICByZXF1aXJlKG1zZy5leGVjdXRpb25GZWUgPj0gc2VsZi5taW5FeGVjdXRpb25GZWUsICJleGVjdXRpb24gZmVlIG5vdCBlbm91Z2giKTsKCiAgICAgICAgLy8gYWRkIG5ldyBvcmRlcgogICAgICAgIGxldCBvcmRlcklkOiBJbnQgPSBzZWxmLmxwUG9zaXRpb25PcmRlckluZGV4TmV4dDsKICAgICAgICBzZWxmLmxwUG9zaXRpb25PcmRlckluZGV4TmV4dCA9IHNlbGYubHBQb3NpdGlvbk9yZGVySW5kZXhOZXh0ICsgMTsKICAgICAgICBzZWxmLmxwUG9zaXRpb25PcmRlcnMuc2V0KG9yZGVySWQsIExQUG9zaXRpb25PcmRlcnsKICAgICAgICAgICAgaXNJbmNyZWFzZTogZmFsc2UsCiAgICAgICAgICAgIGFjY291bnQ6IHNlbmRlcigpLAogICAgICAgICAgICBsaXF1aWRpdHlEZWx0YTogbXNnLmxpcXVpZGl0eURlbHRhLAogICAgICAgICAgICBleGVjdXRpb25GZWU6IG1zZy5leGVjdXRpb25GZWUsCiAgICAgICAgICAgIGJsb2NrVGltZTogbm93KCksCiAgICAgICAgICAgIGlzUGVuZGluZzogZmFsc2UsCiAgICAgICAgICAgIGV4ZWN1dGlvbkZlZVJlY2VpdmVyOiBudWxsLAogICAgICAgICAgICBsYXN0T3BlcmF0b3I6IG51bGwKICAgICAgICB9KTsKCiAgICAgICAgLy8gZXZlbnQKICAgICAgICBlbWl0KExQUG9zaXRpb25PcmRlckNyZWF0ZWRFdmVudHsKICAgICAgICAgICAgb3BUeXBlOiBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFLAogICAgICAgICAgICBhY2NvdW50OiBzZW5kZXIoKSwKICAgICAgICAgICAgbGlxdWlkaXR5RGVsdGE6IG1zZy5saXF1aWRpdHlEZWx0YSwKICAgICAgICAgICAgZXhlY3V0aW9uRmVlOiBtc2cuZXhlY3V0aW9uRmVlLAogICAgICAgICAgICBvcmRlcklkOiBvcmRlcklkCiAgICAgICAgfS50b0NlbGwoKSk7CgogICAgICAgIC8vIHRyYW5zZmVyIGV4ZWNlc3MgZ2FzCiAgICAgICAgc2VsZi5yZWZ1bmRFeGVjZXNzVG9uKHNlbmRlcigpLCBtc2cuZXhlY3V0aW9uRmVlKTsKICAgIH0KCiAgICAvLyBDYW5jZWwgSW5jcmVhc2UgLyBEZWNyZWFzZQogICAgLy8gY2FuY2VsIGluY3JlYXNlID0+IG9yZGVyQm9vayB3YWxsZXQgPT4gZXhjZXNzIGdhcwogICAgLy8gY2FuY2VsIGRlY3JlYXNlID0+IGV4Y2VzcyBnYXMKICAgIHJlY2VpdmUobXNnOiBDYW5jZWxMUFBvc2l0aW9uT3JkZXIpIHsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIC8vIGNoZWNrIG9yZGVyCiAgICAgICAgbGV0IG9yZGVyT3B0OiBMUFBvc2l0aW9uT3JkZXI/ID0gc2VsZi5scFBvc2l0aW9uT3JkZXJzLmdldChtc2cub3JkZXJJZCk7CiAgICAgICAgcmVxdWlyZShvcmRlck9wdCAhPSBudWxsLCAib3JkZXIgbm90IGV4aXN0Iik7CiAgICAgICAgbGV0IG9yZGVyOiBMUFBvc2l0aW9uT3JkZXIgPSBvcmRlck9wdCEhOwoKICAgICAgICAvLyBjaGVjayBnYXMKICAgICAgICBpZiAob3JkZXIuaXNJbmNyZWFzZSkgewogICAgICAgICAgICByZXF1aXJlKGN0eC52YWx1ZSA+PSBzZWxmLmdhc0NvbnN1bXB0aW9uICsgc2VsZi5taW5Ub25zRm9yU3RvcmFnZSArIEdBU19UUkFOU0ZFUl9KRVRUT04sICJnYXMgbm90IGVub3VnaCIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlID49IHNlbGYuZ2FzQ29uc3VtcHRpb24gKyBzZWxmLm1pblRvbnNGb3JTdG9yYWdlLCAiZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICB9CgogICAgICAgIHNlbGYuc2hvdWxkQ2FuY2VsKG9yZGVyLmJsb2NrVGltZSwgc2VuZGVyKCksIG9yZGVyLmlzUGVuZGluZyk7CgogICAgICAgIC8vIGdldCBmZWUgcmVjZWl2ZXIKICAgICAgICBsZXQgZXhlY3V0aW9uRmVlUmVjZWl2ZXI6IEFkZHJlc3MgPSBzZW5kZXIoKTsKICAgICAgICBpZiAobXNnLmV4ZWN1dGlvbkZlZVJlY2VpdmVyICE9IG51bGwpIHsKICAgICAgICAgICAgZXhlY3V0aW9uRmVlUmVjZWl2ZXIgPSBtc2cuZXhlY3V0aW9uRmVlUmVjZWl2ZXIhITsKICAgICAgICB9CgogICAgICAgIC8vIGRlbGV0ZSBvcmRlcgogICAgICAgIHNlbGYubHBQb3NpdGlvbk9yZGVycy5zZXQobXNnLm9yZGVySWQsIG51bGwpOwoKICAgICAgICBpZiAob3JkZXIuaXNJbmNyZWFzZSkgewogICAgICAgICAgICAvLyB0cmFuc2ZlciBqZXR0b24KICAgICAgICAgICAgc2VsZi5yZWZ1bmRKZXR0b24oMCwgb3JkZXIubGlxdWlkaXR5RGVsdGEsIG9yZGVyLmFjY291bnQsIHNlbmRlcigpKTsKICAgICAgICB9CgogICAgICAgIC8vIHRyYW5zZmVyIGV4ZWN1dGlvbiBmZWUKICAgICAgICAvLyBzZWxmLnRyYW5zZmVyRXhlY3V0aW9uRmVlKGV4ZWN1dGlvbkZlZVJlY2VpdmVyLCBvcmRlci5leGVjdXRpb25GZWUpOwogICAgICAgIGlmIChvcmRlci5leGVjdXRpb25GZWUgPiAwKSB7CiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogZXhlY3V0aW9uRmVlUmVjZWl2ZXIsCiAgICAgICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgICAgICB2YWx1ZTogb3JkZXIuZXhlY3V0aW9uRmVlLAogICAgICAgICAgICAgICAgbW9kZTogU2VuZElnbm9yZUVycm9ycwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8vIGV2ZW50CiAgICAgICAgZW1pdChMUFBvc2l0aW9uT3JkZXJDYW5jZWxsZWRFdmVudHsKICAgICAgICAgICAgb3BUeXBlOiBvcmRlci5pc0luY3JlYXNlID8gT1JERVJfT1BfVFlQRV9JTkNSRUFTRSA6IE9SREVSX09QX1RZUEVfREVDUkVBU0UsCiAgICAgICAgICAgIG9yZGVySWQ6IG1zZy5vcmRlcklkLAogICAgICAgICAgICB0cnhJZDogbXNnLnRyeElkCiAgICAgICAgfS50b0NlbGwoKSk7CgogICAgICAgIC8vIHRyYW5zZmVyIGV4ZWNlc3MgZ2FzCiAgICAgICAgc2VsZi5yZWZ1bmRFeGVjZXNzVG9uKHNlbmRlcigpLCAwKTsKICAgIH0KCiAgICAvLyBFeGVjdXRlIEluY3JlYXNlIC8gRGVjcmVhc2UKICAgIC8vIGV4ZWN1dGUgaW5jcmVhc2UgPT4gaW5jcmVhc2UgcG9zaXRpb24gZm9yIHBvb2wgPT4gaW5jcmVhc2Ugc3VjY2VzcyAvIGJvdW5jZWQgPT4gZXhjZXNzIGdhcwogICAgLy8gZXhlY3V0ZSBkZWNyZWFzZSA9PiBkZWNyZWFzZSBwb3NpdGlvbiBmb3IgcG9vbCA9PiBkZWNyZWFzZSBzdWNjZXNzID0+IG9yZGVyQm9vayB3YWxsZXQgPT4gZXhjZXNzIGdhcwogICAgcmVjZWl2ZShtc2c6IEV4ZWN1dGVMUFBvc2l0aW9uT3JkZXIpIHsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwoKICAgICAgICAvLyBjaGVjayBvcmRlcgogICAgICAgIGxldCBvcmRlck9wdDogTFBQb3NpdGlvbk9yZGVyPyA9IHNlbGYubHBQb3NpdGlvbk9yZGVycy5nZXQobXNnLm9yZGVySWQpOwogICAgICAgIHJlcXVpcmUob3JkZXJPcHQgIT0gbnVsbCwgIm9yZGVyIG5vdCBleGlzdCIpOwoKICAgICAgICBsZXQgb3JkZXI6IExQUG9zaXRpb25PcmRlciA9IG9yZGVyT3B0ISE7CgogICAgICAgIC8vIGNoZWNrIGdhcwogICAgICAgIGlmIChvcmRlci5pc0luY3JlYXNlKSB7CiAgICAgICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlID49IHNlbGYuZ2FzQ29uc3VtcHRpb24gKiAyICsgc2VsZi5taW5Ub25zRm9yU3RvcmFnZSArIHNlbGYuZ2V0UG9vbEdhcygpLCAiZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXF1aXJlKGN0eC52YWx1ZSA+PSBzZWxmLmdhc0NvbnN1bXB0aW9uICogMiArIHNlbGYubWluVG9uc0ZvclN0b3JhZ2UgKyBzZWxmLmdldFBvb2xHYXMoKSArIEdBU19UUkFOU0ZFUl9KRVRUT04sICJnYXMgbm90IGVub3VnaCIpOwogICAgICAgIH0KCiAgICAgICAgc2VsZi5zaG91bGRFeGVjdXRlKG9yZGVyLmJsb2NrVGltZSwgb3JkZXIuaXNQZW5kaW5nKTsKCiAgICAgICAgLy8gdXBkYXRlIG9yZGVyCiAgICAgICAgaWYgKG1zZy5leGVjdXRpb25GZWVSZWNlaXZlciAhPSBudWxsKSB7CiAgICAgICAgICAgIG9yZGVyLmV4ZWN1dGlvbkZlZVJlY2VpdmVyID0gbXNnLmV4ZWN1dGlvbkZlZVJlY2VpdmVyISE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgb3JkZXIuZXhlY3V0aW9uRmVlUmVjZWl2ZXIgPSBzZW5kZXIoKTsKICAgICAgICB9CiAgICAgICAgb3JkZXIubGFzdE9wZXJhdG9yID0gc2VuZGVyKCk7CiAgICAgICAgb3JkZXIuaXNQZW5kaW5nID0gdHJ1ZTsKICAgICAgICBzZWxmLmxwUG9zaXRpb25PcmRlcnMuc2V0KG1zZy5vcmRlcklkLCBvcmRlcik7CgogICAgICAgIC8vIHNlbmQgdXBkYXRlIHBvc2l0aW9uIG1zZwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLnBvb2wsCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUsCiAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgYm9keTogVXBkYXRlTFBQb3NpdGlvbiB7CiAgICAgICAgICAgICAgICBpc0luY3JlYXNlOiBvcmRlci5pc0luY3JlYXNlLAogICAgICAgICAgICAgICAgb3JkZXJJZDogbXNnLm9yZGVySWQsCiAgICAgICAgICAgICAgICB0cnhJZDogbXNnLnRyeElkLAogICAgICAgICAgICAgICAgYWNjb3VudDogb3JkZXIuYWNjb3VudCwKICAgICAgICAgICAgICAgIGxpcXVpZGl0eURlbHRhOiBvcmRlci5saXF1aWRpdHlEZWx0YSwKICAgICAgICAgICAgICAgIHByaWNlc0xlbmd0aDogbXNnLnByaWNlc0xlbmd0aCwKICAgICAgICAgICAgICAgIHByaWNlczogbXNnLnByaWNlcwogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CiAgICB9CgogICAgLy8gaW5jcmVhc2Ugc3VjY2VzcyAvIGJvdW5jZWQgPT4gZXhjZXNzIGdhcwogICAgLy8gZGVjcmVhc2Ugc3VjY2VzcyA9PiBvcmRlckJvb2sgd2FsbGV0ID0+IGV4Y2VzcyBnYXMKICAgIHJlY2VpdmUobXNnOiBVcGRhdGVMUFBvc2l0aW9uU3VjY2VzcykgewogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgcmVxdWlyZShzZW5kZXIoKSA9PSBzZWxmLnBvb2wsICJpbnZhbGlkIHNlbmRlciIpOwoKICAgICAgICAvLyBnZXQgb3JkZXIKICAgICAgICBsZXQgb3JkZXJPcHQ6IExQUG9zaXRpb25PcmRlcj8gPSBzZWxmLmxwUG9zaXRpb25PcmRlcnMuZ2V0KG1zZy5vcmRlcklkKTsKICAgICAgICByZXF1aXJlKG9yZGVyT3B0ICE9IG51bGwsICJvcmRlciBub3QgZXhpc3QiKTsKICAgICAgICBsZXQgb3JkZXI6IExQUG9zaXRpb25PcmRlciA9IG9yZGVyT3B0ISE7CgogICAgICAgIC8vIGNoZWNrIGdhcwogICAgICAgIGlmIChvcmRlci5pc0luY3JlYXNlKSB7CiAgICAgICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlID49IHNlbGYuZ2FzQ29uc3VtcHRpb24sICJnYXMgbm90IGVub3VnaCIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlID49IHNlbGYuZ2FzQ29uc3VtcHRpb24gKyBHQVNfVFJBTlNGRVJfSkVUVE9OLCAiZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICB9CgogICAgICAgIC8vIGRlbGV0ZSBvcmRlcgogICAgICAgIHNlbGYubHBQb3NpdGlvbk9yZGVycy5zZXQobXNnLm9yZGVySWQsIG51bGwpOwoKICAgICAgICBpZiAoIW9yZGVyLmlzSW5jcmVhc2UgJiYgbXNnLnJlY2VpdmUgPiAwKSB7CiAgICAgICAgICAgIC8vIHRyYW5zZmVyIGpldHRvbgogICAgICAgICAgICBzZWxmLnJlZnVuZEpldHRvbihtc2cudHJ4SWQsIG1zZy5yZWNlaXZlLCBvcmRlci5hY2NvdW50LCBvcmRlci5sYXN0T3BlcmF0b3IpOwogICAgICAgIH0KCiAgICAgICAgLy8gdHJhbnNmZXIgZXhlY3V0aW9uIGZlZQogICAgICAgIC8vIHNlbGYudHJhbnNmZXJFeGVjdXRpb25GZWUob3JkZXIuZXhlY3V0aW9uRmVlUmVjZWl2ZXIsIG9yZGVyLmV4ZWN1dGlvbkZlZSk7CiAgICAgICAgaWYgKG9yZGVyLmV4ZWN1dGlvbkZlZVJlY2VpdmVyICE9IG51bGwgJiYgb3JkZXIuZXhlY3V0aW9uRmVlID4gMCkgewogICAgICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICAgICAgdG86IG9yZGVyLmV4ZWN1dGlvbkZlZVJlY2VpdmVyISEsCiAgICAgICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgICAgICB2YWx1ZTogb3JkZXIuZXhlY3V0aW9uRmVlLAogICAgICAgICAgICAgICAgbW9kZTogU2VuZElnbm9yZUVycm9ycwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8vIGV2ZW50CiAgICAgICAgZW1pdChMUFBvc2l0aW9uT3JkZXJFeGVjdXRlZEV2ZW50ewogICAgICAgICAgICBvcFR5cGU6IG9yZGVyLmlzSW5jcmVhc2UgPyBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFIDogT1JERVJfT1BfVFlQRV9ERUNSRUFTRSwKICAgICAgICAgICAgb3JkZXJJZDogbXNnLm9yZGVySWQsCiAgICAgICAgICAgIHRyeElkOiBtc2cudHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKCiAgICAgICAgLy8gdHJhbnNmZXIgZXhjZXNzIGdhcwogICAgICAgIGlmIChvcmRlci5sYXN0T3BlcmF0b3IgIT0gbnVsbCkgewogICAgICAgICAgICBzZWxmLnJlZnVuZEV4ZWNlc3NUb24ob3JkZXIubGFzdE9wZXJhdG9yISEsIDApOwogICAgICAgIH0KICAgIH0KCiAgICAvLyByZXNldCBvcmRlciBwZW5kaW5nCiAgICBib3VuY2VkKHNyYzogYm91bmNlZDxVcGRhdGVMUFBvc2l0aW9uPikgewoKICAgICAgICAvLyBnZXQgb3JkZXIKICAgICAgICBsZXQgb3JkZXJPcHQ6IExQUG9zaXRpb25PcmRlcj8gPSBzZWxmLmxwUG9zaXRpb25PcmRlcnMuZ2V0KHNyYy5vcmRlcklkKTsKICAgICAgICBpZiAob3JkZXJPcHQgPT0gbnVsbCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGxldCBvcmRlcjogTFBQb3NpdGlvbk9yZGVyID0gb3JkZXJPcHQhITsKCiAgICAgICAgLy8gdXBkYXRlIHBlbmRpbmcKICAgICAgICBvcmRlci5pc1BlbmRpbmcgPSBmYWxzZTsKICAgICAgICBzZWxmLmxwUG9zaXRpb25PcmRlcnMuc2V0KHNyYy5vcmRlcklkLCBvcmRlcik7CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBHZXR0ZXIgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KICAgIGdldCBmdW4gbHBQb3NpdGlvbk9yZGVyKG9yZGVySWQ6IEludCk6IExQUG9zaXRpb25PcmRlcj8gewogICAgICAgIHJldHVybiBzZWxmLmxwUG9zaXRpb25PcmRlcnMuZ2V0KG9yZGVySWQpOwogICAgfQoKICAgIGdldCBmdW4gbHBQb3NpdGlvbk9yZGVySW5kZXhOZXh0KCk6IEludCB7CiAgICAgICAgcmV0dXJuIHNlbGYubHBQb3NpdGlvbk9yZGVySW5kZXhOZXh0OwogICAgfQoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUGVycCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBDcmVhdGUgSW5jcmVhc2UgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KICAgIGZ1biBoYW5kbGVDcmVhdGVJbmNyZWFzZVBlcnBQb3NpdGlvbk9yZGVyKHF1ZXJ5SWQ6IEludCwgamV0dG9uRnJvbUFtb3VudDogSW50LCBhY2NvdW50OiBBZGRyZXNzLCBleGVjdXRpb25GZWU6IEludCwgaXNNYXJrZXQ6IEJvb2wsCiAgICAgICAgdG9rZW5JZDogSW50LCBpc0xvbmc6IEJvb2wsIG1hcmdpbkRlbHRhOiBJbnQsIHNpemVEZWx0YTogSW50LCB0cmlnZ2VyUHJpY2U6IEludCwgdHBTaXplOiBJbnQsIHRwUHJpY2U6IEludCwgc2xTaXplOiBJbnQsIHNsUHJpY2U6IEludCkgewogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CgogICAgICAgIGxldCByZWZ1bmRDb21tZW50OiBTdHJpbmcgPSAiIjsKICAgICAgICBsZXQgcmVmdW5kOiBCb29sID0gZmFsc2U7CiAgICAgICAgaWYgKGN0eC52YWx1ZSA8IGV4ZWN1dGlvbkZlZSArIHNlbGYuZ2FzQ29uc3VtcHRpb24gKyBzZWxmLm1pblRvbnNGb3JTdG9yYWdlKSB7CiAgICAgICAgICAgIHJlZnVuZCA9IHRydWU7CiAgICAgICAgICAgIHJlZnVuZENvbW1lbnQgPSAiZ2FzIG5vdCBlbm91Z2giOwogICAgICAgIH0KCiAgICAgICAgaWYgKGpldHRvbkZyb21BbW91bnQgPCBtYXJnaW5EZWx0YSkgewogICAgICAgICAgICByZWZ1bmQgPSB0cnVlOwogICAgICAgICAgICByZWZ1bmRDb21tZW50ID0gImpldHRvbiBub3QgZW5vdWdoIjsKICAgICAgICB9CgogICAgICAgIGlmIChleGVjdXRpb25GZWUgPCBzZWxmLm1pbkV4ZWN1dGlvbkZlZSkgewogICAgICAgICAgICByZWZ1bmQgPSB0cnVlOwogICAgICAgICAgICByZWZ1bmRDb21tZW50ID0gImV4ZWN1dGlvbiBmZWUgbm90IGVub3VnaCI7CiAgICAgICAgfQoKICAgICAgICAvLyBuZWVkIHJlZnVuZAogICAgICAgIGlmIChyZWZ1bmQpIHsKICAgICAgICAgICAgc2VsZi5yZWZ1bmRKZXR0b24ocXVlcnlJZCwgamV0dG9uRnJvbUFtb3VudCwgYWNjb3VudCwgYWNjb3VudCk7CiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogYWNjb3VudCwKICAgICAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgICAgIHZhbHVlOiBleGVjdXRpb25GZWUsCiAgICAgICAgICAgICAgICBtb2RlOiBTZW5kSWdub3JlRXJyb3JzICsgU2VuZFJlbWFpbmluZ1ZhbHVlLAogICAgICAgICAgICAgICAgYm9keTogcmVmdW5kQ29tbWVudC5hc0NvbW1lbnQoKQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgLy8gYWRkIG5ldyBvcmRlcgogICAgICAgIGxldCBvcFR5cGU6IEludCA9IDA7CiAgICAgICAgaWYgKGlzTWFya2V0KSB7CiAgICAgICAgICAgIG9wVHlwZSA9IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTUFSS0VUOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG9wVHlwZSA9IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTElNSVQ7CiAgICAgICAgfQogICAgICAgIHNlbGYuY3JlYXRlUGVycE9yZGVyKG9wVHlwZSwgYWNjb3VudCwgdG9rZW5JZCwgaXNMb25nLCBtYXJnaW5EZWx0YSwgc2l6ZURlbHRhLCB0cmlnZ2VyUHJpY2UsIAogICAgICAgICAgICB0cFNpemUsIHRwUHJpY2UsIHNsU2l6ZSwgc2xQcmljZSwgZXhlY3V0aW9uRmVlKTsKCiAgICAgICAgc2VsZi5yZWZ1bmRFeGVjZXNzVG9uKGFjY291bnQsIGV4ZWN1dGlvbkZlZSk7CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBDcmVhdGUgRGVjcmVhc2UgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KICAgIHJlY2VpdmUobXNnOiBDcmVhdGVEZWNyZWFzZVBlcnBQb3NpdGlvbk9yZGVyKSB7CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKICAgICAgICAvLyBjaGVjayBnYXMKICAgICAgICByZXF1aXJlKGN0eC52YWx1ZSAtIG1zZy5leGVjdXRpb25GZWUgPj0gc2VsZi5nYXNDb25zdW1wdGlvbiArIHNlbGYubWluVG9uc0ZvclN0b3JhZ2UsICJnYXMgbm90IGVub3VnaCIpOwogICAgICAgIC8vIGNoZWNrIGV4ZWN1dGlvbiBmZWUgVE9ETyB0cC9zbAogICAgICAgIHJlcXVpcmUobXNnLmV4ZWN1dGlvbkZlZSA+PSBzZWxmLm1pbkV4ZWN1dGlvbkZlZSwgImV4ZWN1dGlvbiBmZWUgbm90IGVub3VnaCIpOwogICAgICAgIHJlcXVpcmUobXNnLm9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFX01BUktFVCB8fCBtc2cub3BUeXBlID09IE9SREVSX09QX1RZUEVfREVDUkVBU0VfVFAgfHwgbXNnLm9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFX1NMLCAiaW52YWxpZCBvcCB0eXBlIik7CgogICAgICAgIC8vIGFkZCBuZXcgb3JkZXIKICAgICAgICBzZWxmLmNyZWF0ZVBlcnBPcmRlcihtc2cub3BUeXBlLCBzZW5kZXIoKSwgbXNnLnRva2VuSWQsIG1zZy5pc0xvbmcsIG1zZy5tYXJnaW5EZWx0YSwgbXNnLnNpemVEZWx0YSwgbXNnLnRyaWdnZXJQcmljZSwgCiAgICAgICAgICAgICAgICAwLCAwLCAwLCAwLCBtc2cuZXhlY3V0aW9uRmVlKTsKCiAgICAgICAgLy8gdHJhbnNmZXIgZXhlY2VzcyBnYXMKICAgICAgICBzZWxmLnJlZnVuZEV4ZWNlc3NUb24oc2VuZGVyKCksIG1zZy5leGVjdXRpb25GZWUpOwogICAgfQoKICAgIGZ1biBjcmVhdGVQZXJwT3JkZXIob3BUeXBlOiBJbnQsIGFjY291bnQ6IEFkZHJlc3MsIHRva2VuSWQ6IEludCwgaXNMb25nOiBCb29sLCBtYXJnaW5EZWx0YTogSW50LCBzaXplRGVsdGE6IEludCwgdHJpZ2dlclByaWNlOiBJbnQsIAogICAgICAgIHRwU2l6ZTogSW50LCB0cFByaWNlOiBJbnQsIHNsU2l6ZTogSW50LCBzbFByaWNlOiBJbnQsIGV4ZWN1dGlvbkZlZTogSW50KTogSW50IHsKICAgICAgICBsZXQgdHJpZ2dlckFib3ZlOiBCb29sID0gZmFsc2U7CgogICAgICAgIGxldCBvcmRlcklkOiBJbnQgPSBzZWxmLnBlcnBQb3NpdGlvbk9yZGVySW5kZXhOZXh0OwogICAgICAgIHNlbGYucGVycFBvc2l0aW9uT3JkZXJJbmRleE5leHQgPSBvcmRlcklkICsgMTsKCiAgICAgICAgaWYgKG9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFX01BUktFVCB8fCBvcFR5cGUgPT0gT1JERVJfT1BfVFlQRV9JTkNSRUFTRV9MSU1JVCkgewogICAgICAgICAgICAvLyBpbmNyZWFzZSBmb3IgbG9uZyBvcmRlciwgbXVzdCB0cmlnZ2VyIGJlbG93IHRoZSBwcmljZQogICAgICAgICAgICB0cmlnZ2VyQWJvdmUgPSAhaXNMb25nOwogICAgICAgICAgICBzZWxmLnBlcnBQb3NpdGlvbk9yZGVyRXhzLnNldChvcmRlcklkLCBQZXJwUG9zaXRpb25PcmRlckV4ewogICAgICAgICAgICAgICAgdHBTaXplOiB0cFNpemUsCiAgICAgICAgICAgICAgICB0cFByaWNlOiB0cFByaWNlLAogICAgICAgICAgICAgICAgc2xTaXplOiBzbFNpemUsCiAgICAgICAgICAgICAgICBzbFByaWNlOiBzbFByaWNlCiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChvcFR5cGUgPT0gT1JERVJfT1BfVFlQRV9ERUNSRUFTRV9NQVJLRVQpIHsKICAgICAgICAgICAgICAgIC8vIGRlY3JlYXNlIGZvciBsb25nIG1hcmtldCBvcmRlciwgbXVzdCB0cmlnZ2VyIGFib3ZlIHRoZSBwcmljZQogICAgICAgICAgICAgICAgdHJpZ2dlckFib3ZlID0gaXNMb25nOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaWYgKG9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFX1RQKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gdHAgZm9yIGxvbmcgbGltaXQgb3JkZXIsIG11c3QgdHJpZ2dlciBhYm92ZSB0aGUgcHJpY2UKICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyQWJvdmUgPSBpc0xvbmc7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRyaWdnZXJBYm92ZSA9ICFpc0xvbmc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHNlbGYucGVycFBvc2l0aW9uT3JkZXJzLnNldChvcmRlcklkLCBQZXJwUG9zaXRpb25PcmRlcnsKICAgICAgICAgICAgb3BUeXBlOiBvcFR5cGUsCiAgICAgICAgICAgIHRva2VuSWQ6IHRva2VuSWQsCiAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgICAgICAgIGlzTG9uZzogaXNMb25nLAogICAgICAgICAgICBtYXJnaW5EZWx0YTogbWFyZ2luRGVsdGEsCiAgICAgICAgICAgIHNpemVEZWx0YTogc2l6ZURlbHRhLAogICAgICAgICAgICB0cmlnZ2VyUHJpY2U6IHRyaWdnZXJQcmljZSwKICAgICAgICAgICAgdHJpZ2dlckFib3ZlOiB0cmlnZ2VyQWJvdmUsCiAgICAgICAgICAgIGV4ZWN1dGlvbkZlZTogZXhlY3V0aW9uRmVlLAogICAgICAgICAgICBibG9ja1RpbWU6IG5vdygpLAogICAgICAgICAgICBpc1BlbmRpbmc6IGZhbHNlLAogICAgICAgICAgICBleGVjdXRpb25GZWVSZWNlaXZlcjogbnVsbCwKICAgICAgICAgICAgbGFzdE9wZXJhdG9yOiBudWxsCiAgICAgICAgfSk7CiAgICAgICAgLy8gZXZlbnQKICAgICAgICBlbWl0KFBlcnBQb3NpdGlvbk9yZGVyQ3JlYXRlZEV2ZW50ewogICAgICAgICAgICBvcFR5cGU6IG9wVHlwZSwKICAgICAgICAgICAgdG9rZW5JZDogdG9rZW5JZCwKICAgICAgICAgICAgYWNjb3VudDogYWNjb3VudCwKICAgICAgICAgICAgaXNMb25nOiBpc0xvbmcsCiAgICAgICAgICAgIG1hcmdpbkRlbHRhOiBtYXJnaW5EZWx0YSwKICAgICAgICAgICAgc2l6ZURlbHRhOiBzaXplRGVsdGEsCiAgICAgICAgICAgIGV4ZWN1dGlvbkZlZTogZXhlY3V0aW9uRmVlLAogICAgICAgICAgICBvcmRlcklkOiBvcmRlcklkLAogICAgICAgICAgICB0cmlnZ2VyUHJpY2U6IHRyaWdnZXJQcmljZSwKICAgICAgICAgICAgdHJpZ2dlckFib3ZlOiB0cmlnZ2VyQWJvdmUsCiAgICAgICAgICAgIHRwU2l6ZTogdHBTaXplLAogICAgICAgICAgICB0cFByaWNlOiB0cFByaWNlLAogICAgICAgICAgICBzbFNpemU6IHNsU2l6ZSwKICAgICAgICAgICAgc2xQcmljZTogc2xQcmljZQogICAgICAgIH0udG9DZWxsKCkpOwogICAgICAgIHJldHVybiBvcmRlcklkOwogICAgfQoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gQ2FuY2VsIEluY3JlYXNlIC8gRGVjcmVhc2UgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KICAgIC8vIGNhbmNlbCBpbmNyZWFzZSA9PiBvcmRlckJvb2sgd2FsbGV0ID0+IHVzZXIgd2FsbGV0ID0+IHRva2VuIGV4Y2VzcyBoYW5kZWwgY2FuY2VsID0+IGV4Y2VzcyBnYXMKICAgIC8vIGNhbmNlbCBkZWNyZWFzZSA9PiBleGNlc3MgZ2FzCiAgICByZWNlaXZlKG1zZzogQ2FuY2VsUGVycFBvc2l0aW9uT3JkZXIpIHsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIC8vIGNoZWNrIG9yZGVyCiAgICAgICAgbGV0IG9yZGVyT3B0OiBQZXJwUG9zaXRpb25PcmRlcj8gPSBzZWxmLnBlcnBQb3NpdGlvbk9yZGVycy5nZXQobXNnLm9yZGVySWQpOwogICAgICAgIHJlcXVpcmUob3JkZXJPcHQgIT0gbnVsbCwgIm9yZGVyIG5vdCBleGlzdCIpOwogICAgICAgIGxldCBvcmRlcjogUGVycFBvc2l0aW9uT3JkZXIgPSBvcmRlck9wdCEhOwoKICAgICAgICAvLyBjaGVjayBnYXMKICAgICAgICBpZiAob3JkZXIub3BUeXBlID09IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTUFSS0VUIHx8IG9yZGVyLm9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFX0xJTUlUKSB7CiAgICAgICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlID49IHNlbGYuZ2FzQ29uc3VtcHRpb24gKyBzZWxmLm1pblRvbnNGb3JTdG9yYWdlICsgR0FTX1RSQU5TRkVSX0pFVFRPTiwgImdhcyBub3QgZW5vdWdoIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVxdWlyZShjdHgudmFsdWUgPj0gc2VsZi5nYXNDb25zdW1wdGlvbiArIHNlbGYubWluVG9uc0ZvclN0b3JhZ2UsICJnYXMgbm90IGVub3VnaCIpOwogICAgICAgIH0KCiAgICAgICAgc2VsZi5zaG91bGRDYW5jZWwob3JkZXIuYmxvY2tUaW1lLCBzZW5kZXIoKSwgb3JkZXIuaXNQZW5kaW5nKTsKCiAgICAgICAgLy8gZ2V0IGZlZSByZWNlaXZlcgogICAgICAgIGxldCBleGVjdXRpb25GZWVSZWNlaXZlcjogQWRkcmVzcyA9IHNlbmRlcigpOwogICAgICAgIGlmIChtc2cuZXhlY3V0aW9uRmVlUmVjZWl2ZXIgIT0gbnVsbCkgewogICAgICAgICAgICBleGVjdXRpb25GZWVSZWNlaXZlciA9IG1zZy5leGVjdXRpb25GZWVSZWNlaXZlciEhOwogICAgICAgIH0KCiAgICAgICAgLy8gZGVsZXRlIG9yZGVyCiAgICAgICAgc2VsZi5wZXJwUG9zaXRpb25PcmRlcnMuc2V0KG1zZy5vcmRlcklkLCBudWxsKTsKCiAgICAgICAgaWYgKG9yZGVyLm9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFX01BUktFVCB8fCBvcmRlci5vcFR5cGUgPT0gT1JERVJfT1BfVFlQRV9JTkNSRUFTRV9MSU1JVCkgewogICAgICAgICAgICAvLyB0cmFuc2ZlciBqZXR0b24KICAgICAgICAgICAgc2VsZi5yZWZ1bmRKZXR0b24obXNnLnRyeElkLCBvcmRlci5tYXJnaW5EZWx0YSwgb3JkZXIuYWNjb3VudCwgc2VuZGVyKCkpOwogICAgICAgIH0KCiAgICAgICAgLy8gdHJhbnNmZXIgZXhlY3V0aW9uIGZlZQogICAgICAgIC8vIHNlbGYudHJhbnNmZXJFeGVjdXRpb25GZWUoZXhlY3V0aW9uRmVlUmVjZWl2ZXIsIG9yZGVyLmV4ZWN1dGlvbkZlZSk7CiAgICAgICAgaWYgKG9yZGVyLmV4ZWN1dGlvbkZlZSA+IDApIHsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBleGVjdXRpb25GZWVSZWNlaXZlciwKICAgICAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgICAgIHZhbHVlOiBvcmRlci5leGVjdXRpb25GZWUsCiAgICAgICAgICAgICAgICBtb2RlOiBTZW5kSWdub3JlRXJyb3JzCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy8gZXZlbnQKICAgICAgICBlbWl0KFBlcnBQb3NpdGlvbk9yZGVyQ2FuY2VsbGVkRXZlbnR7CiAgICAgICAgICAgIG9wVHlwZTogb3JkZXIub3BUeXBlLAogICAgICAgICAgICBvcmRlcklkOiBtc2cub3JkZXJJZCwKICAgICAgICAgICAgdHJ4SWQ6IG1zZy50cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwoKICAgICAgICAvLyB0cmFuc2ZlciBleGVjZXNzIGdhcwogICAgICAgIHNlbGYucmVmdW5kRXhlY2Vzc1RvbihzZW5kZXIoKSwgMCk7CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBFeGVjdXRlIEluY3JlYXNlIC8gRGVjcmVhc2UgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KICAgIC8vIGV4ZWN1dGUgaW5jcmVhc2UgPT4gaW5jcmVhc2UgcG9zaXRpb24gZm9yIHBvb2wgPT4gaW5jcmVhc2Ugc3VjY2VzcyAvIGJvdW5jZWQgPT4gZXhjZXNzIGdhcwogICAgLy8gZXhlY3V0ZSBkZWNyZWFzZSA9PiBkZWNyZWFzZSBwb3NpdGlvbiBmb3IgcG9vbCA9PiBkZWNyZWFzZSBzdWNjZXNzID0+IHRyYW5zZmVyIGpldHRvbiA9PiB0b2tlbiBleGNlc3NlcyBoYW5kZWwgY2FuY2VsID0+IGV4Y2VzcyBnYXMKICAgIHJlY2VpdmUobXNnOiBFeGVjdXRlUGVycFBvc2l0aW9uT3JkZXIpIHsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwoKICAgICAgICAvLyBjaGVjayBvcmRlcgogICAgICAgIGxldCBvcmRlck9wdDogUGVycFBvc2l0aW9uT3JkZXI/ID0gc2VsZi5wZXJwUG9zaXRpb25PcmRlcnMuZ2V0KG1zZy5vcmRlcklkKTsKICAgICAgICByZXF1aXJlKG9yZGVyT3B0ICE9IG51bGwsICJvcmRlciBub3QgZXhpc3QiKTsKCiAgICAgICAgbGV0IG9yZGVyOiBQZXJwUG9zaXRpb25PcmRlciA9IG9yZGVyT3B0ISE7CgogICAgICAgIC8vIGNoZWNrIGdhcwogICAgICAgIGlmIChvcmRlci5vcFR5cGUgPT0gT1JERVJfT1BfVFlQRV9JTkNSRUFTRV9NQVJLRVQgfHwgb3JkZXIub3BUeXBlID09IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTElNSVQpIHsKICAgICAgICAgICAgcmVxdWlyZShjdHgudmFsdWUgPj0gc2VsZi5nYXNDb25zdW1wdGlvbiAqIDIgKyBzZWxmLm1pblRvbnNGb3JTdG9yYWdlICsgc2VsZi5nZXRQb29sR2FzKCksICJnYXMgbm90IGVub3VnaCIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlID49IHNlbGYuZ2FzQ29uc3VtcHRpb24gKiAyICsgc2VsZi5taW5Ub25zRm9yU3RvcmFnZSArIHNlbGYuZ2V0UG9vbEdhcygpICsgR0FTX1RSQU5TRkVSX0pFVFRPTiwgImdhcyBub3QgZW5vdWdoIik7CiAgICAgICAgfQoKICAgICAgICBzZWxmLnNob3VsZEV4ZWN1dGUob3JkZXIuYmxvY2tUaW1lLCBvcmRlci5pc1BlbmRpbmcpOwoKICAgICAgICAvLyB1cGRhdGUgb3JkZXIKICAgICAgICBpZiAobXNnLmV4ZWN1dGlvbkZlZVJlY2VpdmVyICE9IG51bGwpIHsKICAgICAgICAgICAgb3JkZXIuZXhlY3V0aW9uRmVlUmVjZWl2ZXIgPSBtc2cuZXhlY3V0aW9uRmVlUmVjZWl2ZXIhITsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBvcmRlci5leGVjdXRpb25GZWVSZWNlaXZlciA9IHNlbmRlcigpOwogICAgICAgIH0KICAgICAgICBvcmRlci5pc1BlbmRpbmcgPSB0cnVlOwogICAgICAgIHNlbGYucGVycFBvc2l0aW9uT3JkZXJzLnNldChtc2cub3JkZXJJZCwgb3JkZXIpOwoKICAgICAgICAvLyBzZW5kIHVwZGF0ZSBwb3NpdGlvbiBtc2cKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogc2VsZi5wb29sLAogICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ1ZhbHVlLAogICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgIGJvZHk6IFVwZGF0ZVBlcnBQb3NpdGlvbiB7CiAgICAgICAgICAgICAgICBvcmRlcklkOiBtc2cub3JkZXJJZCwKICAgICAgICAgICAgICAgIG9wVHlwZTogb3JkZXIub3BUeXBlLAogICAgICAgICAgICAgICAgdHJ4SWQ6IG1zZy50cnhJZCwKICAgICAgICAgICAgICAgIGFjY291bnQ6IG9yZGVyLmFjY291bnQsCiAgICAgICAgICAgICAgICB0b2tlbklkOiBvcmRlci50b2tlbklkLAogICAgICAgICAgICAgICAgaXNMb25nOiBvcmRlci5pc0xvbmcsCiAgICAgICAgICAgICAgICBtYXJnaW5EZWx0YTogb3JkZXIubWFyZ2luRGVsdGEsCiAgICAgICAgICAgICAgICBzaXplRGVsdGE6IG9yZGVyLnNpemVEZWx0YSwKICAgICAgICAgICAgICAgIHRyaWdnZXJQcmljZTogb3JkZXIudHJpZ2dlclByaWNlLAogICAgICAgICAgICAgICAgdHJpZ2dlckFib3ZlOiBvcmRlci50cmlnZ2VyQWJvdmUsCiAgICAgICAgICAgICAgICBwcmljZXNMZW5ndGg6IG1zZy5wcmljZXNMZW5ndGgsCiAgICAgICAgICAgICAgICBwcmljZXM6IG1zZy5wcmljZXMKICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgIH0pOwogICAgfQoKICAgIC8vIGluY3JlYXNlIHN1Y2Nlc3MgLyBib3VuY2VkID0+IGV4Y2VzcyBnYXMKICAgIC8vIGRlY3JlYXNlIHN1Y2Nlc3MgPT4gdHJhbnNmZXIgamV0dG9uID0+IHRva2VuIGV4Y2Vzc2VzIGhhbmRlbCBjYW5jZWwgPT4gZXhjZXNzIGdhcwogICAgcmVjZWl2ZShtc2c6IFVwZGF0ZVBlcnBQb3NpdGlvblN1Y2Nlc3MpIHsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gc2VsZi5wb29sLCAiaW52YWxpZCBzZW5kZXIiKTsKCiAgICAgICAgLy8gZ2V0IG9yZGVyCiAgICAgICAgbGV0IG9yZGVyT3B0OiBQZXJwUG9zaXRpb25PcmRlcj8gPSBzZWxmLnBlcnBQb3NpdGlvbk9yZGVycy5nZXQobXNnLm9yZGVySWQpOwogICAgICAgIGlmIChvcmRlck9wdCA9PSBudWxsKSB7CiAgICAgICAgICAgIAogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGxldCBvcmRlcjogUGVycFBvc2l0aW9uT3JkZXIgPSBvcmRlck9wdCEhOwoKICAgICAgICAvLyBjaGVjayBnYXMKICAgICAgICBpZiAob3JkZXIub3BUeXBlID09IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTUFSS0VUIHx8IG9yZGVyLm9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFX0xJTUlUKSB7CiAgICAgICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlID49IHNlbGYuZ2FzQ29uc3VtcHRpb24sICJnYXMgbm90IGVub3VnaCIpOwogICAgICAgICAgICAvLyBjcmVhdGUgdHAgc2wKICAgICAgICAgICAgbGV0IG9yZGVyRXhPcHQ6IFBlcnBQb3NpdGlvbk9yZGVyRXg/ID0gc2VsZi5wZXJwUG9zaXRpb25PcmRlckV4cy5nZXQobXNnLm9yZGVySWQpOwogICAgICAgICAgICBpZiAob3JkZXJFeE9wdCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBsZXQgb3JkZXJFeDogUGVycFBvc2l0aW9uT3JkZXJFeCA9IG9yZGVyRXhPcHQhITsKICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSB0cC9zbAogICAgICAgICAgICAgICAgaWYgKG9yZGVyRXgudHBTaXplID4gMCAmJiBvcmRlckV4LnRwUHJpY2UgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgc2VsZi5jcmVhdGVQZXJwT3JkZXIoT1JERVJfT1BfVFlQRV9ERUNSRUFTRV9UUCwgc2VuZGVyKCksIG9yZGVyLnRva2VuSWQsIG9yZGVyLmlzTG9uZywgMCwgb3JkZXJFeC50cFNpemUsIG9yZGVyRXgudHBQcmljZSwgCiAgICAgICAgICAgICAgICAgICAgICAgIDAsIDAsIDAsIDAsIDApOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChvcmRlckV4LnNsU2l6ZSA+IDAgJiYgb3JkZXJFeC5zbFByaWNlID4gMCkgewogICAgICAgICAgICAgICAgICAgIHNlbGYuY3JlYXRlUGVycE9yZGVyKE9SREVSX09QX1RZUEVfREVDUkVBU0VfU0wsIHNlbmRlcigpLCBvcmRlci50b2tlbklkLCBvcmRlci5pc0xvbmcsIDAsIG9yZGVyRXguc2xTaXplLCBvcmRlckV4LnNsUHJpY2UsIAogICAgICAgICAgICAgICAgICAgICAgICAwLCAwLCAwLCAwLCAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlID49IHNlbGYuZ2FzQ29uc3VtcHRpb24gKyBHQVNfVFJBTlNGRVJfSkVUVE9OLCAiZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICB9CgogICAgICAgIC8vIGRlbGV0ZSBvcmRlcgogICAgICAgIHNlbGYucGVycFBvc2l0aW9uT3JkZXJzLnNldChtc2cub3JkZXJJZCwgbnVsbCk7CgogICAgICAgIC8vIGV2ZW50CiAgICAgICAgZW1pdChQZXJwUG9zaXRpb25PcmRlckV4ZWN1dGVkRXZlbnR7CiAgICAgICAgICAgIG9wVHlwZTogb3JkZXIub3BUeXBlLAogICAgICAgICAgICBvcmRlcklkOiBtc2cub3JkZXJJZCwKICAgICAgICAgICAgdHJ4SWQ6IG1zZy50cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwoKICAgICAgICAvLyB0cmFuc2ZlciBleGVjdXRpb24gZmVlCiAgICAgICAgaWYgKG9yZGVyLmV4ZWN1dGlvbkZlZVJlY2VpdmVyICE9IG51bGwpIHsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBvcmRlci5leGVjdXRpb25GZWVSZWNlaXZlciEhLAogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICAgICAgdmFsdWU6IG9yZGVyLmV4ZWN1dGlvbkZlZSwKICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvLyB0cmFuc2ZlciBleGVjZXNzIGdhcwogICAgICAgIGlmIChvcmRlci5sYXN0T3BlcmF0b3IgIT0gbnVsbCkgewogICAgICAgICAgICBzZWxmLnJlZnVuZEV4ZWNlc3NUb24ob3JkZXIubGFzdE9wZXJhdG9yISEsIDApOwogICAgICAgIH0KICAgIH0KCiAgICAvLyByZXNldCBvcmRlciBwZW5kaW5nCiAgICBib3VuY2VkKHNyYzogYm91bmNlZDxVcGRhdGVQZXJwUG9zaXRpb24+KSB7CiAgICAgICAgLy8gZ2V0IG9yZGVyCiAgICAgICAgbGV0IG9yZGVyT3B0OiBQZXJwUG9zaXRpb25PcmRlcj8gPSBzZWxmLnBlcnBQb3NpdGlvbk9yZGVycy5nZXQoc3JjLm9yZGVySWQpOwogICAgICAgIGlmIChvcmRlck9wdCA9PSBudWxsKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgbGV0IG9yZGVyOiBQZXJwUG9zaXRpb25PcmRlciA9IG9yZGVyT3B0ISE7CiAgICAgICAgaWYgKG9yZGVyLm9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0xJUVVJREFUSU9OKSB7CiAgICAgICAgICAgIC8vIGRlbGV0ZQogICAgICAgICAgICBzZWxmLnBlcnBQb3NpdGlvbk9yZGVycy5zZXQoc3JjLm9yZGVySWQsIG51bGwpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIHVwZGF0ZSBwZW5kaW5nCiAgICAgICAgICAgIG9yZGVyLmlzUGVuZGluZyA9IGZhbHNlOwogICAgICAgICAgICBzZWxmLnBlcnBQb3NpdGlvbk9yZGVycy5zZXQoc3JjLm9yZGVySWQsIG9yZGVyKTsKICAgICAgICB9CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBMaXF1aWRhdGlvbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwogICAgcmVjZWl2ZShtc2c6IExpcXVpZGF0ZU9yQURMUGVycFBvc2l0aW9uKSB7CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKCiAgICAgICAgLy8gY2hlY2sgZ2FzCiAgICAgICAgcmVxdWlyZShjdHgudmFsdWUgPj0gc2VsZi5nYXNDb25zdW1wdGlvbiAqIDIgKyBzZWxmLm1pblRvbnNGb3JTdG9yYWdlICsgc2VsZi5nZXRQb29sR2FzKCkgKyBHQVNfVFJBTlNGRVJfSkVUVE9OLCAiZ2FzIG5vdCBlbm91Z2giKTsKCiAgICAgICAgLy8gY2hlY2sgc2VuZGVyCiAgICAgICAgbGV0IGlzRXhlY3V0b3I6IEJvb2wgPSBmYWxzZTsKICAgICAgICBsZXQgaXNFeGVjdXRvck9wdDogQm9vbD8gPSBzZWxmLmV4ZWN1dG9ycy5nZXQoc2VuZGVyKCkpOwogICAgICAgIGlmIChpc0V4ZWN1dG9yT3B0ICE9IG51bGwpIHsKICAgICAgICAgICAgaXNFeGVjdXRvciA9IGlzRXhlY3V0b3JPcHQhITsKICAgICAgICB9CiAgICAgICAgcmVxdWlyZShpc0V4ZWN1dG9yLCAiaW52YWxpZCBzZW5kZXIiKTsKCiAgICAgICAgLy8gZmVlIHJlY2VpdmVyCiAgICAgICAgbGV0IGV4ZWN1dGlvbkZlZVJlY2VpdmVyOiBBZGRyZXNzID0gc2VuZGVyKCk7CiAgICAgICAgaWYgKG1zZy5leGVjdXRpb25GZWVSZWNlaXZlciAhPSBudWxsKSB7CiAgICAgICAgICAgIGV4ZWN1dGlvbkZlZVJlY2VpdmVyID0gbXNnLmV4ZWN1dGlvbkZlZVJlY2VpdmVyISE7CiAgICAgICAgfQoKICAgICAgICAvLyBhZGQgbmV3IG9yZGVyCiAgICAgICAgbGV0IG9yZGVySWQ6IEludCA9IHNlbGYucGVycFBvc2l0aW9uT3JkZXJJbmRleE5leHQ7CiAgICAgICAgc2VsZi5wZXJwUG9zaXRpb25PcmRlckluZGV4TmV4dCA9IHNlbGYucGVycFBvc2l0aW9uT3JkZXJJbmRleE5leHQgKyAxOwogICAgICAgIHNlbGYucGVycFBvc2l0aW9uT3JkZXJzLnNldChvcmRlcklkLCBQZXJwUG9zaXRpb25PcmRlcnsKICAgICAgICAgICAgb3BUeXBlOiBPUkRFUl9PUF9UWVBFX0xJUVVJREFUSU9OLAogICAgICAgICAgICB0b2tlbklkOiBtc2cudG9rZW5JZCwKICAgICAgICAgICAgYWNjb3VudDogbXNnLmFjY291bnQsCiAgICAgICAgICAgIGlzTG9uZzogbXNnLmlzTG9uZywKICAgICAgICAgICAgbWFyZ2luRGVsdGE6IDAsCiAgICAgICAgICAgIHNpemVEZWx0YTogMCwKICAgICAgICAgICAgdHJpZ2dlclByaWNlOiAwLAogICAgICAgICAgICB0cmlnZ2VyQWJvdmU6IGZhbHNlLAogICAgICAgICAgICBleGVjdXRpb25GZWU6IDAsCiAgICAgICAgICAgIGJsb2NrVGltZTogbm93KCksCiAgICAgICAgICAgIGlzUGVuZGluZzogdHJ1ZSwKICAgICAgICAgICAgZXhlY3V0aW9uRmVlUmVjZWl2ZXI6IGV4ZWN1dGlvbkZlZVJlY2VpdmVyLAogICAgICAgICAgICBsYXN0T3BlcmF0b3I6IHNlbmRlcigpCiAgICAgICAgfSk7CgogICAgICAgIC8vIHNlbmQgdXBkYXRlIHBvc2l0aW9uIG1zZwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLnBvb2wsCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUsCiAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgYm9keTogVXBkYXRlUGVycFBvc2l0aW9uIHsKICAgICAgICAgICAgICAgIG9wVHlwZTogT1JERVJfT1BfVFlQRV9MSVFVSURBVElPTiwKICAgICAgICAgICAgICAgIG9yZGVySWQ6IG9yZGVySWQsCiAgICAgICAgICAgICAgICB0cnhJZDogbXNnLnRyeElkLAogICAgICAgICAgICAgICAgYWNjb3VudDogbXNnLmFjY291bnQsCiAgICAgICAgICAgICAgICB0b2tlbklkOiBtc2cudG9rZW5JZCwKICAgICAgICAgICAgICAgIGlzTG9uZzogbXNnLmlzTG9uZywKICAgICAgICAgICAgICAgIG1hcmdpbkRlbHRhOiAwLAogICAgICAgICAgICAgICAgc2l6ZURlbHRhOiAwLAogICAgICAgICAgICAgICAgdHJpZ2dlclByaWNlOiAwLAogICAgICAgICAgICAgICAgdHJpZ2dlckFib3ZlOiBmYWxzZSwKICAgICAgICAgICAgICAgIHByaWNlc0xlbmd0aDogbXNnLnByaWNlc0xlbmd0aCwKICAgICAgICAgICAgICAgIHByaWNlczogbXNnLnByaWNlcwogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBHZXR0ZXIgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KICAgIGdldCBmdW4gcGVycFBvc2l0aW9uT3JkZXIob3JkZXJJZDogSW50KTogUGVycFBvc2l0aW9uT3JkZXI/IHsKICAgICAgICByZXR1cm4gc2VsZi5wZXJwUG9zaXRpb25PcmRlcnMuZ2V0KG9yZGVySWQpOwogICAgfQoKICAgIGdldCBmdW4gcGVycFBvc2l0aW9uT3JkZXJJbmRleE5leHQoKTogSW50IHsKICAgICAgICByZXR1cm4gc2VsZi5wZXJwUG9zaXRpb25PcmRlckluZGV4TmV4dDsKICAgIH0KCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBDb21wZW5zYXRlID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KICAgIHJlY2VpdmUobXNnOiBDb21wZW5zYXRlT3JkZXIpIHsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwoKICAgICAgICAvLyBleGVjdXRvciBvciB0cmFkZXIKICAgICAgICBsZXQgaXNFeGVjdXRvcjogQm9vbCA9IGZhbHNlOwogICAgICAgIGxldCBpc0V4ZWN1dG9yT3B0OiBCb29sPyA9IHNlbGYuZXhlY3V0b3JzLmdldChzZW5kZXIoKSk7CiAgICAgICAgaWYgKGlzRXhlY3V0b3JPcHQgIT0gbnVsbCkgewogICAgICAgICAgICBpc0V4ZWN1dG9yID0gaXNFeGVjdXRvck9wdCEhOwogICAgICAgIH0KCiAgICAgICAgLy8gY2hlY2sgc2VuZGVyCiAgICAgICAgcmVxdWlyZShpc0V4ZWN1dG9yLCAiaW52YWxpZCBzZW5kZXIiKTsKCiAgICAgICAgLy8gY2hlY2sgZ2FzCiAgICAgICAgaWYgKG1zZy5yZWZ1bmRSZWNlaXZlciAhPSBudWxsICYmIG1zZy5yZWZ1bmRBbW91bnQgPiAwKSB7CiAgICAgICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlID49IHNlbGYuZ2FzQ29uc3VtcHRpb24gKyBzZWxmLm1pblRvbnNGb3JTdG9yYWdlICsgR0FTX1RSQU5TRkVSX0pFVFRPTiwgImdhcyBub3QgZW5vdWdoIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVxdWlyZShjdHgudmFsdWUgPj0gc2VsZi5nYXNDb25zdW1wdGlvbiArIHNlbGYubWluVG9uc0ZvclN0b3JhZ2UsICJnYXMgbm90IGVub3VnaCIpOwogICAgICAgIH0KCiAgICAgICAgLy8gZ2V0IG9yZGVyCiAgICAgICAgaWYobXNnLm9yZGVyVHlwZSAhPSBudWxsKSB7CiAgICAgICAgICAgIGxldCBpc1BlbmRpbmc6IEJvb2wgPSB0cnVlOwogICAgICAgICAgICBpZiAobXNnLm9yZGVyVHlwZSA9PSBPUkRFUl9UWVBFX0xQKSB7CiAgICAgICAgICAgICAgICBsZXQgb3JkZXJPcHQ6IExQUG9zaXRpb25PcmRlcj8gPSBzZWxmLmxwUG9zaXRpb25PcmRlcnMuZ2V0KG1zZy5vcmRlcklkKTsKICAgICAgICAgICAgICAgIGlmIChvcmRlck9wdCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgaXNQZW5kaW5nID0gKG9yZGVyT3B0ISEpLmlzUGVuZGluZzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHNlbGYubHBQb3NpdGlvbk9yZGVycy5zZXQobXNnLm9yZGVySWQsIG51bGwpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbGV0IG9yZGVyT3B0OiBQZXJwUG9zaXRpb25PcmRlcj8gPSBzZWxmLnBlcnBQb3NpdGlvbk9yZGVycy5nZXQobXNnLm9yZGVySWQpOwogICAgICAgICAgICAgICAgaWYgKG9yZGVyT3B0ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICBpc1BlbmRpbmcgPSAob3JkZXJPcHQhISkuaXNQZW5kaW5nOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2VsZi5wZXJwUG9zaXRpb25PcmRlcnMuc2V0KG1zZy5vcmRlcklkLCBudWxsKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXF1aXJlKGlzUGVuZGluZywgIm9yZGVyIG5vdCBwZW5kaW5nIik7CiAgICAgICAgfQoKICAgICAgICAvLyByZWZ1bmQKICAgICAgICBpZiAobXNnLnJlZnVuZFJlY2VpdmVyICE9IG51bGwgJiYgbXNnLnJlZnVuZEFtb3VudCA+IDApIHsKICAgICAgICAgICAgLy8gdHJhbnNmZXIgamV0dG9uCiAgICAgICAgICAgIHNlbGYucmVmdW5kSmV0dG9uKG1zZy50cnhJZCwgbXNnLnJlZnVuZEFtb3VudCwgbXNnLnJlZnVuZFJlY2VpdmVyISEsIHNlbmRlcigpKTsKICAgICAgICB9CgogICAgICAgIC8vIHRyYW5zZmVyIGV4ZWN1dGlvbiBmZWUKICAgICAgICAvLyBzZWxmLnRyYW5zZmVyRXhlY3V0aW9uRmVlKG1zZy5leGVjdXRpb25GZWVSZWNlaXZlciwgbXNnLmV4ZWN1dGlvbkZlZSk7CiAgICAgICAgaWYgKG1zZy5leGVjdXRpb25GZWVSZWNlaXZlciAhPSBudWxsICYmIG1zZy5leGVjdXRpb25GZWUgPiAwKSB7CiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogbXNnLmV4ZWN1dGlvbkZlZVJlY2VpdmVyISEsCiAgICAgICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgICAgICB2YWx1ZTogbXNnLmV4ZWN1dGlvbkZlZSwKICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBlbWl0KENvbXBlbnNhdGVPcmRlckV2ZW50ewogICAgICAgICAgICBvcmRlclR5cGU6IG1zZy5vcmRlclR5cGUsCiAgICAgICAgICAgIG9yZGVySWQ6IG1zZy5vcmRlcklkLAogICAgICAgICAgICB0cnhJZDogbXNnLnRyeElkLAogICAgICAgICAgICByZWZ1bmRSZWNlaXZlcjogbXNnLnJlZnVuZFJlY2VpdmVyLAogICAgICAgICAgICByZWZ1bmRBbW91bnQ6IG1zZy5yZWZ1bmRBbW91bnQsCiAgICAgICAgICAgIGV4ZWN1dGlvbkZlZVJlY2VpdmVyOiBtc2cuZXhlY3V0aW9uRmVlUmVjZWl2ZXIsCiAgICAgICAgICAgIGV4ZWN1dGlvbkZlZTogbXNnLmV4ZWN1dGlvbkZlZQogICAgICAgIH0udG9DZWxsKCkpOwoKICAgICAgICAvLyB0cmFuc2ZlciBleGVjZXNzIGdhcwogICAgICAgIHNlbGYucmVmdW5kRXhlY2Vzc1RvbihzZW5kZXIoKSwgMCk7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IHByaXZhdGUgZnVuY3Rpb24gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwogICAgZnVuIHNob3VsZENhbmNlbChibG9ja1RpbWU6IEludCwgYWNjb3VudDogQWRkcmVzcywgaXNQZW5kaW5nOiBCb29sKSB7CiAgICAgICAgcmVxdWlyZSghaXNQZW5kaW5nLCAib3JkZXIgaXMgcGVuZGluZyIpOwoKICAgICAgICAvLyBleGVjdXRvciBvciB0cmFkZXIKICAgICAgICBsZXQgaXNFeGVjdXRvcjogQm9vbCA9IGZhbHNlOwogICAgICAgIGxldCBpc0V4ZWN1dG9yT3B0OiBCb29sPyA9IHNlbGYuZXhlY3V0b3JzLmdldChzZW5kZXIoKSk7CiAgICAgICAgaWYgKGlzRXhlY3V0b3JPcHQgIT0gbnVsbCkgewogICAgICAgICAgICBpc0V4ZWN1dG9yID0gaXNFeGVjdXRvck9wdCEhOwogICAgICAgIH0KCiAgICAgICAgLy8gY2hlY2sgc2VuZGVyCiAgICAgICAgcmVxdWlyZShzZW5kZXIoKSA9PSBhY2NvdW50IHx8IGlzRXhlY3V0b3IsICJpbnZhbGlkIHNlbmRlciIpOwogICAgICAgIC8vIHRyYWRlciBjYW5jZWwgbXVzdCBhZnRlciBtaW5UaW1lRGVsYXlUcmFkZXIKICAgICAgICBpZiAoIWlzRXhlY3V0b3IpIHsKICAgICAgICAgICAgcmVxdWlyZShibG9ja1RpbWUgKyBzZWxmLm1pblRpbWVEZWxheVRyYWRlciA8PSBub3coKSwgInRvbyBlYXJseSIpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW4gc2hvdWxkRXhlY3V0ZShibG9ja1RpbWU6IEludCwgaXNQZW5kaW5nOiBCb29sKSB7CiAgICAgICAgcmVxdWlyZSghaXNQZW5kaW5nLCAib3JkZXIgaXMgcGVuZGluZyIpOwoKICAgICAgICAvLyBleGVjdXRvciBvciB0cmFkZXIKICAgICAgICBsZXQgaXNFeGVjdXRvcjogQm9vbCA9IGZhbHNlOwogICAgICAgIGxldCBpc0V4ZWN1dG9yT3B0OiBCb29sPyA9IHNlbGYuZXhlY3V0b3JzLmdldChzZW5kZXIoKSk7CiAgICAgICAgaWYgKGlzRXhlY3V0b3JPcHQgIT0gbnVsbCkgewogICAgICAgICAgICBpc0V4ZWN1dG9yID0gaXNFeGVjdXRvck9wdCEhOwogICAgICAgIH0KCiAgICAgICAgLy8gY2hlY2sgc2VuZGVyCiAgICAgICAgcmVxdWlyZShpc0V4ZWN1dG9yLCAiaW52YWxpZCBzZW5kZXIiKTsKCiAgICAgICAgLy8gZXhlY3V0b3IgY2FuY2VsIG11c3QgYmVmb3JlIG1heFRpbWVEZWxheUV4ZWN1dG9yCiAgICAgICAgcmVxdWlyZShibG9ja1RpbWUgKyBzZWxmLm1heFRpbWVEZWxheUV4ZWN1dG9yID4gbm93KCksICJvcmRlciBleHBpcmVkIik7CiAgICB9CgogICAgLy8gZnVuIHRva2VuRW5hYmxlZCh0b2tlbkluZGV4OiBJbnQpOiBCb29sIHsKICAgIC8vICAgICBsZXQgdG9rZW5Db25maWdPcHQ6IFRva2VuQ29uZmlnPyA9IHNlbGYudG9rZW5Db25maWdzLmdldCh0b2tlbkluZGV4KTsKICAgIC8vICAgICBpZiAodG9rZW5Db25maWdPcHQgPT0gbnVsbCkgewogICAgLy8gICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAvLyAgICAgfQogICAgLy8gICAgIHJldHVybiAodG9rZW5Db25maWdPcHQhISkuZW5hYmxlOwogICAgLy8gfQoKCn0K"},"compiler":{"name":"tact","version":"1.2.0","parameters":"{\"entrypoint\":\"contracts/order/order_book.tact\",\"options\":{}}"}}