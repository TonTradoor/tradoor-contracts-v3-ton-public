{"name":"OrderBook","code":"te6ccgECywEAPd4AART/APSkE/S88sgLAQIBYgIDA+LQAdDTAwFxsKMB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFRQUwNvBPhhAvhi2zwRFhEYERYRFREXERURFBEWERQRExEVERMREhEUERIRERETEREREBESERAPEREPDhEQDhDfVRzbPPLggsAEBQIBIKmqBPLtou37AY/jgCDXIXAh10nCH5UwINcLH94gghDonNRfuuMCghD/V+VXuo880x8BghD/V+VXuvLggdM/0wfTP1UgbBNbJYEBASJZ9A1voZIwbd8gbpIwbY6H0Ns8bB1vDeIgbpFb4w5/4DB/4HAh10nCH5UwINcLH94gCbUKCwFAyPhDAcx/AcoAERcRFhEVERQRExESEREREFXg2zzJ7VQGAdoBERYBEReBAQHPAAERFAGBAQHPAAEREgGBAQHPABEQyIEBAc8AH4EBAc8AHYEBAc8AC8iBAQHPABqBAQHPABiBAQHPAAbIgQEBzwBQBSDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFlADBwH8INdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WyFgg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYSygAS9ABQAyDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFhP0ABTLPxT0AAXI9AAWyz8W9AAWyz/JWMzJCAAaUAPMyVADzMlYzMkBzAP8MNMfAYIQ6JzUX7ry4IHSANM/WWwSMSeBAQEiWfQNb6GSMG3fIG6SMG2Oh9DbPGwYbwjiIG6RW49DIG7y0IBvKDIQRhA1RlZwgQEBUYfIVXDbPMkaEyBulTBZ9FowlEEz9BXiJ26zjpEHIG7y0IBwgEJ/VSBtbW3bPJE34uJ/spenA+4gbvLQgG8tMivAA46uG18LgQEBbSBukjBtjo0gbvLQgG8tyFXA2zzJ4hA4QYAgbpUwWfRaMJRBM/QV4o6gVZFwgQEBUc3IVcDbPMkQOEGAIG6VMFn0WjCUQTP0FeLiJW6zjpEFIG7y0IBwgEJ/VSBtbW3bPJE14pycpwRighCSzzVmuo8IMNs8bB7bPH/gIMAAItdJwSGwklt/4CCCEHNi0Jy64wIgghAlshckugwNDg8B3tMfAYIQks81Zrry4IGBAQHXAPQE+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAGBAQHXAPoA1AHQ+gD6APoA+gD6APoA+gDUMND6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIARAE9hEWESQRFhEVESMRFREUESIRFBETESERExESESAREhERER8REREQER4REA8RHQ8OERwODREbDQwRGgwLERkLChEYCgkRFwkIESQIBxEjBwYRIgYFESEFBBEgBAMRHwMCER4CAREdAREc2zw3Ojo7Ozs7Ozs7OztwioroMJAREhMD1DDTHwGCEHNi0Jy68uCB0z/6APpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IhUEwMQI2wU+EJWEQHHBbOPJTD4QnCAQnBtI8jJ0CcQahBZBAhVIMhVYNs8yRRDMBRDMG1t2zzjDn+gpxQE/o6bMNMfAYIQJbIXJLry4IH6ANN/0z9VIGwT2zx/4CCCEH2R6za6jsQw0x8BghB9kes2uvLggdM/0z/6QCHXCwHDAI4dASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IiSMW3iQzBsE9s8f+AgghAShrmLuuMCIIIQHPDPgbobHB0eAFT6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIMRCeEJ0QnBCbEJoACCBWEbkA5i+BAQEiWfQNb6GSMG3fIG6SMG2OKND6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAdIAWWwSbwLiIG6zjiyBAQshIG7y0IBvIjACIG7y0IBvIjEQOxJxIW6VW1n0WTCYyAHPAEEz9EHiCJEw4qQBQj4++EJ/cIBAECNtbW3bPAoRFgoQnxCuXikQehBpEFhVI6cDNC3jAtMAAcABILPjAgHUMNDTHyKTIcABkXDiFRYXBPYwERgRGREYERcRGREXERYRGREWERURGREVERQRGREUERMRGRETERIRGRESERERGRERERARGREQDxEZDw4RGQ4NERkNDBEZDAsRGQsKERkKCREZCREZCAcGVUBWGVYa2zx/cIBCiAQRGwQQNG1t2zwRFREWERURFBEVERSeGKcaBPZbERgRGREYERcRGREXERYRGREWERURGREVERQRGREUERMRGRETERIRGRESERERGRERERARGREQDxEZDw4RGQ4NERkNDBEZDAsRGQsKERkKCREZCREZCAcGVUBWGVYa2zx/cIBCiAQRGwQQNG1t2zwRFREWERURFBEVERSeGacaAhyOimwh03/6ADAB2zzjDiEiADAAAAAAY3JlYXRlIG9yZGVyIHN0b3BwZWQAKgAAAABwYXlsb2FkIG5vdCBleGlzdAA8ERMRFBETERIRExESEREREhERERAREREQDxEQD1UOAvQRFhEZERYRFREYERURFBEXERQRExEZERMREhEYERIREREXEREREBEZERAPERgPDhEXDg0RGQ0MERgMCxEXCwoRGQoJERgJCBEXCAcRGQcGERgGBREXBQQRGQQDERgDAhEXAgERGQERGNs8+EFvJDAxgUtpMlYZoVYXvpEfAu74QW8kE18DKoEBASVZ9A1voZIwbd8gbpIwbY6H0Ns8bBhvCOKBf30hbrPy9CBu8tCAbyhbJZ2BS2lWIFYcoBi+F/L0moFLaQdWIL4X8vTigV5tBrMW8vT4QhEXER8RFxEWER4RFhEVER0RFREUERwRFBETERsRE7IuAYgw0x8BghAShrmLuvLggdM/0z/6QCHXCwHDAI4dASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IiSMW3iQzBsE9s8fzQEeI6eMNMfAYIQHPDPgbry4IHTP4EBAdcA0z9VIGwT2zx/4CCCEGqSPdu6jwgw2zxsF9s8f+AgghAjxy9Yujo7PD0D9PL0gV/yVhhWEb7y9CWkgQEBcPhC+CNw+EJtViEEViBENMhVcNs8ySgQOgEgbpUwWfRaMJRBM/QV4g5WGKBy+EJQQwIRHAJWGgIRHBnIVVDbPMnIgljAAAAAAAAAAAAAAAABActnzMlw+wBx+EIhERcRGhEXERYRGREWlyUgAY4RFREYERURFBEXERQRExEWERMREhEVERIREREUEREREBETERAPERIPDREQDRDPEL4QrRCcEIsQihB5EFgQRxA2EDRBMHDbPKQC9vhBbyQTXwOLCHAkVh6gE7mOElt/i+Z2FzIG5vdCBlbm91Z2iN5TUrmOFlt/jQRamV0dG9uIG5vdCBlbm91Z2iDeI1YXuY4dW3+NBhleGVjdXRpb24gZmVlIG5vdCBlbm91Z2iDeAeMCMDMppIEBAX/4I3BtJ1E5UThSpCMkA6oCksACkjBw4o6k+gDSAAHA/wHTP9IAAcD/AdN/03/T/9Qw0NN/0//Tf9P/MNs8jyQwcIBCcG0jyMnQJhBpEFgEB1UgyFVg2zzJVhBVMBRDMG1t2zziJqCnAvxsIREYERoRGBEXERkRFxEWERoRFhEVERkRFREUERoRFBETERkRExESERoREhERERkREREQERoREA8RGQ8OERoODREZDQwRGgwLERkLChEaCgkRGQkIERoIBxEZBwYRGgYFERkFBBEaBAMRGQMCERoCAREZAREaVhlWGts8f3CeKgOiyFVw2zzJLBA+ASBulTBZ9FowlEEz9BXiERIhoHFRMEUTVCAXHchVUNs8yciCWMAAAAAAAAAAAAAAAAEBy2fMyXD7AHEgAhERAhAqSTAScNs8lyWkAHiCELQXzGxQB8sfFcsHUAMg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxaBAQHPAAH6AoEBAc8Ayz8D7PhBbyQTXwOLCHAtViagE7mOElt/i+Z2FzIG5vdCBlbm91Z2iN5T6LmOFlt/jQRamV0dG9uIG5vdCBlbm91Z2iDecSbCAJMlwgCRcOKSMHLeJMIAkyPCAJFw4pGk3lYfIahS4LnjAALjAjA9CZF6koAL4lKtqQQnKCkAPmwhf40GGV4ZWN1dGlvbiBmZWUgbm90IGVub3VnaIFgC/GzBERgRGhEYERcRGREXERYRGhEWERURGREVERQRGhEUERMRGRETERIRGhESERERGRERERARGhEQDxEZDw4RGg4NERkNDBEaDAsRGQsKERoKCREZCQgRGggHERkHBhEaBgURGQUEERoEAxEZAwIRGgIBERkBERpWGVYa2zx/cJ4qAfwRIhEkESIRIREjESERIBEkESARHxEjER8RHhEkER4RHREjER0RHBEkERwRGxEjERsRGhEkERoRGREjERkRGBEkERgRFxEjERcRFhEkERYRFREjERURFBEkERQRExEjERMREhEkERIREREjEREREBEkERAPESMPDhEkDg0RIw0tAnyAQhEb2zwEERoEQTABERsBEDRtbds8ERQRFhEUERMRFRETERIRFBESERERExERERAREhEQDxERDw4REA5VHSunAULIcAHLH28AAW+MbW+MAds8byIByZMhbrOWAW8iWczJ6DEsALog10oh10mXIMIAIsIAsY5KA28igH8izzGrAqEFqwJRVbYIIMIAnCCqAhXXGFAzzxZAFN5ZbwJTQaHCAJnIAW8CUEShqgKOEjEzwgCZ1DDQINdKIddJknAg4uLoXwMC0AwRJAwLESMLChEkClYjUKrbPDANVhigERYRGBEWERURFxEVERQRFhEUERMRFRETERIRFBESERERExERERAREhEQDxERDw4REA4PEM4QvRCsEJsQihB5EGgQVxBGEDUQJHJAFANxcNs8bKQC/hESERoREhERERkREREQERgREA8RHw8OER4ODREdDQwRHAwLERsLChEaCgkRGQkIERgIBxEfBwYRHgYFER0FBBEcBAMRGwMCERoCAREZAds8ggCg9yGRf5f4QlYdAccF4vL0s44SggCbFxEdVheg+CO7AREdAfL0klcc4vhCVh1/LwTgbrOaMBEcIG7y0IARHJJXHeKBAQFtIG6SMG2OjSBu8tCAbyjIVXDbPMniECdWGAEgbpUwWfRaMJRBM/QV4lYalFcYVxjjDVYVwgCOkhEaf1YWchAjbW1t2zwJVhShCZJXGuJWF5FxkXLiAgERFAERG5cwpzEC/vhCERYRGREWERURGBEVERQRFxEUERMRFhETERIRFRESERERFBERERARExEQDxESDw4REQ4NERANEM8QvhCtEJwQixB6GRBYEEcQNl4iAxEcA1YeAwIRHQIRGwHbPBEZAhEXAgYRFgYRFQIRFAIGERMGERICERECBhEQBk4fEG2eMgH8yFUgghBLZYrAUATLHxLLB8s/yz/JyIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsAcfhCERSjIRETERsRExESERoREhERERkREREQERgREA8RFw8OERYODREVDQwRFAwLERMLChESCgkREQkIERAIEH8QbhBdEEwQaxBqEEkQaF4jMwAYSxwQakgZBkUXUEQDAQpBBAPbPKQE9vhBbyQTXwMqgQEBJVn0DW+hkjBt3yBukjBtjofQ2zxsGG8I4oF/fSFus/L0IG7y0IBvKFsl4w+BXm0RGLMBERgB8vT4QhETERcRExESERYREhERERUREREQERQREA8REw8OERIODRERDQwREAwQvxCuEJ0QjBB7EGoQWbI1NjcC+IFLaVYgqgARFhEiERYRFREhERURFBEgERQRExEfERMREhEeERIREREdEREREBEcERAPERsPDhEaDg0RGQ0MERgMCxEXCwoRIgoJESEJCBEgCAcRHwcGER4GBREdBQQRHAQDERsDAhEaAgERGQERGHHbPAERGQGgAREgAb58OAL+gUtpViCqABEWESIRFhEVESERFREUESARFBETER8RExESER4REhERER0REREQERwREA8RGw8OERoODREZDQwRGAwLERcLChEiCgkRIQkIESAIBxEfBwYRHgYFER0FBBEcBAMRGwMCERoCAREZAREYcds8AREZAaBWEKABESABvnw4A+QQSBA3RlAQNBAjAhEdAts8ggCg9wHy9FYdbrOXER0gbvLQgJRXHfhC4vhCf4EBAVYeBVYeBVYeBQQRHgQDER0DAhEeAshVcNs8yRAlAREWAVYbASBulTBZ9FowlEEz9BXiAREYAREZcBEcgEARGX8RGVh/lzkADAERGAHy9AHkyFVAghDonNRfUAbLHxTKABLLPwEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxaBAQHPAMs/yScEAxEbAwIRFwIRFgEUQzBtbds8DhEWDg0RFQ0MERQMCxETCwoREgoJEREJCBEQCFV3FxBGXiJYpwP2+EFvJBNfA4IAoPf4QlYRAccF8vQqgQEBJVn0DW+hkjBt3yBukjBtjofQ2zxsGG8I4oF/fSFus/L0IG7y0IBvKGwiMySagUtpBlYfvhby9J2BS2lWH1YboBe+FvL04oEBAW0gbpIwbY6NIG7y0IBvKMhVcNs8yeICERACspc+ADrTHwGCEGqSPdu68uCB+gDTP9IA03/Tf9N/0z9VYAL0ERYRHREWERURHBEVERQRGxEUERMRGhETERIRGRESERERGBERERARFxEQDxEdDw4RHA4NERsNDBEaDAsRGQsKERgKCREXCQgRHQgHERwHBhEbBgURGgUEERkEAxEYAwIRFwIBER0BERzbPPhBbyQwMYFLaTJWHaFWFr6RQgTGjwgw2zxsGNs8f+AgghDB+VPyuo7FMNMfAYIQwflT8rry4IH6QCHXCwHDAI4dASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IiSMW3iAdM/0z9VIGwT2zx/4CCCEJ36Dti6REVGRwPaUpAgbpUwWfRaMJRBM/QV4ibCAJEy4w0twgCOkQN/LnIQI21tbds8ERMsoRETkTPiAZFxkXLiQFPIVSCCELMFX9RQBMsfEssHyz/LP8nIgljAAAAAAAAAAAAAAAABActnzMlw+wAgbrOSWzfjDT+nQAL2ERcRHhEXERYRHREWERURHBEVERQRGxEUERMRGhETERIRGRESERERGBERERARHhEQDxEdDw4RHA4NERsNDBEaDAsRGQsKERgKCREeCQgRHQgHBhEbBgURGgUEERkEAxEYAwIRHgIBER0BVhoBVhwBESBWH9s8ERYRHREWnkEBKnEBIG7y0IAKo1RBE8IAEEtBQBPbPKQAmhEVERwRFREUERsRFBETERoRExESERkREhERERgREREQERcREA8RFg8OERUODREUDQwREwwLERILChERCgkREAkQjxB+EFwQSxA6SYcWAfzy9IFf8lYcVhC+8vSADPhCcFRwABEcESIRHBEbESERGxEaESARGhEZER8RGREYER4RGBEXER0RFxEWERwRFhEVERsRFREUERoRFBETERkRExESERgREhERERcREREQERYREA8RFQ8OERQODRETDQwREgwLERELChEQChCfEI5DAuIQfRBsEKsQWhBJBBEjBFYj2zwwDVYXoHL4QhEYERkRGBEXERgRFxEWERcRFhEVERYRFREUERURFBETERQRExESERMREhERERIREREQEREREAIREAIQ7xDeEM0QvBCrEJoQiRB4EGcQVhBFEDRYcXDbPGykAD7THwGCECPHL1i68uCB+gDTP9IA03/Tf9N/03/TP1VwA/QRFhEeERYRFREdERURFBEcERQRExEbERMREhEaERIREREZEREREBEYERAPERcPDhEeDg0RHQ0MERwMCxEbCwoRGgoJERkJCBEYCAcRFwcGER4GBREdBQQRHAQDERsDAhEaAgERGQERGNs8+EFvJBNfA3BWHsIAkXDjDZFISQLw+EFvJBNfAyiBAQEkWfQNb6GSMG3fIG6SMG2Oh9DbPGwdbw3igX99IW6z8vQgbvLQgG8tW2wzNDUlwAqRf5MlwAvinYFLaVYfVhygGL4X8vSagUtpB1Yfvhfy9OKBXm0CsxLy9PhCERcRHxEXERYRHhEWERURHREVtU8EOo8IMNs8bBbbPH/gIIIQ7wHCtLrjAiCCECM0O7S6WVpbXAAIVh3CAAP6kjBx3lYcwgCUVhvCAJFw4pGk3oFLaQJWGqFWFyKovhLy9IFf8lYQIqhWGgG+8vRWHcIAlFYcwgCRcOKUVxxXHOMNVhnCAJRWGMIAkXDijhIEER0EAxEcAwIRGQJXF1cXXwPjDQdWEaBy+EIREhEaERIREREZEREREBEYERBKS0wB/IAN+EJwVHAAIFYfKKkEER8RIBEfER4RHxEeER0RHhEdERwRHREcERsRHBEbERoRGxEaERkRGhEZERgRGREYERcRGBEXERYRFxEWERURFhEVERQRFREUERMRFBETERIRExESEREREhERERAREREQDxEQDxDvEN4QzRC8EKsQmk0B/oAO+EJwVHAAIFYdViKpBBEdESMRHREcESIRHBEbESERGxEaESARGhEZER8RGREYER4RGBEXER0RFxEWERwRFhEVERsRFREUERoRFBETERkRExESERgREhERERcREREQERYREA8RFQ8OERQODRETDQwREgwLERELChEQChCfEI5OAXIPERcPDhEWDg0RFQ0MERQMCxETCwoREgoCERECCBEQCBB/EG4QXRBMEDsQmhAoEGcQVhBFQDRw2zykAXJWIQoQiRB4VigIVigIBwYRKAYFEScFBAMRKAMCEScCAREo2zwwERsRGhEWERURFBETERIREREQVeBsAaAQvRC8EHsQagkRJQkIESQIEFcGESUGBREkBds8MAURGAUEERcEERYFERUFAxEUAwIREwIBERIBBBERBBEQEF8QPk3AEEsKEFkQOEcUBVUgBmwE/BEUERwRFBETERsRExESERoREhERERkREREQERgREA8RHw8OER4ODREdDQwRHAwLERsLChEaCgkRGQkIERgIBxEfBwYRHgYFER0FBBEcBAMRGwMCERoCAREZAds8ggCg9yGRf5f4QlYcAccF4vL0s5Fw4w2SVxrjDfhCVhdus39QUVIAGFYbwAqRf5RWG8AM4gAkggCbFxEbVheg+CO7AREbAfL0BPyaMBEWIG7y0IARFpJXF+JwVhvACpF/lFYbwAvilFcYVxjjDYEBAW0gbpIwbY6NIG7y0IBvLchVwNs8yeIQJFYeASBulTBZ9FowlEEz9BXiVhrCAI6WERV/VhtyECNtbW3bPAERFQERGaARFJRXFVcZ4glWFKFWFwIBERsBERpTnKdUAvgjgQEBViBZ9A1voZIwbd8gbpIwbY4o0IEBAdcAgQEB1wCBAQHXANQB0IEBAdcAgQEB1wAwECUQJBAjbBVvBeIgbrORMOMN+EIRFxEZERcRFhEYERYRFREXERURFBEWERQRExEVERMREhEUERIRERETEREREBESERAPEREPVVYB/MhVIIIQgD5hdVAEyx8SywfLP8s/yciCWMAAAAAAAAAAAAAAAAEBy2fMyXD7AHL4QhEUo3FWGMAKk1cYf5QRGMAL4hETERsRExESERoREhERERkREREQERgREA8RFw8OERYODREVDQwRFAwLERMLCxESCwkREQkIERAIEH8QblgC9iBu8tCAbyUlBcIAkwPCAJIzcOKUM1RBE94BwgCSwgCSMHDikaCRMOIgwgCOjTFWGX8ichAjbW1t2zyRMOKBAQFtIG6SMG2OLSBu8tCAbyXIVUBQRYEBAc8AEoEBAc8AgQEBzwAByIEBAc8AEoEBAc8AyQHMyeIQJVYgAadXAZAOERAOEN8QzhC9EKwQmxCKEHkQaBBXEEYQNRAkAxEbA1YeAwIRHAIRGwHbPBEYAREXAREWAREVAREUARETARESARERAREQVdGeAB4gbpUwWfRaMJRBM/QV4gMBKBBdEEwQOxA6EEkQSBA3EDVBQNs8pACW0x8BghCd+g7YuvLggfpAIdcLAcMAjh0BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiJIxbeIB0z/TP9M/gQEB1wCBAQHXAFVQBPb4QW8kE18DK4EBASdZ9A1voZIwbd8gbpIwbY6H0Ns8bB1vDeKBf30hbrPy9CBu8tCAby1bKsAKkX+TKsAL4uMPgV5tESizAREoAfL0ggDKxxEhVhy6AREhAfL0+EIREhEXERIREREWEREREBEVERAPERQPDhETDg0REg21XV5fAqgw0x8BghDvAcK0uvLggdM/gQEB1wDTP1UgbBP4QW8kE18DggCg9/hCVhEBxwXy9CiBAQElWfQNb6GSMG3fIG6SMG2Oh9DbPGwdbw3iIG6SXwXjDn+1YwQ6jwgw2zxsF9s8f+AgghDsM8xSuuMCIIIQXdWEYbpyc3R1AviBS2lWJ6oAERYRKhEWERURKREVERQRKBEUERMRJxETERIRJhESERERJRERERARJBEQDxEjDw4RIg4NESENDBEgDAsRHwsKER4KCREdCQgRHAgHERsHBhEaBgURGQUEERgEAxEXAwIRKgIBESkBEShy2zwBESkBoAERIQG+fGAC/oFLaVYnqgARFhEqERYRFREpERURFBEoERQRExEnERMREhEmERIRERElEREREBEkERAPESMPDhEiDg0RIQ0MESAMCxEfCwoRHgoJER0JCBEcCAcRGwcGERoGBREZBQQRGAQDERcDAhEqAgERKQERKHLbPAERKQGgVhCgAREhAb58YAP+DBERDAsREAsQrxCeEI0QfBBrEFoQSRA4R2AFESAFBBEmBAMRJQMCER0CAREkAds8ggCg9wHy9FYibrOXESIgbvLQgJRXIvhC4vhCf4EBAVYeBVYeBVYeBVYeBVYeBVYsBVYlBVYtBQQRKgQDETADAhEqAshVwNs8yRAjAREkAX+cYQAMAREoAfL0A/hWIAEgbpUwWfRaMJRBM/QV4ggRHggHERgHBhEdBgURFgUEERcEAxEVAwIRFAIBESEBERlwESGAQBEdfxEdEHkQZxBWEEUQNBAjyFWw2zzJVhYEAxEZAwIRFAIREwEUQzBtbds8BxEWBwYRFQYFERQFBBETBAMREgMCERECgadiACYBERABDxBdDBA7SRoIEDdGFUMUBOogbvLQgG8tNTVbMzNxJ8AKkX+TJ8AL4o4RNDWBS2lWH1YcoBi+F/L0FRPjDYEBAW0gbpIwbY6NIG7y0IBvLchVwNs8yeIQL1KgIG6VMFn0WjCUQTP0FeInwgCRMuMNQ3XIVSCCEKG7Cz9QBMsfEssHyz/LP8lknGVmAvKBS2kJViG+GfL0LoEBASxZ9A1voZIwbd8gbpIwbY4o0IEBAdcAgQEB1wCBAQHXANQB0IEBAdcAgQEB1wAwECUQJBAjbBVvBeIgbrOPJyBu8tCAbyUkwgCTI8IAkXDikjMz4w0gwgCTIsIAkXDilF8DMzTjDZMwMzTiZ2gD+CTAA471ERcRHxEXERYRHhEWERURHREVERQRHBEUERMRGxETERIRGhESERERGRERERARGBEQDxEfDw4RHg4NER0NDBEcDAsRGwsKERoKCREZCQgRGAgHER8HBhEeBgUEERwEAxEbAwIRGgIBERkBVh4BViABERxWH9s84w2ecHEChsiCWMAAAAAAAAAAAAAAAAEBy2fMyXD7ACDCAI6RAn8jchAjbW1t2zwRESGhERGRMuJyCSBu8tCAAqMDwgAQSRAj2zynpAH+PHKADfhCcFRwACARHxEtER8RHhEsER4RHRErER0RHBEqERwRGxEpERsRGhEoERoRGREnERkRGBEmERgRFxElERcRFhEkERYRFREjERURFBEiERQRExEhERMREhEgERIREREtEREREBEsERAPESsPDhEqDg0RKQ0MESgMCxEnC2kB+gqkgA74QnBUcAAgESIRKxEiESERKhEhESARKREgER8RKBEfER4RJxEeER0RJhEdERwRJREcERsRJBEbERoRIxEaERkRKxEZERgRKhEYERcRKREXERYRKBEWERURJxEVERQRJhEUERMRJRETERIRJBESERERIxERERARKxEQawL8ChEmCgkRJQlWIgkQeBBnVi4HVi0HBgURKgUEESkEAwIRKgIBESkBViTbPDARFhEkERYRFREjERURFBEiERQRExEhERMREhEgERIREREfEREREBEeERAPER0PDhEcDg0RGw0MERoMCxEZCwoRGAoJERcJCBEWCAcRFQcGERQGbGoAJgUREwUEERIEAxERAwIREAJQ/hoC/A8RKg8OESkODREoDQwRJwxWJAwQexBqCRErCQgRKQgQVwYRJAYFESQFESvbPDARFhEfERYRFREeERURFBEdERQRExEcERMREhEbERIREREaEREREBEZERAPERgPDhEXDg0RFg0MERUMCxEUCwoREwoJERIJCBERCAcREAcQb2xtAfQvpCzACpF/kyzAC+KORSmzgQEBVHdlU3bIVUBQRYEBAc8AEoEBAc8AgQEBzwAByIEBAc8AEoEBAc8AyQHMyQIRFAJWEwEgbpUwWfRaMJRBM/QV4o4SLMAMkSmZLMANkSmSKbPi4hES4oEBAfgjcPhCbVYSBFYRBFYTBG4AEhBeEE0QPEupFQLYVhIEVhIEVhIEVhIEVh5RT1UwyFXA2zzJAhEVAlYTASBulTBZ9FowlEEz9BXiELwQJ1YRBxA2BRETBQQCERMCUA8QaBBXEEYQNUQwyFXg2zzJyIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsABQQDnG8A6oIQcmNhXQEREMsfHssHHMs/UAog10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYYygAWgQEBzwAUgQEBzwACyIEBAc8AygASgQEBzwASgQEBzwACyIEBAc8AE4EBAc8AUAP6AhOBAQHPABPLP8lYzMkBzAHgMhEWER4RFhEVER0RFREUERwRFBETERsRExESERoREhERERkREREQERgREA8RFw8OER4ODREdDQwRHAwLERsLChEaCgkRGQkIERgIBxEXBwYRHgYFER0FFAMRGwMCERoCAREZAREYVh1WH1YaVh/bPJ4AqhEWER4RFhEVER0RFREUERwRFBETERsRExESERoREhERERkREREQERgREA8RFw8OERYODREVDQwRFAwLERMLChESCgkREQkIERAIEH8QbhBdEDtKmBQA5tMfAYIQIzQ7tLry4IH6QCHXCwHDAI4dASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IiSMW3iAdM/+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAHSANM/gQEB1wDUAdCBAQHXADAXFhUUQzAC8oFLafhBbyQTXwNWHaoAERYRIBEWERURHxEVERQRHhEUERMRHRETERIRHBESERERGxERERARGhEQDxEZDw4RGA4NERcNDBEgDAsRHwsKER4KCREdCQgRHAgHERsHBhEaBgURGQUEERgEAxEXAwIRIAIBER8BER5y2zx8dgIQMNs8bBjbPH96ewP+j3Qw0x8BghBd1YRhuvLggdM/+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAGBAQHXAFUgbBOCAKD3+EJWEAHHBfL0IMIAjySAQnBtcMjJ0CYQaBBYBAdVIMhVYNs8yS8DVhRBMxRDMG1t2zySXwPif+AgghCvk7XIuqCngwP+AREfAaBWEKABER8BvgERHwHy9PhCERQRFxEUERMRFhETERIRFRESERERFBERERARExEQDxESDw4REQ4NERANEM8QvhCtEJwQixB6EGkQWBBHEDZFQAMRHgMCER0CAREcAds8ggCg9wHy9PhCVhtus5JXG+MNIqSBAQFzcFMAcH93eAAUMBEaIG7y0IARGgP6Ifgjf/hCEIlWJAlWJAlWJAkHBVCDFkRAAREoAchVwNs8yRAmAREcAVJAIG6VMFn0WjCUQTP0FeJwgEB/c1RzMxA6CBEjCAcRHwcGESAGBREeBUA0cAIBESMBESUQqxB5EGcQVhBFEDQQI8hVsNs8ySgEAxEXAwIRFQIRGQGcgXkBXhRDMG1t2zwPERYPDhEVDg0RFA0MERMMCxESCwoREQoJERAJEI8QflVmEEVQA0QUpwCY0x8BghDsM8xSuvLggdM/+kABINdJgQELuvLgiCDXCwoggQT/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lTBwAcsBjh4g10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxbiWKMBCEQw2zykABb6AhKBAQHPAMkBzAL2ERoRGxEaERkRGxEZERgRGxEYERcRGxEXERYRGxEWERURGxEVERQRGxEUERMRGxETERIRGxESERERGxERERARGxEQDxEbDw4RGw4NERsNDBEbDAsRGwsKERsKCREbCQgRGwgHERsHBhEbBgURGwUEERsEAxEbA9s8IMIApaYAovgnbxBWEqEjoPhBbyQTXwOhcAG2CSBWF7YIVhcBoXACVhihErYJBcABklYaklYZ4vhBbyQTXwNYoQOoEqFQA6AhwgCScDLfAaEBklYRkXDioQF+jo4BERgBfwFyECNtbW3bPJMwVxfiERURFhEVERQRFREUERMRFBETERIRExESEREREhERERAREREQDxEQD1UOpwHKyHEBygFQBwHKAHABygJQBSDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFlAD+gJwAcpoI26zkX+TJG6z4pczMwFwAcoA4w0hbrOcfwHKAAEgbvLQgAHMlTFwAcoA4skB+wCoAJh/AcoAyHABygBwAcoAJG6znX8BygAEIG7y0IBQBMyWNANwAcoA4iRus51/AcoABCBu8tCAUATMljQDcAHKAOJwAcoAAn8BygACyVjMAgEgq6wCASC8vQIBIK2uAgHHuLkCAWavsAIZtC97Z5tniuIL4e2OMMC3AqCpm9s8ERYRFxEWERURFhEVERQRFREUERMRFBETERIRExESEREREhERERAREREQDxEQD1UO2zxXElcQXw9QZ18GIG6SMG2ZIG7y0IBvKG8I4sCxAriq8ts8ERYRFxEWERURFhEVERQRFREUERMRFBETERIRExESEREREhERERAREREQDxEQD1UO2zxs82yDASBukjBtmSBu8tCAby1vDeIBIG6SMG2ZIG7y0IBvJW8F4sC0AT6BAQEoAln0DW+hkjBt3yBukjBtjofQ2zxsGG8I4lJgsgGm0gD6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAYEBAdcA+gCBAQHXANIA1AHQ+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAGzAHD6QCHXCwHDAI4dASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IiSMW3iMRAoECcQJhAlECQQIwG8JYEBASJZ9A1voZIwbd8gbpIwbY6H0Ns8bB1vDeKBAQFURhNZ9A1voZIwbd8gbpIwbY4o0IEBAdcAgQEB1wCBAQHXANQB0IEBAdcAgQEB1wAwECUQJBAjbBVvBeIkWbUBzNMH0z/6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAdIAgQEB1wCBAQHXANQB0IEBAdcA0gD6AIEBAdcA0gD6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAdQw0LYAcPpAIdcLAcMAjh0BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiJIxbeIxEH0QfBB7EHoQeRB4AAIpAtCq4SBukjBtjhwg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCI4ts8ERYRFxEWERURFhEVERQRFREUERMRFBETERIRExESEREREhERERAREREQDxEQD1UO2zxs3T09PT09PT09PT1VksC6AhipHds82zxXEF8PbHHAuwB6bSFus44cMIEBCwEgbvLQgCpZcUEz9ApvoZQB1wAwkltt4pEx4lYXVhFWEVYZVhlWGVYZVhlWGVYXVhdWFwACKgIBIL6/AgFIycoCobRCu2eCIsIi4iLCIqIiwiKiIoIioiKCImIigiJiIkIiYiJCIiIiQiIiIgIiIiIB4iIB6qHbZ4riSuIL4eoM6+DEDdJGDbMkDd5aEA3lDeEcUMDBAd23ejBOC52Hq6WVz2PQnYc6yVCjbNBOE7rGpaVsj5ZkWnXlv74sRzBOBAq4A3AM7HKZywdVyOS2WHBOE7Lpy1Zp2W5nQdLNsozdFJBOFH0gXy2wKoR0XeCO2c16OXBOEiYNDNTdFIbP3Aj3wKox8TDIAqDtRNDUAfhj0gABjq7bPFcXERURFhEVERQRFREUERMRFBETERIRExESEREREhERERAREREQDxEQD1UO4Pgo1wsKgwm68uCJgQEB1wABAdHbPMLDAT6BAQEjAln0DW+hkjBt3yBukjBtjofQ2zxsGG8I4lIQxgH2gQEB1wCBAQHXAIEBAdcA1AHQgQEB1wCBAQHXAIEBAdcA1DDQgQEB1wCBAQHXAIEBAdcA1DDQgQEB1wD6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAfpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgBxAGiMIEAtIIKYloAghAFXUqAXIIImJaAghAExLQAggr68ICCEAX14QBwbW1xbW0ibSH4QvhCcIEBC/hCfyYQTiFulVtZ9FkwmMgBzwBBM/RB4lO7xQDW1DDQ+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAHSAPQE+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAH0BNM/9ATUMND0BNM/9ATTPzARFBEXERQRFBEWERQRFBEVERQAzMhyAcsBcAHLABLKB8v/ydAg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIU8zIcgHLAXABywASygfL/8nQINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFDLEEpIkBA3UEZDBQH20gABlYEBAdcAkm0B4tM/0z/6QCHXCwHDAI4dASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IiSMW3iAYEBAdcA1AHQ+kAh1wsBwwCOHQEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIkjFt4gH6AIEBAdcAMBA4xwAQEDcQNhA1EDQAJIJwQM51aecV+dJQsB1hbiZHsgARsK+7UTQ0gABgAHWybuNDVpcGZzOi8vUW1kckRyYlNIQzNVRlZwajU2OHE0YmpOOUhyeEY4WmpjTU05SmJZRlhkSGRadIIA==","abi":"{\"name\":\"OrderBook\",\"types\":[{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounced\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"Deploy\",\"header\":2490013878,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"DeployOk\",\"header\":2952335191,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"FactoryDeploy\",\"header\":1829761339,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"cashback\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwner\",\"header\":2174598809,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwnerOk\",\"header\":846932810,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"TokenTransfer\",\"header\":260734629,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"responseDestination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"customPayload\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"forwardTonAmount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"forwardPayload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"TokenNotification\",\"header\":1935855772,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"from\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"forwardPayload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"TokenExcesses\",\"header\":3576854235,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"UpdateConfig\",\"header\":2463053158,\"fields\":[{\"name\":\"executorLength\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executors\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"ExecutorParam\",\"valueFormat\":\"ref\"}},{\"name\":\"compensator\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"minTimeDelayTrader\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpMinExecutionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"perpMinExecutionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"lpGasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"perpGasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"poolLpGasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"poolPerpGasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"minTonsForStorage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"gasTransferJetton\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"usdtWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"pool\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"SendProtocolFee\",\"header\":1574274145,\"fields\":[{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"feeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"CreateDecreaseLPPositionOrder\",\"header\":632428324,\"fields\":[{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"CancelLPPositionOrder\",\"header\":2106714934,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}]},{\"name\":\"ExecuteLPPositionOrder\",\"header\":310819211,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}]},{\"name\":\"UpdateLPPosition\",\"header\":3902592095,\"fields\":[{\"name\":\"isIncrease\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"UpdateLPPositionSuccess\",\"header\":485543809,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"CreateCompensate\",\"header\":2945693128,\"fields\":[{\"name\":\"orderType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":true,\"format\":8}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"refundReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"refundAmount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"ExecuteOrCancelCompensate\",\"header\":2296903975,\"fields\":[{\"name\":\"isCancel\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"compensateId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"CreateDecreasePerpPositionOrder\",\"header\":1787968987,\"fields\":[{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"triggerPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"CreateTpSlPerpPositionOrder\",\"header\":600256344,\"fields\":[{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"tpSize\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"tpPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"slSize\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"slPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"CancelPerpPositionOrder\",\"header\":3254342642,\"fields\":[{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"ExecutePerpPositionOrder\",\"header\":2650410712,\"fields\":[{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"premiumRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LiquidatePerpPosition\",\"header\":590625716,\"fields\":[{\"name\":\"liquidationFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"premiumRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"ADLPerpPosition\",\"header\":3962817618,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"premiumRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"UpdatePerpPosition\",\"header\":4283950423,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerAbove\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"premiumRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"UpdatePerpPositionSuccess\",\"header\":4009870004,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"LPPositionOrderCreatedEvent\",\"header\":3021458540,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"LPPositionOrderCancelledEvent\",\"header\":1264945856,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"LPPositionOrderExecutedEvent\",\"header\":3003473876,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"PerpPositionOrderCreatedEvent\",\"header\":1919115613,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerAbove\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"tpSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tpPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"slSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"slPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"PerpPositionOrderCancelledEvent\",\"header\":2151571829,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"PerpPositionOrderExecutedEvent\",\"header\":2713389887,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"CompensateCreatedEvent\",\"header\":401001363,\"fields\":[{\"name\":\"compensateId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"orderType\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"refundReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"refundAmount\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"unlockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"CompensateCancelledEvent\",\"header\":1271087573,\"fields\":[{\"name\":\"compensateId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"CompensateExecutedEvent\",\"header\":3678790712,\"fields\":[{\"name\":\"compensateId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"ConfigData\",\"header\":null,\"fields\":[{\"name\":\"isExecutor\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":true}},{\"name\":\"minTimeDelayTrader\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpMinExecutionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"perpMinExecutionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"lpGasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"perpGasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"poolLpGasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"poolPerpGasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"minTonsForStorage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"gasTransferJetton\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"totalExecutionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"usdtWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"pool\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ExecutorParam\",\"header\":null,\"fields\":[{\"name\":\"executor\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"enable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"LPPositionOrder\",\"header\":null,\"fields\":[{\"name\":\"isIncrease\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"blockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isPending\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"lastOperator\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}]},{\"name\":\"LPPositionOrderData\",\"header\":null,\"fields\":[{\"name\":\"lpPositionOrderIndexNext\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpPositionOrder\",\"type\":{\"kind\":\"simple\",\"type\":\"LPPositionOrder\",\"optional\":true}}]},{\"name\":\"PerpPositionOrder\",\"header\":null,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerAbove\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"blockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isPending\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"lastOperator\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}]},{\"name\":\"PerpPositionOrderEx\",\"header\":null,\"fields\":[{\"name\":\"tpSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tpPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"slSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"slPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PerpPositionOrderData\",\"header\":null,\"fields\":[{\"name\":\"perpPositionOrderIndexNext\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"perpPositionOrder\",\"type\":{\"kind\":\"simple\",\"type\":\"PerpPositionOrder\",\"optional\":true}},{\"name\":\"perpPositionOrderEx\",\"type\":{\"kind\":\"simple\",\"type\":\"PerpPositionOrderEx\",\"optional\":true}}]},{\"name\":\"UpdatePrice\",\"header\":null,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"Compensate\",\"header\":null,\"fields\":[{\"name\":\"orderType\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"refundReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"refundAmount\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFeeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"unlockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"CompensateData\",\"header\":null,\"fields\":[{\"name\":\"compensateIndexNext\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"compensate\",\"type\":{\"kind\":\"simple\",\"type\":\"Compensate\",\"optional\":true}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateConfig\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"empty\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"TokenNotification\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"CreateDecreaseLPPositionOrder\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"CancelLPPositionOrder\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ExecuteLPPositionOrder\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateLPPositionSuccess\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"CreateDecreasePerpPositionOrder\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"CreateTpSlPerpPositionOrder\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"CancelPerpPositionOrder\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ExecutePerpPositionOrder\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdatePerpPositionSuccess\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"LiquidatePerpPosition\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ADLPerpPosition\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"SendProtocolFee\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"CreateCompensate\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ExecuteOrCancelCompensate\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Deploy\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"Resume\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"Stop\"}}],\"getters\":[{\"name\":\"configData\",\"arguments\":[{\"name\":\"executor\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"ConfigData\",\"optional\":false}},{\"name\":\"lpPositionOrder\",\"arguments\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"LPPositionOrderData\",\"optional\":false}},{\"name\":\"perpPositionOrder\",\"arguments\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"PerpPositionOrderData\",\"optional\":false}},{\"name\":\"compensate\",\"arguments\":[{\"name\":\"compensateId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"CompensateData\",\"optional\":false}},{\"name\":\"stopped\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"owner\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}],\"errors\":{\"2\":{\"message\":\"Stack undeflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"13\":{\"message\":\"Out of gas error\"},\"32\":{\"message\":\"Method ID not found\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"37\":{\"message\":\"Not enough TON\"},\"38\":{\"message\":\"Not enough extra-currencies\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid address\"},\"137\":{\"message\":\"Masterchain support is not enabled for this contract\"},\"11120\":{\"message\":\"compensate not exist\"},\"19305\":{\"message\":\"gas not enough\"},\"24173\":{\"message\":\"order is pending\"},\"24562\":{\"message\":\"execution fee not enough\"},\"31425\":{\"message\":\"not reach unlock time\"},\"32637\":{\"message\":\"order not exist\"},\"39703\":{\"message\":\"too early\"},\"40368\":{\"message\":\"Contract stopped\"},\"41207\":{\"message\":\"invalid sender\"},\"51911\":{\"message\":\"token not match\"},\"53296\":{\"message\":\"Contract not stopped\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\",\"org.ton.chain.workchain.v0\",\"org.ton.resumable\",\"org.ton.stoppable\",\"org.ton.ownable\"]}","init":{"kind":"direct","args":[{"name":"deployId","type":{"kind":"simple","type":"int","optional":false,"format":257}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":"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IG6VMHABywGOHiDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFuJYQgAW+gISgQEBzwDJAcwA8tMfAYIQr5O1yLry4IHSAAGS0weSbQHi0z/TP/pAIdcLAcMAjh0BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiJIxbeIB03/6QCHXCwHDAI4dASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IiSMW3iAfoAVWACEDDbPGwY2zx/SUUC8oFLafhBbyQTXwNWHqoAERYRIREWERURIBEVERQRHxEUERMRHhETERIRHRESERERHBERERARGxEQDxEaDw4RGQ4NERgNDBEXDAsRIQsKESAKCREfCQgRHggHER0HBhEcBgURGwUEERoEAxEZAwIRGAIBERcBESFy2zyKRgL+AREiAaBWEKABERcBvgERFwHy9PhCERQRFxEUERMRFhETERIRFRESERERFBERERARExEQDxESDw4REQ4NERANEM8QvhCtEJwQixB6EGkQWBBHEDZFQEMwAREfAds8ggCg9wHy9CKkgQEBdHBwIfgjf/hC+EIQeFYnCFYnCFYnCJNHBP4HEScHViZGVwQRKAQDESjIVcDbPMkQJgERHAFSQCBulTBZ9FowlEEz9BXicIBAf3RUODMQiQgRHggHESIHBhEjBgURIQUUAxEfAwJwAgERHgERJRCrEHkQZxBWEEUQNBAjyFWw2zzJJwQDERgDAhEbAhEWARRDMG1t2zwOERYOvWHCSABADREVDQwRFAwLERMLChESCgkREQkIERAIVXcDBgVQRAcAmNMfAYIQ7DPMUrry4IHTP/pAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB0gDTf9N/0z+BAQHXANQB0IEBAdcAMBgXFhUUQzAC8oFLafhBbyQTXwNWHaoAERYRIBEWERURHxEVERQRHhEUERMRHRETERIRHBESERERGxERERARGhEQDxEZDw4RGA4NERcNDBEgDAsRHwsKER4KCREdCQgRHAgHERsHBhEaBgURGQUEERgEAxEXAwIRIAIBER8BER5y2zyKSwP+AREfAaBWEKABER8BvgERHwHy9PhCERQRFxEUERMRFhETERIRFRESERERFBERERARExEQDxESDw4REQ4NERANEM8QvhCtEJwQixB6EGkQWBBHEDZFQAMRHgMCER0CAREcAds8ggCg9wHy9PhCVhtus5JXG+MNIqSBAQFzcFMAcJNOTAP6Ifgjf/hCEIlWJAlWJAlWJAkHBVCDFkRAAREoAchVwNs8yRAmAREcAVJAIG6VMFn0WjCUQTP0FeJwgEB/c1RzMxA6CBEjCAcRHwcGESAGBREeBUA0cAIBESMBESUQqxB5EGcQVhBFEDQQI8hVsNs8ySgEAxEXAwIRFQIRGQG9YU0BXhRDMG1t2zwPERYPDhEVDg0RFA0MERMMCxESCwoREQoJERAJEI8QflVmEEVQA0QUwgAUMBEaIG7y0IARGgDm0x8BghAjNDu0uvLggfpAIdcLAcMAjh0BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiJIxbeIB0z/6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAdIA0z+BAQHXANQB0IEBAdcAMBcWFRRDMAKoMNMfAYIQ7wHCtLry4IHTP4EBAdcA0z9VIGwT+EFvJBNfA4IAoPf4QlYRAccF8vQogQEBJVn0DW+hkjBt3yBukjBtjofQ2zxsHW8N4iBukl8F4w5/v1EE6iBu8tCAby01NVszM3EnwAqRf5MnwAvijhE0NYFLaVYfVhygGL4X8vQVE+MNgQEBbSBukjBtjo0gbvLQgG8tyFXA2zzJ4hAvUqAgbpUwWfRaMJRBM/QV4ifCAJEy4w1DdchVIIIQobsLP1AEyx8SywfLP8s/yVa9U1IChsiCWMAAAAAAAAAAAAAAAAEBy2fMyXD7ACDCAI6RAn8jchAjbW1t2zwRESGhERGRMuJyCSBu8tCAAqMDwgAQSRAj2zzCpgP4JMADjvURFxEfERcRFhEeERYRFREdERURFBEcERQRExEbERMREhEaERIREREZEREREBEYERAPER8PDhEeDg0RHQ0MERwMCxEbCwoRGgoJERkJCBEYCAcRHwcGER4GBQQRHAQDERsDAhEaAgERGQFWHgFWIAERHFYf2zzjDbNVVACqERYRHhEWERURHREVERQRHBEUERMRGxETERIRGhESERERGRERERARGBEQDxEXDw4RFg4NERUNDBEUDAsREwsKERIKCRERCQgREAgQfxBuEF0QO0qYFAHgMhEWER4RFhEVER0RFREUERwRFBETERsRExESERoREhERERkREREQERgREA8RFw8OER4ODREdDQwRHAwLERsLChEaCgkRGQkIERgIBxEXBwYRHgYFER0FFAMRGwMCERoCAREZAREYVh1WH1YaVh/bPLMC8oFLaQlWIb4Z8vQugQEBLFn0DW+hkjBt3yBukjBtjijQgQEB1wCBAQHXAIEBAdcA1AHQgQEB1wCBAQHXADAQJRAkECNsFW8F4iBus48nIG7y0IBvJSTCAJMjwgCRcOKSMzPjDSDCAJMiwgCRcOKUXwMzNOMNkzAzNOJaVwH6CqSADvhCcFRwACARIhErESIRIREqESERIBEpESARHxEoER8RHhEnER4RHREmER0RHBElERwRGxEkERsRGhEjERoRGRErERkRGBEqERgRFxEpERcRFhEoERYRFREnERURFBEmERQRExElERMREhEkERIREREjEREREBErERBYAvwPESoPDhEpDg0RKA0MEScMViQMEHsQagkRKwkIESkIEFcGESQGBREkBREr2zwwERYRHxEWERURHhEVERQRHREUERMRHBETERIRGxESERERGhERERARGREQDxEYDw4RFw4NERYNDBEVDAsRFAsKERMKCRESCQgREQgHERAHEG+fWQASEF4QTRA8S6kVAf48coAN+EJwVHAAIBEfES0RHxEeESwRHhEdESsRHREcESoRHBEbESkRGxEaESgRGhEZEScRGREYESYRGBEXESURFxEWESQRFhEVESMRFREUESIRFBETESERExESESAREhERES0REREQESwREA8RKw8OESoODREpDQwRKAwLEScLWwL8ChEmCgkRJQlWIgkQeBBnVi4HVi0HBgURKgUEESkEAwIRKgIBESkBViTbPDARFhEkERYRFREjERURFBEiERQRExEhERMREhEgERIREREfEREREBEeERAPER0PDhEcDg0RGw0MERoMCxEZCwoRGAoJERcJCBEWCAcRFQcGERQGn1wAJgUREwUEERIEAxERAwIREAJQ/hoE9vhBbyQTXwMrgQEBJ1n0DW+hkjBt3yBukjBtjofQ2zxsHW8N4oF/fSFus/L0IG7y0IBvLVsqwAqRf5MqwAvi4w+BXm0RKLMBESgB8vSCAMrHESFWHLoBESEB8vT4QhESERcREhERERYREREQERUREA8RFA8OERMODRESDb9jYl4D/gwREQwLERALEK8QnhCNEHwQaxBaEEkQOEdgBREgBQQRJgQDESUDAhEdAgERJAHbPIIAoPcB8vRWIm6zlxEiIG7y0ICUVyL4QuL4Qn+BAQFWHgVWHgVWHgVWHgVWHgVWLAVWJQVWLQUEESoEAxEwAwIRKgLIVcDbPMkQIwERJAGTvV8D+FYgASBulTBZ9FowlEEz9BXiCBEeCAcRGAcGER0GBREWBQQRFwQDERUDAhEUAgERIQERGXARIYBAER1/ER0QeRBnEFYQRRA0ECPIVbDbPMlWFgQDERkDAhEUAhETARRDMG1t2zwHERYHBhEVBgURFAUEERMEAxESAwIREQJhwmAAJgEREAEPEF0MEDtJGggQN0YVQxQAuIIQ/1flV1ANyx8byz8ZywcXyz9QBSDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFhPKAIEBAc8AgQEBzwAByIEBAc8AEsoAEss/EoEBAc8AEoEBAc8AyQHMAv6BS2lWJ6oAERYRKhEWERURKREVERQRKBEUERMRJxETERIRJhESERERJRERERARJBEQDxEjDw4RIg4NESENDBEgDAsRHwsKER4KCREdCQgRHAgHERsHBhEaBgURGQUEERgEAxEXAwIRKgIBESkBEShy2zwBESkBoFYQoAERIQG+imQC+IFLaVYnqgARFhEqERYRFREpERURFBEoERQRExEnERMREhEmERIRERElEREREBEkERAPESMPDhEiDg0RIQ0MESAMCxEfCwoRHgoJER0JCBEcCAcRGwcGERoGBREZBQQRGAQDERcDAhEqAgERKQERKHLbPAERKQGgAREhAb6KZAAMAREoAfL0AJbTHwGCEJ36Dti68uCB+kAh1wsBwwCOHQEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIkjFt4gHTP9M/0z+BAQHXAIEBAdcAVVAC8PhBbyQTXwMogQEBJFn0DW+hkjBt3yBukjBtjofQ2zxsHW8N4oF/fSFus/L0IG7y0IBvLVtsMzQ1JcAKkX+TJcAL4p2BS2lWH1YcoBi+F/L0moFLaQdWH74X8vTigV5tArMS8vT4QhEXER8RFxEWER4RFhEVER0RFb9nBPwRFBEcERQRExEbERMREhEaERIREREZEREREBEYERAPER8PDhEeDg0RHQ0MERwMCxEbCwoRGgoJERkJCBEYCAcRHwcGER4GBREdBQQRHAQDERsDAhEaAgERGQHbPIIAoPchkX+X+EJWHAHHBeLy9LORcOMNklca4w34QlYXbrOTcG9oBPyaMBEWIG7y0IARFpJXF+JwVhvACpF/lFYbwAvilFcYVxjjDYEBAW0gbpIwbY6NIG7y0IBvLchVwNs8yeIQJFYeASBulTBZ9FowlEEz9BXiVhrCAI6WERV/VhtyECNtbW3bPAERFQERGaARFJRXFVcZ4glWFKFWFwIBERsBERprvcJpAfzIVSCCEIA+YXVQBMsfEssHyz/LP8nIgljAAAAAAAAAAAAAAAABActnzMlw+wBy+EIRFKNxVhjACpNXGH+UERjAC+IRExEbERMREhEaERIREREZEREREBEYERAPERcPDhEWDg0RFQ0MERQMCxETCwsREgsJEREJCBEQCBB/EG5qASgQXRBMEDsQOhBJEEgQNxA1QUDbPKYC+COBAQFWIFn0DW+hkjBt3yBukjBtjijQgQEB1wCBAQHXAIEBAdcA1AHQgQEB1wCBAQHXADAQJRAkECNsFW8F4iBus5Ew4w34QhEXERkRFxEWERgRFhEVERcRFREUERYRFBETERURExESERQREhERERMREREQERIREA8REQ9tbAGQDhEQDhDfEM4QvRCsEJsQihB5EGgQVxBGEDUQJAMRGwNWHgMCERwCERsB2zwRGAERFwERFgERFQERFAEREwEREgEREQEREFXRswL2IG7y0IBvJSUFwgCTA8IAkjNw4pQzVEET3gHCAJLCAJIwcOKRoJEw4iDCAI6NMVYZfyJyECNtbW3bPJEw4oEBAW0gbpIwbY4tIG7y0IBvJchVQFBFgQEBzwASgQEBzwCBAQHPAAHIgQEBzwASgQEBzwDJAczJ4hAlViABwm4AHiBulTBZ9FowlEEz9BXiAwAkggCbFxEbVheg+CO7AREbAfL0ABhWG8AKkX+UVhvADOID9BEWER4RFhEVER0RFREUERwRFBETERsRExESERoREhERERkREREQERgREA8RFw8OER4ODREdDQwRHAwLERsLChEaCgkRGQkIERgIBxEXBwYRHgYFER0FBBEcBAMRGwMCERoCAREZAREY2zz4QW8kE18DcFYewgCRcOMNl3hyA/qSMHHeVhzCAJRWG8IAkXDikaTegUtpAlYaoVYXIqi+EvL0gV/yVhAiqFYaAb7y9FYdwgCUVhzCAJFw4pRXHFcc4w1WGcIAlFYYwgCRcOKOEgQRHQQDERwDAhEZAlcXVxdfA+MNB1YRoHL4QhESERoREhERERkREREQERgREHZ0cwFyDxEXDw4RFg4NERUNDBEUDAsREwsKERIKAhERAggREAgQfxBuEF0QTBA7EJoQKBBnEFYQRUA0cNs8pgH+gA74QnBUcAAgVh1WIqkEER0RIxEdERwRIhEcERsRIREbERoRIBEaERkRHxEZERgRHhEYERcRHREXERYRHBEWERURGxEVERQRGhEUERMRGRETERIRGBESERERFxERERARFhEQDxEVDw4RFA4NERMNDBESDAsREQsKERAKEJ8QjnUBoBC9ELwQexBqCRElCQgRJAgQVwYRJQYFESQF2zwwBREYBQQRFwQRFgURFQUDERQDAhETAgEREgEEEREEERAQXxA+TcAQSwoQWRA4RxQFVSAGnwH8gA34QnBUcAAgVh8oqQQRHxEgER8RHhEfER4RHREeER0RHBEdERwRGxEcERsRGhEbERoRGREaERkRGBEZERgRFxEYERcRFhEXERYRFREWERURFBEVERQRExEUERMREhETERIRERESEREREBERERAPERAPEO8Q3hDNELwQqxCadwFyViEKEIkQeFYoCFYoCAcGESgGBREnBQQDESgDAhEnAgERKNs8MBEbERoRFhEVERQRExESEREREFXgnwAIVh3CAAA+0x8BghAjxy9YuvLggfoA0z/SANN/03/Tf9N/0z9VcAL0ERYRHREWERURHBEVERQRGxEUERMRGhETERIRGRESERERGBERERARFxEQDxEdDw4RHA4NERsNDBEaDAsRGQsKERgKCREXCQgRHQgHERwHBhEbBgURGgUEERkEAxEYAwIRFwIBER0BERzbPPhBbyQwMYFLaTJWHaFWFr6XewH88vSBX/JWHFYQvvL0gAz4QnBUcAARHBEiERwRGxEhERsRGhEgERoRGREfERkRGBEeERgRFxEdERcRFhEcERYRFREbERURFBEaERQRExEZERMREhEYERIREREXEREREBEWERAPERUPDhEUDg0REw0MERIMCxERCwoREAoQnxCOfALiEH0QbBCrEFoQSQQRIwRWI9s8MA1WF6By+EIRGBEZERgRFxEYERcRFhEXERYRFREWERURFBEVERQRExEUERMREhETERIRERESEREREBERERACERACEO8Q3hDNELwQqxCaEIkQeBBnEFYQRRA0WHFw2zyfpgA60x8BghBqkj3buvLggfoA0z/SANN/03/Tf9M/VWAD9vhBbyQTXwOCAKD3+EJWEQHHBfL0KoEBASVZ9A1voZIwbd8gbpIwbY6H0Ns8bBhvCOKBf30hbrPy9CBu8tCAbyhsIjMkmoFLaQZWH74W8vSdgUtpVh9WG6AXvhby9OKBAQFtIG6SMG2OjSBu8tCAbyjIVXDbPMniAhEQAsbEfwPaUpAgbpUwWfRaMJRBM/QV4ibCAJEy4w0twgCOkQN/LnIQI21tbds8ERMsoRETkTPiAZFxkXLiQFPIVSCCELMFX9RQBMsfEssHyz/LP8nIgljAAAAAAAAAAAAAAAABActnzMlw+wAgbrOSWzfjDYHCgAEqcQEgbvLQgAqjVEETwgAQS0FAE9s8pgL2ERcRHhEXERYRHREWERURHBEVERQRGxEUERMRGhETERIRGRESERERGBERERARHhEQDxEdDw4RHA4NERsNDBEaDAsRGQsKERgKCREeCQgRHQgHBhEbBgURGgUEERkEAxEYAwIRHgIBER0BVhoBVhwBESBWH9s8ERYRHREWs4IAmhEVERwRFREUERsRFBETERoRExESERkREhERERgREREQERcREA8RFg8OERUODREUDQwREwwLERILChERCgkREAkQjxB+EFwQSxA6SYcWAYgw0x8BghAShrmLuvLggdM/0z/6QCHXCwHDAI4dASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IiSMW3iQzBsE9s8f4QE9vhBbyQTXwMqgQEBJVn0DW+hkjBt3yBukjBtjofQ2zxsGG8I4oF/fSFus/L0IG7y0IBvKFsl4w+BXm0RGLMBERgB8vT4QhETERcRExESERYREhERERUREREQERQREA8REw8OERIODRERDQwREAwQvxCuEJ0QjBB7EGoQWcaIh4UD5BBIEDdGUBA0ECMCER0C2zyCAKD3AfL0Vh1us5cRHSBu8tCAlFcd+ELi+EJ/gQEBVh4FVh4FVh4FBBEeBAMRHQMCER4CyFVw2zzJECUBERYBVhsBIG6VMFn0WjCUQTP0FeIBERgBERlwERyAQBEZfxEZWJPEhgHkyFVAghDonNRfUAbLHxTKABLLPwEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxaBAQHPAMs/yScEAxEbAwIRFwIRFgEUQzBtbds8DhEWDg0RFQ0MERQMCxETCwoREgoJEREJCBEQCFV3FxBGXiJYwgL+gUtpViCqABEWESIRFhEVESERFREUESARFBETER8RExESER4REhERER0REREQERwREA8RGw8OERoODREZDQwRGAwLERcLChEiCgkRIQkIESAIBxEfBwYRHgYFER0FBBEcBAMRGwMCERoCAREZAREYcds8AREZAaBWEKABESABvoqJAviBS2lWIKoAERYRIhEWERURIREVERQRIBEUERMRHxETERIRHhESERERHRERERARHBEQDxEbDw4RGg4NERkNDBEYDAsRFwsKESIKCREhCQgRIAgHER8HBhEeBgURHQUEERwEAxEbAwIRGgIBERkBERhx2zwBERkBoAERIAG+iokADAERGAHy9AEowAGSVhOSVhLi+EFvJNs8AaBWEqCLAGRsMfpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4Igw+gAxcdch+gAx+gAwpwOrAALu+EFvJBNfAyqBAQElWfQNb6GSMG3fIG6SMG2Oh9DbPGwYbwjigX99IW6z8vQgbvLQgG8oWyWdgUtpViBWHKAYvhfy9JqBS2kHViC+F/L04oFebQazFvL0+EIRFxEfERcRFhEeERYRFREdERURFBEcERQRExEbERPGjQL+ERIRGhESERERGRERERARGBEQDxEfDw4RHg4NER0NDBEcDAsRGwsKERoKCREZCQgRGAgHER8HBhEeBgURHQUEERwEAxEbAwIRGgIBERkB2zyCAKD3IZF/l/hCVh0BxwXi8vSzjhKCAJsXER1WF6D4I7sBER0B8vSSVxzi+EJWHZOOBOBus5owERwgbvLQgBEcklcd4oEBAW0gbpIwbY6NIG7y0IBvKMhVcNs8yeIQJ1YYASBulTBZ9FowlEEz9BXiVhqUVxhXGOMNVhXCAI6SERp/VhZyECNtbW3bPAlWFKEJklca4lYXkXGRcuICAREUAREbxJHCjwH8yFUgghBLZYrAUATLHxLLB8s/yz/JyIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsAcfhCERSjIRETERsRExESERoREhERERkREREQERgREA8RFw8OERYODREVDQwRFAwLERMLChESCgkREQkIERAIEH8QbhBdEEwQaxBqEEkQaF4jkAEKQQQD2zymAv74QhEWERkRFhEVERgRFREUERcRFBETERYRExESERUREhERERQREREQERMREA8REg8OEREODREQDRDPEL4QrRCcEIsQehkQWBBHEDZeIgMRHANWHgMCER0CERsB2zwRGQIRFwIGERYGERUCERQCBhETBhESAhERAgYREAZOHxBts5IAGEscEGpIGQZFF1BEAwBAgQELKgJxQTP0Cm+hlAHXADCSW23iIG6SMHDgIG7y0IAC9BEWERkRFhEVERgRFREUERcRFBETERkRExESERgREhERERcREREQERkREA8RGA8OERcODREZDQwRGAwLERcLChEZCgkRGAkIERcIBxEZBwYRGAYFERcFBBEZBAMRGAMCERcCAREZAREY2zz4QW8kMDGBS2kyVhmhVhe+l5UD9PL0gV/yVhhWEb7y9CWkgQEBcPhC+CNw+EJtViEEViBENMhVcNs8ySgQOgEgbpUwWfRaMJRBM/QV4g5WGKBy+EJQQwIRHAJWGgIRHBnIVVDbPMnIgljAAAAAAAAAAAAAAAABActnzMlw+wBx+EIhERcRGhEXERYRGREWxKmWAY4RFREYERURFBEXERQRExEWERMREhEVERIREREUEREREBETERAPERIPDREQDRDPEL4QrRCcEIsQihB5EFgQRxA2EDRBMHDbPKYAEIIAnbAqs/L0A9Qw0x8BghBzYtCcuvLggdM/+gD6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIVBMDECNsFPhCVhEBxwWzjyUw+EJwgEJwbSPIydAnEGoQWQQIVSDIVWDbPMkUQzAUQzBtbds84w5/tMKZAzQt4wLTAAHAASCz4wIB1DDQ0x8ikyHAAZFw4rCumgIcjopsIdN/+gAwAds84w6kmwOqApLAApIwcOKOpPoA0gABwP8B0z/SAAHA/wHTf9N/0//UMNDTf9P/03/T/zDbPI8kMHCAQnBtI8jJ0CYQaRBYBAdVIMhVYNs8yVYQVTAUQzBtbds84py0wgPs+EFvJBNfA4sIcC1WJqATuY4SW3+L5nYXMgbm90IGVub3VnaI3lPouY4WW3+NBFqZXR0b24gbm90IGVub3VnaIN5xJsIAkyXCAJFw4pIwct4kwgCTI8IAkXDikaTeVh8hqFLgueMAAuMCMD0JkXqSgAviUq2pBKOinQH8ESIRJBEiESERIxEhESARJBEgER8RIxEfER4RJBEeER0RIxEdERwRJBEcERsRIxEbERoRJBEaERkRIxEZERgRJBEYERcRIxEXERYRJBEWERURIxEVERQRJBEUERMRIxETERIRJBESERERIxERERARJBEQDxEjDw4RJA4NESMNngLQDBEkDAsRIwsKESQKViNQqts8MA1WGKARFhEYERYRFREXERURFBEWERQRExEVERMREhEUERIRERETEREREBESERAPEREPDhEQDg8QzhC9EKwQmxCKEHkQaBBXEEYQNRAkckAUA3Fw2zyfpgH0L6QswAqRf5MswAvijkUps4EBAVR3ZVN2yFVAUEWBAQHPABKBAQHPAIEBAc8AAciBAQHPABKBAQHPAMkBzMkCERQCVhMBIG6VMFn0WjCUQTP0FeKOEizADJEpmSzADZEpkimz4uIREuKBAQH4I3D4Qm1WEgRWEQRWEwSgAthWEgRWEgRWEgRWEgRWHlFPVTDIVcDbPMkCERUCVhMBIG6VMFn0WjCUQTP0FeIQvBAnVhEHEDYFERMFBAIREwJQDxBoEFcQRhA1RDDIVeDbPMnIgljAAAAAAAAAAAAAAAABActnzMlw+wAFBAO9oQDqghByY2FdAREQyx8eywccyz9QCiDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFhjKABaBAQHPABSBAQHPAALIgQEBzwDKABKBAQHPABKBAQHPAALIgQEBzwATgQEBzwBQA/oCE4EBAc8AE8s/yVjMyQHMAvxswREYERoRGBEXERkRFxEWERoRFhEVERkRFREUERoRFBETERkRExESERoREhERERkREREQERoREA8RGQ8OERoODREZDQwRGgwLERkLChEaCgkRGQkIERoIBxEZBwYRGgYFERkFBBEaBAMRGQMCERoCAREZAREaVhlWGts8f3CzqwA+bCF/jQYZXhlY3V0aW9uIGZlZSBub3QgZW5vdWdogWAL2+EFvJBNfA4sIcCRWHqATuY4SW3+L5nYXMgbm90IGVub3VnaI3lNSuY4WW3+NBFqZXR0b24gbm90IGVub3VnaIN4jVhe5jh1bf40GGV4ZWN1dGlvbiBmZWUgbm90IGVub3VnaIN4B4wIwMymkgQEBf/gjcG0nUTlROFKkqqUDoshVcNs8ySwQPgEgbpUwWfRaMJRBM/QV4hESIaBxUTBFE1QgFx3IVVDbPMnIgljAAAAAAAAAAAAAAAABActnzMlw+wBxIAIREQIQKkkwEnDbPMSppgL2ERoRGxEaERkRGxEZERgRGxEYERcRGxEXERYRGxEWERURGxEVERQRGxEUERMRGxETERIRGxESERERGxERERARGxEQDxEbDw4RGw4NERsNDBEbDAsRGwsKERsKCREbCQgRGwgHERsHBhEbBgURGwUEERsEAxEbA9s8IMIAqKcBfo6OAREYAX8BchAjbW1t2zyTMFcX4hEVERYRFREUERURFBETERQRExESERMREhERERIREREQEREREA8REA9VDsIAovgnbxBWEqEjoPhBbyQTXwOhcAG2CSBWF7YIVhcBoXACVhihErYJBcABklYaklYZ4vhBbyQTXwNYoQOoEqFQA6AhwgCScDLfAaEBklYRkXDioQB4ghC0F8xsUAfLHxXLB1ADINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WgQEBzwAB+gKBAQHPAMs/AvxsIREYERoRGBEXERkRFxEWERoRFhEVERkRFREUERoRFBETERkRExESERoREhERERkREREQERoREA8RGQ8OERoODREZDQwRGgwLERkLChEaCgkRGQkIERoIBxEZBwYRGgYFERkFBBEaBAMRGQMCERoCAREZAREaVhlWGts8f3CzqwJ8gEIRG9s8BBEaBEEwAREbARA0bW3bPBEUERYRFBETERURExESERQREhERERMREREQERIREA8REQ8OERAOVR2swgFCyHAByx9vAAFvjG1vjAHbPG8iAcmTIW6zlgFvIlnMyegxrQC6INdKIddJlyDCACLCALGOSgNvIoB/Is8xqwKhBasCUVW2CCDCAJwgqgIV1xhQM88WQBTeWW8CU0GhwgCZyAFvAlBEoaoCjhIxM8IAmdQw0CDXSiHXSZJwIOLi6F8DBPZbERgRGREYERcRGREXERYRGREWERURGREVERQRGREUERMRGRETERIRGRESERERGRERERARGREQDxEZDw4RGQ4NERkNDBEZDAsRGQsKERkKCREZCREZCAcGVUBWGVYa2zx/cIBCiAQRGwQQNG1t2zwRFREWERURFBEVERSzr8KxACoAAAAAcGF5bG9h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"}},"sources":{"contracts/order/messages.tact":"aW1wb3J0ICIuL3N0cnVjdHMiOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBKRVRUT04gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KbWVzc2FnZSgweGY4YTdlYTUpIFRva2VuVHJhbnNmZXIgewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIGFtb3VudDogSW50IGFzIGNvaW5zOwogICAgcmVjZWl2ZXI6IEFkZHJlc3M7CiAgICByZXNwb25zZURlc3RpbmF0aW9uOiBBZGRyZXNzPzsKICAgIGN1c3RvbVBheWxvYWQ6IENlbGw/OwogICAgZm9yd2FyZFRvbkFtb3VudDogSW50IGFzIGNvaW5zOwogICAgZm9yd2FyZFBheWxvYWQ6IFNsaWNlIGFzIHJlbWFpbmluZzsKfQoKbWVzc2FnZSgweDczNjJkMDljKSBUb2tlbk5vdGlmaWNhdGlvbiB7CiAgICBxdWVyeUlkOiBJbnQgYXMgdWludDY0OwogICAgYW1vdW50OiBJbnQgYXMgY29pbnM7CiAgICBmcm9tOiBBZGRyZXNzOwogICAgZm9yd2FyZFBheWxvYWQ6IFNsaWNlIGFzIHJlbWFpbmluZzsgLy8gQ29tbWVudCBUZXh0IG1lc3NhZ2Ugd2hlbiBUcmFuc2ZlciB0aGUgamV0dG9uIAp9CgptZXNzYWdlKDB4ZDUzMjc2ZGIpIFRva2VuRXhjZXNzZXMgewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBhZG1pbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwptZXNzYWdlIFVwZGF0ZUNvbmZpZyB7CiAgICBleGVjdXRvckxlbmd0aDogSW50OwogICAgZXhlY3V0b3JzOiBtYXA8SW50LCBFeGVjdXRvclBhcmFtPjsKICAgIGNvbXBlbnNhdG9yOiBBZGRyZXNzOwogICAgbWluVGltZURlbGF5VHJhZGVyOiBJbnQ7CiAgICBscE1pbkV4ZWN1dGlvbkZlZTogSW50IGFzIGNvaW5zOwogICAgcGVycE1pbkV4ZWN1dGlvbkZlZTogSW50IGFzIGNvaW5zOwogICAgbHBHYXNDb25zdW1wdGlvbjogSW50IGFzIGNvaW5zOwogICAgcGVycEdhc0NvbnN1bXB0aW9uOiBJbnQgYXMgY29pbnM7CiAgICBwb29sTHBHYXNDb25zdW1wdGlvbjogSW50IGFzIGNvaW5zOwogICAgcG9vbFBlcnBHYXNDb25zdW1wdGlvbjogSW50IGFzIGNvaW5zOwogICAgbWluVG9uc0ZvclN0b3JhZ2U6IEludCBhcyBjb2luczsKICAgIGdhc1RyYW5zZmVySmV0dG9uOiBJbnQgYXMgY29pbnM7CiAgICB1c2R0V2FsbGV0OiBBZGRyZXNzOwogICAgcG9vbDogQWRkcmVzczsKfQoKbWVzc2FnZSgweDVkZDU4NDYxKSBTZW5kUHJvdG9jb2xGZWUgewogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7CiAgICBmZWVSZWNlaXZlcjogQWRkcmVzczsKICAgIGFtb3VudDogSW50Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IExQID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCm1lc3NhZ2UgQ3JlYXRlRGVjcmVhc2VMUFBvc2l0aW9uT3JkZXIgewogICAgZXhlY3V0aW9uRmVlOiBJbnQgYXMgY29pbnM7CiAgICBsaXF1aWRpdHlEZWx0YTogSW50IGFzIHVpbnQxMjg7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKbWVzc2FnZSBDYW5jZWxMUFBvc2l0aW9uT3JkZXIgewogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0OwogICAgZXhlY3V0aW9uRmVlUmVjZWl2ZXI6IEFkZHJlc3M/Owp9CgptZXNzYWdlIEV4ZWN1dGVMUFBvc2l0aW9uT3JkZXIgewogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0OwogICAgZXhlY3V0aW9uRmVlUmVjZWl2ZXI6IEFkZHJlc3M/Owp9CgptZXNzYWdlKDB4ZTg5Y2Q0NWYpIFVwZGF0ZUxQUG9zaXRpb24gewogICAgaXNJbmNyZWFzZTogQm9vbDsKICAgIG9yZGVySWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgbGlxdWlkaXR5RGVsdGE6IEludDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0Owp9CgptZXNzYWdlKDB4MWNmMGNmODEpIFVwZGF0ZUxQUG9zaXRpb25TdWNjZXNzIHsKICAgIG9yZGVySWQ6IEludCBhcyB1aW50NjQ7CiAgICByZWNlaXZlOiBJbnQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gQ29tcGVuc2F0ZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwptZXNzYWdlIENyZWF0ZUNvbXBlbnNhdGUgewogICAgb3JkZXJUeXBlOiBJbnQ/IGFzIHVpbnQ4OwogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0OwogICAgcmVmdW5kUmVjZWl2ZXI6IEFkZHJlc3M/OwogICAgcmVmdW5kQW1vdW50OiBJbnQgYXMgdWludDEyODsKICAgIGV4ZWN1dGlvbkZlZVJlY2VpdmVyOiBBZGRyZXNzPzsKICAgIGV4ZWN1dGlvbkZlZTogSW50IGFzIGNvaW5zOwp9CgptZXNzYWdlIEV4ZWN1dGVPckNhbmNlbENvbXBlbnNhdGUgewogICAgaXNDYW5jZWw6IEJvb2w7CiAgICBjb21wZW5zYXRlSWQ6IEludCBhcyB1aW50NjQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBQZXJwID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCm1lc3NhZ2UgQ3JlYXRlRGVjcmVhc2VQZXJwUG9zaXRpb25PcmRlciB7CiAgICBleGVjdXRpb25GZWU6IEludCBhcyBjb2luczsKICAgIHRva2VuSWQ6IEludCBhcyB1aW50NjQ7CiAgICBpc0xvbmc6IEJvb2w7CiAgICBtYXJnaW5EZWx0YTogSW50IGFzIHVpbnQxMjg7CiAgICBzaXplRGVsdGE6IEludCBhcyB1aW50MTI4OwogICAgdHJpZ2dlclByaWNlOiBJbnQgYXMgdWludDEyODsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0Owp9CgptZXNzYWdlIENyZWF0ZVRwU2xQZXJwUG9zaXRpb25PcmRlciB7CiAgICBleGVjdXRpb25GZWU6IEludCBhcyBjb2luczsKICAgIHRva2VuSWQ6IEludCBhcyB1aW50NjQ7CiAgICBpc0xvbmc6IEJvb2w7CiAgICB0cFNpemU6IEludCBhcyB1aW50MTI4OwogICAgdHBQcmljZTogSW50IGFzIHVpbnQxMjg7CiAgICBzbFNpemU6IEludCBhcyB1aW50MTI4OwogICAgc2xQcmljZTogSW50IGFzIHVpbnQxMjg7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKbWVzc2FnZSBDYW5jZWxQZXJwUG9zaXRpb25PcmRlciB7CiAgICBleGVjdXRpb25GZWVSZWNlaXZlcjogQWRkcmVzcz87CiAgICBvcmRlcklkOiBJbnQgYXMgdWludDY0OwogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7Cn0KCm1lc3NhZ2UgRXhlY3V0ZVBlcnBQb3NpdGlvbk9yZGVyIHsKICAgIGV4ZWN1dGlvbkZlZVJlY2VpdmVyOiBBZGRyZXNzPzsKICAgIG9yZGVySWQ6IEludCBhcyB1aW50NjQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKICAgIHRva2VuSWQ6IEludCBhcyB1aW50NjQ7CiAgICBwcmljZTogSW50OwogICAgcHJlbWl1bVJhdGU6IEludDsKfQoKbWVzc2FnZSBMaXF1aWRhdGVQZXJwUG9zaXRpb24gewogICAgbGlxdWlkYXRpb25GZWVSZWNlaXZlcjogQWRkcmVzcz87CiAgICB0b2tlbklkOiBJbnQgYXMgdWludDY0OwogICAgYWNjb3VudDogQWRkcmVzczsKICAgIGlzTG9uZzogQm9vbDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0OwogICAgcHJpY2U6IEludDsKICAgIHByZW1pdW1SYXRlOiBJbnQ7Cn0KCm1lc3NhZ2UgQURMUGVycFBvc2l0aW9uIHsKICAgIHRva2VuSWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgaXNMb25nOiBCb29sOwogICAgbWFyZ2luRGVsdGE6IEludCBhcyB1aW50MTI4OwogICAgc2l6ZURlbHRhOiBJbnQgYXMgdWludDEyODsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0OwogICAgcHJpY2U6IEludDsKICAgIHByZW1pdW1SYXRlOiBJbnQ7Cn0KCm1lc3NhZ2UoMHhmZjU3ZTU1NykgVXBkYXRlUGVycFBvc2l0aW9uIHsKICAgIG9yZGVySWQ6IEludCBhcyB1aW50NjQ7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIHRva2VuSWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgaXNMb25nOiBCb29sOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIHNpemVEZWx0YTogSW50OwogICAgdHJpZ2dlclByaWNlOiBJbnQ7CiAgICB0cmlnZ2VyQWJvdmU6IEJvb2w7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKICAgIHByaWNlOiBJbnQ7CiAgICBwcmVtaXVtUmF0ZTogSW50Owp9CgptZXNzYWdlKDB4ZWYwMWMyYjQpIFVwZGF0ZVBlcnBQb3NpdGlvblN1Y2Nlc3MgewogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIHJlY2VpdmU6IEludDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0Owp9Cg==","contracts/order/events.tact":"Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBMUCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwovLyBpbmNyZWFzZSBMUAptZXNzYWdlIExQUG9zaXRpb25PcmRlckNyZWF0ZWRFdmVudCB7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICBsaXF1aWRpdHlEZWx0YTogSW50OwogICAgZXhlY3V0aW9uRmVlOiBJbnQgYXMgY29pbnM7CiAgICBvcmRlcklkOiBJbnQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKbWVzc2FnZSBMUFBvc2l0aW9uT3JkZXJDYW5jZWxsZWRFdmVudCB7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIG9yZGVySWQ6IEludCBhcyB1aW50NjQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKbWVzc2FnZSBMUFBvc2l0aW9uT3JkZXJFeGVjdXRlZEV2ZW50IHsKICAgIG9wVHlwZTogSW50IGFzIHVpbnQ4OwogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFBlcnAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KbWVzc2FnZSBQZXJwUG9zaXRpb25PcmRlckNyZWF0ZWRFdmVudCB7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIHRva2VuSWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgaXNMb25nOiBCb29sOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIHNpemVEZWx0YTogSW50OwogICAgdHJpZ2dlclByaWNlOiBJbnQ7CiAgICB0cmlnZ2VyQWJvdmU6IEJvb2w7CiAgICB0cFNpemU6IEludDsKICAgIHRwUHJpY2U6IEludDsKICAgIHNsU2l6ZTogSW50OwogICAgc2xQcmljZTogSW50OwogICAgZXhlY3V0aW9uRmVlOiBJbnQgYXMgY29pbnM7CiAgICBvcmRlcklkOiBJbnQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKbWVzc2FnZSBQZXJwUG9zaXRpb25PcmRlckNhbmNlbGxlZEV2ZW50IHsKICAgIG9wVHlwZTogSW50IGFzIHVpbnQ4OwogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0Owp9CgptZXNzYWdlIFBlcnBQb3NpdGlvbk9yZGVyRXhlY3V0ZWRFdmVudCB7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIG9yZGVySWQ6IEludCBhcyB1aW50NjQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBDb21wZW5zYXRlID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCm1lc3NhZ2UgQ29tcGVuc2F0ZUNyZWF0ZWRFdmVudCB7CiAgICBjb21wZW5zYXRlSWQ6IEludCBhcyB1aW50NjQ7CiAgICBvcmRlclR5cGU6IEludD87CiAgICBvcmRlcklkOiBJbnQgYXMgdWludDY0OwogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7CiAgICByZWZ1bmRSZWNlaXZlcjogQWRkcmVzcz87CiAgICByZWZ1bmRBbW91bnQ6IEludDsKICAgIGV4ZWN1dGlvbkZlZVJlY2VpdmVyOiBBZGRyZXNzPzsKICAgIGV4ZWN1dGlvbkZlZTogSW50IGFzIGNvaW5zOwogICAgdW5sb2NrVGltZTogSW50Owp9CgptZXNzYWdlIENvbXBlbnNhdGVDYW5jZWxsZWRFdmVudCB7CiAgICBjb21wZW5zYXRlSWQ6IEludCBhcyB1aW50NjQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKbWVzc2FnZSBDb21wZW5zYXRlRXhlY3V0ZWRFdmVudCB7CiAgICBjb21wZW5zYXRlSWQ6IEludCBhcyB1aW50NjQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQo=","contracts/order/structs.tact":"Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBDb25maWcgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8Kc3RydWN0IENvbmZpZ0RhdGEgewogICAgaXNFeGVjdXRvcjogQm9vbD87CiAgICBtaW5UaW1lRGVsYXlUcmFkZXI6IEludDsKICAgIGxwTWluRXhlY3V0aW9uRmVlOiBJbnQgYXMgY29pbnM7CiAgICBwZXJwTWluRXhlY3V0aW9uRmVlOiBJbnQgYXMgY29pbnM7CiAgICBscEdhc0NvbnN1bXB0aW9uOiBJbnQgYXMgY29pbnM7CiAgICBwZXJwR2FzQ29uc3VtcHRpb246IEludCBhcyBjb2luczsKICAgIHBvb2xMcEdhc0NvbnN1bXB0aW9uOiBJbnQgYXMgY29pbnM7CiAgICBwb29sUGVycEdhc0NvbnN1bXB0aW9uOiBJbnQgYXMgY29pbnM7CiAgICBtaW5Ub25zRm9yU3RvcmFnZTogSW50IGFzIGNvaW5zOwogICAgZ2FzVHJhbnNmZXJKZXR0b246IEludCBhcyBjb2luczsKICAgIHRvdGFsRXhlY3V0aW9uRmVlOiBJbnQgYXMgY29pbnM7CiAgICB1c2R0V2FsbGV0OiBBZGRyZXNzOwogICAgcG9vbDogQWRkcmVzczsKfQoKc3RydWN0IEV4ZWN1dG9yUGFyYW0gewogICAgZXhlY3V0b3I6IEFkZHJlc3M7CiAgICBlbmFibGU6IEJvb2w7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gTFAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8Kc3RydWN0IExQUG9zaXRpb25PcmRlciB7CiAgICBpc0luY3JlYXNlOiBCb29sOwogICAgYWNjb3VudDogQWRkcmVzczsKICAgIGxpcXVpZGl0eURlbHRhOiBJbnQ7CiAgICBleGVjdXRpb25GZWU6IEludCBhcyBjb2luczsKICAgIGJsb2NrVGltZTogSW50OwogICAgaXNQZW5kaW5nOiBCb29sOwogICAgZXhlY3V0aW9uRmVlUmVjZWl2ZXI6IEFkZHJlc3M7CiAgICBsYXN0T3BlcmF0b3I6IEFkZHJlc3M/Owp9CgpzdHJ1Y3QgTFBQb3NpdGlvbk9yZGVyRGF0YSB7CiAgICBscFBvc2l0aW9uT3JkZXJJbmRleE5leHQ6IEludDsKICAgIGxwUG9zaXRpb25PcmRlcjogTFBQb3NpdGlvbk9yZGVyPzsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBQZXJwID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCnN0cnVjdCBQZXJwUG9zaXRpb25PcmRlciB7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIHRva2VuSWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgaXNMb25nOiBCb29sOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIHNpemVEZWx0YTogSW50OwogICAgdHJpZ2dlclByaWNlOiBJbnQ7CiAgICB0cmlnZ2VyQWJvdmU6IEJvb2w7CiAgICBleGVjdXRpb25GZWU6IEludCBhcyBjb2luczsKICAgIGJsb2NrVGltZTogSW50OwogICAgaXNQZW5kaW5nOiBCb29sOwogICAgZXhlY3V0aW9uRmVlUmVjZWl2ZXI6IEFkZHJlc3M7CiAgICBsYXN0T3BlcmF0b3I6IEFkZHJlc3M/Owp9CgpzdHJ1Y3QgUGVycFBvc2l0aW9uT3JkZXJFeCB7CiAgICB0cFNpemU6IEludDsKICAgIHRwUHJpY2U6IEludDsKICAgIHNsU2l6ZTogSW50OwogICAgc2xQcmljZTogSW50OwogICAgZXhlY3V0aW9uRmVlOiBJbnQ7Cn0KCnN0cnVjdCBQZXJwUG9zaXRpb25PcmRlckRhdGEgewogICAgcGVycFBvc2l0aW9uT3JkZXJJbmRleE5leHQ6IEludDsKICAgIHBlcnBQb3NpdGlvbk9yZGVyOiBQZXJwUG9zaXRpb25PcmRlcj87CiAgICBwZXJwUG9zaXRpb25PcmRlckV4OiBQZXJwUG9zaXRpb25PcmRlckV4PzsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBQcmljZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwpzdHJ1Y3QgVXBkYXRlUHJpY2UgewogICAgdG9rZW5JZDogSW50IGFzIHVpbnQ2NDsKICAgIHByaWNlOiBJbnQ7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gQ29tcGVuc2F0ZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwpzdHJ1Y3QgQ29tcGVuc2F0ZSB7CiAgICBvcmRlclR5cGU6IEludD87CiAgICBvcmRlcklkOiBJbnQgYXMgdWludDY0OwogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7CiAgICByZWZ1bmRSZWNlaXZlcjogQWRkcmVzcz87CiAgICByZWZ1bmRBbW91bnQ6IEludDsKICAgIGV4ZWN1dGlvbkZlZVJlY2VpdmVyOiBBZGRyZXNzPzsKICAgIGV4ZWN1dGlvbkZlZTogSW50IGFzIGNvaW5zOwogICAgdW5sb2NrVGltZTogSW50Owp9CgpzdHJ1Y3QgQ29tcGVuc2F0ZURhdGEgewogICAgY29tcGVuc2F0ZUluZGV4TmV4dDogSW50OwogICAgY29tcGVuc2F0ZTogQ29tcGVuc2F0ZT87Cn0K","contracts/order/constants.tact":"Y29uc3QgT1BfQ1JFQVRFX0lOQ1JFQVNFX0xQX1BPU0lUSU9OX09SREVSOiBJbnQgPSAxOwpjb25zdCBPUF9DUkVBVEVfSU5DUkVBU0VfUEVSUF9QT1NJVElPTl9PUkRFUjogSW50ID0gMjsKCmNvbnN0IE9SREVSX1RZUEVfTFA6IEludCA9IDE7CmNvbnN0IE9SREVSX1RZUEVfUEVSUDogSW50ID0gMjsKCmNvbnN0IE9SREVSX09QX1RZUEVfSU5DUkVBU0U6IEludCA9IDE7CmNvbnN0IE9SREVSX09QX1RZUEVfREVDUkVBU0U6IEludCA9IDI7CmNvbnN0IE9SREVSX09QX1RZUEVfTElRVUlEQVRJT046IEludCA9IDM7CmNvbnN0IE9SREVSX09QX1RZUEVfQURMOiBJbnQgPSA0OwoKY29uc3QgT1JERVJfT1BfVFlQRV9JTkNSRUFTRV9NQVJLRVQ6IEludCA9IDEwOwpjb25zdCBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFX0xJTUlUOiBJbnQgPSAxMTsKY29uc3QgT1JERVJfT1BfVFlQRV9ERUNSRUFTRV9NQVJLRVQ6IEludCA9IDEyOwpjb25zdCBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFX1RQOiBJbnQgPSAxMzsKY29uc3QgT1JERVJfT1BfVFlQRV9ERUNSRUFTRV9TTDogSW50ID0gMTQ7Cgpjb25zdCBEQVk6IEludCA9IDI0ICogNjAgKiA2MDs=","contracts/order/order_book.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CmltcG9ydCAiQHN0ZGxpYi9vd25hYmxlIjsKaW1wb3J0ICJAc3RkbGliL3N0b3BwYWJsZSI7CmltcG9ydCAiLi9tZXNzYWdlcyI7CmltcG9ydCAiLi9ldmVudHMiOwppbXBvcnQgIi4vc3RydWN0cyI7CmltcG9ydCAiLi9jb25zdGFudHMiOwoKY29udHJhY3QgT3JkZXJCb29rIHdpdGggRGVwbG95YWJsZSwgUmVzdW1hYmxlIHsKICAgIAogICAgLy8gY29uZmlnCiAgICBtaW5UaW1lRGVsYXlUcmFkZXI6IEludCA9IDMgKiA2MDsgLy8gdHJhZGVyIGV4ZWN1dGUgYWZ0ZXIgM21pbgoKICAgIC8vIGdhcwogICAgLy8gb3JkZXIgZ2FzCiAgICBscEdhc0NvbnN1bXB0aW9uOiBJbnQgPSB0b24oIjAuMDQiKTsgLy8gbWluIGxwIGNvbnN1bXB0aW9uIGdhcwogICAgcGVycEdhc0NvbnN1bXB0aW9uOiBJbnQgPSB0b24oIjAuMDkiKTsgLy8gbWluIHBlcnAgY29uc3VtcHRpb24gZ2FzCiAgICAvLyBwb29sIGdhcwogICAgcG9vbExwR2FzQ29uc3VtcHRpb246IEludCA9IHRvbigiMC4wNCIpOyAvLyBtaW4gb3JkZXJib29rIGNvbnN1bXB0aW9uIGdhcwogICAgcG9vbFBlcnBHYXNDb25zdW1wdGlvbjogSW50ID0gdG9uKCIwLjA5Iik7IC8vIG1pbiBwZXJwIGNvbnN1bXB0aW9uIGdhcwogICAgLy8gc3RvcmFnZSBnYXMKICAgIG1pblRvbnNGb3JTdG9yYWdlOiBJbnQgPSB0b24oIjAuMDEiKTsgLy8gbWluIHBvb2wgc3RvcmFnZSBnYXMKICAgIC8vIGpldHRvbiBnYXMKICAgIGdhc1RyYW5zZmVySmV0dG9uOiBJbnQgPSB0b24oIjAuMDgiKTsgLy8gbWluIHBvb2wgc3RvcmFnZSBnYXMKICAgIC8vIGV4ZWN1dGlvbiBmZWUKICAgIGxwTWluRXhlY3V0aW9uRmVlOiBJbnQgPSB0b24oIjAuMDUiKTsgLy8gZmVlIGZvciBldmVyeSBvcGVyYXRpb24KICAgIHBlcnBNaW5FeGVjdXRpb25GZWU6IEludCA9IHRvbigiMC4xIik7IC8vIGZlZSBmb3IgZXZlcnkgb3BlcmF0aW9uCiAgICAvLyB0b3RhbCBnYXMKICAgIHRvdGFsRXhlY3V0aW9uRmVlOiBJbnQgPSAwOwoKICAgIC8vIGFkZHJlc3MKICAgIHVzZHRXYWxsZXQ6IEFkZHJlc3M7IC8vIG9yZGVyIGJvb2sgVVNEVCBqZXR0b24gd2FsbGV0IGFkZHJlc3MKICAgIHBvb2w6IEFkZHJlc3M7IC8vIHBvb2wgYWRkcmVzcwoKICAgIC8vIGFkbWluCiAgICBvd25lcjogQWRkcmVzczsKICAgIHN0b3BwZWQ6IEJvb2w7CiAgICBleGVjdXRvcnM6IG1hcDxBZGRyZXNzLCBCb29sPjsgLy8gYWNjb3VudCA9PiBlbmFibGVkCiAgICBjb21wZW5zYXRvcjogQWRkcmVzczsKCiAgICAvLyBMUAogICAgbHBQb3NpdGlvbk9yZGVyczogbWFwPEludCwgTFBQb3NpdGlvbk9yZGVyPjsgLy8gb3JkZXJJZCA9PiBvcmRlcgogICAgbHBQb3NpdGlvbk9yZGVySW5kZXhOZXh0OiBJbnQgYXMgdWludDY0ID0gMTsKCiAgICAvLyBQZXJwCiAgICBwZXJwUG9zaXRpb25PcmRlcnM6IG1hcDxJbnQsIFBlcnBQb3NpdGlvbk9yZGVyPjsgLy8gb3JkZXJJZCA9PiBvcmRlcgogICAgcGVycFBvc2l0aW9uT3JkZXJFeHM6IG1hcDxJbnQsIFBlcnBQb3NpdGlvbk9yZGVyRXg+OyAvLyBvcmRlcklkID0+IG9yZGVyRXgKICAgIHBlcnBQb3NpdGlvbk9yZGVySW5kZXhOZXh0OiBJbnQgYXMgdWludDY0ID0gMTsKCiAgICAvLyBDb21wZW5zYXRlCiAgICBjb21wZW5zYXRlczogbWFwPEludCwgQ29tcGVuc2F0ZT47IC8vIGlkID0+IGNvbXBlbnNhdGUKICAgIGNvbXBlbnNhdGVJbmRleE5leHQ6IEludCBhcyB1aW50NjQgPSAxOwoKCiAgICAvKioKICAgICAqIEluaXRpYWxpemVzIHRoZSBvcmRlciBib29rIGNvbnRyYWN0LgogICAgICogQHBhcmFtIGRlcGxveUlkIFRoZSBkZXBsb3ltZW50IElELgogICAgICovCiAgICBpbml0KGRlcGxveUlkOiBJbnQpIHsKICAgICAgICBzZWxmLm93bmVyID0gc2VuZGVyKCk7CiAgICAgICAgc2VsZi5jb21wZW5zYXRvciA9IHNlbmRlcigpOwogICAgICAgIHNlbGYuc3RvcHBlZCA9IGZhbHNlOwogICAgICAgIHNlbGYuZXhlY3V0b3JzLnNldChzZW5kZXIoKSwgdHJ1ZSk7CgogICAgICAgIHNlbGYudXNkdFdhbGxldCA9IG5ld0FkZHJlc3MoMCwgMCk7CiAgICAgICAgc2VsZi5wb29sID0gbmV3QWRkcmVzcygwLCAwKTsKICAgIH0KCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBBZG1pbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCiAgICAvKioKICAgICAqIEBkZXYgUmVjZWl2ZSBmdW5jdGlvbiB0byB1cGRhdGUgdGhlIGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyBvZiB0aGUgb3JkZXIgYm9vayBjb250cmFjdC4KICAgICAqIEBwYXJhbSBtc2cgVGhlIFVwZGF0ZUNvbmZpZyBtZXNzYWdlIGNvbnRhaW5pbmcgdGhlIG5ldyBjb25maWd1cmF0aW9uIHZhbHVlcy4KICAgICAqLwogICAgcmVjZWl2ZShtc2c6IFVwZGF0ZUNvbmZpZykgewogICAgICAgIHNlbGYucmVxdWlyZU93bmVyKCk7CiAgICAgICAgLy8gYXV0aAogICAgICAgIGxldCBpOiBJbnQgPSAwOwogICAgICAgIHdoaWxlIChpIDwgbXNnLmV4ZWN1dG9yTGVuZ3RoKSB7CiAgICAgICAgICAgIGxldCBleGVjdXRvcjogRXhlY3V0b3JQYXJhbT8gPSBtc2cuZXhlY3V0b3JzLmdldChpKTsKICAgICAgICAgICAgaWYgKGV4ZWN1dG9yICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIHNlbGYuZXhlY3V0b3JzLnNldCgoZXhlY3V0b3IhISkuZXhlY3V0b3IsIChleGVjdXRvciEhKS5lbmFibGUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGkgKz0gMTsKICAgICAgICB9CiAgICAgICAgc2VsZi5jb21wZW5zYXRvciA9IG1zZy5jb21wZW5zYXRvcjsKCiAgICAgICAgLy8gY29uZmlnCiAgICAgICAgc2VsZi5taW5UaW1lRGVsYXlUcmFkZXIgPSBtc2cubWluVGltZURlbGF5VHJhZGVyOwogICAgICAgIHNlbGYubHBNaW5FeGVjdXRpb25GZWUgPSBtc2cubHBNaW5FeGVjdXRpb25GZWU7CiAgICAgICAgc2VsZi5wZXJwTWluRXhlY3V0aW9uRmVlID0gbXNnLnBlcnBNaW5FeGVjdXRpb25GZWU7CgogICAgICAgIHNlbGYubHBHYXNDb25zdW1wdGlvbiA9IG1zZy5scEdhc0NvbnN1bXB0aW9uOwogICAgICAgIHNlbGYucGVycEdhc0NvbnN1bXB0aW9uID0gbXNnLnBlcnBHYXNDb25zdW1wdGlvbjsKICAgICAgICBzZWxmLnBvb2xMcEdhc0NvbnN1bXB0aW9uID0gbXNnLnBvb2xMcEdhc0NvbnN1bXB0aW9uOwogICAgICAgIHNlbGYucG9vbFBlcnBHYXNDb25zdW1wdGlvbiA9IG1zZy5wb29sUGVycEdhc0NvbnN1bXB0aW9uOwogICAgICAgIHNlbGYubWluVG9uc0ZvclN0b3JhZ2UgPSBtc2cubWluVG9uc0ZvclN0b3JhZ2U7CiAgICAgICAgc2VsZi5nYXNUcmFuc2ZlckpldHRvbiA9IG1zZy5nYXNUcmFuc2ZlckpldHRvbjsKCiAgICAgICAgc2VsZi51c2R0V2FsbGV0ID0gbXNnLnVzZHRXYWxsZXQ7CiAgICAgICAgc2VsZi5wb29sID0gbXNnLnBvb2w7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbmRlcigpLAogICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUKICAgICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHJpZXZlcyB0aGUgY29uZmlndXJhdGlvbiBkYXRhIGZvciB0aGUgb3JkZXIgYm9vay4KICAgICAqIAogICAgICogQHBhcmFtIGV4ZWN1dG9yIFRoZSBhZGRyZXNzIG9mIHRoZSBleGVjdXRvci4KICAgICAqIEByZXR1cm4gVGhlIENvbmZpZ0RhdGEgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGNvbmZpZ3VyYXRpb24gZGF0YS4KICAgICAqLwogICAgZ2V0IGZ1biBjb25maWdEYXRhKGV4ZWN1dG9yOiBBZGRyZXNzPyk6IENvbmZpZ0RhdGEgewogICAgICAgIGxldCBpc0V4ZWN1dG9yOiBCb29sPyA9IG51bGw7CiAgICAgICAgaWYgKGV4ZWN1dG9yICE9IG51bGwpIHsKICAgICAgICAgICAgaXNFeGVjdXRvciA9IHNlbGYuZXhlY3V0b3JzLmdldChleGVjdXRvciEhKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBDb25maWdEYXRhewogICAgICAgICAgICBpc0V4ZWN1dG9yOiBpc0V4ZWN1dG9yLAogICAgICAgICAgICBtaW5UaW1lRGVsYXlUcmFkZXI6IHNlbGYubWluVGltZURlbGF5VHJhZGVyLAogICAgICAgICAgICBscE1pbkV4ZWN1dGlvbkZlZTogc2VsZi5scE1pbkV4ZWN1dGlvbkZlZSwKICAgICAgICAgICAgcGVycE1pbkV4ZWN1dGlvbkZlZTogc2VsZi5wZXJwTWluRXhlY3V0aW9uRmVlLAogICAgICAgICAgICBscEdhc0NvbnN1bXB0aW9uOiBzZWxmLmxwR2FzQ29uc3VtcHRpb24sCiAgICAgICAgICAgIHBlcnBHYXNDb25zdW1wdGlvbjogc2VsZi5wZXJwR2FzQ29uc3VtcHRpb24sCiAgICAgICAgICAgIHBvb2xMcEdhc0NvbnN1bXB0aW9uOiBzZWxmLnBvb2xMcEdhc0NvbnN1bXB0aW9uLAogICAgICAgICAgICBwb29sUGVycEdhc0NvbnN1bXB0aW9uOiBzZWxmLnBvb2xQZXJwR2FzQ29uc3VtcHRpb24sCiAgICAgICAgICAgIG1pblRvbnNGb3JTdG9yYWdlOiBzZWxmLm1pblRvbnNGb3JTdG9yYWdlLAogICAgICAgICAgICBnYXNUcmFuc2ZlckpldHRvbjogc2VsZi5nYXNUcmFuc2ZlckpldHRvbiwKICAgICAgICAgICAgdG90YWxFeGVjdXRpb25GZWU6IHNlbGYudG90YWxFeGVjdXRpb25GZWUsCiAgICAgICAgICAgIHVzZHRXYWxsZXQ6IHNlbGYudXNkdFdhbGxldCwKICAgICAgICAgICAgcG9vbDogc2VsZi5wb29sCiAgICAgICAgfTsKICAgIH0KCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBUb2tlbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwogICAgLyoqCiAgICAgKiByZWNlaXZlIFRPTiBjb2luIHRyYW5zZmVycyB0byB0aGUgY29udHJhY3QKICAgICAqLwogICAgcmVjZWl2ZSgpIHt9CgogICAgLyoqCiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHRoZSByZWNlaXZlIGZ1bmN0aW9uIG9mIHRoZSBPcmRlckJvb2sgY29udHJhY3QuCiAgICAgKiBJdCBoYW5kbGVzIGluY29taW5nIFRva2VuTm90aWZpY2F0aW9uIG1lc3NhZ2VzIGFuZCBwZXJmb3JtcyB2YXJpb3VzIG9wZXJhdGlvbnMgYmFzZWQgb24gdGhlIG1lc3NhZ2UncyBwYXlsb2FkLgogICAgICogSWYgdGhlIHNlbmRlciBpcyBub3QgdGhlIGNvbnRyYWN0J3MgVVNEVCB3YWxsZXQsIGl0IHJlZnVuZHMgdGhlIHRva2VuIHRvIHRoZSBzZW5kZXIuCiAgICAgKiBJZiB0aGUgY29udHJhY3QgaXMgc3RvcHBlZCwgaXQgcmVmdW5kcyB0aGUgdG9rZW4gYW5kIHNlbmRzIGEgYm91bmNlIG1lc3NhZ2UgdG8gdGhlIHNlbmRlciBpbmRpY2F0aW5nIHRoYXQgb3JkZXIgY3JlYXRpb24gaXMgc3RvcHBlZC4KICAgICAqIElmIHRoZSBvcGVyYXRpb24gY29kZSBpcyBPUF9DUkVBVEVfSU5DUkVBU0VfTFBfUE9TSVRJT05fT1JERVIsIGl0IGhhbmRsZXMgdGhlIGNyZWF0aW9uIG9mIGFuIGluY3JlYXNlIExQIHBvc2l0aW9uIG9yZGVyLgogICAgICogSWYgdGhlIG9wZXJhdGlvbiBjb2RlIGlzIE9QX0NSRUFURV9JTkNSRUFTRV9QRVJQX1BPU0lUSU9OX09SREVSLCBpdCBoYW5kbGVzIHRoZSBjcmVhdGlvbiBvZiBhbiBpbmNyZWFzZSBwZXJwZXR1YWwgcG9zaXRpb24gb3JkZXIuCiAgICAgKiBJZiB0aGUgb3BlcmF0aW9uIGNvZGUgaXMgbm90IHJlY29nbml6ZWQsIGl0IHJlZnVuZHMgdGhlIHRva2VuIHRvIHRoZSBzZW5kZXIuCiAgICAgKgogICAgICogQHBhcmFtIG1zZyBUaGUgVG9rZW5Ob3RpZmljYXRpb24gbWVzc2FnZSByZWNlaXZlZC4KICAgICAqLwogICAgcmVjZWl2ZShtc2c6IFRva2VuTm90aWZpY2F0aW9uKSB7CiAgICAgICAgLy8ganVzdCByZWZ1bmQgb3RoZXIgdG9rZW4KICAgICAgICBpZiAoc2VuZGVyKCkgIT0gc2VsZi51c2R0V2FsbGV0KSB7CiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogc2VuZGVyKCksIAogICAgICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgICAgICBtb2RlOiBTZW5kSWdub3JlRXJyb3JzICsgU2VuZFJlbWFpbmluZ1ZhbHVlLCAKICAgICAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgICAgICBib2R5OiBUb2tlblRyYW5zZmVyewogICAgICAgICAgICAgICAgICAgIHF1ZXJ5SWQ6IG1zZy5xdWVyeUlkLAogICAgICAgICAgICAgICAgICAgIGFtb3VudDogbXNnLmFtb3VudCwKICAgICAgICAgICAgICAgICAgICByZWNlaXZlcjogbXNnLmZyb20sCiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEZXN0aW5hdGlvbjogbXNnLmZyb20sCiAgICAgICAgICAgICAgICAgICAgY3VzdG9tUGF5bG9hZDogbnVsbCwKICAgICAgICAgICAgICAgICAgICBmb3J3YXJkVG9uQW1vdW50OiAwLAogICAgICAgICAgICAgICAgICAgIGZvcndhcmRQYXlsb2FkOiBiZWdpbkNlbGwoKS5lbmRDZWxsKCkuYXNTbGljZSgpCiAgICAgICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICAvLyBzdG9wCiAgICAgICAgaWYgKHNlbGYuc3RvcHBlZCkgewogICAgICAgICAgICBzZWxmLnJlZnVuZEpldHRvbihtc2cucXVlcnlJZCwgbXNnLmFtb3VudCwgbXNnLmZyb20sIG1zZy5mcm9tKTsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBtc2cuZnJvbSwKICAgICAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICAgICAgbW9kZTogU2VuZElnbm9yZUVycm9ycyArIFNlbmRSZW1haW5pbmdWYWx1ZSwKICAgICAgICAgICAgICAgIGJvZHk6ICJjcmVhdGUgb3JkZXIgc3RvcHBlZCIuYXNDb21tZW50KCkKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIC8vIGdldCBvcCBjb2RlCiAgICAgICAgbGV0IGV4aXN0OiBCb29sID0gbXNnLmZvcndhcmRQYXlsb2FkLmxvYWRVaW50KDEpID09IDE7CiAgICAgICAgaWYgKCFleGlzdCkgewogICAgICAgICAgICBzZWxmLnJlZnVuZEpldHRvbihtc2cucXVlcnlJZCwgbXNnLmFtb3VudCwgbXNnLmZyb20sIG1zZy5mcm9tKTsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBtc2cuZnJvbSwKICAgICAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICAgICAgbW9kZTogU2VuZElnbm9yZUVycm9ycyArIFNlbmRSZW1haW5pbmdWYWx1ZSwKICAgICAgICAgICAgICAgIGJvZHk6ICJwYXlsb2FkIG5vdCBleGlzdCIuYXNDb21tZW50KCkKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgbGV0IG9wZXJhdGlvbjogU2xpY2UgPSBtc2cuZm9yd2FyZFBheWxvYWQubG9hZFJlZigpLmFzU2xpY2UoKTsKICAgICAgICBsZXQgb3BDb2RlOiBJbnQgPSBvcGVyYXRpb24ubG9hZFVpbnQoMzIpOwogICAgICAgIGlmIChleGlzdCAmJiBvcENvZGUgPT0gT1BfQ1JFQVRFX0lOQ1JFQVNFX0xQX1BPU0lUSU9OX09SREVSKSB7CiAgICAgICAgICAgIGxldCBsaXF1aWRpdHlEZWx0YTogSW50ID0gb3BlcmF0aW9uLmxvYWRVaW50KDEyOCk7CiAgICAgICAgICAgIGxldCBleGVjdXRpb25GZWU6IEludCA9IG9wZXJhdGlvbi5sb2FkQ29pbnMoKTsKCiAgICAgICAgICAgIHNlbGYuaGFuZGxlQ3JlYXRlSW5jcmVhc2VMUFBvc2l0aW9uT3JkZXIobXNnLnF1ZXJ5SWQsIG1zZy5hbW91bnQsIG1zZy5mcm9tLCBleGVjdXRpb25GZWUsIGxpcXVpZGl0eURlbHRhKTsKICAgICAgICB9IGVsc2UgaWYgKGV4aXN0ICYmIG9wQ29kZSA9PSBPUF9DUkVBVEVfSU5DUkVBU0VfUEVSUF9QT1NJVElPTl9PUkRFUikgewogICAgICAgICAgICBsZXQgZXhlY3V0aW9uRmVlOiBJbnQgPSBvcGVyYXRpb24ubG9hZENvaW5zKCk7CiAgICAgICAgICAgIGxldCBpc01hcmtldDogQm9vbCA9IG9wZXJhdGlvbi5sb2FkSW50KDEpID09IC0xOwogICAgICAgICAgICBsZXQgdG9rZW5JZDogSW50ID0gb3BlcmF0aW9uLmxvYWRVaW50KDY0KTsKICAgICAgICAgICAgbGV0IGlzTG9uZzogQm9vbCA9IG9wZXJhdGlvbi5sb2FkSW50KDEpID09IC0xOwogICAgICAgICAgICBsZXQgbWFyZ2luRGVsdGE6IEludCA9IG9wZXJhdGlvbi5sb2FkVWludCgxMjgpOwogICAgICAgICAgICBsZXQgc2l6ZURlbHRhOiBJbnQgPSBvcGVyYXRpb24ubG9hZFVpbnQoMTI4KTsKICAgICAgICAgICAgbGV0IHRyaWdnZXJQcmljZTogSW50ID0gb3BlcmF0aW9uLmxvYWRVaW50KDI1Nik7CiAgICAgICAgICAgIAogICAgICAgICAgICBsZXQgdHBTbDogU2xpY2UgPSBvcGVyYXRpb24ubG9hZFJlZigpLmFzU2xpY2UoKTsKICAgICAgICAgICAgbGV0IHRwU2l6ZTogSW50ID0gdHBTbC5sb2FkVWludCgxMjgpOwogICAgICAgICAgICBsZXQgdHBQcmljZTogSW50ID0gdHBTbC5sb2FkVWludCgyNTYpOwogICAgICAgICAgICBsZXQgc2xTaXplOiBJbnQgPSB0cFNsLmxvYWRVaW50KDEyOCk7CiAgICAgICAgICAgIGxldCBzbFByaWNlOiBJbnQgPSB0cFNsLmxvYWRVaW50KDI1Nik7CgogICAgICAgICAgICBzZWxmLmhhbmRsZUNyZWF0ZUluY3JlYXNlUGVycFBvc2l0aW9uT3JkZXIobXNnLnF1ZXJ5SWQsIG1zZy5hbW91bnQsIG1zZy5mcm9tLCBleGVjdXRpb25GZWUsIGlzTWFya2V0LCB0b2tlbklkLCBpc0xvbmcsIG1hcmdpbkRlbHRhLCAKICAgICAgICAgICAgICAgIHNpemVEZWx0YSwgdHJpZ2dlclByaWNlLCB0cFNpemUsIHRwUHJpY2UsIHNsU2l6ZSwgc2xQcmljZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBzZWxmLnVzZHRXYWxsZXQsIAogICAgICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgICAgICBtb2RlOiBTZW5kSWdub3JlRXJyb3JzICsgU2VuZFJlbWFpbmluZ1ZhbHVlLCAKICAgICAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgICAgICBib2R5OiBUb2tlblRyYW5zZmVyewogICAgICAgICAgICAgICAgICAgIHF1ZXJ5SWQ6IG1zZy5xdWVyeUlkLAogICAgICAgICAgICAgICAgICAgIGFtb3VudDogbXNnLmFtb3VudCwKICAgICAgICAgICAgICAgICAgICByZWNlaXZlcjogbXNnLmZyb20sCiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEZXN0aW5hdGlvbjogbXNnLmZyb20sCiAgICAgICAgICAgICAgICAgICAgY3VzdG9tUGF5bG9hZDogbnVsbCwKICAgICAgICAgICAgICAgICAgICBmb3J3YXJkVG9uQW1vdW50OiAwLAogICAgICAgICAgICAgICAgICAgIGZvcndhcmRQYXlsb2FkOiBiZWdpbkNlbGwoKS5lbmRDZWxsKCkuYXNTbGljZSgpCiAgICAgICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFJlZnVuZHMgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgamV0dG9uIHRvIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAgICAqIAogICAgICogQHBhcmFtIHF1ZXJ5SWQgVGhlIElEIG9mIHRoZSBxdWVyeS4KICAgICAqIEBwYXJhbSBhbW91bnQgVGhlIGFtb3VudCBvZiBqZXR0b24gdG8gcmVmdW5kLgogICAgICogQHBhcmFtIHRvIFRoZSBhZGRyZXNzIHRvIHJlZnVuZCB0aGUgamV0dG9uIHRvLgogICAgICogQHBhcmFtIGRlc3RpbmF0aW9uIFRoZSBvcHRpb25hbCBhZGRyZXNzIHRvIHNwZWNpZnkgYXMgdGhlIHJlc3BvbnNlIGRlc3RpbmF0aW9uLgogICAgICovCiAgICBmdW4gcmVmdW5kSmV0dG9uKHF1ZXJ5SWQ6IEludCwgYW1vdW50OiBJbnQsIHRvOiBBZGRyZXNzLCBkZXN0aW5hdGlvbjogQWRkcmVzcz8pIHsKICAgICAgICBpZiAoYW1vdW50ID4gMCkgewogICAgICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICAgICAgdG86IHNlbGYudXNkdFdhbGxldCwgCiAgICAgICAgICAgICAgICB2YWx1ZTogc2VsZi5nYXNUcmFuc2ZlckpldHRvbiwKICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMsIAogICAgICAgICAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICAgICAgICAgIGJvZHk6IFRva2VuVHJhbnNmZXJ7CiAgICAgICAgICAgICAgICAgICAgcXVlcnlJZDogcXVlcnlJZCwKICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGFtb3VudCwKICAgICAgICAgICAgICAgICAgICByZWNlaXZlcjogdG8sCiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEZXN0aW5hdGlvbjogZGVzdGluYXRpb24sCiAgICAgICAgICAgICAgICAgICAgY3VzdG9tUGF5bG9hZDogbnVsbCwKICAgICAgICAgICAgICAgICAgICBmb3J3YXJkVG9uQW1vdW50OiAwLAogICAgICAgICAgICAgICAgICAgIGZvcndhcmRQYXlsb2FkOiBiZWdpbkNlbGwoKS5lbmRDZWxsKCkuYXNTbGljZSgpCiAgICAgICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIENhbGN1bGF0ZXMgdGhlIGdhcyBjb3N0IGZvciBleGVjdXRpbmcgYW4gb3JkZXIuCiAgICAgKiAKICAgICAqIEBwYXJhbSBvcmRlclR5cGUgVGhlIHR5cGUgb2YgdGhlIG9yZGVyICgwIGZvciBMUCBvcmRlciwgMSBmb3IgcGVycGV0dWFsIG9yZGVyKS4KICAgICAqIEBwYXJhbSBleGVjdXRpb25GZWVEZWx0YSBUaGUgY2hhbmdlIGluIGV4ZWN1dGlvbiBmZWUuCiAgICAgKiBAcGFyYW0gZXhlY3V0aW9uTXVsdGlwbGUgVGhlIGV4ZWN1dGlvbiBmZWUgbXVsdGlwbGUuCiAgICAgKiBAcGFyYW0gdHJhbnNmZXJKZXR0b24gSW5kaWNhdGVzIHdoZXRoZXIgdG8gdHJhbnNmZXIgamV0dG9uLgogICAgICogQHJldHVybiBUaGUgZ2FzIGNvc3QgZm9yIGV4ZWN1dGluZyB0aGUgb3JkZXIuCiAgICAgKi8KICAgIGZ1biBleGNlZWRHYXMob3JkZXJUeXBlOiBJbnQsIGV4ZWN1dGlvbkZlZURlbHRhOiBJbnQsIGV4ZWN1dGlvbk11bHRpcGxlOiBJbnQsIHRyYW5zZmVySmV0dG9uOiBCb29sKTogSW50IHsKICAgICAgICBsZXQgdG9uQmFsYW5jZUJlZm9yZU1zZzogSW50ID0gbXlCYWxhbmNlKCkgLSBzZWxmLnRvdGFsRXhlY3V0aW9uRmVlICsgZXhlY3V0aW9uRmVlRGVsdGEgLSBjb250ZXh0KCkudmFsdWU7CiAgICAgICAgdG9uQmFsYW5jZUJlZm9yZU1zZyA9IG1heCgwLCB0b25CYWxhbmNlQmVmb3JlTXNnKTsKICAgICAgICBsZXQgc3RvcmFnZUZlZTogSW50ID0gc2VsZi5taW5Ub25zRm9yU3RvcmFnZSAtIG1pbih0b25CYWxhbmNlQmVmb3JlTXNnLCBzZWxmLm1pblRvbnNGb3JTdG9yYWdlKTsKICAgICAgICBsZXQgZXh0cmFWYWx1ZTogSW50ID0gbWF4KDAsIHRvbkJhbGFuY2VCZWZvcmVNc2cgLSBzZWxmLm1pblRvbnNGb3JTdG9yYWdlKTsKICAgICAgICBsZXQgZ2FzQ29uc3VtcHRpb246IEludCA9IG9yZGVyVHlwZSA9PSBPUkRFUl9UWVBFX0xQID8gc2VsZi5scEdhc0NvbnN1bXB0aW9uIDogc2VsZi5wZXJwR2FzQ29uc3VtcHRpb247CiAgICAgICAgcmV0dXJuIGNvbnRleHQoKS52YWx1ZSAtIHN0b3JhZ2VGZWUgLSBnYXNDb25zdW1wdGlvbiAqIGV4ZWN1dGlvbk11bHRpcGxlICsgZXh0cmFWYWx1ZSAtIAogICAgICAgICAgICAoZXhlY3V0aW9uRmVlRGVsdGEgPiAwID8gZXhlY3V0aW9uRmVlRGVsdGEgOiAwKSAtICh0cmFuc2ZlckpldHRvbiA/IHNlbGYuZ2FzVHJhbnNmZXJKZXR0b24gOiAwKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJlZnVuZHMgdGhlIGV4Y2VzcyB0b24gdG9rZW5zIHRvIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAgICAqIAogICAgICogQHBhcmFtIG9yZGVyVHlwZSBUaGUgdHlwZSBvZiB0aGUgb3JkZXIuCiAgICAgKiBAcGFyYW0gdG8gVGhlIGFkZHJlc3MgdG8gd2hpY2ggdGhlIGV4Y2VzcyB0b24gdG9rZW5zIHdpbGwgYmUgcmVmdW5kZWQuCiAgICAgKiBAcGFyYW0gZXhlY3V0aW9uRmVlRGVsdGEgVGhlIGV4ZWN1dGlvbiBmZWUgZGVsdGEuCiAgICAgKiBAcGFyYW0gZXhlY3V0aW9uTXVsdGlwbGUgVGhlIGV4ZWN1dGlvbiBtdWx0aXBsZS4KICAgICAqIEBwYXJhbSB0cmFuc2ZlckpldHRvbiBBIGJvb2xlYW4gdmFsdWUgaW5kaWNhdGluZyB3aGV0aGVyIHRvIHRyYW5zZmVyIGpldHRvbi4KICAgICAqLwogICAgZnVuIHJlZnVuZEV4Y2VlZFRvbihvcmRlclR5cGU6IEludCwgdG86IEFkZHJlc3MsIGV4ZWN1dGlvbkZlZURlbHRhOiBJbnQsIGV4ZWN1dGlvbk11bHRpcGxlOiBJbnQsIHRyYW5zZmVySmV0dG9uOiBCb29sKSB7CiAgICAgICAgbGV0IHJlZnVuZFZhbHVlOiBJbnQgPSBzZWxmLmV4Y2VlZEdhcyhvcmRlclR5cGUsIGV4ZWN1dGlvbkZlZURlbHRhLCBleGVjdXRpb25NdWx0aXBsZSwgdHJhbnNmZXJKZXR0b24pOwogICAgICAgIGlmIChyZWZ1bmRWYWx1ZSA+IDApIHsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiB0bywKICAgICAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgICAgIHZhbHVlOiByZWZ1bmRWYWx1ZSwKICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogQ2FsY3VsYXRlcyB0aGUgdG90YWwgZ2FzIGNvbnN1bXB0aW9uIGZvciBhIGdpdmVuIG9yZGVyIHR5cGUuCiAgICAgKiAKICAgICAqIEBwYXJhbSBvcmRlclR5cGUgVGhlIHR5cGUgb2YgdGhlIG9yZGVyICgwIGZvciBMUCBvcmRlciwgMSBmb3IgUGVycCBvcmRlcikuCiAgICAgKiBAcmV0dXJuIFRoZSB0b3RhbCBnYXMgY29uc3VtcHRpb24sIGluY2x1ZGluZyBmb3J3YXJkIGZlZSwgZ2FzIGNvbnN1bXB0aW9uLCBhbmQgbWluaW11bSB0b25zIGZvciBzdG9yYWdlLgogICAgICovCiAgICBmdW4gZ2V0UG9vbEdhcyhvcmRlclR5cGU6IEludCk6IEludCB7CiAgICAgICAgbGV0IGdhc0NvbnN1bXB0aW9uOiBJbnQgPSBvcmRlclR5cGUgPT0gT1JERVJfVFlQRV9MUCA/IHNlbGYucG9vbExwR2FzQ29uc3VtcHRpb24gOiBzZWxmLnBvb2xQZXJwR2FzQ29uc3VtcHRpb247CiAgICAgICAgcmV0dXJuIGNvbnRleHQoKS5yZWFkRm9yd2FyZEZlZSgpICsgZ2FzQ29uc3VtcHRpb24gKyBzZWxmLm1pblRvbnNGb3JTdG9yYWdlOwogICAgfQoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IExQID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCiAgICAvKioKICAgICAqIEhhbmRsZXMgdGhlIGNyZWF0aW9uIG9mIGFuIGluY3JlYXNlIExQIHBvc2l0aW9uIG9yZGVyLgogICAgICogCiAgICAgKiBAcGFyYW0gcXVlcnlJZCBUaGUgSUQgb2YgdGhlIHF1ZXJ5LgogICAgICogQHBhcmFtIGpldHRvbkZyb21BbW91bnQgVGhlIGFtb3VudCBvZiBqZXR0b24gZnJvbSB3aGljaCB0aGUgb3JkZXIgaXMgY3JlYXRlZC4KICAgICAqIEBwYXJhbSBhY2NvdW50IFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGNyZWF0aW5nIHRoZSBvcmRlci4KICAgICAqIEBwYXJhbSBleGVjdXRpb25GZWUgVGhlIGV4ZWN1dGlvbiBmZWUgZm9yIHRoZSBvcmRlci4KICAgICAqIEBwYXJhbSBsaXF1aWRpdHlEZWx0YSBUaGUgY2hhbmdlIGluIGxpcXVpZGl0eSBmb3IgdGhlIG9yZGVyLgogICAgICovCiAgICBmdW4gaGFuZGxlQ3JlYXRlSW5jcmVhc2VMUFBvc2l0aW9uT3JkZXIocXVlcnlJZDogSW50LCBqZXR0b25Gcm9tQW1vdW50OiBJbnQsIGFjY291bnQ6IEFkZHJlc3MsIGV4ZWN1dGlvbkZlZTogSW50LCBsaXF1aWRpdHlEZWx0YTogSW50KSB7CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKCiAgICAgICAgbGV0IHJlZnVuZENvbW1lbnQ6IFN0cmluZyA9ICIiOwogICAgICAgIGxldCByZWZ1bmQ6IEJvb2wgPSBmYWxzZTsKICAgICAgICBpZiAoY3R4LnZhbHVlIDwgZXhlY3V0aW9uRmVlICsgc2VsZi5scEdhc0NvbnN1bXB0aW9uKSB7CiAgICAgICAgICAgIHJlZnVuZCA9IHRydWU7CiAgICAgICAgICAgIHJlZnVuZENvbW1lbnQgPSAiZ2FzIG5vdCBlbm91Z2giOwogICAgICAgIH0KCiAgICAgICAgaWYgKGpldHRvbkZyb21BbW91bnQgPCBsaXF1aWRpdHlEZWx0YSkgewogICAgICAgICAgICByZWZ1bmQgPSB0cnVlOwogICAgICAgICAgICByZWZ1bmRDb21tZW50ID0gImpldHRvbiBub3QgZW5vdWdoIjsKICAgICAgICB9CgogICAgICAgIGlmIChleGVjdXRpb25GZWUgPCBzZWxmLmxwTWluRXhlY3V0aW9uRmVlKSB7CiAgICAgICAgICAgIHJlZnVuZCA9IHRydWU7CiAgICAgICAgICAgIHJlZnVuZENvbW1lbnQgPSAiZXhlY3V0aW9uIGZlZSBub3QgZW5vdWdoIjsKICAgICAgICB9CgogICAgICAgIC8vIG5lZWQgcmVmdW5kCiAgICAgICAgaWYgKHJlZnVuZCkgewogICAgICAgICAgICBzZWxmLnJlZnVuZEpldHRvbihxdWVyeUlkLCBqZXR0b25Gcm9tQW1vdW50LCBhY2NvdW50LCBhY2NvdW50KTsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBhY2NvdW50LAogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgICAgICBtb2RlOiBTZW5kSWdub3JlRXJyb3JzICsgU2VuZFJlbWFpbmluZ1ZhbHVlLAogICAgICAgICAgICAgICAgYm9keTogcmVmdW5kQ29tbWVudC5hc0NvbW1lbnQoKQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgLy8gYWRkIG5ldyBvcmRlcgogICAgICAgIGxldCBvcmRlcklkOiBJbnQgPSBzZWxmLmxwUG9zaXRpb25PcmRlckluZGV4TmV4dDsKICAgICAgICBzZWxmLmxwUG9zaXRpb25PcmRlckluZGV4TmV4dCA9IG9yZGVySWQgKyAxOwogICAgICAgIHNlbGYubHBQb3NpdGlvbk9yZGVycy5zZXQob3JkZXJJZCwgTFBQb3NpdGlvbk9yZGVyewogICAgICAgICAgICBpc0luY3JlYXNlOiB0cnVlLAogICAgICAgICAgICBhY2NvdW50OiBhY2NvdW50LAogICAgICAgICAgICBsaXF1aWRpdHlEZWx0YTogbGlxdWlkaXR5RGVsdGEsCiAgICAgICAgICAgIGV4ZWN1dGlvbkZlZTogZXhlY3V0aW9uRmVlLAogICAgICAgICAgICBibG9ja1RpbWU6IG5vdygpLAogICAgICAgICAgICBpc1BlbmRpbmc6IGZhbHNlLAogICAgICAgICAgICBleGVjdXRpb25GZWVSZWNlaXZlcjogYWNjb3VudCwKICAgICAgICAgICAgbGFzdE9wZXJhdG9yOiBudWxsCiAgICAgICAgfSk7CgogICAgICAgIHNlbGYudG90YWxFeGVjdXRpb25GZWUgKz0gZXhlY3V0aW9uRmVlOwoKICAgICAgICAvLyBldmVudAogICAgICAgIGVtaXQoTFBQb3NpdGlvbk9yZGVyQ3JlYXRlZEV2ZW50ewogICAgICAgICAgICBvcFR5cGU6IE9SREVSX09QX1RZUEVfSU5DUkVBU0UsCiAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgICAgICAgIGxpcXVpZGl0eURlbHRhOiBsaXF1aWRpdHlEZWx0YSwKICAgICAgICAgICAgZXhlY3V0aW9uRmVlOiBleGVjdXRpb25GZWUsCiAgICAgICAgICAgIG9yZGVySWQ6IG9yZGVySWQsCiAgICAgICAgICAgIHRyeElkOiBxdWVyeUlkCiAgICAgICAgfS50b0NlbGwoKSk7CgogICAgICAgIHNlbGYucmVmdW5kRXhjZWVkVG9uKE9SREVSX1RZUEVfTFAsIGFjY291bnQsIGV4ZWN1dGlvbkZlZSwgMSwgZmFsc2UpOwogICAgfQoKICAgIC8qKgogICAgICogUmVjZWl2ZSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYSBkZWNyZWFzZSBMUCBwb3NpdGlvbiBvcmRlci4KICAgICAqIAogICAgICogQHBhcmFtIG1zZyBUaGUgQ3JlYXRlRGVjcmVhc2VMUFBvc2l0aW9uT3JkZXIgbWVzc2FnZSBjb250YWluaW5nIHRoZSBvcmRlciBkZXRhaWxzLgogICAgICovCiAgICByZWNlaXZlKG1zZzogQ3JlYXRlRGVjcmVhc2VMUFBvc2l0aW9uT3JkZXIpIHsKICAgICAgICBzZWxmLnJlcXVpcmVOb3RTdG9wcGVkKCk7CgogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgLy8gY2hlY2sgZ2FzCiAgICAgICAgcmVxdWlyZShjdHgudmFsdWUgLSBtc2cuZXhlY3V0aW9uRmVlID49IHNlbGYubHBHYXNDb25zdW1wdGlvbiwgImdhcyBub3QgZW5vdWdoIik7CiAgICAgICAgLy8gY2hlY2sgZXhlY3V0aW9uIGZlZQogICAgICAgIHJlcXVpcmUobXNnLmV4ZWN1dGlvbkZlZSA+PSBzZWxmLmxwTWluRXhlY3V0aW9uRmVlLCAiZXhlY3V0aW9uIGZlZSBub3QgZW5vdWdoIik7CgogICAgICAgIC8vIGFkZCBuZXcgb3JkZXIKICAgICAgICBsZXQgb3JkZXJJZDogSW50ID0gc2VsZi5scFBvc2l0aW9uT3JkZXJJbmRleE5leHQ7CiAgICAgICAgc2VsZi5scFBvc2l0aW9uT3JkZXJJbmRleE5leHQgPSBzZWxmLmxwUG9zaXRpb25PcmRlckluZGV4TmV4dCArIDE7CiAgICAgICAgc2VsZi5scFBvc2l0aW9uT3JkZXJzLnNldChvcmRlcklkLCBMUFBvc2l0aW9uT3JkZXJ7CiAgICAgICAgICAgIGlzSW5jcmVhc2U6IGZhbHNlLAogICAgICAgICAgICBhY2NvdW50OiBzZW5kZXIoKSwKICAgICAgICAgICAgbGlxdWlkaXR5RGVsdGE6IG1zZy5saXF1aWRpdHlEZWx0YSwKICAgICAgICAgICAgZXhlY3V0aW9uRmVlOiBtc2cuZXhlY3V0aW9uRmVlLAogICAgICAgICAgICBibG9ja1RpbWU6IG5vdygpLAogICAgICAgICAgICBpc1BlbmRpbmc6IGZhbHNlLAogICAgICAgICAgICBleGVjdXRpb25GZWVSZWNlaXZlcjogc2VuZGVyKCksCiAgICAgICAgICAgIGxhc3RPcGVyYXRvcjogbnVsbAogICAgICAgIH0pOwoKICAgICAgICBzZWxmLnRvdGFsRXhlY3V0aW9uRmVlICs9IG1zZy5leGVjdXRpb25GZWU7CgogICAgICAgIC8vIGV2ZW50CiAgICAgICAgZW1pdChMUFBvc2l0aW9uT3JkZXJDcmVhdGVkRXZlbnR7CiAgICAgICAgICAgIG9wVHlwZTogT1JERVJfT1BfVFlQRV9ERUNSRUFTRSwKICAgICAgICAgICAgYWNjb3VudDogc2VuZGVyKCksCiAgICAgICAgICAgIGxpcXVpZGl0eURlbHRhOiBtc2cubGlxdWlkaXR5RGVsdGEsCiAgICAgICAgICAgIGV4ZWN1dGlvbkZlZTogbXNnLmV4ZWN1dGlvbkZlZSwKICAgICAgICAgICAgb3JkZXJJZDogb3JkZXJJZCwKICAgICAgICAgICAgdHJ4SWQ6IG1zZy50cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwoKICAgICAgICAvLyB0cmFuc2ZlciBleGVjZXNzIGdhcwogICAgICAgIHNlbGYucmVmdW5kRXhjZWVkVG9uKE9SREVSX1RZUEVfTFAsIHNlbmRlcigpLCBtc2cuZXhlY3V0aW9uRmVlLCAxLCBmYWxzZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aGVuIGEgQ2FuY2VsTFBQb3NpdGlvbk9yZGVyIG1lc3NhZ2UgaXMgcmVjZWl2ZWQuCiAgICAgKiBJdCBjYW5jZWxzIGEgbGlxdWlkaXR5IHBvc2l0aW9uIG9yZGVyIGFuZCBwZXJmb3JtcyB2YXJpb3VzIGNoZWNrcyBhbmQgb3BlcmF0aW9ucy4KICAgICAqIAogICAgICogQHBhcmFtIG1zZyBUaGUgQ2FuY2VsTFBQb3NpdGlvbk9yZGVyIG1lc3NhZ2UgY29udGFpbmluZyB0aGUgb3JkZXIgSUQgYW5kIG90aGVyIHBhcmFtZXRlcnMuCiAgICAgKi8KICAgIHJlY2VpdmUobXNnOiBDYW5jZWxMUFBvc2l0aW9uT3JkZXIpIHsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIC8vIGdldCBvcmRlcgogICAgICAgIGxldCBvcmRlck9wdDogTFBQb3NpdGlvbk9yZGVyPyA9IHNlbGYubHBQb3NpdGlvbk9yZGVycy5nZXQobXNnLm9yZGVySWQpOwogICAgICAgIHJlcXVpcmUob3JkZXJPcHQgIT0gbnVsbCwgIm9yZGVyIG5vdCBleGlzdCIpOwogICAgICAgIGxldCBvcmRlcjogTFBQb3NpdGlvbk9yZGVyID0gb3JkZXJPcHQhITsKCiAgICAgICAgLy8gY2hlY2sgZ2FzCiAgICAgICAgaWYgKG9yZGVyLmlzSW5jcmVhc2UpIHsKICAgICAgICAgICAgcmVxdWlyZShjdHgudmFsdWUgPj0gc2VsZi5scEdhc0NvbnN1bXB0aW9uICsgc2VsZi5nYXNUcmFuc2ZlckpldHRvbiwgImdhcyBub3QgZW5vdWdoIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVxdWlyZShjdHgudmFsdWUgPj0gc2VsZi5scEdhc0NvbnN1bXB0aW9uLCAiZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gY2hlY2sgb3JkZXIKICAgICAgICByZXF1aXJlKCFvcmRlci5pc1BlbmRpbmcsICJvcmRlciBpcyBwZW5kaW5nIik7CgogICAgICAgIC8vIGV4ZWN1dG9yIG9yIHRyYWRlcgogICAgICAgIGxldCBpc0V4ZWN1dG9yOiBCb29sID0gc2VsZi5pc0V4ZWN1dG9yKHNlbmRlcigpKTsKICAgICAgICByZXF1aXJlKGlzRXhlY3V0b3IgfHwgc2VuZGVyKCkgPT0gb3JkZXIuYWNjb3VudCwgImludmFsaWQgc2VuZGVyIik7CgogICAgICAgIC8vIHRyYWRlciBjYW5jZWwgbXVzdCBhZnRlciBtaW5UaW1lRGVsYXlUcmFkZXIKICAgICAgICBpZiAoIWlzRXhlY3V0b3IpIHsKICAgICAgICAgICAgcmVxdWlyZShvcmRlci5ibG9ja1RpbWUgKyBzZWxmLm1pblRpbWVEZWxheVRyYWRlciA8PSBub3coKSwgInRvbyBlYXJseSIpOwogICAgICAgIH0KCiAgICAgICAgLy8gZ2V0IGZlZSByZWNlaXZlcgogICAgICAgIGxldCBleGVjdXRpb25GZWVSZWNlaXZlcjogQWRkcmVzcyA9IHNlbmRlcigpOwogICAgICAgIGlmIChtc2cuZXhlY3V0aW9uRmVlUmVjZWl2ZXIgIT0gbnVsbCkgewogICAgICAgICAgICBleGVjdXRpb25GZWVSZWNlaXZlciA9IG1zZy5leGVjdXRpb25GZWVSZWNlaXZlciEhOwogICAgICAgIH0KCiAgICAgICAgLy8gZGVsZXRlIG9yZGVyCiAgICAgICAgc2VsZi5scFBvc2l0aW9uT3JkZXJzLnNldChtc2cub3JkZXJJZCwgbnVsbCk7CgogICAgICAgIGlmIChvcmRlci5pc0luY3JlYXNlKSB7CiAgICAgICAgICAgIC8vIHRyYW5zZmVyIGpldHRvbgogICAgICAgICAgICBzZWxmLnJlZnVuZEpldHRvbihtc2cudHJ4SWQsIG9yZGVyLmxpcXVpZGl0eURlbHRhLCBvcmRlci5hY2NvdW50LCBzZW5kZXIoKSk7CiAgICAgICAgfQoKICAgICAgICAvLyB0cmFuc2ZlciBleGVjdXRpb24gZmVlCiAgICAgICAgLy8gc2VsZi50cmFuc2ZlckV4ZWN1dGlvbkZlZShleGVjdXRpb25GZWVSZWNlaXZlciwgb3JkZXIuZXhlY3V0aW9uRmVlKTsKICAgICAgICBpZiAob3JkZXIuZXhlY3V0aW9uRmVlID4gMCkgewogICAgICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICAgICAgdG86IGV4ZWN1dGlvbkZlZVJlY2VpdmVyLAogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICAgICAgdmFsdWU6IG9yZGVyLmV4ZWN1dGlvbkZlZSwKICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBzZWxmLnRvdGFsRXhlY3V0aW9uRmVlIC09IG9yZGVyLmV4ZWN1dGlvbkZlZTsKICAgICAgICB9CgogICAgICAgIC8vIGV2ZW50CiAgICAgICAgZW1pdChMUFBvc2l0aW9uT3JkZXJDYW5jZWxsZWRFdmVudHsKICAgICAgICAgICAgb3BUeXBlOiBvcmRlci5pc0luY3JlYXNlID8gT1JERVJfT1BfVFlQRV9JTkNSRUFTRSA6IE9SREVSX09QX1RZUEVfREVDUkVBU0UsCiAgICAgICAgICAgIG9yZGVySWQ6IG1zZy5vcmRlcklkLAogICAgICAgICAgICB0cnhJZDogbXNnLnRyeElkCiAgICAgICAgfS50b0NlbGwoKSk7CgogICAgICAgIC8vIHRyYW5zZmVyIGV4ZWNlc3MgZ2FzCiAgICAgICAgc2VsZi5yZWZ1bmRFeGNlZWRUb24oT1JERVJfVFlQRV9MUCwgc2VuZGVyKCksIC1vcmRlci5leGVjdXRpb25GZWUsIDEsIG9yZGVyLmlzSW5jcmVhc2UpOwogICAgfQoKICAgIC8qKgogICAgICogVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbiBleGVjdXRpbmcgYW4gTFAgcG9zaXRpb24gb3JkZXIuCiAgICAgKiBJdCBwZXJmb3JtcyB2YXJpb3VzIGNoZWNrcyBhbmQgdXBkYXRlcyB0aGUgb3JkZXIgYWNjb3JkaW5nbHkuCiAgICAgKiAKICAgICAqIEBwYXJhbSBtc2cgVGhlIEV4ZWN1dGVMUFBvc2l0aW9uT3JkZXIgbWVzc2FnZSBjb250YWluaW5nIHRoZSBvcmRlciBkZXRhaWxzLgogICAgICovCiAgICByZWNlaXZlKG1zZzogRXhlY3V0ZUxQUG9zaXRpb25PcmRlcikgewogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CgogICAgICAgIC8vIGdldCBvcmRlcgogICAgICAgIGxldCBvcmRlck9wdDogTFBQb3NpdGlvbk9yZGVyPyA9IHNlbGYubHBQb3NpdGlvbk9yZGVycy5nZXQobXNnLm9yZGVySWQpOwogICAgICAgIHJlcXVpcmUob3JkZXJPcHQgIT0gbnVsbCwgIm9yZGVyIG5vdCBleGlzdCIpOwoKICAgICAgICBsZXQgb3JkZXI6IExQUG9zaXRpb25PcmRlciA9IG9yZGVyT3B0ISE7CgogICAgICAgIC8vIGNoZWNrIGdhcwogICAgICAgIGlmIChvcmRlci5pc0luY3JlYXNlKSB7CiAgICAgICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlID49IHNlbGYubHBHYXNDb25zdW1wdGlvbiAqIDIgKyBzZWxmLmdldFBvb2xHYXMoT1JERVJfVFlQRV9MUCksICJnYXMgbm90IGVub3VnaCIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlID49IHNlbGYubHBHYXNDb25zdW1wdGlvbiAqIDIgKyBzZWxmLmdldFBvb2xHYXMoT1JERVJfVFlQRV9MUCkgKyBzZWxmLmdhc1RyYW5zZmVySmV0dG9uLCAiZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICB9CgogICAgICAgIC8vIGNoZWNrIG9yZGVyCiAgICAgICAgcmVxdWlyZSghb3JkZXIuaXNQZW5kaW5nLCAib3JkZXIgaXMgcGVuZGluZyIpOwoKICAgICAgICAvLyBjaGVjayBzZW5kZXIKICAgICAgICBsZXQgaXNFeGVjdXRvcjogQm9vbCA9IHNlbGYuaXNFeGVjdXRvcihzZW5kZXIoKSk7CiAgICAgICAgcmVxdWlyZShpc0V4ZWN1dG9yLCAiaW52YWxpZCBzZW5kZXIiKTsKCiAgICAgICAgLy8gdXBkYXRlIG9yZGVyCiAgICAgICAgaWYgKG1zZy5leGVjdXRpb25GZWVSZWNlaXZlciAhPSBudWxsKSB7CiAgICAgICAgICAgIG9yZGVyLmV4ZWN1dGlvbkZlZVJlY2VpdmVyID0gbXNnLmV4ZWN1dGlvbkZlZVJlY2VpdmVyISE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgb3JkZXIuZXhlY3V0aW9uRmVlUmVjZWl2ZXIgPSBzZW5kZXIoKTsKICAgICAgICB9CiAgICAgICAgb3JkZXIubGFzdE9wZXJhdG9yID0gc2VuZGVyKCk7CiAgICAgICAgb3JkZXIuaXNQZW5kaW5nID0gdHJ1ZTsKICAgICAgICBzZWxmLmxwUG9zaXRpb25PcmRlcnMuc2V0KG1zZy5vcmRlcklkLCBvcmRlcik7CgogICAgICAgIC8vIHNlbmQgdXBkYXRlIHBvc2l0aW9uIG1zZwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLnBvb2wsCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUsCiAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgYm9keTogVXBkYXRlTFBQb3NpdGlvbiB7CiAgICAgICAgICAgICAgICBpc0luY3JlYXNlOiBvcmRlci5pc0luY3JlYXNlLAogICAgICAgICAgICAgICAgb3JkZXJJZDogbXNnLm9yZGVySWQsCiAgICAgICAgICAgICAgICB0cnhJZDogbXNnLnRyeElkLAogICAgICAgICAgICAgICAgYWNjb3VudDogb3JkZXIuYWNjb3VudCwKICAgICAgICAgICAgICAgIGxpcXVpZGl0eURlbHRhOiBvcmRlci5saXF1aWRpdHlEZWx0YQogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHRyaWdnZXJlZCB3aGVuIGFuIExQIHBvc2l0aW9uIHVwZGF0ZSBpcyBzdWNjZXNzZnVsLgogICAgICogSXQgcGVyZm9ybXMgdmFyaW91cyBjaGVja3MgYW5kIG9wZXJhdGlvbnMgcmVsYXRlZCB0byB0aGUgTFAgcG9zaXRpb24gb3JkZXIuCiAgICAgKiAKICAgICAqIEBwYXJhbSBtc2cgVGhlIFVwZGF0ZUxQUG9zaXRpb25TdWNjZXNzIG1lc3NhZ2UgY29udGFpbmluZyB0aGUgb3JkZXIgSUQsIHRyYW5zYWN0aW9uIElELCBhbmQgcmVjZWl2ZWQgYW1vdW50LgogICAgICovCiAgICByZWNlaXZlKG1zZzogVXBkYXRlTFBQb3NpdGlvblN1Y2Nlc3MpIHsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gc2VsZi5wb29sLCAiaW52YWxpZCBzZW5kZXIiKTsKCiAgICAgICAgLy8gZ2V0IG9yZGVyCiAgICAgICAgbGV0IG9yZGVyT3B0OiBMUFBvc2l0aW9uT3JkZXI/ID0gc2VsZi5scFBvc2l0aW9uT3JkZXJzLmdldChtc2cub3JkZXJJZCk7CiAgICAgICAgcmVxdWlyZShvcmRlck9wdCAhPSBudWxsLCAib3JkZXIgbm90IGV4aXN0Iik7CiAgICAgICAgbGV0IG9yZGVyOiBMUFBvc2l0aW9uT3JkZXIgPSBvcmRlck9wdCEhOwoKICAgICAgICAvLyBjaGVjayBnYXMKICAgICAgICBpZiAob3JkZXIuaXNJbmNyZWFzZSkgewogICAgICAgICAgICByZXF1aXJlKGN0eC52YWx1ZSA+PSBzZWxmLmxwR2FzQ29uc3VtcHRpb24sICJnYXMgbm90IGVub3VnaCIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlID49IHNlbGYubHBHYXNDb25zdW1wdGlvbiArIHNlbGYuZ2FzVHJhbnNmZXJKZXR0b24sICJnYXMgbm90IGVub3VnaCIpOwogICAgICAgIH0KCiAgICAgICAgLy8gZGVsZXRlIG9yZGVyCiAgICAgICAgc2VsZi5scFBvc2l0aW9uT3JkZXJzLnNldChtc2cub3JkZXJJZCwgbnVsbCk7CgogICAgICAgIC8vIHRyYW5zZmVyIGpldHRvbgogICAgICAgIGlmIChtc2cucmVjZWl2ZSA+IDApIHsKICAgICAgICAgICAgc2VsZi5yZWZ1bmRKZXR0b24obXNnLnRyeElkLCBtc2cucmVjZWl2ZSwgb3JkZXIuYWNjb3VudCwgb3JkZXIubGFzdE9wZXJhdG9yKTsKICAgICAgICB9CgogICAgICAgIC8vIHRyYW5zZmVyIGV4ZWN1dGlvbiBmZWUKICAgICAgICBpZiAob3JkZXIuZXhlY3V0aW9uRmVlID4gMCkgewogICAgICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICAgICAgdG86IG9yZGVyLmV4ZWN1dGlvbkZlZVJlY2VpdmVyLAogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICAgICAgdmFsdWU6IG9yZGVyLmV4ZWN1dGlvbkZlZSwKICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNlbGYudG90YWxFeGVjdXRpb25GZWUgLT0gb3JkZXIuZXhlY3V0aW9uRmVlOwogICAgICAgIH0KCiAgICAgICAgLy8gZXZlbnQKICAgICAgICBlbWl0KExQUG9zaXRpb25PcmRlckV4ZWN1dGVkRXZlbnR7CiAgICAgICAgICAgIG9wVHlwZTogb3JkZXIuaXNJbmNyZWFzZSA/IE9SREVSX09QX1RZUEVfSU5DUkVBU0UgOiBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFLAogICAgICAgICAgICBvcmRlcklkOiBtc2cub3JkZXJJZCwKICAgICAgICAgICAgdHJ4SWQ6IG1zZy50cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwoKICAgICAgICAvLyB0cmFuc2ZlciBleGNlc3MgZ2FzCiAgICAgICAgaWYgKG9yZGVyLmxhc3RPcGVyYXRvciAhPSBudWxsKSB7CiAgICAgICAgICAgIHNlbGYucmVmdW5kRXhjZWVkVG9uKE9SREVSX1RZUEVfTFAsIG9yZGVyLmxhc3RPcGVyYXRvciEhLCAtb3JkZXIuZXhlY3V0aW9uRmVlLCAxLCBtc2cucmVjZWl2ZSA+IDApOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW4gYSB0cmFuc2FjdGlvbiBpcyBib3VuY2VkLCBpbmRpY2F0aW5nIHRoYXQgYW4gdXBkYXRlIHRvIGFuIExQIHBvc2l0aW9uIG9yZGVyIGhhcyBmYWlsZWQuCiAgICAgKiBJdCByZXRyaWV2ZXMgdGhlIExQIHBvc2l0aW9uIG9yZGVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgYm91bmNlZCB0cmFuc2FjdGlvbiBhbmQgdXBkYXRlcyBpdHMgcGVuZGluZyBzdGF0dXMuCiAgICAgKiBJZiB0aGUgb3JkZXIgaGFzIGEgbGFzdCBvcGVyYXRvciwgaXQgc2VuZHMgYSB6ZXJvLXZhbHVlIHRyYW5zYWN0aW9uIHRvIHRoZSBsYXN0IG9wZXJhdG9yLgogICAgICogCiAgICAgKiBAcGFyYW0gc3JjIFRoZSBib3VuY2VkIHRyYW5zYWN0aW9uIGNvbnRhaW5pbmcgdGhlIG9yZGVyIElELgogICAgICovCiAgICBib3VuY2VkKHNyYzogYm91bmNlZDxVcGRhdGVMUFBvc2l0aW9uPikgewoKICAgICAgICAvLyBnZXQgb3JkZXIKICAgICAgICBsZXQgb3JkZXJPcHQ6IExQUG9zaXRpb25PcmRlcj8gPSBzZWxmLmxwUG9zaXRpb25PcmRlcnMuZ2V0KHNyYy5vcmRlcklkKTsKICAgICAgICBpZiAob3JkZXJPcHQgPT0gbnVsbCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGxldCBvcmRlcjogTFBQb3NpdGlvbk9yZGVyID0gb3JkZXJPcHQhITsKCiAgICAgICAgLy8gdXBkYXRlIHBlbmRpbmcKICAgICAgICBvcmRlci5pc1BlbmRpbmcgPSBmYWxzZTsKICAgICAgICBzZWxmLmxwUG9zaXRpb25PcmRlcnMuc2V0KHNyYy5vcmRlcklkLCBvcmRlcik7CgogICAgICAgIGlmIChvcmRlci5sYXN0T3BlcmF0b3IgIT0gbnVsbCkgewogICAgICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICAgICAgdG86IG9yZGVyLmxhc3RPcGVyYXRvciEhLAogICAgICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgICAgICBtb2RlOiBTZW5kSWdub3JlRXJyb3JzICsgU2VuZFJlbWFpbmluZ1ZhbHVlCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFJldHJpZXZlcyB0aGUgTFBQb3NpdGlvbk9yZGVyRGF0YSBmb3IgdGhlIHNwZWNpZmllZCBvcmRlciBJRC4KICAgICAqIAogICAgICogQHBhcmFtIG9yZGVySWQgVGhlIElEIG9mIHRoZSBvcmRlciB0byByZXRyaWV2ZS4KICAgICAqIEByZXR1cm4gVGhlIExQUG9zaXRpb25PcmRlckRhdGEgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG5leHQgaW5kZXggYW5kIHRoZSBMUFBvc2l0aW9uT3JkZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBvcmRlciBJRC4KICAgICAqLwogICAgZ2V0IGZ1biBscFBvc2l0aW9uT3JkZXIob3JkZXJJZDogSW50KTogTFBQb3NpdGlvbk9yZGVyRGF0YSB7CiAgICAgICAgcmV0dXJuIExQUG9zaXRpb25PcmRlckRhdGF7CiAgICAgICAgICAgIGxwUG9zaXRpb25PcmRlckluZGV4TmV4dDogc2VsZi5scFBvc2l0aW9uT3JkZXJJbmRleE5leHQsCiAgICAgICAgICAgIGxwUG9zaXRpb25PcmRlcjogc2VsZi5scFBvc2l0aW9uT3JkZXJzLmdldChvcmRlcklkKQogICAgICAgIH07CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUGVycCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwogICAgLyoqCiAgICAgKiBIYW5kbGVzIHRoZSBjcmVhdGlvbiBhbmQgaW5jcmVhc2Ugb2YgYSBwZXJwZXR1YWwgcG9zaXRpb24gb3JkZXIuCiAgICAgKiAKICAgICAqIEBwYXJhbSBxdWVyeUlkIFRoZSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIG9yZGVyLgogICAgICogQHBhcmFtIGpldHRvbkZyb21BbW91bnQgVGhlIGFtb3VudCBvZiBqZXR0b24gdG8gYmUgdXNlZCBmb3IgdGhlIG9yZGVyLgogICAgICogQHBhcmFtIGFjY291bnQgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgcGxhY2luZyB0aGUgb3JkZXIuCiAgICAgKiBAcGFyYW0gZXhlY3V0aW9uRmVlIFRoZSBleGVjdXRpb24gZmVlIGZvciB0aGUgb3JkZXIuCiAgICAgKiBAcGFyYW0gaXNNYXJrZXQgQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgb3JkZXIgaXMgYSBtYXJrZXQgb3JkZXIgb3IgYSBsaW1pdCBvcmRlci4KICAgICAqIEBwYXJhbSB0b2tlbklkIFRoZSBJRCBvZiB0aGUgdG9rZW4gYXNzb2NpYXRlZCB3aXRoIHRoZSBvcmRlci4KICAgICAqIEBwYXJhbSBpc0xvbmcgQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgb3JkZXIgaXMgYSBsb25nIHBvc2l0aW9uIG9yIGEgc2hvcnQgcG9zaXRpb24uCiAgICAgKiBAcGFyYW0gbWFyZ2luRGVsdGEgVGhlIGNoYW5nZSBpbiBtYXJnaW4gZm9yIHRoZSBvcmRlci4KICAgICAqIEBwYXJhbSBzaXplRGVsdGEgVGhlIGNoYW5nZSBpbiBzaXplIGZvciB0aGUgb3JkZXIuCiAgICAgKiBAcGFyYW0gdHJpZ2dlclByaWNlIFRoZSB0cmlnZ2VyIHByaWNlIGZvciB0aGUgb3JkZXIuCiAgICAgKiBAcGFyYW0gdHBTaXplIFRoZSB0YWtlIHByb2ZpdCBzaXplIGZvciB0aGUgb3JkZXIuCiAgICAgKiBAcGFyYW0gdHBQcmljZSBUaGUgdGFrZSBwcm9maXQgcHJpY2UgZm9yIHRoZSBvcmRlci4KICAgICAqIEBwYXJhbSBzbFNpemUgVGhlIHN0b3AgbG9zcyBzaXplIGZvciB0aGUgb3JkZXIuCiAgICAgKiBAcGFyYW0gc2xQcmljZSBUaGUgc3RvcCBsb3NzIHByaWNlIGZvciB0aGUgb3JkZXIuCiAgICAgKi8KICAgIGZ1biBoYW5kbGVDcmVhdGVJbmNyZWFzZVBlcnBQb3NpdGlvbk9yZGVyKHF1ZXJ5SWQ6IEludCwgamV0dG9uRnJvbUFtb3VudDogSW50LCBhY2NvdW50OiBBZGRyZXNzLCBleGVjdXRpb25GZWU6IEludCwgaXNNYXJrZXQ6IEJvb2wsCiAgICAgICAgdG9rZW5JZDogSW50LCBpc0xvbmc6IEJvb2wsIG1hcmdpbkRlbHRhOiBJbnQsIHNpemVEZWx0YTogSW50LCB0cmlnZ2VyUHJpY2U6IEludCwgdHBTaXplOiBJbnQsIHRwUHJpY2U6IEludCwgc2xTaXplOiBJbnQsIHNsUHJpY2U6IEludCkgewogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CgogICAgICAgIGxldCByZWZ1bmRDb21tZW50OiBTdHJpbmcgPSAiIjsKICAgICAgICBsZXQgcmVmdW5kOiBCb29sID0gZmFsc2U7CiAgICAgICAgaWYgKGN0eC52YWx1ZSA8IGV4ZWN1dGlvbkZlZSArIHNlbGYucGVycEdhc0NvbnN1bXB0aW9uKSB7CiAgICAgICAgICAgIHJlZnVuZCA9IHRydWU7CiAgICAgICAgICAgIHJlZnVuZENvbW1lbnQgPSAiZ2FzIG5vdCBlbm91Z2giOwogICAgICAgIH0KCiAgICAgICAgaWYgKGpldHRvbkZyb21BbW91bnQgPCBtYXJnaW5EZWx0YSkgewogICAgICAgICAgICByZWZ1bmQgPSB0cnVlOwogICAgICAgICAgICByZWZ1bmRDb21tZW50ID0gImpldHRvbiBub3QgZW5vdWdoIjsKICAgICAgICB9CgogICAgICAgIGxldCBleGVjdXRpb25GZWVNdWx0aXBsZTogSW50ID0gMTsKICAgICAgICBpZiAodHBTaXplID4gMCAmJiB0cFByaWNlID4gMCkgewogICAgICAgICAgICBleGVjdXRpb25GZWVNdWx0aXBsZSArPSAxOwogICAgICAgIH0KICAgICAgICBpZiAoc2xTaXplID4gMCAmJiBzbFByaWNlID4gMCkgewogICAgICAgICAgICBleGVjdXRpb25GZWVNdWx0aXBsZSArPSAxOwogICAgICAgIH0KCiAgICAgICAgaWYgKGV4ZWN1dGlvbkZlZSA8IHNlbGYucGVycE1pbkV4ZWN1dGlvbkZlZSAqIGV4ZWN1dGlvbkZlZU11bHRpcGxlKSB7CiAgICAgICAgICAgIHJlZnVuZCA9IHRydWU7CiAgICAgICAgICAgIHJlZnVuZENvbW1lbnQgPSAiZXhlY3V0aW9uIGZlZSBub3QgZW5vdWdoIjsKICAgICAgICB9CgogICAgICAgIC8vIG5lZWQgcmVmdW5kCiAgICAgICAgaWYgKHJlZnVuZCkgewogICAgICAgICAgICBzZWxmLnJlZnVuZEpldHRvbihxdWVyeUlkLCBqZXR0b25Gcm9tQW1vdW50LCBhY2NvdW50LCBhY2NvdW50KTsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBhY2NvdW50LAogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgICAgICBtb2RlOiBTZW5kSWdub3JlRXJyb3JzICsgU2VuZFJlbWFpbmluZ1ZhbHVlLAogICAgICAgICAgICAgICAgYm9keTogcmVmdW5kQ29tbWVudC5hc0NvbW1lbnQoKQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgLy8gYWRkIG5ldyBvcmRlcgogICAgICAgIGxldCBvcFR5cGU6IEludCA9IDA7CiAgICAgICAgaWYgKGlzTWFya2V0KSB7CiAgICAgICAgICAgIG9wVHlwZSA9IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTUFSS0VUOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG9wVHlwZSA9IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTElNSVQ7CiAgICAgICAgfQogICAgICAgIHNlbGYuY3JlYXRlUGVycE9yZGVyKHF1ZXJ5SWQsIG9wVHlwZSwgYWNjb3VudCwgdG9rZW5JZCwgaXNMb25nLCBtYXJnaW5EZWx0YSwgc2l6ZURlbHRhLCB0cmlnZ2VyUHJpY2UsIAogICAgICAgICAgICB0cFNpemUsIHRwUHJpY2UsIHNsU2l6ZSwgc2xQcmljZSwgZXhlY3V0aW9uRmVlIC8gZXhlY3V0aW9uRmVlTXVsdGlwbGUpOwoKICAgICAgICBzZWxmLnRvdGFsRXhlY3V0aW9uRmVlICs9IGV4ZWN1dGlvbkZlZTsKCiAgICAgICAgc2VsZi5yZWZ1bmRFeGNlZWRUb24oT1JERVJfVFlQRV9QRVJQLCBhY2NvdW50LCBleGVjdXRpb25GZWUsIDEsIGZhbHNlKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJlY2VpdmUgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGEgZGVjcmVhc2UgcGVycGV0dWFsIHBvc2l0aW9uIG9yZGVyLgogICAgICogCiAgICAgKiBAcGFyYW0gbXNnIFRoZSBDcmVhdGVEZWNyZWFzZVBlcnBQb3NpdGlvbk9yZGVyIG1lc3NhZ2UgY29udGFpbmluZyB0aGUgb3JkZXIgZGV0YWlscy4KICAgICAqLwogICAgcmVjZWl2ZShtc2c6IENyZWF0ZURlY3JlYXNlUGVycFBvc2l0aW9uT3JkZXIpIHsKICAgICAgICBzZWxmLnJlcXVpcmVOb3RTdG9wcGVkKCk7CgogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgLy8gY2hlY2sgZ2FzCiAgICAgICAgcmVxdWlyZShjdHgudmFsdWUgLSBtc2cuZXhlY3V0aW9uRmVlID49IHNlbGYucGVycEdhc0NvbnN1bXB0aW9uLCAiZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICAvLyBjaGVjayBleGVjdXRpb24gZmVlCiAgICAgICAgcmVxdWlyZShtc2cuZXhlY3V0aW9uRmVlID49IHNlbGYucGVycE1pbkV4ZWN1dGlvbkZlZSwgImV4ZWN1dGlvbiBmZWUgbm90IGVub3VnaCIpOwoKICAgICAgICAvLyBhZGQgbmV3IG9yZGVyCiAgICAgICAgc2VsZi5jcmVhdGVQZXJwT3JkZXIobXNnLnRyeElkLCBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFX01BUktFVCwgc2VuZGVyKCksIG1zZy50b2tlbklkLCBtc2cuaXNMb25nLCBtc2cubWFyZ2luRGVsdGEsIG1zZy5zaXplRGVsdGEsIG1zZy50cmlnZ2VyUHJpY2UsIAogICAgICAgICAgICAgICAgMCwgMCwgMCwgMCwgbXNnLmV4ZWN1dGlvbkZlZSk7CgogICAgICAgIHNlbGYudG90YWxFeGVjdXRpb25GZWUgKz0gbXNnLmV4ZWN1dGlvbkZlZTsKCiAgICAgICAgLy8gdHJhbnNmZXIgZXhlY2VzcyBnYXMKICAgICAgICBzZWxmLnJlZnVuZEV4Y2VlZFRvbihPUkRFUl9UWVBFX1BFUlAsIHNlbmRlcigpLCBtc2cuZXhlY3V0aW9uRmVlLCAxLCBmYWxzZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW4gcmVjZWl2aW5nIGEgQ3JlYXRlVHBTbFBlcnBQb3NpdGlvbk9yZGVyIG1lc3NhZ2UuCiAgICAgKiBJdCBwZXJmb3JtcyB2YXJpb3VzIGNoZWNrcyBvbiBnYXMgYW5kIGV4ZWN1dGlvbiBmZWUsIGNyZWF0ZXMgdGFrZSBwcm9maXQgKHRwKSBhbmQgc3RvcCBsb3NzIChzbCkgb3JkZXJzIGlmIG5lY2Vzc2FyeSwKICAgICAqIHVwZGF0ZXMgdGhlIHRvdGFsIGV4ZWN1dGlvbiBmZWUsIGFuZCB0cmFuc2ZlcnMgZXhjZXNzIGdhcy4KICAgICAqIEBwYXJhbSBtc2cgVGhlIENyZWF0ZVRwU2xQZXJwUG9zaXRpb25PcmRlciBtZXNzYWdlIGNvbnRhaW5pbmcgdGhlIG5lY2Vzc2FyeSBpbmZvcm1hdGlvbiBmb3IgY3JlYXRpbmcgdHAvc2wgb3JkZXJzLgogICAgICovCiAgICByZWNlaXZlKG1zZzogQ3JlYXRlVHBTbFBlcnBQb3NpdGlvbk9yZGVyKSB7CiAgICAgICAgc2VsZi5yZXF1aXJlTm90U3RvcHBlZCgpOwogICAgICAgIAogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CgogICAgICAgIGxldCBleGVjdXRpb25GZWVNdWx0aXBsZTogSW50ID0gMDsKICAgICAgICBpZiAobXNnLnRwU2l6ZSA+IDAgJiYgbXNnLnRwUHJpY2UgPiAwKSB7CiAgICAgICAgICAgIGV4ZWN1dGlvbkZlZU11bHRpcGxlICs9IDE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cuc2xTaXplID4gMCAmJiBtc2cuc2xQcmljZSA+IDApIHsKICAgICAgICAgICAgZXhlY3V0aW9uRmVlTXVsdGlwbGUgKz0gMTsKICAgICAgICB9CgogICAgICAgIC8vIGNoZWNrIGdhcwogICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlIC0gbXNnLmV4ZWN1dGlvbkZlZSA+PSBzZWxmLnBlcnBHYXNDb25zdW1wdGlvbiAqIGV4ZWN1dGlvbkZlZU11bHRpcGxlLCAiZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICAvLyBjaGVjayBleGVjdXRpb24gZmVlCiAgICAgICAgcmVxdWlyZShtc2cuZXhlY3V0aW9uRmVlID49IHNlbGYucGVycE1pbkV4ZWN1dGlvbkZlZSAqIGV4ZWN1dGlvbkZlZU11bHRpcGxlLCAiZXhlY3V0aW9uIGZlZSBub3QgZW5vdWdoIik7CgogICAgICAgIC8vIGNyZWF0ZSB0cC9zbAogICAgICAgIGlmIChtc2cudHBTaXplID4gMCAmJiBtc2cudHBQcmljZSA+IDApIHsKICAgICAgICAgICAgc2VsZi5jcmVhdGVQZXJwT3JkZXIobXNnLnRyeElkLCBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFX1RQLCBzZW5kZXIoKSwgbXNnLnRva2VuSWQsIG1zZy5pc0xvbmcsIDAsIG1zZy50cFNpemUsIG1zZy50cFByaWNlLCAKICAgICAgICAgICAgICAgIDAsIDAsIDAsIDAsIG1zZy5leGVjdXRpb25GZWUgLyBleGVjdXRpb25GZWVNdWx0aXBsZSk7CiAgICAgICAgfQoKICAgICAgICBpZiAobXNnLnNsU2l6ZSA+IDAgJiYgbXNnLnNsUHJpY2UgPiAwKSB7CiAgICAgICAgICAgIHNlbGYuY3JlYXRlUGVycE9yZGVyKG1zZy50cnhJZCwgT1JERVJfT1BfVFlQRV9ERUNSRUFTRV9TTCwgc2VuZGVyKCksIG1zZy50b2tlbklkLCBtc2cuaXNMb25nLCAwLCBtc2cuc2xTaXplLCBtc2cuc2xQcmljZSwgCiAgICAgICAgICAgICAgICAwLCAwLCAwLCAwLCBtc2cuZXhlY3V0aW9uRmVlIC8gZXhlY3V0aW9uRmVlTXVsdGlwbGUpOwogICAgICAgIH0KCiAgICAgICAgc2VsZi50b3RhbEV4ZWN1dGlvbkZlZSArPSBtc2cuZXhlY3V0aW9uRmVlOwoKICAgICAgICAvLyB0cmFuc2ZlciBleGVjZXNzIGdhcwogICAgICAgIHNlbGYucmVmdW5kRXhjZWVkVG9uKE9SREVSX1RZUEVfUEVSUCwgc2VuZGVyKCksIG1zZy5leGVjdXRpb25GZWUsIGV4ZWN1dGlvbkZlZU11bHRpcGxlLCBmYWxzZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBDcmVhdGVzIGEgcGVycGV0dWFsIG9yZGVyIGluIHRoZSBvcmRlciBib29rLgogICAgICogCiAgICAgKiBAcGFyYW0gdHJ4SWQgVGhlIHRyYW5zYWN0aW9uIElEIGFzc29jaWF0ZWQgd2l0aCB0aGUgb3JkZXIuCiAgICAgKiBAcGFyYW0gb3BUeXBlIFRoZSBvcGVyYXRpb24gdHlwZSBvZiB0aGUgb3JkZXIuCiAgICAgKiBAcGFyYW0gYWNjb3VudCBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBwbGFjaW5nIHRoZSBvcmRlci4KICAgICAqIEBwYXJhbSB0b2tlbklkIFRoZSBJRCBvZiB0aGUgdG9rZW4gYmVpbmcgdHJhZGVkLgogICAgICogQHBhcmFtIGlzTG9uZyBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBvcmRlciBpcyBmb3IgYSBsb25nIHBvc2l0aW9uLgogICAgICogQHBhcmFtIG1hcmdpbkRlbHRhIFRoZSBjaGFuZ2UgaW4gbWFyZ2luIGZvciB0aGUgb3JkZXIuCiAgICAgKiBAcGFyYW0gc2l6ZURlbHRhIFRoZSBjaGFuZ2UgaW4gc2l6ZSBmb3IgdGhlIG9yZGVyLgogICAgICogQHBhcmFtIHRyaWdnZXJQcmljZSBUaGUgdHJpZ2dlciBwcmljZSBmb3IgdGhlIG9yZGVyLgogICAgICogQHBhcmFtIHRwU2l6ZSBUaGUgdGFrZSBwcm9maXQgc2l6ZSBmb3IgdGhlIG9yZGVyLgogICAgICogQHBhcmFtIHRwUHJpY2UgVGhlIHRha2UgcHJvZml0IHByaWNlIGZvciB0aGUgb3JkZXIuCiAgICAgKiBAcGFyYW0gc2xTaXplIFRoZSBzdG9wIGxvc3Mgc2l6ZSBmb3IgdGhlIG9yZGVyLgogICAgICogQHBhcmFtIHNsUHJpY2UgVGhlIHN0b3AgbG9zcyBwcmljZSBmb3IgdGhlIG9yZGVyLgogICAgICogQHBhcmFtIGV4ZWN1dGlvbkZlZSBUaGUgZXhlY3V0aW9uIGZlZSBmb3IgdGhlIG9yZGVyLgogICAgICogQHJldHVybiBUaGUgSUQgb2YgdGhlIGNyZWF0ZWQgb3JkZXIuCiAgICAgKi8gICAgCiAgICBmdW4gY3JlYXRlUGVycE9yZGVyKHRyeElkOiBJbnQsIG9wVHlwZTogSW50LCBhY2NvdW50OiBBZGRyZXNzLCB0b2tlbklkOiBJbnQsIGlzTG9uZzogQm9vbCwgbWFyZ2luRGVsdGE6IEludCwgc2l6ZURlbHRhOiBJbnQsIHRyaWdnZXJQcmljZTogSW50LCAKICAgICAgICB0cFNpemU6IEludCwgdHBQcmljZTogSW50LCBzbFNpemU6IEludCwgc2xQcmljZTogSW50LCBleGVjdXRpb25GZWU6IEludCk6IEludCB7CiAgICAgICAgbGV0IHRyaWdnZXJBYm92ZTogQm9vbCA9IGZhbHNlOwoKICAgICAgICBsZXQgb3JkZXJJZDogSW50ID0gc2VsZi5wZXJwUG9zaXRpb25PcmRlckluZGV4TmV4dDsKICAgICAgICBzZWxmLnBlcnBQb3NpdGlvbk9yZGVySW5kZXhOZXh0ID0gb3JkZXJJZCArIDE7CgogICAgICAgIGlmIChvcFR5cGUgPT0gT1JERVJfT1BfVFlQRV9JTkNSRUFTRV9NQVJLRVQgfHwgb3BUeXBlID09IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTElNSVQpIHsKICAgICAgICAgICAgLy8gaW5jcmVhc2UgZm9yIGxvbmcgb3JkZXIsIG11c3QgdHJpZ2dlciBiZWxvdyB0aGUgcHJpY2UKICAgICAgICAgICAgdHJpZ2dlckFib3ZlID0gIWlzTG9uZzsKICAgICAgICAgICAgc2VsZi5wZXJwUG9zaXRpb25PcmRlckV4cy5zZXQob3JkZXJJZCwgUGVycFBvc2l0aW9uT3JkZXJFeHsKICAgICAgICAgICAgICAgIHRwU2l6ZTogdHBTaXplLAogICAgICAgICAgICAgICAgdHBQcmljZTogdHBQcmljZSwKICAgICAgICAgICAgICAgIHNsU2l6ZTogc2xTaXplLAogICAgICAgICAgICAgICAgc2xQcmljZTogc2xQcmljZSwKICAgICAgICAgICAgICAgIGV4ZWN1dGlvbkZlZTogZXhlY3V0aW9uRmVlCiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChvcFR5cGUgPT0gT1JERVJfT1BfVFlQRV9ERUNSRUFTRV9NQVJLRVQpIHsKICAgICAgICAgICAgICAgIC8vIGRlY3JlYXNlIGZvciBsb25nIG1hcmtldCBvcmRlciwgbXVzdCB0cmlnZ2VyIGFib3ZlIHRoZSBwcmljZQogICAgICAgICAgICAgICAgdHJpZ2dlckFib3ZlID0gaXNMb25nOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaWYgKG9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFX1RQKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gdHAgZm9yIGxvbmcgbGltaXQgb3JkZXIsIG11c3QgdHJpZ2dlciBhYm92ZSB0aGUgcHJpY2UKICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyQWJvdmUgPSBpc0xvbmc7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRyaWdnZXJBYm92ZSA9ICFpc0xvbmc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHNlbGYucGVycFBvc2l0aW9uT3JkZXJzLnNldChvcmRlcklkLCBQZXJwUG9zaXRpb25PcmRlcnsKICAgICAgICAgICAgb3BUeXBlOiBvcFR5cGUsCiAgICAgICAgICAgIHRva2VuSWQ6IHRva2VuSWQsCiAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgICAgICAgIGlzTG9uZzogaXNMb25nLAogICAgICAgICAgICBtYXJnaW5EZWx0YTogbWFyZ2luRGVsdGEsCiAgICAgICAgICAgIHNpemVEZWx0YTogc2l6ZURlbHRhLAogICAgICAgICAgICB0cmlnZ2VyUHJpY2U6IHRyaWdnZXJQcmljZSwKICAgICAgICAgICAgdHJpZ2dlckFib3ZlOiB0cmlnZ2VyQWJvdmUsCiAgICAgICAgICAgIGV4ZWN1dGlvbkZlZTogZXhlY3V0aW9uRmVlLAogICAgICAgICAgICBibG9ja1RpbWU6IG5vdygpLAogICAgICAgICAgICBpc1BlbmRpbmc6IGZhbHNlLAogICAgICAgICAgICBleGVjdXRpb25GZWVSZWNlaXZlcjogc2VuZGVyKCksCiAgICAgICAgICAgIGxhc3RPcGVyYXRvcjogbnVsbAogICAgICAgIH0pOwoKICAgICAgICAvLyBldmVudAogICAgICAgIGVtaXQoUGVycFBvc2l0aW9uT3JkZXJDcmVhdGVkRXZlbnR7CiAgICAgICAgICAgIG9wVHlwZTogb3BUeXBlLAogICAgICAgICAgICB0b2tlbklkOiB0b2tlbklkLAogICAgICAgICAgICBhY2NvdW50OiBhY2NvdW50LAogICAgICAgICAgICBpc0xvbmc6IGlzTG9uZywKICAgICAgICAgICAgbWFyZ2luRGVsdGE6IG1hcmdpbkRlbHRhLAogICAgICAgICAgICBzaXplRGVsdGE6IHNpemVEZWx0YSwKICAgICAgICAgICAgZXhlY3V0aW9uRmVlOiBleGVjdXRpb25GZWUsCiAgICAgICAgICAgIG9yZGVySWQ6IG9yZGVySWQsCiAgICAgICAgICAgIHRyaWdnZXJQcmljZTogdHJpZ2dlclByaWNlLAogICAgICAgICAgICB0cmlnZ2VyQWJvdmU6IHRyaWdnZXJBYm92ZSwKICAgICAgICAgICAgdHBTaXplOiB0cFNpemUsCiAgICAgICAgICAgIHRwUHJpY2U6IHRwUHJpY2UsCiAgICAgICAgICAgIHNsU2l6ZTogc2xTaXplLAogICAgICAgICAgICBzbFByaWNlOiBzbFByaWNlLAogICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICByZXR1cm4gb3JkZXJJZDsKICAgIH0KCiAgICAvKioKICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW4gYSBDYW5jZWxQZXJwUG9zaXRpb25PcmRlciBtZXNzYWdlIGlzIHJlY2VpdmVkLgogICAgICogSXQgY2FuY2VscyBhIHBlcnBldHVhbCBwb3NpdGlvbiBvcmRlciBhbmQgcGVyZm9ybXMgdmFyaW91cyBjaGVja3MgYW5kIG9wZXJhdGlvbnMuCiAgICAgKiAKICAgICAqIEBwYXJhbSBtc2cgVGhlIENhbmNlbFBlcnBQb3NpdGlvbk9yZGVyIG1lc3NhZ2UgY29udGFpbmluZyB0aGUgb3JkZXIgSUQgYW5kIG90aGVyIHBhcmFtZXRlcnMuCiAgICAgKi8KICAgIHJlY2VpdmUobXNnOiBDYW5jZWxQZXJwUG9zaXRpb25PcmRlcikgewogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgLy8gY2hlY2sgb3JkZXIKICAgICAgICBsZXQgb3JkZXJPcHQ6IFBlcnBQb3NpdGlvbk9yZGVyPyA9IHNlbGYucGVycFBvc2l0aW9uT3JkZXJzLmdldChtc2cub3JkZXJJZCk7CiAgICAgICAgcmVxdWlyZShvcmRlck9wdCAhPSBudWxsLCAib3JkZXIgbm90IGV4aXN0Iik7CiAgICAgICAgbGV0IG9yZGVyOiBQZXJwUG9zaXRpb25PcmRlciA9IG9yZGVyT3B0ISE7CgogICAgICAgIC8vIGNoZWNrIGdhcwogICAgICAgIGlmIChvcmRlci5vcFR5cGUgPT0gT1JERVJfT1BfVFlQRV9JTkNSRUFTRV9NQVJLRVQgfHwgb3JkZXIub3BUeXBlID09IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTElNSVQpIHsKICAgICAgICAgICAgcmVxdWlyZShjdHgudmFsdWUgPj0gc2VsZi5wZXJwR2FzQ29uc3VtcHRpb24gKyBzZWxmLmdhc1RyYW5zZmVySmV0dG9uLCAiZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXF1aXJlKGN0eC52YWx1ZSA+PSBzZWxmLnBlcnBHYXNDb25zdW1wdGlvbiwgImdhcyBub3QgZW5vdWdoIik7CiAgICAgICAgfQoKICAgICAgICAvLyBjaGVjayBvcmRlcgogICAgICAgIHJlcXVpcmUoIW9yZGVyLmlzUGVuZGluZywgIm9yZGVyIGlzIHBlbmRpbmciKTsKCiAgICAgICAgLy8gZXhlY3V0b3Igb3IgdHJhZGVyCiAgICAgICAgbGV0IGlzRXhlY3V0b3I6IEJvb2wgPSBzZWxmLmlzRXhlY3V0b3Ioc2VuZGVyKCkpOwogICAgICAgIHJlcXVpcmUoaXNFeGVjdXRvciB8fCBzZW5kZXIoKSA9PSBvcmRlci5hY2NvdW50LCAiaW52YWxpZCBzZW5kZXIiKTsKICAgICAgICAKICAgICAgICAvLyB0cmFkZXIgY2FuY2VsIG1hcmtldCBvcmRlciBtdXN0IGFmdGVyIG1pblRpbWVEZWxheVRyYWRlcgogICAgICAgIGlmICghaXNFeGVjdXRvciAmJiAob3JkZXIub3BUeXBlID09IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTUFSS0VUIHx8IG9yZGVyLm9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFX01BUktFVCkpIHsKICAgICAgICAgICAgcmVxdWlyZShvcmRlci5ibG9ja1RpbWUgKyBzZWxmLm1pblRpbWVEZWxheVRyYWRlciA8PSBub3coKSwgInRvbyBlYXJseSIpOwogICAgICAgIH0KCiAgICAgICAgLy8gZ2V0IGZlZSByZWNlaXZlcgogICAgICAgIGxldCBleGVjdXRpb25GZWVSZWNlaXZlcjogQWRkcmVzcyA9IHNlbmRlcigpOwogICAgICAgIGlmIChtc2cuZXhlY3V0aW9uRmVlUmVjZWl2ZXIgIT0gbnVsbCkgewogICAgICAgICAgICBleGVjdXRpb25GZWVSZWNlaXZlciA9IG1zZy5leGVjdXRpb25GZWVSZWNlaXZlciEhOwogICAgICAgIH0KCiAgICAgICAgbGV0IGV4ZWN1dGlvbkZlZTogSW50ID0gMDsKICAgICAgICBpZiAob3JkZXIub3BUeXBlID09IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTUFSS0VUIHx8IG9yZGVyLm9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFX0xJTUlUKSB7CiAgICAgICAgICAgIGxldCBvcmRlckV4T3B0OiBQZXJwUG9zaXRpb25PcmRlckV4PyA9IHNlbGYucGVycFBvc2l0aW9uT3JkZXJFeHMuZ2V0KG1zZy5vcmRlcklkKTsKICAgICAgICAgICAgaWYgKG9yZGVyRXhPcHQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbGV0IG9yZGVyRXg6IFBlcnBQb3NpdGlvbk9yZGVyRXggPSBvcmRlckV4T3B0ISE7CiAgICAgICAgICAgICAgICAvLyB0cC9zbAogICAgICAgICAgICAgICAgbGV0IHRwU2xFeGVjdXRpb25GZWU6IEludCA9IDA7CiAgICAgICAgICAgICAgICBpZiAob3JkZXJFeC50cFNpemUgPiAwICYmIG9yZGVyRXgudHBQcmljZSA+IDApIHsKICAgICAgICAgICAgICAgICAgICB0cFNsRXhlY3V0aW9uRmVlICs9IG9yZGVyRXguZXhlY3V0aW9uRmVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKG9yZGVyRXguc2xTaXplID4gMCAmJiBvcmRlckV4LnNsUHJpY2UgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgdHBTbEV4ZWN1dGlvbkZlZSArPSBvcmRlckV4LmV4ZWN1dGlvbkZlZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0cFNsRXhlY3V0aW9uRmVlID4gMCkgewogICAgICAgICAgICAgICAgICAgIC8vIHRyYW5zZmVyIHRwc2wgZXhlY3V0aW9uIGZlZSB0byB1c2VyCiAgICAgICAgICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgICAgICAgICAgdG86IG9yZGVyLmFjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRwU2xFeGVjdXRpb25GZWUsCiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBleGVjdXRpb25GZWUgKz0gdHBTbEV4ZWN1dGlvbkZlZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyBkZWxldGUKICAgICAgICAgICAgICAgIHNlbGYucGVycFBvc2l0aW9uT3JkZXJFeHMuc2V0KG1zZy5vcmRlcklkLCBudWxsKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gdHJhbnNmZXIgamV0dG9uCiAgICAgICAgICAgIHNlbGYucmVmdW5kSmV0dG9uKG1zZy50cnhJZCwgb3JkZXIubWFyZ2luRGVsdGEsIG9yZGVyLmFjY291bnQsIHNlbmRlcigpKTsKICAgICAgICB9CgogICAgICAgIC8vIGRlbGV0ZSBvcmRlcgogICAgICAgIHNlbGYucGVycFBvc2l0aW9uT3JkZXJzLnNldChtc2cub3JkZXJJZCwgbnVsbCk7CgogICAgICAgIC8vIHRyYW5zZmVyIGV4ZWN1dGlvbiBmZWUKICAgICAgICAvLyBzZWxmLnRyYW5zZmVyRXhlY3V0aW9uRmVlKGV4ZWN1dGlvbkZlZVJlY2VpdmVyLCBvcmRlci5leGVjdXRpb25GZWUpOwogICAgICAgIGlmIChvcmRlci5leGVjdXRpb25GZWUgPiAwKSB7CiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogZXhlY3V0aW9uRmVlUmVjZWl2ZXIsCiAgICAgICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgICAgICB2YWx1ZTogb3JkZXIuZXhlY3V0aW9uRmVlLAogICAgICAgICAgICAgICAgbW9kZTogU2VuZElnbm9yZUVycm9ycwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgZXhlY3V0aW9uRmVlICs9IG9yZGVyLmV4ZWN1dGlvbkZlZTsKICAgICAgICB9CiAgICAgICAgc2VsZi50b3RhbEV4ZWN1dGlvbkZlZSAtPSBleGVjdXRpb25GZWU7CgogICAgICAgIC8vIGV2ZW50CiAgICAgICAgZW1pdChQZXJwUG9zaXRpb25PcmRlckNhbmNlbGxlZEV2ZW50ewogICAgICAgICAgICBvcFR5cGU6IG9yZGVyLm9wVHlwZSwKICAgICAgICAgICAgb3JkZXJJZDogbXNnLm9yZGVySWQsCiAgICAgICAgICAgIHRyeElkOiBtc2cudHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKCiAgICAgICAgLy8gdHJhbnNmZXIgZXhlY2VzcyBnYXMKICAgICAgICBzZWxmLnJlZnVuZEV4Y2VlZFRvbihPUkRFUl9UWVBFX1BFUlAsIHNlbmRlcigpLCAtZXhlY3V0aW9uRmVlLCAxLCBvcmRlci5vcFR5cGUgPT0gT1JERVJfT1BfVFlQRV9JTkNSRUFTRV9NQVJLRVQgfHwgb3JkZXIub3BUeXBlID09IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTElNSVQpOwogICAgfQoKCiAgICAvKioKICAgICAqIFJlY2VpdmVzIGFuZCBleGVjdXRlcyBhIHBlcnBldHVhbCBwb3NpdGlvbiBvcmRlci4KICAgICAqIAogICAgICogQHBhcmFtIG1zZyBUaGUgRXhlY3V0ZVBlcnBQb3NpdGlvbk9yZGVyIG1lc3NhZ2UgY29udGFpbmluZyB0aGUgb3JkZXIgZGV0YWlscy4KICAgICAqLwogICAgcmVjZWl2ZShtc2c6IEV4ZWN1dGVQZXJwUG9zaXRpb25PcmRlcikgewogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CgogICAgICAgIC8vIGNoZWNrIG9yZGVyCiAgICAgICAgbGV0IG9yZGVyT3B0OiBQZXJwUG9zaXRpb25PcmRlcj8gPSBzZWxmLnBlcnBQb3NpdGlvbk9yZGVycy5nZXQobXNnLm9yZGVySWQpOwogICAgICAgIHJlcXVpcmUob3JkZXJPcHQgIT0gbnVsbCwgIm9yZGVyIG5vdCBleGlzdCIpOwoKICAgICAgICBsZXQgb3JkZXI6IFBlcnBQb3NpdGlvbk9yZGVyID0gb3JkZXJPcHQhITsKCiAgICAgICAgLy8gY2hlY2sgZ2FzCiAgICAgICAgaWYgKG9yZGVyLm9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFX01BUktFVCB8fCBvcmRlci5vcFR5cGUgPT0gT1JERVJfT1BfVFlQRV9JTkNSRUFTRV9MSU1JVCkgewogICAgICAgICAgICByZXF1aXJlKGN0eC52YWx1ZSA+PSBzZWxmLnBlcnBHYXNDb25zdW1wdGlvbiAqIDIgKyBzZWxmLmdldFBvb2xHYXMoT1JERVJfVFlQRV9QRVJQKSwgImdhcyBub3QgZW5vdWdoIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVxdWlyZShjdHgudmFsdWUgPj0gc2VsZi5wZXJwR2FzQ29uc3VtcHRpb24gKiAyICsgc2VsZi5nZXRQb29sR2FzKE9SREVSX1RZUEVfUEVSUCkgKyBzZWxmLmdhc1RyYW5zZmVySmV0dG9uLCAiZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICB9CgogICAgICAgIC8vIGNoZWNrIG9yZGVyCiAgICAgICAgcmVxdWlyZSghb3JkZXIuaXNQZW5kaW5nLCAib3JkZXIgaXMgcGVuZGluZyIpOwogICAgICAgIHJlcXVpcmUobXNnLnRva2VuSWQgPT0gb3JkZXIudG9rZW5JZCwgInRva2VuIG5vdCBtYXRjaCIpOwoKICAgICAgICAvLyBjaGVjayBzZW5kZXIKICAgICAgICBsZXQgaXNFeGVjdXRvcjogQm9vbCA9IHNlbGYuaXNFeGVjdXRvcihzZW5kZXIoKSk7CiAgICAgICAgcmVxdWlyZShpc0V4ZWN1dG9yLCAiaW52YWxpZCBzZW5kZXIiKTsKCiAgICAgICAgLy8gdXBkYXRlIG9yZGVyCiAgICAgICAgaWYgKG1zZy5leGVjdXRpb25GZWVSZWNlaXZlciAhPSBudWxsKSB7CiAgICAgICAgICAgIG9yZGVyLmV4ZWN1dGlvbkZlZVJlY2VpdmVyID0gbXNnLmV4ZWN1dGlvbkZlZVJlY2VpdmVyISE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgb3JkZXIuZXhlY3V0aW9uRmVlUmVjZWl2ZXIgPSBzZW5kZXIoKTsKICAgICAgICB9CiAgICAgICAgb3JkZXIubGFzdE9wZXJhdG9yID0gc2VuZGVyKCk7CiAgICAgICAgb3JkZXIuaXNQZW5kaW5nID0gdHJ1ZTsKICAgICAgICBzZWxmLnBlcnBQb3NpdGlvbk9yZGVycy5zZXQobXNnLm9yZGVySWQsIG9yZGVyKTsKCiAgICAgICAgLy8gc2VuZCB1cGRhdGUgcG9zaXRpb24gbXNnCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbGYucG9vbCwKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdWYWx1ZSwKICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICBib2R5OiBVcGRhdGVQZXJwUG9zaXRpb24gewogICAgICAgICAgICAgICAgb3JkZXJJZDogbXNnLm9yZGVySWQsCiAgICAgICAgICAgICAgICBvcFR5cGU6IG9yZGVyLm9wVHlwZSwKICAgICAgICAgICAgICAgIHRyeElkOiBtc2cudHJ4SWQsCiAgICAgICAgICAgICAgICBhY2NvdW50OiBvcmRlci5hY2NvdW50LAogICAgICAgICAgICAgICAgdG9rZW5JZDogb3JkZXIudG9rZW5JZCwKICAgICAgICAgICAgICAgIGlzTG9uZzogb3JkZXIuaXNMb25nLAogICAgICAgICAgICAgICAgbWFyZ2luRGVsdGE6IG9yZGVyLm1hcmdpbkRlbHRhLAogICAgICAgICAgICAgICAgc2l6ZURlbHRhOiBvcmRlci5zaXplRGVsdGEsCiAgICAgICAgICAgICAgICB0cmlnZ2VyUHJpY2U6IG9yZGVyLnRyaWdnZXJQcmljZSwKICAgICAgICAgICAgICAgIHRyaWdnZXJBYm92ZTogb3JkZXIudHJpZ2dlckFib3ZlLAogICAgICAgICAgICAgICAgcHJpY2U6IG1zZy5wcmljZSwKICAgICAgICAgICAgICAgIHByZW1pdW1SYXRlOiBtc2cucHJlbWl1bVJhdGUKICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgICogVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbiBhIHN1Y2Nlc3NmdWwgdXBkYXRlIGlzIG1hZGUgdG8gYSBwZXJwZXR1YWwgcG9zaXRpb24gb3JkZXIuCiAgICAgKiBJdCBwZXJmb3JtcyB2YXJpb3VzIGNoZWNrcyBhbmQgYWN0aW9ucyBiYXNlZCBvbiB0aGUgdHlwZSBvZiBvcmRlciBhbmQgdGhlIHJlY2VpdmVkIG1lc3NhZ2UuCiAgICAgKiAKICAgICAqIEBwYXJhbSBtc2cgVGhlIFVwZGF0ZVBlcnBQb3NpdGlvblN1Y2Nlc3MgbWVzc2FnZSBjb250YWluaW5nIHRoZSBvcmRlciBJRCBhbmQgdHJhbnNhY3Rpb24gSUQuCiAgICAgKi8KICAgIHJlY2VpdmUobXNnOiBVcGRhdGVQZXJwUG9zaXRpb25TdWNjZXNzKSB7CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKICAgICAgICByZXF1aXJlKHNlbmRlcigpID09IHNlbGYucG9vbCwgImludmFsaWQgc2VuZGVyIik7CgogICAgICAgIC8vIGdldCBvcmRlcgogICAgICAgIGxldCBvcmRlck9wdDogUGVycFBvc2l0aW9uT3JkZXI/ID0gc2VsZi5wZXJwUG9zaXRpb25PcmRlcnMuZ2V0KG1zZy5vcmRlcklkKTsKICAgICAgICBpZiAob3JkZXJPcHQgPT0gbnVsbCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGxldCBvcmRlcjogUGVycFBvc2l0aW9uT3JkZXIgPSBvcmRlck9wdCEhOwoKICAgICAgICBsZXQgZXhlY3V0aW9uRmVlOiBJbnQgPSAwOwogICAgICAgIGxldCBleGVjdXRpb25GZWVNdWx0aXBsZTogSW50ID0gMTsKICAgICAgICAvLyBjaGVjayBnYXMKICAgICAgICBpZiAob3JkZXIub3BUeXBlID09IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTUFSS0VUIHx8IG9yZGVyLm9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFX0xJTUlUKSB7CiAgICAgICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlID49IHNlbGYucGVycEdhc0NvbnN1bXB0aW9uLCAiZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICAgICAgLy8gY3JlYXRlIHRwIHNsCiAgICAgICAgICAgIGxldCBvcmRlckV4T3B0OiBQZXJwUG9zaXRpb25PcmRlckV4PyA9IHNlbGYucGVycFBvc2l0aW9uT3JkZXJFeHMuZ2V0KG1zZy5vcmRlcklkKTsKICAgICAgICAgICAgaWYgKG9yZGVyRXhPcHQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbGV0IG9yZGVyRXg6IFBlcnBQb3NpdGlvbk9yZGVyRXggPSBvcmRlckV4T3B0ISE7CiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgdHAvc2wKICAgICAgICAgICAgICAgIGlmIChvcmRlckV4LnRwU2l6ZSA+IDAgJiYgb3JkZXJFeC50cFByaWNlID4gMCkgewogICAgICAgICAgICAgICAgICAgIGV4ZWN1dGlvbkZlZU11bHRpcGxlICs9IDE7CiAgICAgICAgICAgICAgICAgICAgc2VsZi5jcmVhdGVQZXJwT3JkZXIobXNnLnRyeElkLCBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFX1RQLCBzZW5kZXIoKSwgb3JkZXIudG9rZW5JZCwgb3JkZXIuaXNMb25nLCAwLCBvcmRlckV4LnRwU2l6ZSwgb3JkZXJFeC50cFByaWNlLCAKICAgICAgICAgICAgICAgICAgICAgICAgMCwgMCwgMCwgMCwgb3JkZXJFeC5leGVjdXRpb25GZWUpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChvcmRlckV4LnNsU2l6ZSA+IDAgJiYgb3JkZXJFeC5zbFByaWNlID4gMCkgewogICAgICAgICAgICAgICAgICAgIGV4ZWN1dGlvbkZlZU11bHRpcGxlICs9IDE7CiAgICAgICAgICAgICAgICAgICAgc2VsZi5jcmVhdGVQZXJwT3JkZXIobXNnLnRyeElkLCBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFX1NMLCBzZW5kZXIoKSwgb3JkZXIudG9rZW5JZCwgb3JkZXIuaXNMb25nLCAwLCBvcmRlckV4LnNsU2l6ZSwgb3JkZXJFeC5zbFByaWNlLCAKICAgICAgICAgICAgICAgICAgICAgICAgMCwgMCwgMCwgMCwgb3JkZXJFeC5leGVjdXRpb25GZWUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVxdWlyZShjdHgudmFsdWUgPj0gc2VsZi5wZXJwR2FzQ29uc3VtcHRpb24gKyBzZWxmLmdhc1RyYW5zZmVySmV0dG9uLCAiZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICB9CgogICAgICAgIC8vIGRlbGV0ZSBvcmRlcgogICAgICAgIHNlbGYucGVycFBvc2l0aW9uT3JkZXJzLnNldChtc2cub3JkZXJJZCwgbnVsbCk7CgogICAgICAgIC8vIHRyYW5zZmVyIGpldHRvbgogICAgICAgIGlmIChtc2cucmVjZWl2ZSA+IDApIHsKICAgICAgICAgICAgaWYgKG9yZGVyLm9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0xJUVVJREFUSU9OKSB7CiAgICAgICAgICAgICAgICBzZWxmLnJlZnVuZEpldHRvbihtc2cudHJ4SWQsIG1zZy5yZWNlaXZlLCBvcmRlci5leGVjdXRpb25GZWVSZWNlaXZlciwgb3JkZXIubGFzdE9wZXJhdG9yKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNlbGYucmVmdW5kSmV0dG9uKG1zZy50cnhJZCwgbXNnLnJlY2VpdmUsIG9yZGVyLmFjY291bnQsIG9yZGVyLmxhc3RPcGVyYXRvcik7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIGV2ZW50CiAgICAgICAgZW1pdChQZXJwUG9zaXRpb25PcmRlckV4ZWN1dGVkRXZlbnR7CiAgICAgICAgICAgIG9wVHlwZTogb3JkZXIub3BUeXBlLAogICAgICAgICAgICBvcmRlcklkOiBtc2cub3JkZXJJZCwKICAgICAgICAgICAgdHJ4SWQ6IG1zZy50cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwoKICAgICAgICAvLyB0cmFuc2ZlciBleGVjdXRpb24gZmVlCiAgICAgICAgaWYgKG9yZGVyLmV4ZWN1dGlvbkZlZSA+IDApIHsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBvcmRlci5leGVjdXRpb25GZWVSZWNlaXZlciwKICAgICAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgICAgIHZhbHVlOiBvcmRlci5leGVjdXRpb25GZWUsCiAgICAgICAgICAgICAgICBtb2RlOiBTZW5kSWdub3JlRXJyb3JzCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzZWxmLnRvdGFsRXhlY3V0aW9uRmVlIC09IG9yZGVyLmV4ZWN1dGlvbkZlZTsKICAgICAgICB9CgogICAgICAgIC8vIHRyYW5zZmVyIGV4ZWNlc3MgZ2FzCiAgICAgICAgc2VsZi5yZWZ1bmRFeGNlZWRUb24oT1JERVJfVFlQRV9QRVJQLCBvcmRlci5sYXN0T3BlcmF0b3IhISwgLW9yZGVyLmV4ZWN1dGlvbkZlZSwgZXhlY3V0aW9uRmVlTXVsdGlwbGUsIG1zZy5yZWNlaXZlID4gMCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBIYW5kbGVzIHRoZSBib3VuY2VkIGV2ZW50IGZvciBhbiBVcGRhdGVQZXJwUG9zaXRpb24uCiAgICAgKiBJZiB0aGUgb3JkZXIgaXMgYSBsaXF1aWRhdGlvbiBvcmRlciwgaXQgaXMgZGVsZXRlZCBmcm9tIHRoZSBwZXJwUG9zaXRpb25PcmRlcnMgbWFwcGluZy4KICAgICAqIE90aGVyd2lzZSwgdGhlIG9yZGVyJ3MgaXNQZW5kaW5nIGZsYWcgaXMgc2V0IHRvIGZhbHNlLgogICAgICogSWYgdGhlIG9yZGVyIGhhcyBhIGxhc3RPcGVyYXRvciwgYSBzZW5kIHRyYW5zYWN0aW9uIGlzIHRyaWdnZXJlZCB0byB0aGUgbGFzdE9wZXJhdG9yIHdpdGggYSB2YWx1ZSBvZiAwLgogICAgICovCiAgICBib3VuY2VkKHNyYzogYm91bmNlZDxVcGRhdGVQZXJwUG9zaXRpb24+KSB7CiAgICAgICAgLy8gZ2V0IG9yZGVyCiAgICAgICAgbGV0IG9yZGVyT3B0OiBQZXJwUG9zaXRpb25PcmRlcj8gPSBzZWxmLnBlcnBQb3NpdGlvbk9yZGVycy5nZXQoc3JjLm9yZGVySWQpOwogICAgICAgIGlmIChvcmRlck9wdCA9PSBudWxsKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgbGV0IG9yZGVyOiBQZXJwUG9zaXRpb25PcmRlciA9IG9yZGVyT3B0ISE7CiAgICAgICAgaWYgKG9yZGVyLm9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0xJUVVJREFUSU9OKSB7CiAgICAgICAgICAgIC8vIGRlbGV0ZQogICAgICAgICAgICBzZWxmLnBlcnBQb3NpdGlvbk9yZGVycy5zZXQoc3JjLm9yZGVySWQsIG51bGwpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIHVwZGF0ZSBwZW5kaW5nCiAgICAgICAgICAgIG9yZGVyLmlzUGVuZGluZyA9IGZhbHNlOwogICAgICAgICAgICBzZWxmLnBlcnBQb3NpdGlvbk9yZGVycy5zZXQoc3JjLm9yZGVySWQsIG9yZGVyKTsKICAgICAgICB9CiAgICAgICAgaWYgKG9yZGVyLmxhc3RPcGVyYXRvciAhPSBudWxsKSB7CiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogb3JkZXIubGFzdE9wZXJhdG9yISEsCiAgICAgICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMgKyBTZW5kUmVtYWluaW5nVmFsdWUKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbiBhIExpcXVpZGF0ZVBlcnBQb3NpdGlvbiBtZXNzYWdlIGlzIHJlY2VpdmVkLgogICAgICogSXQgcGVyZm9ybXMgdmFyaW91cyBjaGVja3MsIGFkZHMgYSBuZXcgb3JkZXIgdG8gdGhlIG9yZGVyIGJvb2ssIGFuZCBzZW5kcyBhbiB1cGRhdGUgcG9zaXRpb24gbWVzc2FnZSB0byB0aGUgcG9vbC4KICAgICAqIAogICAgICogQHBhcmFtIG1zZyBUaGUgTGlxdWlkYXRlUGVycFBvc2l0aW9uIG1lc3NhZ2UgY29udGFpbmluZyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgbGlxdWlkYXRpb24uCiAgICAgKi8KICAgIHJlY2VpdmUobXNnOiBMaXF1aWRhdGVQZXJwUG9zaXRpb24pIHsKICAgICAgICAvLyBjaGVjayBnYXMKICAgICAgICByZXF1aXJlKGNvbnRleHQoKS52YWx1ZSA+PSBzZWxmLnBlcnBHYXNDb25zdW1wdGlvbiAqIDIgKyBzZWxmLmdldFBvb2xHYXMoT1JERVJfVFlQRV9QRVJQKSArIHNlbGYuZ2FzVHJhbnNmZXJKZXR0b24sICJnYXMgbm90IGVub3VnaCIpOwoKICAgICAgICAvLyBjaGVjayBzZW5kZXIKICAgICAgICBsZXQgaXNFeGVjdXRvcjogQm9vbCA9IHNlbGYuaXNFeGVjdXRvcihzZW5kZXIoKSk7CiAgICAgICAgcmVxdWlyZShpc0V4ZWN1dG9yLCAiaW52YWxpZCBzZW5kZXIiKTsKCiAgICAgICAgLy8gZmVlIHJlY2VpdmVyCiAgICAgICAgbGV0IGxpcXVpZGF0aW9uRmVlUmVjZWl2ZXI6IEFkZHJlc3MgPSBzZW5kZXIoKTsKICAgICAgICBpZiAobXNnLmxpcXVpZGF0aW9uRmVlUmVjZWl2ZXIgIT0gbnVsbCkgewogICAgICAgICAgICBsaXF1aWRhdGlvbkZlZVJlY2VpdmVyID0gbXNnLmxpcXVpZGF0aW9uRmVlUmVjZWl2ZXIhITsKICAgICAgICB9CgogICAgICAgIC8vIGFkZCBuZXcgb3JkZXIKICAgICAgICBsZXQgb3JkZXJJZDogSW50ID0gc2VsZi5wZXJwUG9zaXRpb25PcmRlckluZGV4TmV4dDsKICAgICAgICBzZWxmLnBlcnBQb3NpdGlvbk9yZGVySW5kZXhOZXh0ID0gc2VsZi5wZXJwUG9zaXRpb25PcmRlckluZGV4TmV4dCArIDE7CiAgICAgICAgc2VsZi5wZXJwUG9zaXRpb25PcmRlcnMuc2V0KG9yZGVySWQsIFBlcnBQb3NpdGlvbk9yZGVyewogICAgICAgICAgICBvcFR5cGU6IE9SREVSX09QX1RZUEVfTElRVUlEQVRJT04sCiAgICAgICAgICAgIHRva2VuSWQ6IG1zZy50b2tlbklkLAogICAgICAgICAgICBhY2NvdW50OiBtc2cuYWNjb3VudCwKICAgICAgICAgICAgaXNMb25nOiBtc2cuaXNMb25nLAogICAgICAgICAgICBtYXJnaW5EZWx0YTogMCwKICAgICAgICAgICAgc2l6ZURlbHRhOiAwLAogICAgICAgICAgICB0cmlnZ2VyUHJpY2U6IDAsCiAgICAgICAgICAgIHRyaWdnZXJBYm92ZTogZmFsc2UsCiAgICAgICAgICAgIGV4ZWN1dGlvbkZlZTogMCwKICAgICAgICAgICAgYmxvY2tUaW1lOiBub3coKSwKICAgICAgICAgICAgaXNQZW5kaW5nOiB0cnVlLAogICAgICAgICAgICBleGVjdXRpb25GZWVSZWNlaXZlcjogbGlxdWlkYXRpb25GZWVSZWNlaXZlciwKICAgICAgICAgICAgbGFzdE9wZXJhdG9yOiBzZW5kZXIoKQogICAgICAgIH0pOwoKICAgICAgICAvLyBzZW5kIHVwZGF0ZSBwb3NpdGlvbiBtc2cKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogc2VsZi5wb29sLAogICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ1ZhbHVlLAogICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgIGJvZHk6IFVwZGF0ZVBlcnBQb3NpdGlvbiB7CiAgICAgICAgICAgICAgICBvcFR5cGU6IE9SREVSX09QX1RZUEVfTElRVUlEQVRJT04sCiAgICAgICAgICAgICAgICBvcmRlcklkOiBvcmRlcklkLAogICAgICAgICAgICAgICAgdHJ4SWQ6IG1zZy50cnhJZCwKICAgICAgICAgICAgICAgIGFjY291bnQ6IG1zZy5hY2NvdW50LAogICAgICAgICAgICAgICAgdG9rZW5JZDogbXNnLnRva2VuSWQsCiAgICAgICAgICAgICAgICBpc0xvbmc6IG1zZy5pc0xvbmcsCiAgICAgICAgICAgICAgICBtYXJnaW5EZWx0YTogMCwKICAgICAgICAgICAgICAgIHNpemVEZWx0YTogMCwKICAgICAgICAgICAgICAgIHRyaWdnZXJQcmljZTogMCwKICAgICAgICAgICAgICAgIHRyaWdnZXJBYm92ZTogZmFsc2UsCiAgICAgICAgICAgICAgICBwcmljZTogbXNnLnByaWNlLAogICAgICAgICAgICAgICAgcHJlbWl1bVJhdGU6IG1zZy5wcmVtaXVtUmF0ZQogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogQGRldiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aGVuIGEgbmV3IEFETFBlcnBQb3NpdGlvbiBpcyByZWNlaXZlZC4KICAgICAqIEl0IHBlcmZvcm1zIHRoZSBmb2xsb3dpbmcgc3RlcHM6CiAgICAgKiAxLiBDaGVja3MgaWYgdGhlcmUgaXMgZW5vdWdoIGdhcyBmb3IgZXhlY3V0aW9uLgogICAgICogMi4gVmVyaWZpZXMgdGhlIHNlbmRlciBpcyBhIHZhbGlkIGV4ZWN1dG9yLgogICAgICogMy4gQWRkcyBhIG5ldyBvcmRlciB0byB0aGUgb3JkZXIgYm9vay4KICAgICAqIDQuIFNlbmRzIGFuIHVwZGF0ZSBwb3NpdGlvbiBtZXNzYWdlIHRvIHRoZSBwb29sLgogICAgICogQHBhcmFtIG1zZyBUaGUgQURMUGVycFBvc2l0aW9uIG1lc3NhZ2UgY29udGFpbmluZyB0aGUgb3JkZXIgZGV0YWlscy4KICAgICAqLwogICAgcmVjZWl2ZShtc2c6IEFETFBlcnBQb3NpdGlvbikgewogICAgICAgIC8vIGNoZWNrIGdhcwogICAgICAgIHJlcXVpcmUoY29udGV4dCgpLnZhbHVlID49IHNlbGYucGVycEdhc0NvbnN1bXB0aW9uICogMiArIHNlbGYuZ2V0UG9vbEdhcyhPUkRFUl9UWVBFX1BFUlApICsgc2VsZi5nYXNUcmFuc2ZlckpldHRvbiwgImdhcyBub3QgZW5vdWdoIik7CgogICAgICAgIC8vIGNoZWNrIHNlbmRlcgogICAgICAgIGxldCBpc0V4ZWN1dG9yOiBCb29sID0gc2VsZi5pc0V4ZWN1dG9yKHNlbmRlcigpKTsKICAgICAgICByZXF1aXJlKGlzRXhlY3V0b3IsICJpbnZhbGlkIHNlbmRlciIpOwoKICAgICAgICAvLyBhZGQgbmV3IG9yZGVyCiAgICAgICAgbGV0IG9yZGVySWQ6IEludCA9IHNlbGYucGVycFBvc2l0aW9uT3JkZXJJbmRleE5leHQ7CiAgICAgICAgc2VsZi5wZXJwUG9zaXRpb25PcmRlckluZGV4TmV4dCA9IHNlbGYucGVycFBvc2l0aW9uT3JkZXJJbmRleE5leHQgKyAxOwogICAgICAgIHNlbGYucGVycFBvc2l0aW9uT3JkZXJzLnNldChvcmRlcklkLCBQZXJwUG9zaXRpb25PcmRlcnsKICAgICAgICAgICAgb3BUeXBlOiBPUkRFUl9PUF9UWVBFX0FETCwKICAgICAgICAgICAgdG9rZW5JZDogbXNnLnRva2VuSWQsCiAgICAgICAgICAgIGFjY291bnQ6IG1zZy5hY2NvdW50LAogICAgICAgICAgICBpc0xvbmc6IG1zZy5pc0xvbmcsCiAgICAgICAgICAgIG1hcmdpbkRlbHRhOiBtc2cubWFyZ2luRGVsdGEsCiAgICAgICAgICAgIHNpemVEZWx0YTogbXNnLnNpemVEZWx0YSwKICAgICAgICAgICAgdHJpZ2dlclByaWNlOiAwLAogICAgICAgICAgICB0cmlnZ2VyQWJvdmU6IGZhbHNlLAogICAgICAgICAgICBleGVjdXRpb25GZWU6IDAsCiAgICAgICAgICAgIGJsb2NrVGltZTogbm93KCksCiAgICAgICAgICAgIGlzUGVuZGluZzogdHJ1ZSwKICAgICAgICAgICAgZXhlY3V0aW9uRmVlUmVjZWl2ZXI6IHNlbmRlcigpLAogICAgICAgICAgICBsYXN0T3BlcmF0b3I6IHNlbmRlcigpCiAgICAgICAgfSk7CgogICAgICAgIC8vIHNlbmQgdXBkYXRlIHBvc2l0aW9uIG1zZwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLnBvb2wsCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUsCiAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgYm9keTogVXBkYXRlUGVycFBvc2l0aW9uIHsKICAgICAgICAgICAgICAgIG9wVHlwZTogT1JERVJfT1BfVFlQRV9BREwsCiAgICAgICAgICAgICAgICBvcmRlcklkOiBvcmRlcklkLAogICAgICAgICAgICAgICAgdHJ4SWQ6IG1zZy50cnhJZCwKICAgICAgICAgICAgICAgIGFjY291bnQ6IG1zZy5hY2NvdW50LAogICAgICAgICAgICAgICAgdG9rZW5JZDogbXNnLnRva2VuSWQsCiAgICAgICAgICAgICAgICBpc0xvbmc6IG1zZy5pc0xvbmcsCiAgICAgICAgICAgICAgICBtYXJnaW5EZWx0YTogMCwKICAgICAgICAgICAgICAgIHNpemVEZWx0YTogbXNnLnNpemVEZWx0YSwKICAgICAgICAgICAgICAgIHRyaWdnZXJQcmljZTogMCwKICAgICAgICAgICAgICAgIHRyaWdnZXJBYm92ZTogZmFsc2UsCiAgICAgICAgICAgICAgICBwcmljZTogbXNnLnByaWNlLAogICAgICAgICAgICAgICAgcHJlbWl1bVJhdGU6IG1zZy5wcmVtaXVtUmF0ZQogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXRyaWV2ZXMgdGhlIFBlcnBQb3NpdGlvbk9yZGVyRGF0YSBmb3IgdGhlIHNwZWNpZmllZCBvcmRlciBJRC4KICAgICAqIAogICAgICogQHBhcmFtIG9yZGVySWQ6IFRoZSBJRCBvZiB0aGUgb3JkZXIgdG8gcmV0cmlldmUuCiAgICAgKiBAcmV0dXJuIFRoZSBQZXJwUG9zaXRpb25PcmRlckRhdGEgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG5leHQgaW5kZXgsIG9yZGVyIGRldGFpbHMsIGFuZCBleHRlbmRlZCBvcmRlciBkZXRhaWxzLgogICAgICovCiAgICBnZXQgZnVuIHBlcnBQb3NpdGlvbk9yZGVyKG9yZGVySWQ6IEludCk6IFBlcnBQb3NpdGlvbk9yZGVyRGF0YSB7CiAgICAgICAgcmV0dXJuIFBlcnBQb3NpdGlvbk9yZGVyRGF0YXsKICAgICAgICAgICAgcGVycFBvc2l0aW9uT3JkZXJJbmRleE5leHQ6IHNlbGYucGVycFBvc2l0aW9uT3JkZXJJbmRleE5leHQsCiAgICAgICAgICAgIHBlcnBQb3NpdGlvbk9yZGVyOiBzZWxmLnBlcnBQb3NpdGlvbk9yZGVycy5nZXQob3JkZXJJZCksCiAgICAgICAgICAgIHBlcnBQb3NpdGlvbk9yZGVyRXg6IHNlbGYucGVycFBvc2l0aW9uT3JkZXJFeHMuZ2V0KG9yZGVySWQpCiAgICAgICAgfTsKICAgIH0KCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBDbGFpbSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCiAgICAvKioKICAgICAqIEBkZXYgVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbiBhIGBTZW5kUHJvdG9jb2xGZWVgIG1lc3NhZ2UgaXMgcmVjZWl2ZWQuCiAgICAgKiBJdCB2ZXJpZmllcyB0aGF0IHRoZSBzZW5kZXIgaXMgdGhlIGNvbnRyYWN0J3MgcG9vbCBhbmQgdHJhbnNmZXJzIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyB0byB0aGUgZmVlIHJlY2VpdmVyLgogICAgICogSWYgdGhlIGFtb3VudCBpcyBncmVhdGVyIHRoYW4gMCwgaXQgc2VuZHMgdGhlIHRva2VucyB1c2luZyB0aGUgc3BlY2lmaWVkIHBhcmFtZXRlcnMuCiAgICAgKiBAcGFyYW0gbXNnIFRoZSBgU2VuZFByb3RvY29sRmVlYCBtZXNzYWdlIGNvbnRhaW5pbmcgdGhlIHRyYW5zYWN0aW9uIElELCBhbW91bnQsIGZlZSByZWNlaXZlciwgYW5kIG90aGVyIGRldGFpbHMuCiAgICAgKi8KICAgIHJlY2VpdmUobXNnOiBTZW5kUHJvdG9jb2xGZWUpIHsKICAgICAgICByZXF1aXJlKHNlbmRlcigpID09IHNlbGYucG9vbCwgImludmFsaWQgc2VuZGVyIik7CgogICAgICAgIGlmIChtc2cuYW1vdW50ID4gMCkgewogICAgICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICAgICAgdG86IHNlbGYudXNkdFdhbGxldCwgCiAgICAgICAgICAgICAgICB2YWx1ZTogc2VsZi5nYXNUcmFuc2ZlckpldHRvbiwKICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdWYWx1ZSArIFNlbmRJZ25vcmVFcnJvcnMsIAogICAgICAgICAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICAgICAgICAgIGJvZHk6IFRva2VuVHJhbnNmZXJ7CiAgICAgICAgICAgICAgICAgICAgcXVlcnlJZDogbXNnLnRyeElkLAogICAgICAgICAgICAgICAgICAgIGFtb3VudDogbXNnLmFtb3VudCwKICAgICAgICAgICAgICAgICAgICByZWNlaXZlcjogbXNnLmZlZVJlY2VpdmVyLAogICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGVzdGluYXRpb246IG1zZy5mZWVSZWNlaXZlciwKICAgICAgICAgICAgICAgICAgICBjdXN0b21QYXlsb2FkOiBudWxsLAogICAgICAgICAgICAgICAgICAgIGZvcndhcmRUb25BbW91bnQ6IDAsCiAgICAgICAgICAgICAgICAgICAgZm9yd2FyZFBheWxvYWQ6IGJlZ2luQ2VsbCgpLmVuZENlbGwoKS5hc1NsaWNlKCkKICAgICAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfQoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IENvbXBlbnNhdGUgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwogICAgLyoqCiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aGVuIGEgQ3JlYXRlQ29tcGVuc2F0ZSBtZXNzYWdlIGlzIHJlY2VpdmVkLgogICAgICogSXQgcGVyZm9ybXMgdmFyaW91cyBjaGVja3MgYW5kIGFkZHMgYSBuZXcgY29tcGVuc2F0ZSB0byB0aGUgb3JkZXIgYm9vay4KICAgICAqIAogICAgICogQHBhcmFtIG1zZyBUaGUgQ3JlYXRlQ29tcGVuc2F0ZSBtZXNzYWdlIGNvbnRhaW5pbmcgdGhlIGRldGFpbHMgb2YgdGhlIGNvbXBlbnNhdGUuCiAgICAgKi8KICAgIHJlY2VpdmUobXNnOiBDcmVhdGVDb21wZW5zYXRlKSB7CgogICAgICAgIC8vIGNoZWNrIHNlbmRlcgogICAgICAgIHJlcXVpcmUoc2VsZi5jb21wZW5zYXRvciA9PSBzZW5kZXIoKSwgImludmFsaWQgc2VuZGVyIik7CgogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgLy8gY2hlY2sgZ2FzCiAgICAgICAgcmVxdWlyZShjdHgudmFsdWUgPj0gc2VsZi5wZXJwR2FzQ29uc3VtcHRpb24sICJnYXMgbm90IGVub3VnaCIpOwoKICAgICAgICAvLyBhZGQgbmV3IGNvbXBlbnNhdGUKICAgICAgICBsZXQgY29tcGVuc2F0ZUlkOiBJbnQgPSBzZWxmLmNvbXBlbnNhdGVJbmRleE5leHQ7CiAgICAgICAgc2VsZi5jb21wZW5zYXRlSW5kZXhOZXh0ICs9IDE7CiAgICAgICAgc2VsZi5jb21wZW5zYXRlcy5zZXQoY29tcGVuc2F0ZUlkLCBDb21wZW5zYXRlewogICAgICAgICAgICBvcmRlclR5cGU6IG1zZy5vcmRlclR5cGUsCiAgICAgICAgICAgIG9yZGVySWQ6IG1zZy5vcmRlcklkLAogICAgICAgICAgICB0cnhJZDogbXNnLnRyeElkLAogICAgICAgICAgICByZWZ1bmRSZWNlaXZlcjogbXNnLnJlZnVuZFJlY2VpdmVyLAogICAgICAgICAgICByZWZ1bmRBbW91bnQ6IG1zZy5yZWZ1bmRBbW91bnQsCiAgICAgICAgICAgIGV4ZWN1dGlvbkZlZVJlY2VpdmVyOiBtc2cuZXhlY3V0aW9uRmVlUmVjZWl2ZXIsCiAgICAgICAgICAgIGV4ZWN1dGlvbkZlZTogbXNnLmV4ZWN1dGlvbkZlZSwKICAgICAgICAgICAgdW5sb2NrVGltZTogbm93KCkgKyAzICogREFZCiAgICAgICAgfSk7CgogICAgICAgIC8vIGV2ZW50CiAgICAgICAgZW1pdChDb21wZW5zYXRlQ3JlYXRlZEV2ZW50ewogICAgICAgICAgICBjb21wZW5zYXRlSWQ6IGNvbXBlbnNhdGVJZCwKICAgICAgICAgICAgb3JkZXJUeXBlOiBtc2cub3JkZXJUeXBlLAogICAgICAgICAgICBvcmRlcklkOiBtc2cub3JkZXJJZCwKICAgICAgICAgICAgdHJ4SWQ6IG1zZy50cnhJZCwKICAgICAgICAgICAgcmVmdW5kUmVjZWl2ZXI6IG1zZy5yZWZ1bmRSZWNlaXZlciwKICAgICAgICAgICAgcmVmdW5kQW1vdW50OiBtc2cucmVmdW5kQW1vdW50LAogICAgICAgICAgICBleGVjdXRpb25GZWVSZWNlaXZlcjogbXNnLmV4ZWN1dGlvbkZlZVJlY2VpdmVyLAogICAgICAgICAgICBleGVjdXRpb25GZWU6IG1zZy5leGVjdXRpb25GZWUsCiAgICAgICAgICAgIHVubG9ja1RpbWU6IG5vdygpICsgMyAqIERBWQogICAgICAgIH0udG9DZWxsKCkpOwoKICAgICAgICAvLyB0cmFuc2ZlciBleGVjZXNzIGdhcwogICAgICAgIHNlbGYucmVmdW5kRXhjZWVkVG9uKE9SREVSX1RZUEVfUEVSUCwgc2VuZGVyKCksIDAsIDEsIGZhbHNlKTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgVGhpcyBmdW5jdGlvbiBpcyB0aGUgZW50cnkgcG9pbnQgZm9yIGV4ZWN1dGluZyBvciBjYW5jZWxpbmcgYSBjb21wZW5zYXRpb24uCiAgICAgKiBAcGFyYW0gbXNnIFRoZSBFeGVjdXRlT3JDYW5jZWxDb21wZW5zYXRlIG1lc3NhZ2UgY29udGFpbmluZyB0aGUgbmVjZXNzYXJ5IGluZm9ybWF0aW9uIGZvciBleGVjdXRpb24gb3IgY2FuY2VsbGF0aW9uLgogICAgICovCiAgICByZWNlaXZlKG1zZzogRXhlY3V0ZU9yQ2FuY2VsQ29tcGVuc2F0ZSkgewogICAgICAgIC8vIGNoZWNrIHNlbmRlcgogICAgICAgIHJlcXVpcmUoc2VsZi5jb21wZW5zYXRvciA9PSBzZW5kZXIoKSwgImludmFsaWQgc2VuZGVyIik7CgogICAgICAgIC8vIGNoZWNrIGdhcwogICAgICAgIHJlcXVpcmUoY29udGV4dCgpLnZhbHVlID49IHNlbGYucGVycEdhc0NvbnN1bXB0aW9uICsgc2VsZi5nYXNUcmFuc2ZlckpldHRvbiwgImdhcyBub3QgZW5vdWdoIik7CgogICAgICAgIC8vIGdldCBjb21wZW5zYXRlCiAgICAgICAgbGV0IGNvbXBlbnNhdGVPcHQ6IENvbXBlbnNhdGU/ID0gc2VsZi5jb21wZW5zYXRlcy5nZXQobXNnLmNvbXBlbnNhdGVJZCk7CiAgICAgICAgcmVxdWlyZShjb21wZW5zYXRlT3B0ICE9IG51bGwsICJjb21wZW5zYXRlIG5vdCBleGlzdCIpOwogICAgICAgIGxldCBjb21wZW5zYXRlOiBDb21wZW5zYXRlID0gY29tcGVuc2F0ZU9wdCEhOwoKICAgICAgICAvLyBjYW5jZWwKICAgICAgICBpZiAobXNnLmlzQ2FuY2VsKSB7CiAgICAgICAgICAgIC8vIGRlbGV0ZSBjb21wZW5zYXRlCiAgICAgICAgICAgIHNlbGYuY29tcGVuc2F0ZXMuc2V0KG1zZy5jb21wZW5zYXRlSWQsIG51bGwpOwoKICAgICAgICAgICAgLy8gZXZlbnQKICAgICAgICAgICAgZW1pdChDb21wZW5zYXRlQ2FuY2VsbGVkRXZlbnR7CiAgICAgICAgICAgICAgICBjb21wZW5zYXRlSWQ6IG1zZy5jb21wZW5zYXRlSWQsCiAgICAgICAgICAgICAgICB0cnhJZDogbXNnLnRyeElkCiAgICAgICAgICAgIH0udG9DZWxsKCkpOwoKICAgICAgICAgICAgLy8gdHJhbnNmZXIgZXhlY2VzcyBnYXMKICAgICAgICAgICAgc2VsZi5yZWZ1bmRFeGNlZWRUb24oT1JERVJfVFlQRV9QRVJQLCBzZW5kZXIoKSwgMCwgMSwgZmFsc2UpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICAvLyBjaGVjayB1bmxvY2sgdGltZQogICAgICAgIHJlcXVpcmUobm93KCkgPj0gY29tcGVuc2F0ZS51bmxvY2tUaW1lLCAibm90IHJlYWNoIHVubG9jayB0aW1lIik7ICAgICAgICAKCiAgICAgICAgLy8gZ2V0IG9yZGVyCiAgICAgICAgaWYoY29tcGVuc2F0ZS5vcmRlclR5cGUgIT0gbnVsbCkgewogICAgICAgICAgICBpZiAoY29tcGVuc2F0ZS5vcmRlclR5cGUgPT0gT1JERVJfVFlQRV9MUCkgewogICAgICAgICAgICAgICAgbGV0IG9yZGVyT3B0OiBMUFBvc2l0aW9uT3JkZXI/ID0gc2VsZi5scFBvc2l0aW9uT3JkZXJzLmdldChjb21wZW5zYXRlLm9yZGVySWQpOwogICAgICAgICAgICAgICAgc2VsZi5scFBvc2l0aW9uT3JkZXJzLnNldChjb21wZW5zYXRlLm9yZGVySWQsIG51bGwpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbGV0IG9yZGVyT3B0OiBQZXJwUG9zaXRpb25PcmRlcj8gPSBzZWxmLnBlcnBQb3NpdGlvbk9yZGVycy5nZXQoY29tcGVuc2F0ZS5vcmRlcklkKTsKICAgICAgICAgICAgICAgIHNlbGYucGVycFBvc2l0aW9uT3JkZXJzLnNldChjb21wZW5zYXRlLm9yZGVySWQsIG51bGwpOwogICAgICAgICAgICAgICAgc2VsZi5wZXJwUG9zaXRpb25PcmRlckV4cy5zZXQoY29tcGVuc2F0ZS5vcmRlcklkLCBudWxsKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gcmVmdW5kCiAgICAgICAgaWYgKGNvbXBlbnNhdGUucmVmdW5kUmVjZWl2ZXIgIT0gbnVsbCAmJiBjb21wZW5zYXRlLnJlZnVuZEFtb3VudCA+IDApIHsKICAgICAgICAgICAgLy8gdHJhbnNmZXIgamV0dG9uCiAgICAgICAgICAgIHNlbGYucmVmdW5kSmV0dG9uKGNvbXBlbnNhdGUudHJ4SWQsIGNvbXBlbnNhdGUucmVmdW5kQW1vdW50LCBjb21wZW5zYXRlLnJlZnVuZFJlY2VpdmVyISEsIHNlbmRlcigpKTsKICAgICAgICB9CgogICAgICAgIC8vIHRyYW5zZmVyIGV4ZWN1dGlvbiBmZWUKICAgICAgICAvLyBzZWxmLnRyYW5zZmVyRXhlY3V0aW9uRmVlKG1zZy5leGVjdXRpb25GZWVSZWNlaXZlciwgbXNnLmV4ZWN1dGlvbkZlZSk7CiAgICAgICAgaWYgKGNvbXBlbnNhdGUuZXhlY3V0aW9uRmVlUmVjZWl2ZXIgIT0gbnVsbCAmJiBjb21wZW5zYXRlLmV4ZWN1dGlvbkZlZSA+IDApIHsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBjb21wZW5zYXRlLmV4ZWN1dGlvbkZlZVJlY2VpdmVyISEsCiAgICAgICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgICAgICB2YWx1ZTogY29tcGVuc2F0ZS5leGVjdXRpb25GZWUsCiAgICAgICAgICAgICAgICBtb2RlOiBTZW5kSWdub3JlRXJyb3JzCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy8gZGVsZXRlIGNvbXBlbnNhdGUKICAgICAgICBzZWxmLmNvbXBlbnNhdGVzLnNldChtc2cuY29tcGVuc2F0ZUlkLCBudWxsKTsKCiAgICAgICAgZW1pdChDb21wZW5zYXRlRXhlY3V0ZWRFdmVudHsKICAgICAgICAgICAgY29tcGVuc2F0ZUlkOiBtc2cuY29tcGVuc2F0ZUlkLAogICAgICAgICAgICB0cnhJZDogY29tcGVuc2F0ZS50cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwoKICAgICAgICAvLyB0cmFuc2ZlciBleGVjZXNzIGdhcwogICAgICAgIHNlbGYucmVmdW5kRXhjZWVkVG9uKE9SREVSX1RZUEVfUEVSUCwgc2VuZGVyKCksIDAsIDEsIGNvbXBlbnNhdGUucmVmdW5kUmVjZWl2ZXIgIT0gbnVsbCAmJiBjb21wZW5zYXRlLnJlZnVuZEFtb3VudCA+IDApOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHJpZXZlcyB0aGUgY29tcGVuc2F0aW9uIGRhdGEgZm9yIGEgZ2l2ZW4gY29tcGVuc2F0ZUlkLgogICAgICogCiAgICAgKiBAcGFyYW0gY29tcGVuc2F0ZUlkIFRoZSBJRCBvZiB0aGUgY29tcGVuc2F0aW9uIHRvIHJldHJpZXZlLgogICAgICogQHJldHVybiBUaGUgQ29tcGVuc2F0ZURhdGEgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGNvbXBlbnNhdGVJbmRleE5leHQgYW5kIHRoZSBjb21wZW5zYXRlIHdpdGggdGhlIGdpdmVuIGNvbXBlbnNhdGVJZC4KICAgICAqLwogICAgZ2V0IGZ1biBjb21wZW5zYXRlKGNvbXBlbnNhdGVJZDogSW50KTogQ29tcGVuc2F0ZURhdGEgewogICAgICAgIHJldHVybiBDb21wZW5zYXRlRGF0YXsKICAgICAgICAgICAgY29tcGVuc2F0ZUluZGV4TmV4dDogc2VsZi5jb21wZW5zYXRlSW5kZXhOZXh0LAogICAgICAgICAgICBjb21wZW5zYXRlOiBzZWxmLmNvbXBlbnNhdGVzLmdldChjb21wZW5zYXRlSWQpCiAgICAgICAgfTsKICAgIH0KCiAgICAvKioKICAgICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYWNjb3VudCBpcyBhbiBleGVjdXRvci4KICAgICAqIAogICAgICogQHBhcmFtIGFjY291bnQgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgdG8gY2hlY2suCiAgICAgKiBAcmV0dXJuIFRydWUgaWYgdGhlIGFjY291bnQgaXMgYW4gZXhlY3V0b3IsIGZhbHNlIG90aGVyd2lzZS4KICAgICAqLwogICAgZnVuIGlzRXhlY3V0b3IoYWNjb3VudDogQWRkcmVzcyk6IEJvb2wgewogICAgICAgIGxldCBpc0V4ZWN1dG9yT3B0OiBCb29sPyA9IHNlbGYuZXhlY3V0b3JzLmdldChhY2NvdW50KTsKICAgICAgICBpZiAoaXNFeGVjdXRvck9wdCA9PSBudWxsKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGlzRXhlY3V0b3JPcHQhITsKICAgIH0KCgp9Cg=="},"compiler":{"name":"tact","version":"1.2.0","parameters":"{\"entrypoint\":\"contracts/order/order_book.tact\",\"options\":{}}"}}