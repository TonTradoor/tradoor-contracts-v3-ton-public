{"name":"Pool","code":"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ygDIcAHKAHABygAkbrOdfwHKAAQgbvLQgFAEzJY0A3ABygDiJG6znX8BygAEIG7y0IBQBMyWNANwAcoA4nABygACfwHKAALJWMwC/CBukjBtjlTQgQEB1wCBAQHXAIEBAdcA1AHQgQEB1wCBAQHXADAQJRAkECMF1AHQgQEB1wCBAQHXAIEBAdcA1AHQgQEB1wCBAQHXADAQJRAkECM1EFpVA2wabwriIG6zlyBu8tCAbyqbMHBUcAAgcFRwACDiVhKVVHQyU0PjDVI7BPRWGpVXFVcVXI4RVhUjvJVXFSERFd4BERYBERXicFYb4wBWH4EBAVYbWfQNb6GSMG3fIG6SMG2OE9CBAQHXANIAgQEB1wBVIGwTbwPiIG6zlyBu8tCAbyOUMCBwIeJUc0LCAJRWHSS9kXDi4wAgwgCRMOMNJVYaqFYZqDw9Pj8C/hERES4REREQES0REA8RLA8OESsODREqDQwRKQwLESgLChEnCgkRJgkIESUIBxEkBwYRIwYFESIFBBEhBAMRIAMCER8CAREeAREdVhhWIVYZVhjbPFYhAREXqFYVqIIwFK30tzIDNLmqGakEVhSgViKBSjMRGKC+AREWAfL0ViBbQAL0MVNTvJEjkSXiERERMxERERARMhEQDxExDw4RMA4NES8NDBEuDAsRLQsKESwKCRErCQgRKggHESkHBhEoBgURJwUEESYEAxElAwIRJAIBESMBESJWHVYjViZWHds8ESRWI6EBEScBESOhIMAAllckViYRJN4REREzERFbQgL8MxESETIREhERETEREREQETAREA8RLw8OES4ODREtDQwRLAwLESsLChEqCgkRKQkIESgIBxEnBwYRJgYFESUFBBEkBAMRIwMCESICAREhAVYjAREiViZWG9s8AREjAREioFYbsxESETIREhERETEREREQETAREA8RLw8OES4OWkMDrIIwFK30tzIDNLmqGakEIBEYqIIID0JAqQRWFyGhAREjAaABViKgAREpAaApESDjDxEUlTY2NjY2nGxRTcAQWxA6EEhVBOIQixB7EGoQXRBMTcOBAQsOREVGAfhWE6GCOAVrx14tYxAAAKhWGJZWF6NWIaiVVhdWIajioFYYlYIP8L3AlYIID0JA4lYVAaBWIQGoqQSCANiFVhmUIVYZuZQhVhm84vL0ERERLhERERARLREQDxEsDw4RKw4NESoNDBEpDAsRKAsKEScKCREmCQgRJQgHESQHQQA4BhEjBgURIgUEESEEAxEgAwIRHwIBER4BERURHQCKERARMhEQDxExDw4RMA4NES8NDBEuDAsRLQsKESwKCRErCQgRKggHESkHBhEoBgURJwUEESYEAxElAwIRJAIBESMBBBEiAGwNES0NDBEsDAsRKwsKESoKCREpCQgRKAgHEScHBhEmBgURJQUEESQEAxEjAwIRIgIDESEDQAMBqDc3N1cSVxRXFVcVVhFUcAAgBREdBVYcBVYcBVYcBQQRHAQDERsDAhEaAgERFwERGVYYViIQI8hVoNs8yciCWMAAAAAAAAAAAAAAAAEBy2fMyXD7AEcC/FcfERERMRERERARMBEQDxEvDw4RLg4NES0NDBEsDAsRKwsKESoKCREpCQgRKAgHER4HBhEmBgURJQUEESQEAxEjAwIRIgIBESEBESdWG1YlVhxWG9s8ggDjMVYkViqogjgFa8deLWMQAACpBCq78vQgVhehAREgAaCCAPPJIVtIAe7IVZAQWhBJEDhHalBFgQEBzwASgQEBzwCBAQHPAAHIgQEBzwASgQEBzwDJAczIVUAGUEWBAQHPABKBAQHPAIEBAc8AAciBAQHPABKBAQHPAMkBzMkBzMkQI0WAIG6VMFn0WTCUQTP0E+KBAQEByAEB9ADJJRA+AU4A3oIQ5NEEsFAMyx8agQEBzwBQCCDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFhaBAQHPABTKAALIgQEBzwCBAQHPABKBAQHPAALIgQEBzwATgQEBzwATgQEBzwADyIEBAc8AyVADzMkBzMkBzAL8wv/y9FYmIbyUVyZWJd5WJqERJ1YloSDCAI5HMFcUVxVXFVcWVxZXI1YdVHAAIAQRJwQDESUDAREZAREYERURFhEVERMRFRETAhEQAhAvEC4QLRAsECsQKhApEChBBwYFBAPjDVYnBlYdBlYdBlYdBgURKAVWKQUEESgEVhUESUoB7hERERIREREQERIREA8REg8OERIODRESDQwREgwLERILChESCgkREgkREggHBlVAVhxWE1YdVhzbPFYTVhuoAREaqIIwFK30tzIDNLmqGakEAREYoFYngW+7ERqguQERGAHy9FYlggCmihEVqFYRvgERFAHy9FYjWwL8AxEdAwIRIwIBERoBEShWGlYlECPIVdDbPMnIgljAAAAAAAAAAAAAAAABActnzMlw+wAJESoJCBEpCAcRKAcGEScGBREmBQQRJQQDESQDAhEjAgERIgERIQ8RIA8RHBEfERwREREeERERFxEdERcREREcERENERsNERARGhEQS0wB9IIQLE8VBVAPyx8dgQEBzwBQCyDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFhmBAQHPABfKAAXIgQEBzwAUgQEBzwASgQEBzwAByIEBAc8AEoEBAc8AE4EBAc8AA8iBAQHPABSBAQHPABSBAQHPAATIgQEBzwDJTQAwEREKERAKDg8QmhCJEHgQZxBWEEUQNEEwABpQBMzJUAPMyQHMyQHMAf4gbpUwWfRaMJRBM/QV4oEBAVRyw8hVIFAjgQEBzwDKAIEBAc8AySUQPAEgbpUwWfRaMJRBM/QV4kG7JshVQIIQfrf7llAGyx8UgQEBzwASgQEBzwDKAIEBAc8AAciBAQHPAMkBzMnIgljAAAAAAAAAAAAAAAABActnzMlw+wBwTwCeUyoDRmXIVUCCED8jCCVQBssfFIEBAc8AEoEBAc8AgQEBzwAByIEBAc8AEoEBAc8AyQHMyciCWMAAAAAAAAAAAAAAAAEBy2fMyXD7ABgQNQLiVhaBAQEmWfQNb6GSMG3fIG6SMG2Oh9DbPGwZbwnigWyWIW6z8vQgbvLQgG8pWzaCAI9uUAXy9FYQgQEBK1n0DW+hkjBt3yBukjBtl9D0BAExbwHiIG6zlyBu8tCAbyGSMG3iIIEBCy1Z9AtvoZIwbd+AUQL+IG6SMG2OVNCBAQHXAIEBAdcAgQEB1wDUAdCBAQHXAIEBAdcAMBAlECQQIwXUAdCBAQHXAIEBAdcAgQEB1wDUAdCBAQHXAIEBAdcAMBAlECQQIzUQWlUDbBpvCuIgbrOXIG7y0IBvKpswcFRwACBwVHAAIOJWE5VUdDJTQ+MNIlJTAApUeYdTmAP2wACOGDRWFoIA88kRE74BERIB8vRWHaQRHgMREZJXEuJWHYEBAVYaWfQNb6GSMG3fIG6SMG2OE9CBAQHXANIAgQEB1wBVIGwTbwPiIG6zlyBu8tCAbyOUMHBwIeJwVhkkwgCUVhwkupFw4uMAIMIAkTDjDVYZVhmoVheoVFVWAv4xVhkkvJEjklYZ4hERETEREREQETAREA8RLw8OES4ODREtDQwRLAwLESsLChEqCgkRKQkIESgIBxEnBwYRJgYFESUFBBEkBAMRIwMCESICAREhAREgVhxWIVYkVhzbPBEiViGhARElAREhoSDAAJNwVyPeERERMRERERARMBEQW1cC/DMREhEwERIREREvEREREBEuERAPES0PDhEsDg0RKw0MESoMCxEpCwoRKAoJEScJCBEmCAcRJQcGESQGBREjBQQRIgQDESEDAhEgAgERHwFWIQERIFYhVhrbPAERIQERIKBWGrMREhEwERIREREvEREREBEuERAPES0PDhEsDlpYAfyCMBSt9LcyAzS5qhmpBCARGaiCCA9CQKkEVhghoQERIQGgAVYgoAERJwGgggDjMVNCqII4BWvHXi1jEAAAqQQiu/L0cFYbVhmhGKAREhExERIREREwEREREBEvERAPES4PDhEtDg0RLA0MESsMCxEqCwoRKQoJESgJGAcRJgdZAH4PES8PDhEuDg0RLQ0MESwMCxErCwoRKgoJESkJCBEoCAcRJwcGESYGBRElBQQRJAQDESMDAhEiAgERIQEEESAAbA0RKw0MESoMCxEpCwoRKAoJEScJCBEmCAcRJQcGESQGBREjBQQRIgQDESEDAhEgAgMRHwNAAwP8BhElBgURJAUEESMEAxEiAwIRIQIBEScBViUBESVWG1Yb2zwRJVYaoBERERIREREQERIREA8REg8OERIODRESDQwREgwLERILChESCgkREgkREggHBlVAVhxWE1YnVhzbPFYTVhuoAREZqIIwFK30tzIDNLmqGakEAREVoFYkWltcAFYjwACTIcAAkXDik18EcOAjwACSbDHgIcAAlBAjXwPgUjOoUhOoEqBZoKkEAEgDjhASoaiCOAVrx14tYxAAAKkE4FihqII4BWvHXi1jEAAAqQQC+IFvuxEZoLkBERcB8vRWIoIApooRFahWEVYlqII4BWvHXi1jEAAAqQS+AREUAfL0VhmOQ1clVyVXJVclVyVWH1YdLFYgESgRLREoEScRLBEnESYRKxEmESURKhElESQRKREkAxEoAwIRJwIBESYBESUREhEkERLjDRA4R2VdXgAiVypXKlcqVypXKlYfVh0sViAB7gQREgQDESgDAhEnAgERJgERJYEBCxElyFWQEFoQSRA4R2pQRYEB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","abi":"{\"name\":\"Pool\",\"types\":[{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounced\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"Deploy\",\"header\":2490013878,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"DeployOk\",\"header\":2952335191,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"FactoryDeploy\",\"header\":1829761339,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"cashback\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwner\",\"header\":2174598809,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwnerOk\",\"header\":846932810,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"UpdateConfig\",\"header\":2443370762,\"fields\":[{\"name\":\"gasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"minTonsForStorage\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpLockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusFactor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"orderBook\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"UpdateTokenConfig\",\"header\":2464869117,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"name\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"enable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"minMargin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxLeverage\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidationFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpTradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"interestRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxFundingRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"UpdateLPPosition\",\"header\":3902592095,\"fields\":[{\"name\":\"isIncrease\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"pricesLength\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"prices\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UpdatePrice\",\"valueFormat\":\"ref\"}}]},{\"name\":\"UpdateLPPositionSuccess\",\"header\":485543809,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"UpdatePerpPosition\",\"header\":4283950423,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerAbove\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"pricesLength\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"prices\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UpdatePrice\",\"valueFormat\":\"ref\"}}]},{\"name\":\"UpdatePerpPositionSuccess\",\"header\":4009870004,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"LPPositionIncreasedEvent\",\"header\":3497909766,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"unlockTimeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedFundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedFundingFeeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LPPositionDecreasedEvent\",\"header\":3526966807,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFeeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalLPChangedEvent\",\"header\":1059260453,\"fields\":[{\"name\":\"lpFundAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalLPPositionChangedEvent\",\"header\":2125986710,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"netSizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"entryPriceAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PerpPositionIncreasedEvent\",\"header\":126890049,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"marginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradePrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PerpPositionDecreasedEvent\",\"header\":743380229,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"marginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradePrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedPnLDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PerpPositionLiquidatedEvent\",\"header\":3838903472,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidatePrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidationFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"UpdatePriceEvent\",\"header\":1737737193,\"fields\":[{\"name\":\"pricesLength\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"prices\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UpdatePrice\",\"valueFormat\":\"ref\"}}]},{\"name\":\"ConfigData\",\"header\":null,\"fields\":[{\"name\":\"lpLockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusFactor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"orderBook\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"TokenConfig\",\"header\":null,\"fields\":[{\"name\":\"name\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"enable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"minMargin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxLeverage\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidationFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpTradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"interestRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxFundingRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"TokenConfigData\",\"header\":null,\"fields\":[{\"name\":\"tokenIdNext\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tokenConfig\",\"type\":{\"kind\":\"simple\",\"type\":\"TokenConfig\",\"optional\":true}}]},{\"name\":\"LPPosition\",\"header\":null,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidity\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonus\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedFundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"unlockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalLPLiquidity\",\"header\":null,\"fields\":[{\"name\":\"lpFund\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidity\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LPPositionData\",\"header\":null,\"fields\":[{\"name\":\"lpPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"LPPosition\",\"optional\":true}},{\"name\":\"globalLPLiquidity\",\"type\":{\"kind\":\"simple\",\"type\":\"GlobalLPLiquidity\",\"optional\":false}}]},{\"name\":\"AccountPerpPosition\",\"header\":null,\"fields\":[{\"name\":\"positions\",\"type\":{\"kind\":\"dict\",\"key\":\"address\",\"value\":\"DirectionPerpPosition\",\"valueFormat\":\"ref\"}}]},{\"name\":\"DirectionPerpPosition\",\"header\":null,\"fields\":[{\"name\":\"longPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"PerpPosition\",\"optional\":false}},{\"name\":\"shortPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"PerpPosition\",\"optional\":false}}]},{\"name\":\"PerpPosition\",\"header\":null,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"margin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"size\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalLPPosition\",\"header\":null,\"fields\":[{\"name\":\"netSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"entryPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PerpPositionData\",\"header\":null,\"fields\":[{\"name\":\"perpPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"DirectionPerpPosition\",\"optional\":true}},{\"name\":\"globalLPPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"GlobalLPPosition\",\"optional\":true}}]},{\"name\":\"PriceData\",\"header\":null,\"fields\":[{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"UpdatePrice\",\"header\":null,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateConfig\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateTokenConfig\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateLPPosition\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdatePerpPosition\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Deploy\"}}],\"getters\":[{\"name\":\"configData\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"ConfigData\",\"optional\":false}},{\"name\":\"tokenConfig\",\"arguments\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"TokenConfigData\",\"optional\":false}},{\"name\":\"priceData\",\"arguments\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"PriceData\",\"optional\":true}},{\"name\":\"lpPosition\",\"arguments\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"LPPositionData\",\"optional\":true}},{\"name\":\"perpPosition\",\"arguments\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"PerpPositionData\",\"optional\":true}},{\"name\":\"owner\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}],\"errors\":{\"2\":{\"message\":\"Stack undeflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"13\":{\"message\":\"Out of gas error\"},\"32\":{\"message\":\"Method ID not found\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"37\":{\"message\":\"Not enough TON\"},\"38\":{\"message\":\"Not enough extra-currencies\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid address\"},\"137\":{\"message\":\"Masterchain support is not enabled for this contract\"},\"1644\":{\"message\":\"not reach trigger price\"},\"5238\":{\"message\":\"position not exist\"},\"9429\":{\"message\":\"send gas not enough\"},\"11117\":{\"message\":\"insuficient global net LP\"},\"18995\":{\"message\":\"margin rate too low\"},\"27798\":{\"message\":\"invalid token\"},\"28603\":{\"message\":\"margin rate too high\"},\"31425\":{\"message\":\"not reach unlock time\"},\"36718\":{\"message\":\"disabled token\"},\"39251\":{\"message\":\"insufficient global LP\"},\"41207\":{\"message\":\"invalid sender\"},\"42634\":{\"message\":\"legerage too high\"},\"55429\":{\"message\":\"not reach liquidate price\"},\"58161\":{\"message\":\"insufficient liquidity\"},\"62409\":{\"message\":\"insufficient margin\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\",\"org.ton.debug.v0\",\"org.ton.chain.workchain.v0\",\"org.ton.ownable\"]}","init":{"kind":"direct","args":[{"name":"deployId","type":{"kind":"simple","type":"int","optional":false,"format":257}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":"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1wsKIIEE/7ry0ImDCbry4IjPFhaBAQHPABTKAALIgQEBzwCBAQHPABKBAQHPAALIgQEBzwATgQEBzwATgQEBzwADyIEBAc8AyVADzMkBzMkBzAL8MxESETIREhERETEREREQETAREA8RLw8OES4ODREtDQwRLAwLESsLChEqCgkRKQkIESgIBxEnBwYRJgYFESUFBBEkBAMRIwMCESICAREhAVYjAREiViZWG9s8AREjAREioFYbsxESETIREhERETEREREQETAREA8RLw8OES4OTEsAbA0RLQ0MESwMCxErCwoRKgoJESkJCBEoCAcRJwcGESYGBRElBQQRJAQDESMDAhEiAgMRIQNAAwBWI8AAkyHAAJFw4pNfBHDgI8AAkmwx4CHAAJQQI18D4FIzqFITqBKgWaCpBAL0MVNTvJEjkSXiERERMxERERARMhEQDxExDw4RMA4NES8NDBEuDAsRLQsKESwKCRErCQgRKggHESkHBhEoBgURJwUEESYEAxElAwIRJAIBESMBESJWHVYjViZWHds8ESRWI6EBEScBESOhIMAAllckViYRJN4REREzERFrTgCKERARMhEQDxExDw4RMA4NES8NDBEuDAsRLQsKESwKCRErCQgRKggHESkHBhEoBgURJwUEESYEAxElAwIRJAIBESMBBBEiAv4REREuEREREBEtERAPESwPDhErDg0RKg0MESkMCxEoCwoRJwoJESYJCBElCAcRJAcGESMGBREiBQQRIQQDESADAhEfAgERHgERHVYYViFWGVYY2zxWIQERF6hWFaiCMBSt9LcyAzS5qhmpBFYUoFYigUozERigvgERFgHy9FYga1AB+FYToYI4BWvHXi1jEAAAqFYYllYXo1YhqJVWF1YhqOKgVhiVgg/wvcCVgggPQkDiVhUBoFYhAaipBIIA2IVWGZQhVhm5lCFWGbzi8vQREREuEREREBEtERAPESwPDhErDg0RKg0MESkMCxEoCwoRJwoJESYJCBElCAcRJAdRADgGESMGBREiBQQRIQQDESADAhEfAgERHgERFREdAApUeYdTmADE0x8BghD/V+VXuvLggdM/0weBAQHXAPpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB0gCBAQHXANQB0IEBAdcAgQEB1wDSANM/gQEB1wD0BDAQbBBrEGoQ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"}},"sources":{"contracts/core/messages.tact":"aW1wb3J0ICIuL3N0cnVjdHMiOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBhZG1pbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwptZXNzYWdlIFVwZGF0ZUNvbmZpZyB7CiAgICBnYXNDb25zdW1wdGlvbjogSW50OwogICAgbWluVG9uc0ZvclN0b3JhZ2U6IEludDsKICAgIGxwTG9ja1RpbWU6IEludDsKICAgIGJvbnVzRmFjdG9yOiBJbnQ7CiAgICBvcmRlckJvb2s6IEFkZHJlc3M7Cn0KCm1lc3NhZ2UgVXBkYXRlVG9rZW5Db25maWcgewogICAgdG9rZW5JZDogSW50OwogICAgbmFtZTogU3RyaW5nOwogICAgZW5hYmxlOiBCb29sOwogICAgbWluTWFyZ2luOiBJbnQ7CiAgICBtYXhMZXZlcmFnZTogSW50OwogICAgbGlxdWlkYXRpb25GZWU6IEludDsKICAgIHRyYWRpbmdGZWVSYXRlOiBJbnQ7CiAgICBscFRyYWRpbmdGZWVSYXRlOiBJbnQ7CiAgICBpbnRlcmVzdFJhdGU6IEludDsKICAgIG1heEZ1bmRpbmdSYXRlOiBJbnQ7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gTFAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KbWVzc2FnZSgweGU4OWNkNDVmKSBVcGRhdGVMUFBvc2l0aW9uIHsKICAgIGlzSW5jcmVhc2U6IEJvb2w7CiAgICBvcmRlcklkOiBJbnQgYXMgdWludDY0OwogICAgYWNjb3VudDogQWRkcmVzczsKICAgIGxpcXVpZGl0eURlbHRhOiBJbnQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKICAgIHByaWNlc0xlbmd0aDogSW50OwogICAgcHJpY2VzOiBtYXA8SW50LCBVcGRhdGVQcmljZT47Cn0KCm1lc3NhZ2UoMHgxY2YwY2Y4MSkgVXBkYXRlTFBQb3NpdGlvblN1Y2Nlc3MgewogICAgb3JkZXJJZDogSW50OwogICAgcmVjZWl2ZTogSW50OwogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUGVycCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwptZXNzYWdlKDB4ZmY1N2U1NTcpIFVwZGF0ZVBlcnBQb3NpdGlvbiB7CiAgICBvcmRlcklkOiBJbnQgYXMgdWludDY0OwogICAgb3BUeXBlOiBJbnQgYXMgdWludDg7CiAgICB0b2tlbklkOiBJbnQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgaXNMb25nOiBCb29sOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIHNpemVEZWx0YTogSW50OwogICAgdHJpZ2dlclByaWNlOiBJbnQ7CiAgICB0cmlnZ2VyQWJvdmU6IEJvb2w7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKICAgIHByaWNlc0xlbmd0aDogSW50OwogICAgcHJpY2VzOiBtYXA8SW50LCBVcGRhdGVQcmljZT47Cn0KCm1lc3NhZ2UoMHhlZjAxYzJiNCkgVXBkYXRlUGVycFBvc2l0aW9uU3VjY2VzcyB7CiAgICBvcmRlcklkOiBJbnQ7CiAgICByZWNlaXZlOiBJbnQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQ==","contracts/core/events.tact":"aW1wb3J0ICIuL3N0cnVjdHMiOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBMUCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwovLyBpbmNyZWFzZSBMUAptZXNzYWdlIExQUG9zaXRpb25JbmNyZWFzZWRFdmVudCB7CiAgICBwb3NpdGlvbklkOiBJbnQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgbGlxdWlkaXR5RGVsdGE6IEludDsKICAgIGxpcXVpZGl0eUFmdGVyOiBJbnQ7CiAgICBib251c0RlbHRhOiBJbnQ7CiAgICBib251c0FmdGVyOiBJbnQ7CiAgICB1bmxvY2tUaW1lQWZ0ZXI6IEludDsKICAgIHJlYWxpemVkRnVuZGluZ0ZlZTogSW50OwogICAgcmVhbGl6ZWRGdW5kaW5nRmVlQWZ0ZXI6IEludDsKICAgIHRyeElkOiBJbnQ7Cn0KCi8vIGRlY3JlYXNlIExQCm1lc3NhZ2UgTFBQb3NpdGlvbkRlY3JlYXNlZEV2ZW50IHsKICAgIHBvc2l0aW9uSWQ6IEludDsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICBsaXF1aWRpdHlEZWx0YTogSW50OyAvLyBkZWNyZWFzZSBsaXF1aWR0eQogICAgbGlxdWlkaXR5QWZ0ZXI6IEludDsKICAgIGJvbnVzRGVsdGE6IEludDsKICAgIGJvbnVzQWZ0ZXI6IEludDsKICAgIGZ1bmRpbmdGZWVEZWx0YTogSW50OwogICAgcmVjZWl2ZTogSW50OyAvLyByZWFsaXplZFBubCA9IHJlY2VpdmUgLSBsaXF1aWRpdHlEZWx0YQogICAgdHJ4SWQ6IEludDsKfQoKLy8gZ2xvYmFsIExQCm1lc3NhZ2UgR2xvYmFsTFBDaGFuZ2VkRXZlbnQgewogICAgbHBGdW5kQWZ0ZXI6IEludDsKICAgIGxpcXVpZGl0eUFmdGVyOiBJbnQ7CiAgICB0cmFkaW5nRmVlOiBJbnQ7CiAgICBmdW5kaW5nRmVlOiBJbnQ7CiAgICB0cnhJZDogSW50Owp9CgptZXNzYWdlIEdsb2JhbExQUG9zaXRpb25DaGFuZ2VkRXZlbnQgewogICAgdG9rZW5JZDogSW50OwogICAgbmV0U2l6ZUFmdGVyOiBJbnQ7CiAgICBpc0xvbmc6IEJvb2w7CiAgICBlbnRyeVByaWNlQWZ0ZXI6IEludDsKICAgIHRyeElkOiBJbnQ7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUGVycCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwptZXNzYWdlIFBlcnBQb3NpdGlvbkluY3JlYXNlZEV2ZW50IHsKICAgIHBvc2l0aW9uSWQ6IEludDsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICB0b2tlbklkOiBJbnQ7CiAgICBpc0xvbmc6IEJvb2w7CiAgICBtYXJnaW5EZWx0YTogSW50OwogICAgbWFyZ2luQWZ0ZXI6IEludDsKICAgIHNpemVEZWx0YTogSW50OwogICAgc2l6ZUFmdGVyOiBJbnQ7CiAgICB0cmFkZVByaWNlOiBJbnQ7CiAgICBlbnRyeVByaWNlOiBJbnQ7CiAgICBmdW5kaW5nRmVlOiBJbnQ7CiAgICB0cmFkaW5nRmVlOiBJbnQ7CiAgICB0cnhJZDogSW50Owp9CgptZXNzYWdlIFBlcnBQb3NpdGlvbkRlY3JlYXNlZEV2ZW50IHsKICAgIHBvc2l0aW9uSWQ6IEludDsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICB0b2tlbklkOiBJbnQ7CiAgICBpc0xvbmc6IEJvb2w7CiAgICBtYXJnaW5EZWx0YTogSW50OwogICAgbWFyZ2luQWZ0ZXI6IEludDsKICAgIHNpemVEZWx0YTogSW50OwogICAgc2l6ZUFmdGVyOiBJbnQ7CiAgICB0cmFkZVByaWNlOiBJbnQ7CiAgICByZWFsaXplZFBuTERlbHRhOiBJbnQ7CiAgICBmdW5kaW5nRmVlOiBJbnQ7CiAgICB0cmFkaW5nRmVlOiBJbnQ7CiAgICByZWNlaXZlOiBJbnQ7CiAgICB0cnhJZDogSW50Owp9CgptZXNzYWdlIFBlcnBQb3NpdGlvbkxpcXVpZGF0ZWRFdmVudCB7CiAgICBwb3NpdGlvbklkOiBJbnQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgdG9rZW5JZDogSW50OwogICAgaXNMb25nOiBCb29sOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIHNpemVEZWx0YTogSW50OwogICAgbGlxdWlkYXRlUHJpY2U6IEludDsKICAgIGZ1bmRpbmdGZWU6IEludDsKICAgIHRyYWRpbmdGZWU6IEludDsKICAgIGxpcXVpZGF0aW9uRmVlOiBJbnQ7CiAgICB0cnhJZDogSW50Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFByaWNlID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCm1lc3NhZ2UgVXBkYXRlUHJpY2VFdmVudCB7CiAgICBwcmljZXNMZW5ndGg6IEludDsKICAgIHByaWNlczogbWFwPEludCwgVXBkYXRlUHJpY2U+Owp9","contracts/core/structs.tact":"Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBDb25maWcgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8Kc3RydWN0IENvbmZpZ0RhdGEgewogICAgbHBMb2NrVGltZTogSW50OwogICAgYm9udXNGYWN0b3I6IEludDsKICAgIG9yZGVyQm9vazogQWRkcmVzczsKfQoKc3RydWN0IFRva2VuQ29uZmlnIHsKICAgIG5hbWU6IFN0cmluZzsKICAgIGVuYWJsZTogQm9vbDsKICAgIC8vID09PT09PT09PT09PT09PT09PT09IFRyYWRlciBQb3NpdGlvbiBDb25maWd1cmF0aW9uID09PT09PT09PT09PT09PT09PQogICAgbWluTWFyZ2luOiBJbnQ7CiAgICBtYXhMZXZlcmFnZTogSW50OwogICAgbGlxdWlkYXRpb25GZWU6IEludDsKICAgIC8vID09PT09PT09PT09PT09PT09PT09IFRyYWRpbmcgRmVlIENvbmZpZ3VyYXRpb24gPT09PT09PT09PT09PT09PT09CiAgICB0cmFkaW5nRmVlUmF0ZTogSW50OwogICAgbHBUcmFkaW5nRmVlUmF0ZTogSW50OwogICAgLy8gPT09PT09PT09PT09PT09PT09PT0gT3RoZXIgQ29uZmlndXJhdGlvbiA9PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgaW50ZXJlc3RSYXRlOiBJbnQ7CiAgICBtYXhGdW5kaW5nUmF0ZTogSW50Owp9CgpzdHJ1Y3QgVG9rZW5Db25maWdEYXRhIHsKICAgIHRva2VuSWROZXh0OiBJbnQ7CiAgICB0b2tlbkNvbmZpZzogVG9rZW5Db25maWc/Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IExQID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCnN0cnVjdCBMUFBvc2l0aW9uIHsKICAgIHBvc2l0aW9uSWQ6IEludDsKICAgIGxpcXVpZGl0eTogSW50OwogICAgYm9udXM6IEludDsKICAgIHJlYWxpemVkRnVuZGluZ0ZlZTogSW50OwogICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiBJbnQ7CiAgICB1bmxvY2tUaW1lOiBJbnQ7Cn0KCnN0cnVjdCBHbG9iYWxMUExpcXVpZGl0eSB7CiAgICBscEZ1bmQ6IEludDsKICAgIGxpcXVpZGl0eTogSW50OwogICAgZnVuZGluZ0ZlZUdyb3d0aDogSW50Owp9CgpzdHJ1Y3QgTFBQb3NpdGlvbkRhdGEgewogICAgbHBQb3NpdGlvbjogTFBQb3NpdGlvbj87CiAgICBnbG9iYWxMUExpcXVpZGl0eTogR2xvYmFsTFBMaXF1aWRpdHk7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUGVycCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwovLyBwZXJwIHBvc2l0aW9uCnN0cnVjdCBBY2NvdW50UGVycFBvc2l0aW9uIHsKICAgIHBvc2l0aW9uczogbWFwPEFkZHJlc3MsIERpcmVjdGlvblBlcnBQb3NpdGlvbj47Cn0KCnN0cnVjdCBEaXJlY3Rpb25QZXJwUG9zaXRpb24gewogICAgbG9uZ1Bvc2l0aW9uOiBQZXJwUG9zaXRpb247CiAgICBzaG9ydFBvc2l0aW9uOiBQZXJwUG9zaXRpb247Cn0KCnN0cnVjdCBQZXJwUG9zaXRpb24gewogICAgcG9zaXRpb25JZDogSW50OwogICAgbWFyZ2luOiBJbnQ7CiAgICBzaXplOiBJbnQ7CiAgICBlbnRyeVByaWNlOiBJbnQ7CiAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGg6IEludDsKfQoKc3RydWN0IEdsb2JhbExQUG9zaXRpb24gewogICAgbmV0U2l6ZTogSW50OwogICAgaXNMb25nOiBCb29sOwogICAgZW50cnlQcmljZTogSW50Owp9CgpzdHJ1Y3QgUGVycFBvc2l0aW9uRGF0YSB7CiAgICBwZXJwUG9zaXRpb246IERpcmVjdGlvblBlcnBQb3NpdGlvbj87CiAgICBnbG9iYWxMUFBvc2l0aW9uOiBHbG9iYWxMUFBvc2l0aW9uPzsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBQcmljZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwpzdHJ1Y3QgUHJpY2VEYXRhIHsKICAgIHByaWNlOiBJbnQ7Cn0KCnN0cnVjdCBVcGRhdGVQcmljZSB7CiAgICB0b2tlbklkOiBJbnQ7CiAgICBwcmljZTogSW50Owp9Cg==","contracts/core/constants.tact":"CmNvbnN0IFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQ6IEludCA9IDFfMDAwXzAwMDsgLy8gMTBfMDAwIGZvciAxJQpjb25zdCBERUNJTUFMX0ZBQ1RPUjogSW50ID0gcG93KDEwLCAyMCk7Cgpjb25zdCBEQVk6IEludCA9IDI0ICogNjAgKiA2MDsKCgpjb25zdCBBREpVU1RfRlVORElOR19SQVRFX0lOVEVSVkFMOiBJbnQgPSAzNjAwOyAvLyAxIGhvdXIKY29uc3QgU0FNUExFX1BSRU1JVU1fUkFURV9JTlRFUlZBTDogSW50ID0gNTsgLy8gNSBzZWNvbmRzCmNvbnN0IFJFUVVJUkVEX1NBTVBMRV9DT1VOVDogSW50ID0gNzIwOwovLyBAZGV2IDggKiAoMSsyKzMrLi4uKzcyMCkgPSA4ICogKCgxKzcyMCkgKiA3MjAgLyAyKSA9IDggKiAyNTk1NjAKY29uc3QgUFJFTUlVTV9SQVRFX0FWR19ERU5PTUlOQVRPUjogSW50ID0gOCAqIDI1OTU2MDsKY29uc3QgUFJFTUlVTV9SQVRFX0NMQU1QX0JPVU5EQVJZX1g5NjogSW50ID0gNDk1MTc2MDE1NzE0MTUyMTA5OTU5NjQ5NzsKY29uc3QgQkFTSVNfUE9JTlRTX0RJVklTT1I6IEludCA9IDEwMDAwMDAwMDsKCmNvbnN0IE9SREVSX09QX1RZUEVfSU5DUkVBU0U6IEludCA9IDE7CmNvbnN0IE9SREVSX09QX1RZUEVfREVDUkVBU0U6IEludCA9IDI7CmNvbnN0IE9SREVSX09QX1RZUEVfTElRVUlEQVRJT046IEludCA9IDM7CmNvbnN0IE9SREVSX09QX1RZUEVfQURMOiBJbnQgPSA0OwoKY29uc3QgT1JERVJfT1BfVFlQRV9JTkNSRUFTRV9NQVJLRVQ6IEludCA9IDEwOwpjb25zdCBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFX0xJTUlUOiBJbnQgPSAxMTsKY29uc3QgT1JERVJfT1BfVFlQRV9ERUNSRUFTRV9NQVJLRVQ6IEludCA9IDEyOwpjb25zdCBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFX1RQOiBJbnQgPSAxMzsKY29uc3QgT1JERVJfT1BfVFlQRV9ERUNSRUFTRV9TTDogSW50ID0gMTQ7","contracts/core/pool.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CmltcG9ydCAiQHN0ZGxpYi9vd25hYmxlIjsKaW1wb3J0ICIuL21lc3NhZ2VzIjsKaW1wb3J0ICIuL2V2ZW50cyI7CmltcG9ydCAiLi9zdHJ1Y3RzIjsKaW1wb3J0ICIuL2NvbnN0YW50cyI7Cgpjb250cmFjdCBQb29sIHdpdGggRGVwbG95YWJsZSwgT3duYWJsZSB7CgogICAgLy8gY29uZmlnCiAgICBnYXNDb25zdW1wdGlvbjogSW50ID0gdG9uKCIwLjA1Iik7CiAgICBtaW5Ub25zRm9yU3RvcmFnZTogSW50ID0gdG9uKCIwLjAzIik7CgogICAgdG9rZW5Db25maWdzOiBtYXA8SW50LCBUb2tlbkNvbmZpZz47IC8vIHRva2VuSWQgPT4gdG9rZW5Db25maWcKICAgIHRva2VuSWROZXh0OiBJbnQgPSAxOwoKICAgIC8vIGxwTG9ja1RpbWU6IEludCA9IDEwICogMjQgKiA2MCAqIDYwOyAvLyBsb2NrIDEwIGRheXMKICAgIGxwTG9ja1RpbWU6IEludCA9IDEwICogNjA7IC8vIFRPRE8gbG9jayAxMCBtaW4gZm9yIHRlc3QKICAgIGJvbnVzRmFjdG9yOiBJbnQgPSAxOwoKICAgIC8vIGFkbWluCiAgICBvd25lcjogQWRkcmVzczsKICAgIG9yZGVyQm9vazogQWRkcmVzczsKCiAgICAvLyBMUAogICAgbHBQb3NpdGlvbnM6IG1hcDxBZGRyZXNzLCBMUFBvc2l0aW9uPjsgLy8gdHJhZGVyID0+IExQCiAgICBscFBvc2l0aW9uSW5kZXhOZXh0OiBJbnQgYXMgdWludDY0ID0gMTsKICAgIGdsb2JhbExQTGlxdWlkaXR5OiBHbG9iYWxMUExpcXVpZGl0eTsKCiAgICAvLyBQZXJwCiAgICBwZXJwUG9zaXRpb25zOiBtYXA8SW50LCBBY2NvdW50UGVycFBvc2l0aW9uPjsgLy8gdG9rZW5JZCA9PiB1c2VyID0+IGRpcmVjdGlvbiA9PiBwb3NpdGlvbgogICAgcGVycFBvc2l0aW9uSW5kZXhOZXh0OiBJbnQgYXMgdWludDY0ID0gMTsKCiAgICBnbG9iYWxMUFBvc2l0aW9uczogbWFwPEludCwgR2xvYmFsTFBQb3NpdGlvbj47IC8vIHRva2VuSWQgPT4gZ2xvYmFsTFAKCiAgICAvLyBwcmljZQogICAgcHJpY2VzOiBtYXA8SW50LCBQcmljZURhdGE+OyAvLyB0b2tlbklkID0+IHByaWNlRGF0YQoKICAgIHByb3RvY2FsVHJhZGluZ0ZlZTogSW50ID0gMDsKCiAgICBpbml0KGRlcGxveUlkOiBJbnQpIHsKICAgICAgICBzZWxmLm93bmVyID0gc2VuZGVyKCk7CiAgICAgICAgc2VsZi5vcmRlckJvb2sgPSBuZXdBZGRyZXNzKDAsIDApOwogICAgICAgIHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkgPSBHbG9iYWxMUExpcXVpZGl0eXtscEZ1bmQ6IDAsIGxpcXVpZGl0eTogMCwgZnVuZGluZ0ZlZUdyb3d0aDogMH07CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gQWRtaW4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwogICAgcmVjZWl2ZShtc2c6IFVwZGF0ZUNvbmZpZykgewogICAgICAgIHNlbGYucmVxdWlyZU93bmVyKCk7CgogICAgICAgIHNlbGYuZ2FzQ29uc3VtcHRpb24gPSBtc2cuZ2FzQ29uc3VtcHRpb247CiAgICAgICAgc2VsZi5taW5Ub25zRm9yU3RvcmFnZSA9IG1zZy5taW5Ub25zRm9yU3RvcmFnZTsKICAgICAgICBzZWxmLmxwTG9ja1RpbWUgPSBtc2cubHBMb2NrVGltZTsKICAgICAgICBzZWxmLmJvbnVzRmFjdG9yID0gbXNnLmJvbnVzRmFjdG9yOwogICAgICAgIHNlbGYub3JkZXJCb29rID0gbXNnLm9yZGVyQm9vazsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogc2VuZGVyKCksCiAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUKICAgICAgICB9KTsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogVXBkYXRlVG9rZW5Db25maWcpIHsKICAgICAgICBzZWxmLnJlcXVpcmVPd25lcigpOwoKICAgICAgICBsZXQgdG9rZW5Db25maWdPcHQ6IFRva2VuQ29uZmlnPyA9IHNlbGYudG9rZW5Db25maWdzLmdldChtc2cudG9rZW5JZCk7CiAgICAgICAgbGV0IHRva2VuQ29uZmlnOiBUb2tlbkNvbmZpZyA9IHRva2VuQ29uZmlnT3B0ICE9IG51bGwgPyB0b2tlbkNvbmZpZ09wdCEhIDogVG9rZW5Db25maWd7CiAgICAgICAgICAgIG5hbWU6ICIiLAogICAgICAgICAgICBlbmFibGU6IGZhbHNlLAogICAgICAgICAgICBtaW5NYXJnaW46IDEwICogcG93KDEwLCA2KSwgLy8gMTBVCiAgICAgICAgICAgIG1heExldmVyYWdlOiAxMDAsCiAgICAgICAgICAgIGxpcXVpZGF0aW9uRmVlOiAyICogcG93KDEwLCA1KSwgLy8gMC4yVQogICAgICAgICAgICB0cmFkaW5nRmVlUmF0ZTogMV8wMDAsIC8vIDAuMSUKICAgICAgICAgICAgbHBUcmFkaW5nRmVlUmF0ZTogNjAwXzAwMCwgLy8gNjAlCiAgICAgICAgICAgIGludGVyZXN0UmF0ZTogMCwKICAgICAgICAgICAgbWF4RnVuZGluZ1JhdGU6IDAKICAgICAgICB9OwoKICAgICAgICBpZiAobXNnLm5hbWUgIT0gbnVsbCl7CiAgICAgICAgICAgIHRva2VuQ29uZmlnLm5hbWUgPSBtc2cubmFtZTsKICAgICAgICB9CiAgICAgICAgaWYgKG1zZy5lbmFibGUgIT0gbnVsbCl7CiAgICAgICAgICAgIHRva2VuQ29uZmlnLmVuYWJsZSA9IG1zZy5lbmFibGU7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cubWluTWFyZ2luICE9IG51bGwpewogICAgICAgICAgICB0b2tlbkNvbmZpZy5taW5NYXJnaW4gPSBtc2cubWluTWFyZ2luOwogICAgICAgIH0KICAgICAgICBpZiAobXNnLm1heExldmVyYWdlICE9IG51bGwpewogICAgICAgICAgICB0b2tlbkNvbmZpZy5tYXhMZXZlcmFnZSA9IG1zZy5tYXhMZXZlcmFnZTsKICAgICAgICB9CiAgICAgICAgaWYgKG1zZy5saXF1aWRhdGlvbkZlZSAhPSBudWxsKXsKICAgICAgICAgICAgdG9rZW5Db25maWcubGlxdWlkYXRpb25GZWUgPSBtc2cubGlxdWlkYXRpb25GZWU7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cuaW50ZXJlc3RSYXRlICE9IG51bGwpewogICAgICAgICAgICB0b2tlbkNvbmZpZy5pbnRlcmVzdFJhdGUgPSBtc2cuaW50ZXJlc3RSYXRlOwogICAgICAgIH0KICAgICAgICBpZiAobXNnLnRyYWRpbmdGZWVSYXRlICE9IG51bGwpewogICAgICAgICAgICB0b2tlbkNvbmZpZy50cmFkaW5nRmVlUmF0ZSA9IG1zZy50cmFkaW5nRmVlUmF0ZTsKICAgICAgICB9CiAgICAgICAgaWYgKG1zZy5scFRyYWRpbmdGZWVSYXRlICE9IG51bGwpewogICAgICAgICAgICB0b2tlbkNvbmZpZy5scFRyYWRpbmdGZWVSYXRlID0gbXNnLmxwVHJhZGluZ0ZlZVJhdGU7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cubWF4RnVuZGluZ1JhdGUgIT0gbnVsbCl7CiAgICAgICAgICAgIHRva2VuQ29uZmlnLm1heEZ1bmRpbmdSYXRlID0gbXNnLm1heEZ1bmRpbmdSYXRlOwogICAgICAgIH0KICAgICAgICBpZiAobXNnLnRva2VuSWQgPj0gc2VsZi50b2tlbklkTmV4dCkgewogICAgICAgICAgICBzZWxmLnRva2VuSWROZXh0ID0gbXNnLnRva2VuSWQgKyAxOwogICAgICAgIH0KCiAgICAgICAgc2VsZi50b2tlbkNvbmZpZ3Muc2V0KG1zZy50b2tlbklkLCB0b2tlbkNvbmZpZyk7CiAgICAgICAgCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbmRlcigpLAogICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ1ZhbHVlCiAgICAgICAgfSk7CiAgICB9CgogICAgZ2V0IGZ1biBjb25maWdEYXRhKCk6IENvbmZpZ0RhdGEgewogICAgICAgIHJldHVybiBDb25maWdEYXRhewogICAgICAgICAgICBscExvY2tUaW1lOiBzZWxmLmxwTG9ja1RpbWUsCiAgICAgICAgICAgIGJvbnVzRmFjdG9yOiBzZWxmLmJvbnVzRmFjdG9yLAogICAgICAgICAgICBvcmRlckJvb2s6IHNlbGYub3JkZXJCb29rCiAgICAgICAgfTsKICAgIH0KCiAgICBnZXQgZnVuIHRva2VuQ29uZmlnKHRva2VuSWQ6IEludCk6IFRva2VuQ29uZmlnRGF0YSB7CiAgICAgICAgcmV0dXJuIFRva2VuQ29uZmlnRGF0YXsKICAgICAgICAgICAgdG9rZW5JZE5leHQ6IHNlbGYudG9rZW5JZE5leHQsCiAgICAgICAgICAgIHRva2VuQ29uZmlnOiBzZWxmLnRva2VuQ29uZmlncy5nZXQodG9rZW5JZCkKICAgICAgICB9OwogICAgfQoKICAgIGdldCBmdW4gcHJpY2VEYXRhKHRva2VuSWQ6IEludCk6IFByaWNlRGF0YT8gewogICAgICAgIHJldHVybiBzZWxmLnByaWNlcy5nZXQodG9rZW5JZCk7CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gTFAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwogICAgcmVjZWl2ZShtc2c6IFVwZGF0ZUxQUG9zaXRpb24pIHsKICAgICAgICByZXF1aXJlKHNlbmRlcigpID09IHNlbGYub3JkZXJCb29rLCAiaW52YWxpZCBzZW5kZXIiKTsKCiAgICAgICAgLy8gdXBkYXRlIHByaWNlCiAgICAgICAgc2VsZi5zZXRQcmljZShtc2cucHJpY2VzTGVuZ3RoLCBtc2cucHJpY2VzKTsKCiAgICAgICAgLy8gVE9ETyB1cGRhdGUgZnVuZGluZyByYXRlCgogICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbgogICAgICAgIGxldCByZWNlaXZlOiBJbnQgPSAwOwogICAgICAgIGlmIChtc2cuaXNJbmNyZWFzZSkgewogICAgICAgICAgICBzZWxmLmluY3JlYXNlTFBQb3NpdGlvbihtc2cuYWNjb3VudCwgbXNnLmxpcXVpZGl0eURlbHRhLCBtc2cudHJ4SWQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlY2VpdmUgPSBzZWxmLmRlY3JlYXNlTFBQb3NpdGlvbihtc2cuYWNjb3VudCwgbXNnLmxpcXVpZGl0eURlbHRhLCBtc2cudHJ4SWQpOwogICAgICAgIH0KCiAgICAgICAgbGV0IG1zZ1ZhbHVlOiBJbnQgPSBjb250ZXh0KCkudmFsdWUgLSBzZWxmLmdhc0NvbnN1bXB0aW9uICogMiAtIHNlbGYubWluVG9uc0ZvclN0b3JhZ2UgLSBjb250ZXh0KCkucmVhZEZvcndhcmRGZWUoKTsKICAgICAgICByZXF1aXJlKG1zZ1ZhbHVlID4gMCwgInNlbmQgZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICAvLyBzZW5kIHVwZGF0ZSBzdWNjZXNzIG1zZwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLm9yZGVyQm9vaywKICAgICAgICAgICAgdmFsdWU6IG1zZ1ZhbHVlLAogICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICBtb2RlOiBTZW5kUGF5R2FzU2VwYXJhdGVseSwKICAgICAgICAgICAgYm9keTogVXBkYXRlTFBQb3NpdGlvblN1Y2Nlc3MgewogICAgICAgICAgICAgICAgb3JkZXJJZDogbXNnLm9yZGVySWQsCiAgICAgICAgICAgICAgICByZWNlaXZlOiByZWNlaXZlLAogICAgICAgICAgICAgICAgdHJ4SWQ6IG1zZy50cnhJZAogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CiAgICB9CgogICAgZnVuIGluY3JlYXNlTFBQb3NpdGlvbihhY2NvdW50OiBBZGRyZXNzLCBsaXF1aWRpdHlEZWx0YTogSW50LCB0cnhJZDogSW50KSB7CiAgICAgICAgLy8gZ2V0IHBvc2l0aW9uCiAgICAgICAgbGV0IGxwUG9zaXRpb25PcHQ6IExQUG9zaXRpb24/ID0gc2VsZi5scFBvc2l0aW9ucy5nZXQoYWNjb3VudCk7CiAgICAgICAgLy8gaW5pdCBwb3NpdGlvbiBpZiBub3QgZXhpc3QKICAgICAgICBsZXQgbHBQb3NpdGlvbjogTFBQb3NpdGlvbiA9IExQUG9zaXRpb257CiAgICAgICAgICAgICAgICBwb3NpdGlvbklkOiAwLAogICAgICAgICAgICAgICAgbGlxdWlkaXR5OiAwLAogICAgICAgICAgICAgICAgYm9udXM6IDAsCiAgICAgICAgICAgICAgICByZWFsaXplZEZ1bmRpbmdGZWU6IDAsCiAgICAgICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGg6IDAsCiAgICAgICAgICAgICAgICB1bmxvY2tUaW1lOiAwCiAgICAgICAgICAgIH07CiAgICAgICAgaWYgKGxwUG9zaXRpb25PcHQgIT0gbnVsbCkgewogICAgICAgICAgICBscFBvc2l0aW9uID0gbHBQb3NpdGlvbk9wdCEhOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxwUG9zaXRpb24ucG9zaXRpb25JZCA9IHNlbGYubHBQb3NpdGlvbkluZGV4TmV4dDsKICAgICAgICAgICAgc2VsZi5scFBvc2l0aW9uSW5kZXhOZXh0ID0gc2VsZi5scFBvc2l0aW9uSW5kZXhOZXh0ICsgMTsKICAgICAgICB9CgogICAgICAgIC8vIHVwZGF0ZSBMUAogICAgICAgIC8vIGNhbGN1bGF0ZSBib251cwogICAgICAgIGxldCBnbG9iYWxOZXRMUDogSW50ID0gc2VsZi5nbG9iYWxMUExpcXVpZGl0eS5scEZ1bmQgKyBzZWxmLmNhbGN1bGF0ZVRvdGFsR2xvYmFsVW5yZWFsaXplZFBubCgpOwogICAgICAgIGlmIChnbG9iYWxOZXRMUCA8IDApIHsKICAgICAgICAgICAgZ2xvYmFsTmV0TFAgPSAwOwogICAgICAgIH0KICAgICAgICBsZXQgYm9udXM6IEludCA9IDA7CiAgICAgICAgaWYgKGdsb2JhbE5ldExQIDwgc2VsZi5nbG9iYWxMUExpcXVpZGl0eS5saXF1aWRpdHkpIHsKICAgICAgICAgICAgLy8gYm9udXMgPSBiICsgcyAoMSAtIHgpICogbGlxdWlkaXR5CiAgICAgICAgICAgIGJvbnVzID0gc2VsZi5ib251c0ZhY3RvciAqIChzZWxmLmdsb2JhbExQTGlxdWlkaXR5LmxpcXVpZGl0eSAtIGdsb2JhbE5ldExQKQogICAgICAgICAgICAgICAgICogbGlxdWlkaXR5RGVsdGEgLyBzZWxmLmdsb2JhbExQTGlxdWlkaXR5LmxpcXVpZGl0eTsKICAgICAgICAgICAgbHBQb3NpdGlvbi5ib251cyA9IGxwUG9zaXRpb24uYm9udXMgKyBib251czsKICAgICAgICB9CiAgICAgICAgLy8gVE9ETyBmdW5kaW5nIGZlZQoKICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb24KICAgICAgICBscFBvc2l0aW9uLmxpcXVpZGl0eSA9IGxwUG9zaXRpb24ubGlxdWlkaXR5ICsgbGlxdWlkaXR5RGVsdGE7CiAgICAgICAgbHBQb3NpdGlvbi51bmxvY2tUaW1lID0gbm93KCkgKyBzZWxmLmxwTG9ja1RpbWU7CgogICAgICAgIC8vIHNldCBwb3NpdGlvbgogICAgICAgIHNlbGYubHBQb3NpdGlvbnMuc2V0KGFjY291bnQsIGxwUG9zaXRpb24pOwoKICAgICAgICAvLyB1cGRhdGUgZ2xvYmFsIHBvc2l0aW9uCiAgICAgICAgc2VsZi5nbG9iYWxMUExpcXVpZGl0eS5scEZ1bmQgPSBzZWxmLmdsb2JhbExQTGlxdWlkaXR5LmxwRnVuZCArIGxpcXVpZGl0eURlbHRhOwogICAgICAgIHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkubGlxdWlkaXR5ID0gc2VsZi5nbG9iYWxMUExpcXVpZGl0eS5saXF1aWRpdHkgKyBsaXF1aWRpdHlEZWx0YTsKCiAgICAgICAgZW1pdChMUFBvc2l0aW9uSW5jcmVhc2VkRXZlbnR7CiAgICAgICAgICAgIHBvc2l0aW9uSWQ6IGxwUG9zaXRpb24ucG9zaXRpb25JZCwKICAgICAgICAgICAgYWNjb3VudDogYWNjb3VudCwKICAgICAgICAgICAgbGlxdWlkaXR5RGVsdGE6IGxpcXVpZGl0eURlbHRhLAogICAgICAgICAgICBsaXF1aWRpdHlBZnRlcjogbHBQb3NpdGlvbi5saXF1aWRpdHksCiAgICAgICAgICAgIGJvbnVzRGVsdGE6IGJvbnVzLAogICAgICAgICAgICBib251c0FmdGVyOiBscFBvc2l0aW9uLmJvbnVzLAogICAgICAgICAgICB1bmxvY2tUaW1lQWZ0ZXI6IGxwUG9zaXRpb24udW5sb2NrVGltZSwKICAgICAgICAgICAgcmVhbGl6ZWRGdW5kaW5nRmVlOiAwLAogICAgICAgICAgICByZWFsaXplZEZ1bmRpbmdGZWVBZnRlcjogbHBQb3NpdGlvbi5yZWFsaXplZEZ1bmRpbmdGZWUsCiAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwogICAgICAgIGVtaXQoR2xvYmFsTFBDaGFuZ2VkRXZlbnR7CiAgICAgICAgICAgIGxwRnVuZEFmdGVyOiBzZWxmLmdsb2JhbExQTGlxdWlkaXR5LmxwRnVuZCwKICAgICAgICAgICAgbGlxdWlkaXR5QWZ0ZXI6IHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkubGlxdWlkaXR5LAogICAgICAgICAgICB0cmFkaW5nRmVlOiAwLAogICAgICAgICAgICBmdW5kaW5nRmVlOiAwLAogICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgIH0KCiAgICBmdW4gZGVjcmVhc2VMUFBvc2l0aW9uKGFjY291bnQ6IEFkZHJlc3MsIGxpcXVpZGl0eURlbHRhOiBJbnQsIHRyeElkOiBJbnQpOiBJbnQgewogICAgICAgIC8vIGdldCBwb3NpdGlvbgogICAgICAgIGxldCBscFBvc2l0aW9uT3B0OiBMUFBvc2l0aW9uPyA9IHNlbGYubHBQb3NpdGlvbnMuZ2V0KGFjY291bnQpOwogICAgICAgIC8vIGNoZWNrIHBvc2l0aW9uCiAgICAgICAgcmVxdWlyZShscFBvc2l0aW9uT3B0ICE9IG51bGwsICJwb3NpdGlvbiBub3QgZXhpc3QiKTsKICAgICAgICBsZXQgbHBQb3NpdGlvbjogTFBQb3NpdGlvbiA9IGxwUG9zaXRpb25PcHQhITsKCiAgICAgICAgLy8gY2hlY2sgdW5sb2NrIHRpbWUKICAgICAgICByZXF1aXJlKGxwUG9zaXRpb24udW5sb2NrVGltZSA8PSBub3coKSwgIm5vdCByZWFjaCB1bmxvY2sgdGltZSIpOwoKICAgICAgICAvLyBkZWNyZWFzZSBsaXF1aWRpdHkgZGVsdGEKICAgICAgICBpZiAobHBQb3NpdGlvbi5saXF1aWRpdHkgPCBsaXF1aWRpdHlEZWx0YSkgewogICAgICAgICAgICBsaXF1aWRpdHlEZWx0YSA9IGxwUG9zaXRpb24ubGlxdWlkaXR5OwogICAgICAgIH0KCiAgICAgICAgLy8gY2FsY3VsYXRlIExQIGdsb2JhbCB1bnJlYWxpemVkIHBubAogICAgICAgIGxldCB0b3RhbEdsb2JhbFVucmVhbGl6ZWRQbmw6IEludCA9IHNlbGYuY2FsY3VsYXRlVG90YWxHbG9iYWxVbnJlYWxpemVkUG5sKCk7CiAgICAgICAgbGV0IGdsb2JhbE5ldExQOiBJbnQgPSBzZWxmLmdsb2JhbExQTGlxdWlkaXR5LmxwRnVuZCArIHRvdGFsR2xvYmFsVW5yZWFsaXplZFBubDsKICAgICAgICByZXF1aXJlKGdsb2JhbE5ldExQID4gMCwgImluc3VmZmljaWVudCBnbG9iYWwgTFAiKTsKCiAgICAgICAgLy8gY2FsY3VsYXRlIHJlY2VpdmUgYW1vdW50CiAgICAgICAgaWYgKGdsb2JhbE5ldExQIDwgMCkgewogICAgICAgICAgICBnbG9iYWxOZXRMUCA9IDA7CiAgICAgICAgfQogICAgICAgIHJlcXVpcmUoZ2xvYmFsTmV0TFAgPiAwLCAiaW5zdWZpY2llbnQgZ2xvYmFsIG5ldCBMUCIpOwoKICAgICAgICBsZXQgcmVjZWl2ZTogSW50ID0gMDsKICAgICAgICBsZXQgYm9udXM6IEludCA9IDA7CgogICAgICAgIGlmIChnbG9iYWxOZXRMUCA+PSBzZWxmLmdsb2JhbExQTGlxdWlkaXR5LmxpcXVpZGl0eSkgewogICAgICAgICAgICBsZXQgbjogSW50ID0gKChub3coKSAtIGxwUG9zaXRpb24udW5sb2NrVGltZSkgICsgc2VsZi5scExvY2tUaW1lKSAvIERBWTsKCiAgICAgICAgICAgIGlmIChscFBvc2l0aW9uLmJvbnVzID09IDApIHsKICAgICAgICAgICAgICAgIC8vIGJvbnVzID0gbGlxdWlkaXR5ICogcu+8iHgtMe+8iSogbWluKG7vvIwxMDDvvIkqIDAuMSUKICAgICAgICAgICAgICAgIGJvbnVzID0gbGlxdWlkaXR5RGVsdGEgKiBzZWxmLmJvbnVzRmFjdG9yICogKGdsb2JhbE5ldExQIC0gc2VsZi5nbG9iYWxMUExpcXVpZGl0eS5saXF1aWRpdHkpICogbWluKG4sIDEwMCkgLyAoZ2xvYmFsTmV0TFAgKiAxMDAwKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxldCBib251czE6IEludCA9IGxpcXVpZGl0eURlbHRhICogKGdsb2JhbE5ldExQIC0gc2VsZi5nbG9iYWxMUExpcXVpZGl0eS5saXF1aWRpdHkpIC8gZ2xvYmFsTmV0TFA7CiAgICAgICAgICAgICAgICBsZXQgYm9udXMyOiBJbnQgPSBscFBvc2l0aW9uLmJvbnVzOwogICAgICAgICAgICAgICAgbGV0IGJvbnVzMzogSW50ID0gbGlxdWlkaXR5RGVsdGEgKiBzZWxmLmJvbnVzRmFjdG9yICogKGdsb2JhbE5ldExQIC0gc2VsZi5nbG9iYWxMUExpcXVpZGl0eS5saXF1aWRpdHkpICogbWluKG4sIDEwMCkgLyAoZ2xvYmFsTmV0TFAgKiAxMDAwKTsKICAgICAgICAgICAgICAgIGJvbnVzID0gbWF4KG1pbihib251czEsIGJvbnVzMiksIGJvbnVzMyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmVjZWl2ZSA9IGxpcXVpZGl0eURlbHRhICsgYm9udXM7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVjZWl2ZSA9IGxpcXVpZGl0eURlbHRhICogZ2xvYmFsTmV0TFAgLyBzZWxmLmdsb2JhbExQTGlxdWlkaXR5LmxpcXVpZGl0eTsKICAgICAgICB9CiAgICAgICAgLy8gZnVuZGluZyBmZWUgVE9ETwoKICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb24KICAgICAgICBscFBvc2l0aW9uLmxpcXVpZGl0eSA9IGxwUG9zaXRpb24ubGlxdWlkaXR5IC0gbGlxdWlkaXR5RGVsdGE7CiAgICAgICAgbHBQb3NpdGlvbi5ib251cyA9IGxwUG9zaXRpb24uYm9udXMgLSBib251czsKCiAgICAgICAgLy8gc2V0IHBvc2l0aW9uCiAgICAgICAgaWYgKGxwUG9zaXRpb24ubGlxdWlkaXR5ID4gMCB8fCBscFBvc2l0aW9uLmJvbnVzID4gMCkgewogICAgICAgICAgICBzZWxmLmxwUG9zaXRpb25zLnNldChhY2NvdW50LCBscFBvc2l0aW9uKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzZWxmLmxwUG9zaXRpb25zLnNldChhY2NvdW50LCBudWxsKTsKICAgICAgICB9CgogICAgICAgIC8vIHVwZGF0ZSBnbG9iYWwgcG9zaXRpb24KICAgICAgICBzZWxmLmdsb2JhbExQTGlxdWlkaXR5LmxwRnVuZCA9IHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkubHBGdW5kIC0gcmVjZWl2ZTsKICAgICAgICBzZWxmLmdsb2JhbExQTGlxdWlkaXR5LmxpcXVpZGl0eSA9IHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkubGlxdWlkaXR5IC0gbGlxdWlkaXR5RGVsdGE7CgogICAgICAgIC8vIGV2ZW50CiAgICAgICAgZW1pdChMUFBvc2l0aW9uRGVjcmVhc2VkRXZlbnR7CiAgICAgICAgICAgIHBvc2l0aW9uSWQ6IGxwUG9zaXRpb24ucG9zaXRpb25JZCwKICAgICAgICAgICAgYWNjb3VudDogYWNjb3VudCwKICAgICAgICAgICAgbGlxdWlkaXR5RGVsdGE6IGxpcXVpZGl0eURlbHRhLAogICAgICAgICAgICBsaXF1aWRpdHlBZnRlcjogbHBQb3NpdGlvbi5saXF1aWRpdHksCiAgICAgICAgICAgIGJvbnVzRGVsdGE6IGJvbnVzLAogICAgICAgICAgICBib251c0FmdGVyOiBscFBvc2l0aW9uLmJvbnVzLAogICAgICAgICAgICBmdW5kaW5nRmVlRGVsdGE6IGxwUG9zaXRpb24ucmVhbGl6ZWRGdW5kaW5nRmVlLAogICAgICAgICAgICByZWNlaXZlOiByZWNlaXZlLAogICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICBlbWl0KEdsb2JhbExQQ2hhbmdlZEV2ZW50ewogICAgICAgICAgICBscEZ1bmRBZnRlcjogc2VsZi5nbG9iYWxMUExpcXVpZGl0eS5scEZ1bmQsCiAgICAgICAgICAgIGxpcXVpZGl0eUFmdGVyOiBzZWxmLmdsb2JhbExQTGlxdWlkaXR5LmxpcXVpZGl0eSwKICAgICAgICAgICAgdHJhZGluZ0ZlZTogMCwKICAgICAgICAgICAgZnVuZGluZ0ZlZTogMCwKICAgICAgICAgICAgdHJ4SWQ6IHRyeElkCiAgICAgICAgfS50b0NlbGwoKSk7CiAgICAgICAgcmV0dXJuIHJlY2VpdmU7CiAgICB9CgogICAgZ2V0IGZ1biBscFBvc2l0aW9uKGFjY291bnQ6IEFkZHJlc3M/KTogTFBQb3NpdGlvbkRhdGE/IHsKICAgICAgICBsZXQgbHBQb3NpdGlvbjogTFBQb3NpdGlvbj8gPSBudWxsOyAKICAgICAgICBpZiAoYWNjb3VudCAhPSBudWxsKSB7CiAgICAgICAgICAgIGxwUG9zaXRpb24gPSBzZWxmLmxwUG9zaXRpb25zLmdldChhY2NvdW50ISEpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gTFBQb3NpdGlvbkRhdGEgewogICAgICAgICAgICBscFBvc2l0aW9uOiBscFBvc2l0aW9uLAogICAgICAgICAgICBnbG9iYWxMUExpcXVpZGl0eTogc2VsZi5nbG9iYWxMUExpcXVpZGl0eQogICAgICAgIH07CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBQZXJwID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCiAgICByZWNlaXZlKG1zZzogVXBkYXRlUGVycFBvc2l0aW9uKSB7CiAgICAgICAgcmVxdWlyZShzZW5kZXIoKSA9PSBzZWxmLm9yZGVyQm9vaywgImludmFsaWQgc2VuZGVyIik7CgogICAgICAgIC8vIHVwZGF0ZSBwcmljZQogICAgICAgIHNlbGYuc2V0UHJpY2UobXNnLnByaWNlc0xlbmd0aCwgbXNnLnByaWNlcyk7CgogICAgICAgIC8vIFRPRE8gdXBkYXRlIGZ1bmRpbmcgcmF0ZQoKICAgICAgICAvLyBUT0RPIGdldCB0cmFkZSBwcmljZQogICAgICAgIGxldCB0cmFkZVByaWNlOiBJbnQgPSBzZWxmLmdldFByaWNlKG1zZy50b2tlbklkKTsKCiAgICAgICAgLy8gdXBkYXRlIHBvc2l0aW9uCiAgICAgICAgbGV0IHJlY2VpdmU6IEludCA9IDA7CiAgICAgICAgaWYgKG1zZy5vcFR5cGUgPT0gT1JERVJfT1BfVFlQRV9JTkNSRUFTRV9NQVJLRVQgfHwgbXNnLm9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFX0xJTUlUKSB7CiAgICAgICAgICAgIGlmIChtc2cudHJpZ2dlckFib3ZlKSB7CiAgICAgICAgICAgICAgICByZXF1aXJlKHRyYWRlUHJpY2UgPj0gbXNnLnRyaWdnZXJQcmljZSwgIm5vdCByZWFjaCB0cmlnZ2VyIHByaWNlIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXF1aXJlKHRyYWRlUHJpY2UgPD0gbXNnLnRyaWdnZXJQcmljZSwgIm5vdCByZWFjaCB0cmlnZ2VyIHByaWNlIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2VsZi5pbmNyZWFzZVBlcnBQb3NpdGlvbihtc2cudHJ4SWQsIG1zZy5hY2NvdW50LCBtc2cudG9rZW5JZCwgbXNnLmlzTG9uZywgbXNnLm1hcmdpbkRlbHRhLCBtc2cuc2l6ZURlbHRhLCB0cmFkZVByaWNlKTsKICAgICAgICB9IAogICAgICAgIGVsc2UgaWYgKG1zZy5vcFR5cGUgPT0gT1JERVJfT1BfVFlQRV9MSVFVSURBVElPTikgewogICAgICAgICAgICByZWNlaXZlID0gc2VsZi5kZWNyZWFzZVBlcnBQb3NpdGlvbihtc2cudHJ4SWQsIHRydWUsIG1zZy5hY2NvdW50LCBtc2cudG9rZW5JZCwgbXNnLmlzTG9uZywgMCwgMCwgdHJhZGVQcmljZSk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBpZiAobXNnLnRyaWdnZXJBYm92ZSkgewogICAgICAgICAgICAgICAgcmVxdWlyZSh0cmFkZVByaWNlID49IG1zZy50cmlnZ2VyUHJpY2UsICJub3QgcmVhY2ggdHJpZ2dlciBwcmljZSIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmVxdWlyZSh0cmFkZVByaWNlIDw9IG1zZy50cmlnZ2VyUHJpY2UsICJub3QgcmVhY2ggdHJpZ2dlciBwcmljZSIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlY2VpdmUgPSBzZWxmLmRlY3JlYXNlUGVycFBvc2l0aW9uKG1zZy50cnhJZCwgZmFsc2UsIG1zZy5hY2NvdW50LCBtc2cudG9rZW5JZCwgbXNnLmlzTG9uZywgbXNnLm1hcmdpbkRlbHRhLCBtc2cuc2l6ZURlbHRhLCB0cmFkZVByaWNlKTsKICAgICAgICB9IAogICAgICAgIAoKICAgICAgICBsZXQgbXNnVmFsdWU6IEludCA9IGNvbnRleHQoKS52YWx1ZSAtIHNlbGYuZ2FzQ29uc3VtcHRpb24gKiAyIC0gc2VsZi5taW5Ub25zRm9yU3RvcmFnZSAtIGNvbnRleHQoKS5yZWFkRm9yd2FyZEZlZSgpOwogICAgICAgIHJlcXVpcmUobXNnVmFsdWUgPiAwLCAic2VuZCBnYXMgbm90IGVub3VnaCIpOwogICAgICAgIC8vIHNlbmQgdXBkYXRlIHN1Y2Nlc3MgbXNnCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbGYub3JkZXJCb29rLAogICAgICAgICAgICB2YWx1ZTogbXNnVmFsdWUsCiAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgIG1vZGU6IFNlbmRQYXlHYXNTZXBhcmF0ZWx5LAogICAgICAgICAgICBib2R5OiBVcGRhdGVQZXJwUG9zaXRpb25TdWNjZXNzIHsKICAgICAgICAgICAgICAgIG9yZGVySWQ6IG1zZy5vcmRlcklkLAogICAgICAgICAgICAgICAgcmVjZWl2ZTogcmVjZWl2ZSwKICAgICAgICAgICAgICAgIHRyeElkOiBtc2cudHJ4SWQKICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgIH0pOwogICAgfQoKICAgIGZ1biBpbmNyZWFzZVBlcnBQb3NpdGlvbih0cnhJZDogSW50LCBhY2NvdW50OiBBZGRyZXNzLCB0b2tlbklkOiBJbnQsIGlzTG9uZzogQm9vbCwgbWFyZ2luRGVsdGE6IEludCwgc2l6ZURlbHRhOiBJbnQsIHRyYWRlUHJpY2U6IEludCkgewogICAgICAgIC8vIGdldCB0b2tlbiBjb25maWcKICAgICAgICBsZXQgdG9rZW5Db25maWdPcHQ6IFRva2VuQ29uZmlnPyA9IHNlbGYudG9rZW5Db25maWdzLmdldCh0b2tlbklkKTsKICAgICAgICByZXF1aXJlKHRva2VuQ29uZmlnT3B0ICE9IG51bGwsICJpbnZhbGlkIHRva2VuIik7CiAgICAgICAgbGV0IHRva2VuQ29uZmlnOiBUb2tlbkNvbmZpZyA9IHRva2VuQ29uZmlnT3B0ISE7CiAgICAgICAgcmVxdWlyZSh0b2tlbkNvbmZpZy5lbmFibGUsICJkaXNhYmxlZCB0b2tlbiIpOwogICAgICAgIAogICAgICAgIC8vIGdldCBwb3NpdGlvbgogICAgICAgIGxldCBhY2NvdW50UGVycFBvc2l0aW9uT3B0OiBBY2NvdW50UGVycFBvc2l0aW9uPyA9IHNlbGYucGVycFBvc2l0aW9ucy5nZXQodG9rZW5JZCk7CiAgICAgICAgbGV0IGFjY291bnRQZXJwUG9zaXRpb246IEFjY291bnRQZXJwUG9zaXRpb24gPSBhY2NvdW50UGVycFBvc2l0aW9uT3B0ICE9IG51bGwgPyBhY2NvdW50UGVycFBvc2l0aW9uT3B0ISEgOiBBY2NvdW50UGVycFBvc2l0aW9uewogICAgICAgICAgICBwb3NpdGlvbnM6IGVtcHR5TWFwKCkKICAgICAgICB9OwoKICAgICAgICBsZXQgZGlyZWN0aW9uUGVycFBvc2l0aW9uT3B0OiBEaXJlY3Rpb25QZXJwUG9zaXRpb24/ID0gYWNjb3VudFBlcnBQb3NpdGlvbi5wb3NpdGlvbnMuZ2V0KGFjY291bnQpOwogICAgICAgIGxldCBkaXJlY3Rpb25QZXJwUG9zaXRpb246IERpcmVjdGlvblBlcnBQb3NpdGlvbiA9IGRpcmVjdGlvblBlcnBQb3NpdGlvbk9wdCAhPSBudWxsID8gZGlyZWN0aW9uUGVycFBvc2l0aW9uT3B0ISEgOiBEaXJlY3Rpb25QZXJwUG9zaXRpb257CiAgICAgICAgICAgIGxvbmdQb3NpdGlvbjogUGVycFBvc2l0aW9uIHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uSWQ6IDAsCiAgICAgICAgICAgICAgICBtYXJnaW46IDAsCiAgICAgICAgICAgICAgICBzaXplOiAwLAogICAgICAgICAgICAgICAgZW50cnlQcmljZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aDogMAogICAgICAgICAgICB9LAogICAgICAgICAgICBzaG9ydFBvc2l0aW9uOiBQZXJwUG9zaXRpb24gewogICAgICAgICAgICAgICAgcG9zaXRpb25JZDogMCwKICAgICAgICAgICAgICAgIG1hcmdpbjogMCwKICAgICAgICAgICAgICAgIHNpemU6IDAsCiAgICAgICAgICAgICAgICBlbnRyeVByaWNlOiAwLAogICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiAwCiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBsZXQgcGVycFBvc2l0aW9uOiBQZXJwUG9zaXRpb24gPSBpc0xvbmcgPyBkaXJlY3Rpb25QZXJwUG9zaXRpb24ubG9uZ1Bvc2l0aW9uIDogZGlyZWN0aW9uUGVycFBvc2l0aW9uLnNob3J0UG9zaXRpb247CiAgICAgICAgCiAgICAgICAgLy8gY2hlY2sgbWFyZ2luCiAgICAgICAgaWYgKHBlcnBQb3NpdGlvbi5zaXplID09IDApIHsKICAgICAgICAgICAgcmVxdWlyZShtYXJnaW5EZWx0YSA+PSB0b2tlbkNvbmZpZy5taW5NYXJnaW4sICJpbnN1ZmZpY2llbnQgbWFyZ2luIik7CiAgICAgICAgICAgIHBlcnBQb3NpdGlvbi5wb3NpdGlvbklkID0gc2VsZi5wZXJwUG9zaXRpb25JbmRleE5leHQ7CiAgICAgICAgICAgIHNlbGYucGVycFBvc2l0aW9uSW5kZXhOZXh0ICs9IDE7CiAgICAgICAgfQoKICAgICAgICAvLyBnZXQgZ2xvYmFsIHBvc2l0aW9uCiAgICAgICAgbGV0IGdsb2JhbExwUG9zaXRpb25PcHQ6IEdsb2JhbExQUG9zaXRpb24/ID0gc2VsZi5nbG9iYWxMUFBvc2l0aW9ucy5nZXQodG9rZW5JZCk7CiAgICAgICAgbGV0IGdsb2JhbExwUG9zaXRpb246IEdsb2JhbExQUG9zaXRpb24gPSBnbG9iYWxMcFBvc2l0aW9uT3B0ICE9IG51bGwgPyBnbG9iYWxMcFBvc2l0aW9uT3B0ISEgOiBHbG9iYWxMUFBvc2l0aW9uIHsKICAgICAgICAgICAgbmV0U2l6ZTogMCwKICAgICAgICAgICAgaXNMb25nOiBmYWxzZSwKICAgICAgICAgICAgZW50cnlQcmljZTogMAogICAgICAgIH07CgogICAgICAgIC8vIGxwIHBubAogICAgICAgIGxldCBscFJlYWxpemVkUG5sOiBJbnQgPSAwOwogICAgICAgIGxldCBzaXplUmVtYWluaW5nOiBJbnQgPSBzaXplRGVsdGE7CiAgICAgICAgaWYgKGdsb2JhbExwUG9zaXRpb24ubmV0U2l6ZSA+IDAgJiYgKGlzTG9uZyA9PSBnbG9iYWxMcFBvc2l0aW9uLmlzTG9uZykpIHsKICAgICAgICAgICAgbGV0IHNpemVVc2VkOiBJbnQgPSBzaXplRGVsdGEgPiBnbG9iYWxMcFBvc2l0aW9uLm5ldFNpemUgPyBnbG9iYWxMcFBvc2l0aW9uLm5ldFNpemUgOiBzaXplRGVsdGE7CiAgICAgICAgICAgIGxwUmVhbGl6ZWRQbmwgPSBzZWxmLmNhbGN1bGF0ZVVucmVhbGl6ZWRQbkwoaXNMb25nLCBzaXplVXNlZCwgZ2xvYmFsTHBQb3NpdGlvbi5lbnRyeVByaWNlLCB0cmFkZVByaWNlKTsKICAgICAgICAgICAgc2l6ZVJlbWFpbmluZyAtPSBzaXplVXNlZDsKICAgICAgICAgICAgZ2xvYmFsTHBQb3NpdGlvbi5uZXRTaXplIC09IHNpemVVc2VkOwogICAgICAgICAgICBpZiAoZ2xvYmFsTHBQb3NpdGlvbi5uZXRTaXplID09IDApIHsKICAgICAgICAgICAgICAgIGdsb2JhbExwUG9zaXRpb24uZW50cnlQcmljZSA9IDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLy8gZW50cnkgcHJpY2UKICAgICAgICBpZiAoc2l6ZVJlbWFpbmluZyA+IDApIHsKICAgICAgICAgICAgZ2xvYmFsTHBQb3NpdGlvbi5lbnRyeVByaWNlID0gc2VsZi5jYWxjdWxhdGVFbnRyeVByaWNlKGdsb2JhbExwUG9zaXRpb24ubmV0U2l6ZSwgZ2xvYmFsTHBQb3NpdGlvbi5lbnRyeVByaWNlLCBzaXplUmVtYWluaW5nLCB0cmFkZVByaWNlKTsKICAgICAgICAgICAgZ2xvYmFsTHBQb3NpdGlvbi5uZXRTaXplICs9IHNpemVSZW1haW5pbmc7CiAgICAgICAgICAgIGdsb2JhbExwUG9zaXRpb24uaXNMb25nID0gIWlzTG9uZzsKICAgICAgICB9CgogICAgICAgIC8vIHRyYWRpbmcgZmVlCiAgICAgICAgbGV0IHRyYWRpbmdGZWU6IEludCA9IHNpemVEZWx0YSAqIHRyYWRlUHJpY2UgKiB0b2tlbkNvbmZpZy50cmFkaW5nRmVlUmF0ZSAvIChQRVJDRU5UQUdFX0JBU0lTX1BPSU5UICogREVDSU1BTF9GQUNUT1IpOwogICAgICAgIGxldCBscFRyYWRpbmdGZWU6IEludCA9IHRyYWRpbmdGZWUgKiB0b2tlbkNvbmZpZy5scFRyYWRpbmdGZWVSYXRlIC8gUEVSQ0VOVEFHRV9CQVNJU19QT0lOVDsKICAgICAgICBsZXQgcHJvdG9jYWxUcmFkaW5nRmVlOiBJbnQgPSB0cmFkaW5nRmVlIC0gbHBUcmFkaW5nRmVlOwogICAgICAgIAogICAgICAgIHNlbGYucHJvdG9jYWxUcmFkaW5nRmVlICs9IHByb3RvY2FsVHJhZGluZ0ZlZTsKICAgICAgICBzZWxmLmdsb2JhbExQTGlxdWlkaXR5LmxwRnVuZCArPSBscFJlYWxpemVkUG5sICsgbHBUcmFkaW5nRmVlOwoKICAgICAgICAvLyBjaGVjayBsaXF1aWRpdHkKICAgICAgICByZXF1aXJlKGdsb2JhbExwUG9zaXRpb24ubmV0U2l6ZSAqIGdsb2JhbExwUG9zaXRpb24uZW50cnlQcmljZSAvIERFQ0lNQUxfRkFDVE9SIDw9IHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkubHBGdW5kLCAiaW5zdWZmaWNpZW50IGxpcXVpZGl0eSIpOwoKICAgICAgICAvLyBUT0RPIGZ1bmRpbmcgZmVlCiAgICAgICAgbGV0IGZ1bmRpbmdGZWU6IEludCA9IDA7CgogICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbgogICAgICAgIHBlcnBQb3NpdGlvbi5tYXJnaW4gKz0gbWFyZ2luRGVsdGEgKyBmdW5kaW5nRmVlIC0gdHJhZGluZ0ZlZTsKICAgICAgICBwZXJwUG9zaXRpb24uZW50cnlQcmljZSA9IHNlbGYuY2FsY3VsYXRlRW50cnlQcmljZShwZXJwUG9zaXRpb24uc2l6ZSwgcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UsIHNpemVEZWx0YSwgdHJhZGVQcmljZSk7CiAgICAgICAgcGVycFBvc2l0aW9uLnNpemUgKz0gc2l6ZURlbHRhOwoKICAgICAgICAvLyBjaGVjayBtYWludGFpbiBtYXJnaW4KICAgICAgICBsZXQgdW5yZWFsaXplZFBubDogSW50ID0gc2VsZi5jYWxjdWxhdGVVbnJlYWxpemVkUG5MKGlzTG9uZywgcGVycFBvc2l0aW9uLnNpemUsIHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlLCB0cmFkZVByaWNlKTsKICAgICAgICBsZXQgbWFpbnRlbmFuY2VNYXJnaW46IEludCA9IHBlcnBQb3NpdGlvbi5zaXplICogdHJhZGVQcmljZSAqIHRva2VuQ29uZmlnLnRyYWRpbmdGZWVSYXRlIC8gKFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQgKiBERUNJTUFMX0ZBQ1RPUikgKyB0b2tlbkNvbmZpZy5saXF1aWRhdGlvbkZlZTsKICAgICAgICByZXF1aXJlKG1haW50ZW5hbmNlTWFyZ2luIDwgcGVycFBvc2l0aW9uLm1hcmdpbiArIHVucmVhbGl6ZWRQbmwsICJtYXJnaW4gcmF0ZSB0b28gaGlnaCIpOwoKICAgICAgICAvLyBjaGVjayBsZXZlcmFnZQogICAgICAgIHJlcXVpcmUocGVycFBvc2l0aW9uLm1hcmdpbiAqIHRva2VuQ29uZmlnLm1heExldmVyYWdlID49IHBlcnBQb3NpdGlvbi5zaXplICogcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UgLyBERUNJTUFMX0ZBQ1RPUiwgImxlZ2VyYWdlIHRvbyBoaWdoIik7CgogICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbgogICAgICAgIGlmIChpc0xvbmcpIHsKICAgICAgICAgICAgZGlyZWN0aW9uUGVycFBvc2l0aW9uLmxvbmdQb3NpdGlvbiA9IHBlcnBQb3NpdGlvbjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkaXJlY3Rpb25QZXJwUG9zaXRpb24uc2hvcnRQb3NpdGlvbiA9IHBlcnBQb3NpdGlvbjsKICAgICAgICB9CiAgICAgICAgYWNjb3VudFBlcnBQb3NpdGlvbi5wb3NpdGlvbnMuc2V0KGFjY291bnQsIGRpcmVjdGlvblBlcnBQb3NpdGlvbik7CiAgICAgICAgc2VsZi5wZXJwUG9zaXRpb25zLnNldCh0b2tlbklkLCBhY2NvdW50UGVycFBvc2l0aW9uKTsKCiAgICAgICAgc2VsZi5nbG9iYWxMUFBvc2l0aW9ucy5zZXQodG9rZW5JZCwgZ2xvYmFsTHBQb3NpdGlvbik7CgogICAgICAgIC8vIGV2ZW50CiAgICAgICAgZW1pdChQZXJwUG9zaXRpb25JbmNyZWFzZWRFdmVudHsKICAgICAgICAgICAgcG9zaXRpb25JZDogcGVycFBvc2l0aW9uLnBvc2l0aW9uSWQsCiAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgICAgICAgIHRva2VuSWQ6IHRva2VuSWQsCiAgICAgICAgICAgIGlzTG9uZzogaXNMb25nLAogICAgICAgICAgICBtYXJnaW5EZWx0YTogbWFyZ2luRGVsdGEsCiAgICAgICAgICAgIG1hcmdpbkFmdGVyOiBwZXJwUG9zaXRpb24ubWFyZ2luLAogICAgICAgICAgICBzaXplRGVsdGE6IHNpemVEZWx0YSwKICAgICAgICAgICAgc2l6ZUFmdGVyOiBwZXJwUG9zaXRpb24uc2l6ZSwKICAgICAgICAgICAgdHJhZGVQcmljZTogdHJhZGVQcmljZSwKICAgICAgICAgICAgZW50cnlQcmljZTogcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UsCiAgICAgICAgICAgIHRyYWRpbmdGZWU6IHRyYWRpbmdGZWUsCiAgICAgICAgICAgIGZ1bmRpbmdGZWU6IGZ1bmRpbmdGZWUsCiAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwogICAgICAgIGVtaXQoR2xvYmFsTFBQb3NpdGlvbkNoYW5nZWRFdmVudHsKICAgICAgICAgICAgdG9rZW5JZDogdG9rZW5JZCwKICAgICAgICAgICAgbmV0U2l6ZUFmdGVyOiBnbG9iYWxMcFBvc2l0aW9uLm5ldFNpemUsCiAgICAgICAgICAgIGlzTG9uZzogZ2xvYmFsTHBQb3NpdGlvbi5pc0xvbmcsCiAgICAgICAgICAgIGVudHJ5UHJpY2VBZnRlcjogZ2xvYmFsTHBQb3NpdGlvbi5lbnRyeVByaWNlLAogICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICBlbWl0KEdsb2JhbExQQ2hhbmdlZEV2ZW50ewogICAgICAgICAgICBscEZ1bmRBZnRlcjogc2VsZi5nbG9iYWxMUExpcXVpZGl0eS5scEZ1bmQsCiAgICAgICAgICAgIGxpcXVpZGl0eUFmdGVyOiBzZWxmLmdsb2JhbExQTGlxdWlkaXR5LmxpcXVpZGl0eSwKICAgICAgICAgICAgdHJhZGluZ0ZlZTogbHBUcmFkaW5nRmVlLAogICAgICAgICAgICBmdW5kaW5nRmVlOiAwLAogICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgIH0KCiAgICBmdW4gZGVjcmVhc2VQZXJwUG9zaXRpb24odHJ4SWQ6IEludCwgaXNMaXF1aWRhdGU6IEJvb2wsIGFjY291bnQ6IEFkZHJlc3MsIHRva2VuSWQ6IEludCwgaXNMb25nOiBCb29sLCBtYXJnaW5EZWx0YTogSW50LCBzaXplRGVsdGE6IEludCwgdHJhZGVQcmljZTogSW50KTogSW50IHsKICAgICAgICAvLyBnZXQgdG9rZW4gY29uZmlnCiAgICAgICAgbGV0IHRva2VuQ29uZmlnT3B0OiBUb2tlbkNvbmZpZz8gPSBzZWxmLnRva2VuQ29uZmlncy5nZXQodG9rZW5JZCk7CiAgICAgICAgcmVxdWlyZSh0b2tlbkNvbmZpZ09wdCAhPSBudWxsLCAiaW52YWxpZCB0b2tlbiIpOwogICAgICAgIGxldCB0b2tlbkNvbmZpZzogVG9rZW5Db25maWcgPSB0b2tlbkNvbmZpZ09wdCEhOwogICAgICAgIHJlcXVpcmUodG9rZW5Db25maWcuZW5hYmxlLCAiZGlzYWJsZWQgdG9rZW4iKTsKICAgICAgICAKICAgICAgICAvLyBnZXQgcG9zaXRpb24KICAgICAgICBsZXQgYWNjb3VudFBlcnBQb3NpdGlvbk9wdDogQWNjb3VudFBlcnBQb3NpdGlvbj8gPSBzZWxmLnBlcnBQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgIGxldCBhY2NvdW50UGVycFBvc2l0aW9uOiBBY2NvdW50UGVycFBvc2l0aW9uID0gYWNjb3VudFBlcnBQb3NpdGlvbk9wdCAhPSBudWxsID8gYWNjb3VudFBlcnBQb3NpdGlvbk9wdCEhIDogQWNjb3VudFBlcnBQb3NpdGlvbnsKICAgICAgICAgICAgcG9zaXRpb25zOiBlbXB0eU1hcCgpCiAgICAgICAgfTsKCiAgICAgICAgbGV0IGRpcmVjdGlvblBlcnBQb3NpdGlvbk9wdDogRGlyZWN0aW9uUGVycFBvc2l0aW9uPyA9IGFjY291bnRQZXJwUG9zaXRpb24ucG9zaXRpb25zLmdldChhY2NvdW50KTsKICAgICAgICBsZXQgZGlyZWN0aW9uUGVycFBvc2l0aW9uOiBEaXJlY3Rpb25QZXJwUG9zaXRpb24gPSBkaXJlY3Rpb25QZXJwUG9zaXRpb25PcHQgIT0gbnVsbCA/IGRpcmVjdGlvblBlcnBQb3NpdGlvbk9wdCEhIDogRGlyZWN0aW9uUGVycFBvc2l0aW9uewogICAgICAgICAgICBsb25nUG9zaXRpb246IFBlcnBQb3NpdGlvbiB7CiAgICAgICAgICAgICAgICBwb3NpdGlvbklkOiAwLAogICAgICAgICAgICAgICAgbWFyZ2luOiAwLAogICAgICAgICAgICAgICAgc2l6ZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGg6IDAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2hvcnRQb3NpdGlvbjogUGVycFBvc2l0aW9uIHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uSWQ6IDAsCiAgICAgICAgICAgICAgICBtYXJnaW46IDAsCiAgICAgICAgICAgICAgICBzaXplOiAwLAogICAgICAgICAgICAgICAgZW50cnlQcmljZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aDogMAogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgbGV0IHBlcnBQb3NpdGlvbjogUGVycFBvc2l0aW9uID0gaXNMb25nID8gZGlyZWN0aW9uUGVycFBvc2l0aW9uLmxvbmdQb3NpdGlvbiA6IGRpcmVjdGlvblBlcnBQb3NpdGlvbi5zaG9ydFBvc2l0aW9uOwogICAgICAgIC8vIGNsYW1wIGRlbHRhCiAgICAgICAgaWYgKGlzTGlxdWlkYXRlKSB7CiAgICAgICAgICAgIG1hcmdpbkRlbHRhID0gcGVycFBvc2l0aW9uLm1hcmdpbjsKICAgICAgICAgICAgc2l6ZURlbHRhID0gcGVycFBvc2l0aW9uLnNpemU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKHNpemVEZWx0YSA+IHBlcnBQb3NpdGlvbi5zaXplKSB7CiAgICAgICAgICAgICAgICBzaXplRGVsdGEgPSBwZXJwUG9zaXRpb24uc2l6ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gVE9ETyBmdW5kaW5nIGZlZQogICAgICAgIGxldCBmdW5kaW5nRmVlOiBJbnQgPSAwOwoKICAgICAgICAvLyBjaGVjayBsaXF1aWRhdGUKICAgICAgICBpZiAoaXNMaXF1aWRhdGUpIHsKICAgICAgICAgICAgLy8gY2hlY2sgbWFpbnRhaW4gbWFyZ2luCiAgICAgICAgICAgIGxldCB1bnJlYWxpemVkUG5sOiBJbnQgPSBzZWxmLmNhbGN1bGF0ZVVucmVhbGl6ZWRQbkwoaXNMb25nLCBwZXJwUG9zaXRpb24uc2l6ZSwgcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UsIHRyYWRlUHJpY2UpOwogICAgICAgICAgICBsZXQgbWFpbnRlbmFuY2VNYXJnaW46IEludCA9IHBlcnBQb3NpdGlvbi5zaXplICogdHJhZGVQcmljZSAqIHRva2VuQ29uZmlnLnRyYWRpbmdGZWVSYXRlIC8gKFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQgKiBERUNJTUFMX0ZBQ1RPUikgKyB0b2tlbkNvbmZpZy5saXF1aWRhdGlvbkZlZTsKICAgICAgICAgICAgcmVxdWlyZShtYWludGVuYW5jZU1hcmdpbiA+PSBwZXJwUG9zaXRpb24ubWFyZ2luICsgdW5yZWFsaXplZFBubCwgIm1hcmdpbiByYXRlIHRvbyBsb3ciKTsKCiAgICAgICAgICAgIC8vIGxpcXVpZGF0ZSBwcmljZQogICAgICAgICAgICBsZXQgbGlxdWlkYXRlUHJpY2U6IEludCA9ICgocGVycFBvc2l0aW9uLm1hcmdpbiArIGZ1bmRpbmdGZWUgLSB0b2tlbkNvbmZpZy5saXF1aWRhdGlvbkZlZSkgKiBERUNJTUFMX0ZBQ1RPUiArIChpc0xvbmcgPyAtcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UgKiBwZXJwUG9zaXRpb24uc2l6ZSA6IHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlICogcGVycFBvc2l0aW9uLnNpemUpKSAKICAgICAgICAgICAgICAgIC8gKHBlcnBQb3NpdGlvbi5zaXplICogKHRva2VuQ29uZmlnLnRyYWRpbmdGZWVSYXRlICsgKGlzTG9uZyA/IC0gUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCA6IFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQpKSk7CiAgICAgICAgICAgIHJlcXVpcmUoaXNMb25nID8gbGlxdWlkYXRlUHJpY2UgPCBwZXJwUG9zaXRpb24uZW50cnlQcmljZSA6IGxpcXVpZGF0ZVByaWNlID4gcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UsICJub3QgcmVhY2ggbGlxdWlkYXRlIHByaWNlIik7CiAgICAgICAgICAgIHRyYWRlUHJpY2UgPSBsaXF1aWRhdGVQcmljZTsKICAgICAgICB9CgogICAgICAgIC8vIGdldCBnbG9iYWwgcG9zaXRpb24KICAgICAgICBsZXQgZ2xvYmFsTHBQb3NpdGlvbk9wdDogR2xvYmFsTFBQb3NpdGlvbj8gPSBzZWxmLmdsb2JhbExQUG9zaXRpb25zLmdldCh0b2tlbklkKTsKICAgICAgICBsZXQgZ2xvYmFsTHBQb3NpdGlvbjogR2xvYmFsTFBQb3NpdGlvbiA9IGdsb2JhbExwUG9zaXRpb25PcHQgIT0gbnVsbCA/IGdsb2JhbExwUG9zaXRpb25PcHQhISA6IEdsb2JhbExQUG9zaXRpb24gewogICAgICAgICAgICBuZXRTaXplOiAwLAogICAgICAgICAgICBpc0xvbmc6IGZhbHNlLAogICAgICAgICAgICBlbnRyeVByaWNlOiAwCiAgICAgICAgfTsKCiAgICAgICAgLy8gbHAgcG5sCiAgICAgICAgbGV0IGxwUmVhbGl6ZWRQbmw6IEludCA9IDA7CiAgICAgICAgbGV0IHNpemVSZW1haW5pbmc6IEludCA9IHNpemVEZWx0YTsKICAgICAgICBpZiAoZ2xvYmFsTHBQb3NpdGlvbi5uZXRTaXplID4gMCAmJiAoaXNMb25nICE9IGdsb2JhbExwUG9zaXRpb24uaXNMb25nKSkgewogICAgICAgICAgICBsZXQgc2l6ZVVzZWQ6IEludCA9IHNpemVEZWx0YSA+IGdsb2JhbExwUG9zaXRpb24ubmV0U2l6ZSA/IGdsb2JhbExwUG9zaXRpb24ubmV0U2l6ZSA6IHNpemVEZWx0YTsKICAgICAgICAgICAgbHBSZWFsaXplZFBubCA9IHNlbGYuY2FsY3VsYXRlVW5yZWFsaXplZFBuTChpc0xvbmcsIHNpemVVc2VkLCBnbG9iYWxMcFBvc2l0aW9uLmVudHJ5UHJpY2UsIHRyYWRlUHJpY2UpOwogICAgICAgICAgICBzaXplUmVtYWluaW5nIC09IHNpemVVc2VkOwogICAgICAgICAgICBnbG9iYWxMcFBvc2l0aW9uLm5ldFNpemUgLT0gc2l6ZVVzZWQ7CiAgICAgICAgICAgIGlmIChnbG9iYWxMcFBvc2l0aW9uLm5ldFNpemUgPT0gMCkgewogICAgICAgICAgICAgICAgZ2xvYmFsTHBQb3NpdGlvbi5lbnRyeVByaWNlID0gMDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvLyBscCBlbnRyeSBwcmljZQogICAgICAgIGlmIChzaXplUmVtYWluaW5nID4gMCkgewogICAgICAgICAgICBnbG9iYWxMcFBvc2l0aW9uLmVudHJ5UHJpY2UgPSBzZWxmLmNhbGN1bGF0ZUVudHJ5UHJpY2UoZ2xvYmFsTHBQb3NpdGlvbi5uZXRTaXplLCBnbG9iYWxMcFBvc2l0aW9uLmVudHJ5UHJpY2UsIHNpemVEZWx0YSwgdHJhZGVQcmljZSk7CiAgICAgICAgICAgIGdsb2JhbExwUG9zaXRpb24ubmV0U2l6ZSArPSBzaXplUmVtYWluaW5nOwogICAgICAgICAgICBnbG9iYWxMcFBvc2l0aW9uLmlzTG9uZyA9ICFpc0xvbmc7CiAgICAgICAgfQoKICAgICAgICAvLyB0cmFkaW5nIGZlZQogICAgICAgIGxldCB0cmFkaW5nRmVlOiBJbnQgPSBzaXplRGVsdGEgKiB0cmFkZVByaWNlICogdG9rZW5Db25maWcudHJhZGluZ0ZlZVJhdGUgLyAoUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCAqIERFQ0lNQUxfRkFDVE9SKTsKICAgICAgICBsZXQgbHBUcmFkaW5nRmVlOiBJbnQgPSB0cmFkaW5nRmVlICogdG9rZW5Db25maWcubHBUcmFkaW5nRmVlUmF0ZSAvIFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQ7CiAgICAgICAgbGV0IHByb3RvY2FsVHJhZGluZ0ZlZTogSW50ID0gdHJhZGluZ0ZlZSAtIGxwVHJhZGluZ0ZlZTsKCiAgICAgICAgc2VsZi5wcm90b2NhbFRyYWRpbmdGZWUgKz0gcHJvdG9jYWxUcmFkaW5nRmVlOwogICAgICAgIHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkubHBGdW5kICs9IGxwUmVhbGl6ZWRQbmwgKyBscFRyYWRpbmdGZWU7CgogICAgICAgIGxldCBwb3NpdGlvbklkOiBJbnQgPSBwZXJwUG9zaXRpb24ucG9zaXRpb25JZDsKICAgICAgICBsZXQgcmVjZWl2ZTogSW50ID0gMDsKICAgICAgICBpZiAoaXNMaXF1aWRhdGUpIHsKICAgICAgICAgICAgLy8gY2xvc2UgcG9zaXRpb24KICAgICAgICAgICAgcmVjZWl2ZSA9IHRva2VuQ29uZmlnLmxpcXVpZGF0aW9uRmVlOwogICAgICAgICAgICBwZXJwUG9zaXRpb24gPSBQZXJwUG9zaXRpb24gewogICAgICAgICAgICAgICAgcG9zaXRpb25JZDogMCwKICAgICAgICAgICAgICAgIG1hcmdpbjogMCwKICAgICAgICAgICAgICAgIHNpemU6IDAsCiAgICAgICAgICAgICAgICBlbnRyeVByaWNlOiAwLAogICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiAwCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGVtaXQoUGVycFBvc2l0aW9uTGlxdWlkYXRlZEV2ZW50ewogICAgICAgICAgICAgICAgcG9zaXRpb25JZDogcG9zaXRpb25JZCwKICAgICAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgICAgICAgICAgICB0b2tlbklkOiB0b2tlbklkLAogICAgICAgICAgICAgICAgaXNMb25nOiBpc0xvbmcsCiAgICAgICAgICAgICAgICBtYXJnaW5EZWx0YTogbWFyZ2luRGVsdGEsCiAgICAgICAgICAgICAgICBzaXplRGVsdGE6IHNpemVEZWx0YSwKICAgICAgICAgICAgICAgIGxpcXVpZGF0ZVByaWNlOiB0cmFkZVByaWNlLAogICAgICAgICAgICAgICAgdHJhZGluZ0ZlZTogdHJhZGluZ0ZlZSwKICAgICAgICAgICAgICAgIGZ1bmRpbmdGZWU6IGZ1bmRpbmdGZWUsCiAgICAgICAgICAgICAgICBsaXF1aWRhdGlvbkZlZTogcmVjZWl2ZSwKICAgICAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBwb3NpdGlvbiBwbmwKICAgICAgICAgICAgbGV0IHJlYWxpemVkUG5sOiBJbnQgPSBzZWxmLmNhbGN1bGF0ZVVucmVhbGl6ZWRQbkwoaXNMb25nLCBzaXplRGVsdGEsIHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlLCB0cmFkZVByaWNlKTsKICAgICAgICAgICAgLy8gY2hlY2sgbGlxdWlkaXR5CiAgICAgICAgICAgIHJlcXVpcmUoZ2xvYmFsTHBQb3NpdGlvbi5uZXRTaXplICogZ2xvYmFsTHBQb3NpdGlvbi5lbnRyeVByaWNlIC8gREVDSU1BTF9GQUNUT1IgPD0gc2VsZi5nbG9iYWxMUExpcXVpZGl0eS5scEZ1bmQsICJpbnN1ZmZpY2llbnQgbGlxdWlkaXR5Iik7CgogICAgICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb24KICAgICAgICAgICAgcGVycFBvc2l0aW9uLm1hcmdpbiArPSByZWFsaXplZFBubCArIGZ1bmRpbmdGZWUgLSB0cmFkaW5nRmVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgcmVxdWlyZShwZXJwUG9zaXRpb24ubWFyZ2luID49IDAsICJpbnN1ZmZpY2llbnQgbWFyZ2luIik7CiAgICAgICAgICAgIGlmIChtYXJnaW5EZWx0YSA+IHBlcnBQb3NpdGlvbi5tYXJnaW4pIHsKICAgICAgICAgICAgICAgIG1hcmdpbkRlbHRhID0gcGVycFBvc2l0aW9uLm1hcmdpbjsKICAgICAgICAgICAgfQogICAgICAgICAgICBwZXJwUG9zaXRpb24ubWFyZ2luIC09IG1hcmdpbkRlbHRhOwogICAgICAgICAgICBwZXJwUG9zaXRpb24uc2l6ZSAtPSBzaXplRGVsdGE7CgogICAgICAgICAgICBpZiAocGVycFBvc2l0aW9uLnNpemUgPiAwKSB7CiAgICAgICAgICAgICAgICAvLyBjaGVjayBtYWludGFpbiBtYXJnaW4KICAgICAgICAgICAgICAgIGxldCB1bnJlYWxpemVkUG5sOiBJbnQgPSBzZWxmLmNhbGN1bGF0ZVVucmVhbGl6ZWRQbkwoaXNMb25nLCBwZXJwUG9zaXRpb24uc2l6ZSwgcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UsIHRyYWRlUHJpY2UpOwogICAgICAgICAgICAgICAgbGV0IG1haW50ZW5hbmNlTWFyZ2luOiBJbnQgPSBwZXJwUG9zaXRpb24uc2l6ZSAqIHRyYWRlUHJpY2UgKiB0b2tlbkNvbmZpZy50cmFkaW5nRmVlUmF0ZSAvIChQRVJDRU5UQUdFX0JBU0lTX1BPSU5UICogREVDSU1BTF9GQUNUT1IpICsgdG9rZW5Db25maWcubGlxdWlkYXRpb25GZWU7CiAgICAgICAgICAgICAgICByZXF1aXJlKG1haW50ZW5hbmNlTWFyZ2luIDwgcGVycFBvc2l0aW9uLm1hcmdpbiArIHVucmVhbGl6ZWRQbmwsICJtYXJnaW4gcmF0ZSB0b28gaGlnaCIpOwoKICAgICAgICAgICAgICAgIC8vIGNoZWNrIGxldmVyYWdlCiAgICAgICAgICAgICAgICByZXF1aXJlKHBlcnBQb3NpdGlvbi5tYXJnaW4gKiB0b2tlbkNvbmZpZy5tYXhMZXZlcmFnZSA+PSBwZXJwUG9zaXRpb24uc2l6ZSwgImxlZ2VyYWdlIHRvbyBoaWdoIik7CiAgICAgICAgICAgICAgICByZWNlaXZlID0gbWFyZ2luRGVsdGE7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBjbG9zZSBwb3NpdGlvbgogICAgICAgICAgICAgICAgcmVjZWl2ZSA9IHBlcnBQb3NpdGlvbi5tYXJnaW47CiAgICAgICAgICAgICAgICBwZXJwUG9zaXRpb24gPSBQZXJwUG9zaXRpb24gewogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uSWQ6IDAsCiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwLAogICAgICAgICAgICAgICAgICAgIHNpemU6IDAsCiAgICAgICAgICAgICAgICAgICAgZW50cnlQcmljZTogMCwKICAgICAgICAgICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGg6IDAKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIGV2ZW50CiAgICAgICAgICAgIGVtaXQoUGVycFBvc2l0aW9uRGVjcmVhc2VkRXZlbnR7CiAgICAgICAgICAgICAgICBwb3NpdGlvbklkOiBwZXJwUG9zaXRpb24ucG9zaXRpb25JZCwKICAgICAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgICAgICAgICAgICB0b2tlbklkOiB0b2tlbklkLAogICAgICAgICAgICAgICAgaXNMb25nOiBpc0xvbmcsCiAgICAgICAgICAgICAgICBtYXJnaW5EZWx0YTogbWFyZ2luRGVsdGEsCiAgICAgICAgICAgICAgICBtYXJnaW5BZnRlcjogcGVycFBvc2l0aW9uLm1hcmdpbiwKICAgICAgICAgICAgICAgIHNpemVEZWx0YTogc2l6ZURlbHRhLAogICAgICAgICAgICAgICAgc2l6ZUFmdGVyOiBwZXJwUG9zaXRpb24uc2l6ZSwKICAgICAgICAgICAgICAgIHRyYWRlUHJpY2U6IHRyYWRlUHJpY2UsCiAgICAgICAgICAgICAgICByZWFsaXplZFBuTERlbHRhOiByZWFsaXplZFBubCwKICAgICAgICAgICAgICAgIHRyYWRpbmdGZWU6IHRyYWRpbmdGZWUsCiAgICAgICAgICAgICAgICBmdW5kaW5nRmVlOiBmdW5kaW5nRmVlLAogICAgICAgICAgICAgICAgcmVjZWl2ZTogcmVjZWl2ZSwKICAgICAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICB9CgogICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbgogICAgICAgIGlmIChpc0xvbmcpIHsKICAgICAgICAgICAgZGlyZWN0aW9uUGVycFBvc2l0aW9uLmxvbmdQb3NpdGlvbiA9IHBlcnBQb3NpdGlvbjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkaXJlY3Rpb25QZXJwUG9zaXRpb24uc2hvcnRQb3NpdGlvbiA9IHBlcnBQb3NpdGlvbjsKICAgICAgICB9CiAgICAgICAgYWNjb3VudFBlcnBQb3NpdGlvbi5wb3NpdGlvbnMuc2V0KGFjY291bnQsIGRpcmVjdGlvblBlcnBQb3NpdGlvbik7CiAgICAgICAgc2VsZi5wZXJwUG9zaXRpb25zLnNldCh0b2tlbklkLCBhY2NvdW50UGVycFBvc2l0aW9uKTsKICAgICAgICBzZWxmLmdsb2JhbExQUG9zaXRpb25zLnNldCh0b2tlbklkLCBnbG9iYWxMcFBvc2l0aW9uKTsKCiAgICAgICAgZW1pdChHbG9iYWxMUFBvc2l0aW9uQ2hhbmdlZEV2ZW50ewogICAgICAgICAgICB0b2tlbklkOiB0b2tlbklkLAogICAgICAgICAgICBuZXRTaXplQWZ0ZXI6IGdsb2JhbExwUG9zaXRpb24ubmV0U2l6ZSwKICAgICAgICAgICAgaXNMb25nOiBnbG9iYWxMcFBvc2l0aW9uLmlzTG9uZywKICAgICAgICAgICAgZW50cnlQcmljZUFmdGVyOiBnbG9iYWxMcFBvc2l0aW9uLmVudHJ5UHJpY2UsCiAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwogICAgICAgIGVtaXQoR2xvYmFsTFBDaGFuZ2VkRXZlbnR7CiAgICAgICAgICAgIGxwRnVuZEFmdGVyOiBzZWxmLmdsb2JhbExQTGlxdWlkaXR5LmxwRnVuZCwKICAgICAgICAgICAgbGlxdWlkaXR5QWZ0ZXI6IHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkubGlxdWlkaXR5LAogICAgICAgICAgICB0cmFkaW5nRmVlOiBscFRyYWRpbmdGZWUsCiAgICAgICAgICAgIGZ1bmRpbmdGZWU6IDAsCiAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwogICAgICAgIHJldHVybiByZWNlaXZlOwogICAgfQoKICAgIGdldCBmdW4gcGVycFBvc2l0aW9uKHRva2VuSWQ6IEludCwgYWNjb3VudDogQWRkcmVzcz8pOiBQZXJwUG9zaXRpb25EYXRhPyB7CiAgICAgICAgLy8gZ2V0IHBvc2l0aW9uCiAgICAgICAgbGV0IHBlcnBQb3NpdGlvbjogRGlyZWN0aW9uUGVycFBvc2l0aW9uPyA9IG51bGw7CiAgICAgICAgaWYgKGFjY291bnQgIT0gbnVsbCkgewogICAgICAgICAgICBsZXQgYWNjb3VudFBlcnBQb3NpdGlvbk9wdDogQWNjb3VudFBlcnBQb3NpdGlvbj8gPSBzZWxmLnBlcnBQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgICAgICBpZiAoYWNjb3VudFBlcnBQb3NpdGlvbk9wdCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBwZXJwUG9zaXRpb24gPSAoYWNjb3VudFBlcnBQb3NpdGlvbk9wdCEhKS5wb3NpdGlvbnMuZ2V0KGFjY291bnQhISk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIFBlcnBQb3NpdGlvbkRhdGF7CiAgICAgICAgICAgIHBlcnBQb3NpdGlvbjogcGVycFBvc2l0aW9uLAogICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uOiBzZWxmLmdsb2JhbExQUG9zaXRpb25zLmdldCh0b2tlbklkKQogICAgICAgIH07CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBwcml2YXRlIGZ1bmN0aW9uID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCiAgICAvLyBUT0RPIHVwZGF0ZSB0b2tlbiBwbmwgaW4gdHJ4LCBzYXZlIGdhcwogICAgZnVuIGNhbGN1bGF0ZVRvdGFsR2xvYmFsVW5yZWFsaXplZFBubCgpOiBJbnQgewogICAgICAgIGxldCB0b3RhbEdsb2JhbFVucmVhbGl6ZWRQbmw6IEludCA9IDA7CiAgICAgICAgbGV0IGk6IEludCA9IDE7CiAgICAgICAgd2hpbGUoaSA8IHNlbGYudG9rZW5JZE5leHQpIHsKICAgICAgICAgICAgbGV0IHRva2VuRW5hYmxlZDogQm9vbCA9IHNlbGYudG9rZW5FbmFibGVkKGkpOwogICAgICAgICAgICBpZiAodG9rZW5FbmFibGVkKSB7CiAgICAgICAgICAgICAgICBsZXQgZ2xvYmFsTFBQb3NpdGlvbk9wdDogR2xvYmFsTFBQb3NpdGlvbj8gPSBzZWxmLmdsb2JhbExQUG9zaXRpb25zLmdldChpKTsKICAgICAgICAgICAgICAgIGlmIChnbG9iYWxMUFBvc2l0aW9uT3B0ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgZ2xvYmFsTFBQb3NpdGlvbjogR2xvYmFsTFBQb3NpdGlvbiA9IGdsb2JhbExQUG9zaXRpb25PcHQhITsKICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGdldCBpbmRleCBwcmljZQogICAgICAgICAgICAgICAgICAgIGxldCBpbmRleFByaWNlOiBJbnQgPSBzZWxmLmdldFByaWNlKGkpOwogICAgICAgICAgICAgICAgICAgIC8vIHVucmVhbGl6ZWQgcG5sCiAgICAgICAgICAgICAgICAgICAgbGV0IHVucmVhbGl6ZWRQbmw6IEludCA9IHNlbGYuY2FsY3VsYXRlVW5yZWFsaXplZFBuTChnbG9iYWxMUFBvc2l0aW9uLmlzTG9uZywgZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplLCAKICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlLCBpbmRleFByaWNlKTsKICAgICAgICAgICAgICAgICAgICB0b3RhbEdsb2JhbFVucmVhbGl6ZWRQbmwgPSB0b3RhbEdsb2JhbFVucmVhbGl6ZWRQbmwgKyB1bnJlYWxpemVkUG5sOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGkgPSBpICsgMTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRvdGFsR2xvYmFsVW5yZWFsaXplZFBubDsKICAgIH0KCiAgICBmdW4gdG9rZW5FbmFibGVkKHRva2VuSW5kZXg6IEludCk6IEJvb2wgewogICAgICAgIGxldCB0b2tlbkNvbmZpZ09wdDogVG9rZW5Db25maWc/ID0gc2VsZi50b2tlbkNvbmZpZ3MuZ2V0KHRva2VuSW5kZXgpOwogICAgICAgIGlmICh0b2tlbkNvbmZpZ09wdCA9PSBudWxsKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICh0b2tlbkNvbmZpZ09wdCEhKS5lbmFibGU7CiAgICB9CgogICAgZnVuIGNhbGN1bGF0ZVVucmVhbGl6ZWRQbkwoaXNMb25nOiBCb29sLCBzaXplOiBJbnQsIGVudHJ5UHJpY2U6IEludCwgcHJpY2U6IEludCk6IEludCB7CiAgICAgICAgaWYgKGlzTG9uZykgewogICAgICAgICAgICByZXR1cm4gc2l6ZSAqIChwcmljZSAtIGVudHJ5UHJpY2UpIC8gREVDSU1BTF9GQUNUT1I7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHNpemUgKiAoZW50cnlQcmljZSAtIHByaWNlKSAvIERFQ0lNQUxfRkFDVE9SOwogICAgICAgIH0KICAgIH0KCiAgICBmdW4gY2FsY3VsYXRlRW50cnlQcmljZShzaXplQmVmb3JlOiBJbnQsIGVudHJ5UHJpY2U6IEludCwgc2l6ZURlbHRhOiBJbnQsIHRyYWRlUHJpY2U6IEludCk6IEludCB7CiAgICAgICAgaWYgKHNpemVCZWZvcmUgPT0gMCAmJiBzaXplRGVsdGEgPT0gMCkgewogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICAgICAgaWYgKHNpemVCZWZvcmUgPT0gMCkgewogICAgICAgICAgICByZXR1cm4gdHJhZGVQcmljZTsKICAgICAgICB9CiAgICAgICAgaWYgKHNpemVEZWx0YSA9PSAwKSB7CiAgICAgICAgICAgIHJldHVybiBlbnRyeVByaWNlOwogICAgICAgIH0KICAgICAgICBsZXQgbGlxdWlkaXR5OiBJbnQgPSBzaXplQmVmb3JlICogZW50cnlQcmljZSArIHNpemVEZWx0YSAqIHRyYWRlUHJpY2U7CiAgICAgICAgbGV0IHNpemVBZnRlcjogSW50ID0gc2l6ZUJlZm9yZSArIHNpemVEZWx0YTsKICAgICAgICByZXR1cm4gbGlxdWlkaXR5IC8gc2l6ZUFmdGVyOwogICAgfQoKICAgIGZ1biBzZXRQcmljZShwcmljZXNMZW5ndGg6IEludCwgcHJpY2VzOiBtYXA8SW50LCBVcGRhdGVQcmljZT4pIHsKICAgICAgICBpZiAocHJpY2VzTGVuZ3RoIDw9IDApIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBsZXQgaTogSW50ID0gMDsKICAgICAgICB3aGlsZShpIDwgcHJpY2VzTGVuZ3RoKSB7CiAgICAgICAgICAgIGxldCB1cGRhdGVQcmljZTogVXBkYXRlUHJpY2U/ID0gcHJpY2VzLmdldChpKTsKICAgICAgICAgICAgaWYgKHVwZGF0ZVByaWNlICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIC8vIFRPRE8gY2hlY2sgcHJpY2Ugb2Zmc2V0CiAgICAgICAgICAgICAgICBsZXQgcHJpY2U6IEludCA9ICh1cGRhdGVQcmljZSEhKS5wcmljZTsKICAgICAgICAgICAgICAgIGxldCB0b2tlbklkOiBJbnQgPSAodXBkYXRlUHJpY2UhISkudG9rZW5JZDsKCiAgICAgICAgICAgICAgICBsZXQgcHJpY2VEYXRhT3B0OiBQcmljZURhdGE/ID0gc2VsZi5wcmljZXMuZ2V0KHRva2VuSWQpOwogICAgICAgICAgICAgICAgaWYgKHByaWNlRGF0YU9wdCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHByaWNlRGF0YTogUHJpY2VEYXRhID0gcHJpY2VEYXRhT3B0ISE7CiAgICAgICAgICAgICAgICAgICAgcHJpY2VEYXRhLnByaWNlID0gcHJpY2U7CiAgICAgICAgICAgICAgICAgICAgc2VsZi5wcmljZXMuc2V0KHRva2VuSWQsIHByaWNlRGF0YSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHNlbGYucHJpY2VzLnNldCh0b2tlbklkLCBQcmljZURhdGF7CiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGkgPSBpICsgMTsKICAgICAgICB9CiAgICAgICAgZW1pdChVcGRhdGVQcmljZUV2ZW50ewogICAgICAgICAgICBwcmljZXNMZW5ndGg6IHByaWNlc0xlbmd0aCwKICAgICAgICAgICAgcHJpY2VzOiBwcmljZXMKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgIH0KCiAgICAvLyBUT0RPCiAgICBmdW4gZ2V0UHJpY2UodG9rZW5JZDogSW50KTogSW50IHsKICAgICAgICBsZXQgcHJpY2VEYXRhOiBQcmljZURhdGE/ID0gc2VsZi5wcmljZXMuZ2V0KHRva2VuSWQpOwogICAgICAgIGxldCBwcmljZTogSW50ID0gMDsKICAgICAgICBpZiAocHJpY2VEYXRhICE9IG51bGwpIHsKICAgICAgICAgICAgcHJpY2UgPSAocHJpY2VEYXRhISEpLnByaWNlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcHJpY2U7CiAgICB9Cgp9Cg=="},"compiler":{"name":"tact","version":"1.2.0","parameters":"{\"entrypoint\":\"contracts/core/pool.tact\",\"options\":{\"debug\":true}}"}}