{"name":"Pool","code":"te6ccgECTwEAFokAART/APSkE/S88sgLAQIBYgIDAvDQAdDTAwFxsKMB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFRQUwNvBPhhAvhi2zwRHREfER0RHBEeERwRGxEdERsRGhEcERoRGREbERkRGBEaERgRFxEZERcRFhEYERYRFREXERURFBEWERQRExEVERNJBAIBIDk6Ap4REhEUERIRERETEREREBESERAPEREPDhEQDlUd2zzy4ILI+EMBzH8BygARHhEdERwRGxEaERkRGBEXERYRFREUERMREhERERBV4Ns8ye1UBQYEbgGSMH/gcCHXScIflTAg1wsf3iCCEE01qZy6jwgw2zxsGds8f+AgghCO1NequuMCIIIQ6JzUX7oHCAkKAegBER0BER6BAQHPAAERGwGBAQHPAAERGQH0AAERFwGBAQHPABEVyIEBAc8AAREUAYEBAc8AARESAYEBAc8AERDIgQEBzwAfgQEBzwAdgQEBzwDIUAwg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxZQChgC7NMfAYIQTTWpnLry4IHSAAGVgQEB1wCSbQHi0gABlYEBAdcAkm0B4tIAAZWBAQHXAJJtAeLUAdDSAAGVgQEB1wCSbQHi0gABlYEBAdcAkm0B4tIAAZWBAQHXAJJtAeLUMNDSAAGVgQEB1wCSbQHi0gABkm0B4w0LDAHwER0RJhEdERwRJREcERsRJBEbERoRIxEaERkRIhEZERgRIREYERcRIBEXERYRHxEWERURHhEVERQRJhEUERMRJRETERIRJBESERERIxERERARIhEQDxEhDw4RIA4NER8NDBEeDAsRJgsKESUKCREkCQgRIwgHESIHDQIQMNs8bBnbPH8REgT+jsAw0x8BghDonNRfuvLggdIA0z/6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAYEBAdcA0z9VQGwV2zx/4CCCEPx0GRe6jh0w0x8BghD8dBkXuvLggYEBAdcAgQEB1wBZbBJbf+AgghC+lPs3uuMCghCUapi2uuMCMBkaGxwACoEBAdcAAGT6QCHXCwHDAI4dASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IiSMW3iMRBpEGgQZwP+BhEhBgURIAUEER8EAxEeAwIRJgIBESUBESTbPFYjbrOdVx0RIiBu8tCAERwRIpJXI+JWIW6znVcbESAgbvLQgBEaESCSVyHiVh9us51XFxEeIG7y0IARFhEeklcf4lYdbrOdVxURHCBu8tCAERQRHJJXHeJWG26zklcb4w1WGRYODwAaVxMRGiBu8tCAERIRGgL+brOdVxERGCBu8tCAERARGJJXGeJWIG6zmz8RHyBu8tCADhEfklcg4lYebrObPREdIG7y0IAMER2SVx7iVhxus5s6ERsgbvLQgAkRG5JXHOL4QnBwgEAQI21tbds8ERQRHREUERMRHBETERIRGxESERERGhERERARGREQDxEYDzcQAFwOERcODREWDQwRFQwLERQLChETCgkREgkIEREIBxEQBxBvEF4QTRA8SxlQqF5RAvTTHwGCEI7U16q68uCBgQEB1wDSAAGT1AHQkW3iAdIAAZLSAJJtAeLSAAGVgQEB1wCSbQHi0gABlYEBAdcAkm0B4tQB0NIAAZWBAQHXAJJtAeLSAAGVgQEB1wCSbQHi0gABlYEBAdcAkm0B4tQw0NIAAZIwbeMNEEkQSBMUAfARHREmER0RHBElERwRGxEkERsRGhEjERoRGREiERkRGBEhERgRFxEgERcRFhEfERYRFREeERURFBEmERQRExElERMREhEkERIREREjEREREBEiERAPESEPDhEgDg0RHw0MER4MCxEmCwoRJQoJESQJCBEjCAcRIgcVAAyBAQHXADAADBBHEEYQRQP+BhEhBgURIAUEER8EAxEeAwIRJgIBESUBESTbPIEBAVYcAhElWfQNb6GSMG3fIG6SMG2Oh9DbPGwYbwjiIG4xszBWIW5XIhEhszBWH25XIBEfszBWHW5XHhEdszBWG25XHBEbszBWGW5XGhEZszBWIG5XIREgszBWHm5XHxEesxZIFwAU+EJWFAHHBfLghAHOMFYcblcdERyzMPhCcHCAQBAjbW1t2zwRFBEdERQRExEcERMREhEbERIREREaEREREBEZERAPERgPDhEXDg0RFg0MERUMCxEUCwoREwoJERIJCBERCAcREAcQbxBeEE0QPEsZUKheUTcA+CDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFshAmAKBAQHPAIEBAc8AFfQAE8s/gQEBzwD0APQAyz8CyIEBAc8AFIEBAc8AFPQAFcs/FfQAFvQABsj0ABf0ABf0AAfI9ADJUAfMyVADzMkBzMlQBMzJWMzJAczJAcwE9oIAoPf4QlYZAccF8vRwBeMPcBEggEARInARIchVIIIQHPDPgVAEyx8SgQEBzwCBAQHPAMs/yVYTBAMRIQMCESICESABFEMwbW3bPBEaER0RGhEZERwRGREYERsRGBEXERoRFxEWERkRFhEVERgRFREUERcRFBETERYREx0eNx8AOjDTHwGCEL6U+ze68uCBgQEB1wCBAQHXAFlsElt/AU7THwGCEJRqmLa68uCB0z8BMcgBghCv+Q9XWMsfyz/J+EIBcG3bPH82AAJwAfgRHxEiER8RHhEhER4RHREgER0RHBEiERwRGxEhERsRGhEgERoRGREiERkRGBEhERgRFxEgERcRFhEiERYRFREhERURFBEgERQRExEiERMREhEhERIREREgEREREBEiERAPESEPDhEgDg0RIg0MESEMCxEgCwoRIgoJESEJIAH6NBEfESERHxEeESARHhEdESERHREcESARHBEbESERGxEaESARGhEZESERGREYESARGBEXESERFxEWESARFhEVESERFREUESARFBETESERExESESAREhERESEREREQESAREA8RIQ8OESAODREhDQwRIAwLESELChEgCgkRIQkmAGwREhEVERIREREUEREREBETERAPERIPDhERDg0REA0QzxC+EK0QnBCLEHoQaRBYEEcQNkUTUEIBOggRIAgHESIHBhEhBgURIAUEESIEAxEhAxEgWds8IQHyVhGBAQsjWfQLb6GSMG3fIG6SMG2OINCBAQHXAIEBAdcAgQEB1wDUAdCBAQHXADAUQzBsFG8E4nBUcAAwMiJus5lbIG7y0IBvJDCXMlYSpBETWeJWFhEdESMRHREcESIRHBEbESERGxEaESARGhEZER8RGREYER4RGCIC/BEXESMRFxEWESIRFhEVESERFREUESARFBETER8RExESER4REhERESMREREQESIREA8RIQ8OESAODREfDQwRHgwLESMLChEiCgkRIQkIESAIBxEfBwYRHgYFESMFBBEiBAMRIQMCESACAREfAREe2zwBER8BoCDBAJIwcN5wISojAfpWErmOFzBWEAGhVhgBqFYiqFYQqQQRH1YfoBEfkTHiESBWIqD4I1YaoIEBC1YjI1YjJMhVMFA0gQEBzwCBAQHPAIEBAc8AAciBAQHPAMkBzMkCERICViYBIG6VMFn0WTCUQTP0E+IRElYjoBERViOgBhEiBgURJAUEESMEEyQB9gIRIQIBESABERDIVWDbPMnIgljAAAAAAAAAAAAAAAABActnzMlw+wARFxEdERcRFhEcERYRFREbERURFBEaERQRExEZERMREhEYERIREREXEREREBEWERAPERUPDhEUDg0REw0MERIMChERCgkREAkQvxCOEH0QbFVVEiUArIIQjp/UfVAIyx8WgQEBzwBQBCDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFhKBAQHPAAHIgQEBzwASgQEBzwASgQEBzwACyIEBAc8AyVjMyQHMAYAIESAIBxEhBwYRIAYFESEFBBEgBAMRIQMCESAC2zwRIBEeER0RHBEbERoRGREYERcRFhEVERQRExESEREREFXgJwHsVhGBAQsjWfQLb6GSMG3fIG6SMG2OINCBAQHXAIEBAdcAgQEB1wDUAdCBAQHXADAUQzBsFG8E4oEUdiFus/L0IG7y0IBvJIF6wSH4I7vy9IIA4zFTNb7y9BEdESMRHREcESIRHBEbESERGxEaESARGhEZER8RGSgC/hEYER4RGBEXESMRFxEWESIRFhEVESERFREUESARFBETER8RExESER4REhERESMREREQESIREA8RIQ8OESAODREfDQwRHgwLESMLChEiCgkRIQkIESAIBxEfBwYRHgYFESMFBBEiBAMRIQMCESACAREfAREe2zxWEoFaxAKgwgAqKQL68vRWEREdER4RHREcER4RHBEbER4RGxEaER4RGhEZER4RGREYER4RGBEXER4RFxEWER4RFhEVER4RFREUER4RFBETER4RExESER4REhERER4REREQER4REA8RHg8OER4ODREeDQwRHgwLER4LChEeCgkRHgkRHggHBlVA2zwqKwEUcHGUIFYduYroMCwD/gERHwGgIMEAkjBw3oIA8ashwgDy9HAhVhK+mFYkWKhWEakE4w0RIlYkoREhIaFWIcIAkX+TIMIA4o5CViNWIiKBAQsRJMhVMFA0gQEBzwCBAQHPAIEBAc8AAciBAQHPAMkBzMkCERECAREhAVYmASBulTBZ9FkwlEEz9BPi4w4xMjMB+BEdER8RHREcER4RHBEbER8RGxEaER4RGhEZER8RGREYER4RGBEXER8RFxEWER4RFhEVER8RFREUER4RFBETER8RExESER4REhERER8REREQER4REA8RHw8OER4ODREfDQwRHgwLER8LChEeCgkRHwkIER4IBxEfBwYRHgYtA/wFER8FBBEeBAMRHwMCER4CAREfAREeVh7bPI7MLIEBAVYgWfQNb6GSMG3fIG6SMG2OE9CBAQHXANIAgQEB1wBVIGwTbwPiIG6zjpogbvLQgG8jEoIoI4byb8EAANs8AREgAaARH5Ew4t4RHqQRHREfER0RHBEeERwRGxEdERsuLzABXoEBAVYdAln0DW+hkjBt3yBukjBtjofQ2zxsGG8I4iBukjBw4CBu8tCAbygQZ18HSAA+A54SoaiCKCOG8m/BAACpBOBYoaiCKCOG8m/BAACpBADEERoRHBEaERkRGxEZERgRGhEYERcRGREXERYRGBEWERURFxEVERQRFhEUERMRFRETERIRFBESERERExERERAREhEQDxERDw4REA4Q3xDOEL0QrBCbEIoQeRBoEFcQRhA1RDAAvjD4I1YgoVYaoIIBUYCpBFYhwACOF1YkVhqoIlYToagBgGS2CKgBgQPoqKkEjiwhVhKhViUBqCKpBFYiViZWHKgkVhWhqAOAZLYIE6gDgQPoqBOpBFm2CAG2CeJWIyGgAJJXIIEBC20gbpIwbY4mIG7y0IBvJMhVMFA0gQEBzwCBAQHPAIEBAc8AAciBAQHPAMkBzMniAhERAlYmASBulTBZ9FkwlEEz9BPiAvoREVYhoREQViOhBREiBQQRJAQDESMDAhEgAhEfH1YhyFVg2zzJyIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsAERcRHhEXERYRHREWERURHBEVERQRGxEUERMRGhETERIRGRESERERGBERERARFxEQDxEWDw4RFQ4NERQNDBETDDQ1AKyCEGGnRzdQCMsfFoEBAc8AUAQg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYSgQEBzwAByIEBAc8AEoEBAc8AEoEBAc8AAsiBAQHPAMlYzMkBzAA+ChESCgoREQoLERALEI8QfhBtEFwQSxA6SRdQhhQVEwE6bW0ibrOZWyBu8tCAbyIBkTLiECRwAwSAQlAj2zw3AcrIcQHKAVAHAcoAcAHKAlAFINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WUAP6AnABymgjbrORf5MkbrPilzMzAXABygDjDSFus5x/AcoAASBu8tCAAcyVMXABygDiyQH7ADgAmH8BygDIcAHKAHABygAkbrOdfwHKAAQgbvLQgFAEzJY0A3ABygDiJG6znX8BygAEIG7y0IBQBMyWNANwAcoA4nABygACfwHKAALJWMwCA3ogOzwCASA/QAIYquHbPNs8bOds52wnST0CGKkd2zzbPFcQXw9s4Uk+ABxWGVYZVhlWGVYZVhlWGAAEVhMAubu9GCcFzsPV0srnsehOw51kqFG2aCcJ3WNS0rZHyzItOvLf3xYjmCcCBVwBuAZ2OUzlg6rkclssOCcJ2XTlqzTstzOg6WbZRm6KSCcEDOdWnnFfnSULAdYW4mR7KAIBIEFCAgEgQ0QCASBFRgARsK+7UTQ0gABgAHWybuNDVpcGZzOi8vUW1UQzdSQ0FiUEhDVHBTWWNaUzNVV1B0c2ttcWN6Q1k2YjROWEMyZlJ0Q0FqToIAL5sgc2zwRHREeER0RHBEdERwRGxEcERsRGhEbERoRGREaERkRGBEZERgRFxEYERcRFhEXERYRFREWERURFBEVERQRExEUERMREhETERIRERESEREREBERERAPERAPVQ7bPFcQXw9s4SBukjBtmSBu8tCAbyhvCOIgbpIwbd6BJRwP5s9YINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiNs8ER0RHhEdERwRHREcERsRHBEbERoRGxEaERkRGhEZERgRGREYERcRGBEXERYRFxEWERURFhEVERQRFREUERMRFBETERIRExESEREREhERERAREREQDxEQD1UO2zyBJSksBPIEBAVYdAln0DW+hkjBt3yBukjBtjofQ2zxsGG8I4kgAZNQB0AHSAIEBAdcAgQEB1wCBAQHXANQB0IEBAdcAgQEB1wCBAQHXADAQOBA3EDYQNRA0AubtRNDUAfhj0gABjtjbPFceERwRHREcERsRHBEbERoRGxEaERkRGhEZERgRGREYERcRGBEXERYRFxEWERURFhEVERQRFREUERMRFBETERIRExESEREREhERERAREREQDxEQD1UO4DD4KNcLCoMJuvLgids8TE0AboEBC1YRAln0C2+hkjBt3yBukjBtjiDQgQEB1wCBAQHXAIEBAdcA1AHQgQEB1wAwFEMwbBRvBOIAOFcQXw9s4SBukjBtmSBu8tCAbyRvBOIgbpIwbd4B9oEBAdcAgQEB1wD0BIEBAdcA1AHQgQEB1wCBAQHXAIEBAdcA1DDQgQEB1wCBAQHXAIEBAdcA1DDQ+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAH6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAdQw0E4A3oIK+vCAggnJw4BtcYEBLCFygGSCCAehIIIID0JAbSVwbW1UcyJtI21tbW1tbfhCU5nIcgHLAXABywASygfL/8nQINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFOqAxETAwIREgIBEREBERBVswC6gQEB1wCBAQHXAFkC9ATTP4EBAdcA9AT0BNM/1DDQgQEB1wCBAQHXAPQE0z/0BPQE1DDQ9AT0BPQE1DDQ9AQwERoRHhEaERoRHREaERoRHBEaERoRGxEaERAREREQ","abi":"{\"name\":\"Pool\",\"types\":[{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounced\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"Deploy\",\"header\":2490013878,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"DeployOk\",\"header\":2952335191,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"FactoryDeploy\",\"header\":1829761339,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"cashback\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwner\",\"header\":2174598809,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwnerOk\",\"header\":846932810,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"UpdateConfig\",\"header\":1295362460,\"fields\":[{\"name\":\"gasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"minTonsForStorage\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"rbfLockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"bonusFactor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"minLPMargin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"maxLPLeverage\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"lpLiquidationFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"lpMaxRiskRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"orderBook\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}]},{\"name\":\"UpdateTokenConfig\",\"header\":2396313514,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"name\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":true}},{\"name\":\"enable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":true}},{\"name\":\"minMarginPerPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"maxLeveragePerPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"liquidationFeeRatePerPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"liquidationExecutionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"interestRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"maxFundingRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}}]},{\"name\":\"CancelIncreaseRBFPositionOrder\",\"header\":203251748,\"fields\":[{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"ExecuteIncreaseRBFPositionOrder\",\"header\":1807834441,\"fields\":[{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"CreateDecreaseRBFPositionOrder\",\"header\":2702271213,\"fields\":[{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"CancelDecreaseRBFPositionOrder\",\"header\":1646684831,\"fields\":[{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"ExecuteDecreaseRBFPositionOrder\",\"header\":669742899,\"fields\":[{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"UpdateRBFPosition\",\"header\":3902592095,\"fields\":[{\"name\":\"isIncrease\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"UpdateRBFPositionSuccess\",\"header\":485543809,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"CancelIncreaseLPPositionOrder\",\"header\":1969540622,\"fields\":[{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"ExecuteIncreaseLPPositionOrder\",\"header\":1677064598,\"fields\":[{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"CreateDecreaseLPPositionOrder\",\"header\":1912782205,\"fields\":[{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"CancelDecreaseLPPositionOrder\",\"header\":1163644794,\"fields\":[{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"ExecuteDecreaseLPPositionOrder\",\"header\":2377315584,\"fields\":[{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LiquidateLPPosition\",\"header\":4093128992,\"fields\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"CancelIncreasePerpPositionMarketOrder\",\"header\":4235467031,\"fields\":[{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"ExecuteIncreasePerpPositionMarketOrder\",\"header\":3197434679,\"fields\":[{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"CreateDecreasePerpPositionMarketOrder\",\"header\":3819223803,\"fields\":[{\"name\":\"token\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"acceptablePrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"CancelDecreasePerpPositionMarketOrder\",\"header\":2371221739,\"fields\":[{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"ExecuteDecreasePerpPositionMarketOrder\",\"header\":984660893,\"fields\":[{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"CreateIncreasePerpPositionLimitOrder\",\"header\":3360172408,\"fields\":[{\"name\":\"token\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerAbove\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"CancelIncreasePerpPositionLimitOrder\",\"header\":3637900503,\"fields\":[{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"ExecuteIncreasePerpPositionLimitOrder\",\"header\":2037745049,\"fields\":[{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"CreateDecreasePerpPositionLimitOrder\",\"header\":2350654920,\"fields\":[{\"name\":\"token\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerAbove\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"CancelDecreasePerpPositionLimitOrder\",\"header\":1635653831,\"fields\":[{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"ExecuteDecreasePerpPositionLimitOrder\",\"header\":1651479254,\"fields\":[{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"RBFPositionIncreasedEvent\",\"header\":2392839293,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"unlockTimeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"RBFPositionDecreasedEvent\",\"header\":1638352695,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalRBFChangedEvent\",\"header\":4249946343,\"fields\":[{\"name\":\"riskBufferFundAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"IncreaseLPPositionCreatedEvent\",\"header\":3944230540,\"fields\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"IncreaseLPPositionCancelledEvent\",\"header\":484255129,\"fields\":[{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"IncreaseLPPositionExecutedEvent\",\"header\":1914138461,\"fields\":[{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LPPositionIncreasedEvent\",\"header\":2965363548,\"fields\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"marginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryTradingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"DecreaseLPPositionCreatedEvent\",\"header\":918998073,\"fields\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"DecreaseLPPositionCancelledEvent\",\"header\":2507115865,\"fields\":[{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"DecreaseLPPositionExecutedEvent\",\"header\":1924045722,\"fields\":[{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LPPositionDecreasedEvent\",\"header\":3713343920,\"fields\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"marginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedLoss\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LPPositionLiquidatedEvent\",\"header\":23433073,\"fields\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"margin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidity\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidationFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalLPChangedEvent\",\"header\":1111775758,\"fields\":[{\"name\":\"netSizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"entryPriceAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"IncreasePerpPositionMarketCreatedEvent\",\"header\":3646947677,\"fields\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"token\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"acceptablePrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"IncreasePerpPositionMarketCancelledEvent\",\"header\":4244499969,\"fields\":[{\"name\":\"token\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"IncreasePerpPositionMarketExecutedEvent\",\"header\":289177631,\"fields\":[{\"name\":\"token\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"IncreasePerpPositionLimitCreatedEvent\",\"header\":2481954512,\"fields\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"token\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerAbove\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"IncreasePerpPositionLimitCancelledEvent\",\"header\":4267702159,\"fields\":[{\"name\":\"token\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"IncreasePerpPositionLimitExecutedEvent\",\"header\":1810135477,\"fields\":[{\"name\":\"token\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PerpPositionIncreasedEvent\",\"header\":2082826315,\"fields\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"token\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"marginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradePrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"DecreasePerpPositionMarketCreatedEvent\",\"header\":2480328626,\"fields\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"token\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"acceptablePrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"DecreasePerpPositionMarketCancelledEvent\",\"header\":2538831063,\"fields\":[{\"name\":\"token\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"DecreasePerpPositionMarketExecutedEvent\",\"header\":90345901,\"fields\":[{\"name\":\"token\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"DecreasePerpPositionLimitCreatedEvent\",\"header\":3958755127,\"fields\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"token\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerAbove\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"DecreasePerpPositionLimitCancelledEvent\",\"header\":3480294240,\"fields\":[{\"name\":\"token\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"DecreasePerpPositionLimitExecutedEvent\",\"header\":133513482,\"fields\":[{\"name\":\"token\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PerpPositionDecreasedEvent\",\"header\":1789226231,\"fields\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"token\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"marginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradePrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedPnLDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"ConfigData\",\"header\":null,\"fields\":[{\"name\":\"rbfLockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusFactor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"minLPMargin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxLPLeverage\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpLiquidationFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpMaxRiskRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"orderBook\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"TokenConfig\",\"header\":null,\"fields\":[{\"name\":\"name\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"enable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"minMarginPerPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxLeveragePerPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidationFeeRatePerPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidationExecutionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"interestRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxFundingRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"RBFPosition\",\"header\":null,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidity\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonus\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"unlockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalRBFPosition\",\"header\":null,\"fields\":[{\"name\":\"riskBufferFund\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidity\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"IncreaseLPPositionOrder\",\"header\":null,\"fields\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"blockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"DecreaseLPPositionOrder\",\"header\":null,\"fields\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"blockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LPPosition\",\"header\":null,\"fields\":[{\"name\":\"margin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidity\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryTradingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalLPPosition\",\"header\":null,\"fields\":[{\"name\":\"netSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"entryPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"IncreasePerpPositionMarketOrders\",\"header\":null,\"fields\":[{\"name\":\"increasePerpPositionMarketOrders\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"IncreasePerpPositionMarketOrder\",\"valueFormat\":\"ref\"}}]},{\"name\":\"IncreasePerpPositionMarketOrder\",\"header\":null,\"fields\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"acceptablePrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"blockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"DecreasePerpPositionMarketOrders\",\"header\":null,\"fields\":[{\"name\":\"decreasePerpPositionMarketOrders\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"DecreasePerpPositionMarketOrder\",\"valueFormat\":\"ref\"}}]},{\"name\":\"DecreasePerpPositionMarketOrder\",\"header\":null,\"fields\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"acceptablePrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"blockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"IncreasePerpPositionLimitOrders\",\"header\":null,\"fields\":[{\"name\":\"increasePerpPositionLimitOrders\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"IncreasePerpPositionLimitOrder\",\"valueFormat\":\"ref\"}}]},{\"name\":\"IncreasePerpPositionLimitOrder\",\"header\":null,\"fields\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerAbove\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"blockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"DecreasePerpPositionLimitOrders\",\"header\":null,\"fields\":[{\"name\":\"decreasePerpPositionLimitOrders\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"DecreasePerpPositionLimitOrder\",\"valueFormat\":\"ref\"}}]},{\"name\":\"DecreasePerpPositionLimitOrder\",\"header\":null,\"fields\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerAbove\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"blockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"AccountPerpPosition\",\"header\":null,\"fields\":[{\"name\":\"positions\",\"type\":{\"kind\":\"dict\",\"key\":\"address\",\"value\":\"DirectionPerpPosition\",\"valueFormat\":\"ref\"}}]},{\"name\":\"DirectionPerpPosition\",\"header\":null,\"fields\":[{\"name\":\"longPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"PerpPosition\",\"optional\":false}},{\"name\":\"shortPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"PerpPosition\",\"optional\":false}}]},{\"name\":\"PerpPosition\",\"header\":null,\"fields\":[{\"name\":\"margin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"size\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PriceVertex\",\"header\":null,\"fields\":[{\"name\":\"size\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"premiumRateX96\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PriceState\",\"header\":null,\"fields\":[{\"name\":\"maxPriceImpactLiquidity\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"premiumRateX96\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"priceVertices\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"PriceVertex\",\"valueFormat\":\"ref\"}},{\"name\":\"pendingVertexIndex\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidationVertexIndex\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"currentVertexIndex\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidationBufferNetSizes\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"int\"}}]},{\"name\":\"GlobalRiskBufferFund\",\"header\":null,\"fields\":[{\"name\":\"riskBufferFund\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidity\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalPosition\",\"header\":null,\"fields\":[{\"name\":\"longSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"longFundingRateGrowthX96\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortFundingRateGrowthX96\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalLiquidityPosition\",\"header\":null,\"fields\":[{\"name\":\"netSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidationBufferNetSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryPriceX96\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"side\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"liquidity\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedProfitGrowthX64\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalFundingRateSample\",\"header\":null,\"fields\":[{\"name\":\"lastAdjustFundingRateTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sampleCount\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"cumulativePremiumRateX96\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PreviousGlobalFundingRate\",\"header\":null,\"fields\":[{\"name\":\"longFundingRateGrowthX96\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortFundingRateGrowthX96\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"FundingRateGrowthX96\",\"header\":null,\"fields\":[{\"name\":\"clampedFundingRateDeltaX96\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"longFundingRateGrowthAfterX96\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortFundingRateGrowthAfterX96\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"SamplePremiumRateResult\",\"header\":null,\"fields\":[{\"name\":\"sample\",\"type\":{\"kind\":\"simple\",\"type\":\"GlobalFundingRateSample\",\"optional\":false}},{\"name\":\"shouldAdjustFundingRate\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"fundingRateDeltaX96\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateConfig\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateTokenConfig\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateRBFPosition\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"CancelIncreasePerpPositionMarketOrder\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ExecuteIncreasePerpPositionMarketOrder\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Deploy\"}}],\"getters\":[{\"name\":\"configData\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"ConfigData\",\"optional\":false}},{\"name\":\"tokenConfig\",\"arguments\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"TokenConfig\",\"optional\":true}},{\"name\":\"rbfPosition\",\"arguments\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"RBFPosition\",\"optional\":true}},{\"name\":\"owner\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}],\"errors\":{\"2\":{\"message\":\"Stack undeflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"13\":{\"message\":\"Out of gas error\"},\"32\":{\"message\":\"Method ID not found\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"37\":{\"message\":\"Not enough TON\"},\"38\":{\"message\":\"Not enough extra-currencies\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid address\"},\"137\":{\"message\":\"Masterchain support is not enabled for this contract\"},\"5238\":{\"message\":\"position not exist\"},\"23236\":{\"message\":\"insufficient global RBF\"},\"31425\":{\"message\":\"not reach unlock time\"},\"41207\":{\"message\":\"invalid sender\"},\"58161\":{\"message\":\"insufficient liquidity\"},\"61867\":{\"message\":\"insuficient global net RBF\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\",\"org.ton.chain.workchain.v0\",\"org.ton.ownable\"]}","init":{"kind":"direct","args":[],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":"te6cckECUQEAFpMAAQHAAQEFoOi/AgEU/wD0pBP0vPLICwMCAWIWBAIBIBEFAgEgEAYCASANBwIBIAsIA/mz1gg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCI2zwRHREeER0RHBEdERwRGxEcERsRGhEbERoRGREaERkRGBEZERgRFxEYERcRFhEXERYRFREWERURFBEVERQRExEUERMREhETERIRERESEREREBERERAPERAPVQ7bPIE0KCQA4VxBfD2zhIG6SMG2ZIG7y0IBvJG8E4iBukjBt3gBugQELVhECWfQLb6GSMG3fIG6SMG2OINCBAQHXAIEBAdcAgQEB1wDUAdCBAQHXADAUQzBsFG8E4gL5sgc2zwRHREeER0RHBEdERwRGxEcERsRGhEbERoRGREaERkRGBEZERgRFxEYERcRFhEXERYRFREWERURFBEVERQRExEUERMREhETERIRERESEREREBERERAPERAPVQ7bPFcQXw9s4SBukjBtmSBu8tCAbyhvCOIgbpIwbd6BNDAE8gQEBVh0CWfQNb6GSMG3fIG6SMG2Oh9DbPGwYbwjiPgIBIA8OAHWybuNDVpcGZzOi8vUW1UQzdSQ0FiUEhDVHBTWWNaUzNVV1B0c2ttcWN6Q1k2YjROWEMyZlJ0Q0FqToIAARsK+7UTQ0gABgALm7vRgnBc7D1dLK57HoTsOdZKhRtmgnCd1jUtK2R8syLTry398WI5gnAgVcAbgGdjlM5YOq5HJbLDgnCdl05as07LczoOlm2UZuikgnBAznVp5xX50lCwHWFuJkeygCA3ogFBICGKkd2zzbPFcQXw9s4U0TAARWEwIYquHbPNs8bOds52wnTRUAHFYZVhlWGVYZVhlWGVYYAvDQAdDTAwFxsKMB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFRQUwNvBPhhAvhi2zwRHREfER0RHBEeERwRGxEdERsRGhEcERoRGREbERkRGBEaERgRFxEZERcRFhEYERYRFREXERURFBEWERQRExEVERNNFwKeERIRFBESERERExERERAREhEQDxERDw4REA5VHds88uCCyPhDAcx/AcoAER4RHREcERsRGhEZERgRFxEWERURFBETERIREREQVeDbPMntVBoYAegBER0BER6BAQHPAAERGwGBAQHPAAERGQH0AAERFwGBAQHPABEVyIEBAc8AAREUAYEBAc8AARESAYEBAc8AERDIgQEBzwAfgQEBzwAdgQEBzwDIUAwg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxZQChkA+CDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFshAmAKBAQHPAIEBAc8AFfQAE8s/gQEBzwD0APQAyz8CyIEBAc8AFIEBAc8AFPQAFcs/FfQAFvQABsj0ABf0ABf0AAfI9ADJUAfMyVADzMkBzMlQBMzJWMzJAczJAcwEbgGSMH/gcCHXScIflTAg1wsf3iCCEE01qZy6jwgw2zxsGds8f+AgghCO1NequuMCIIIQ6JzUX7pKQjobBP6OwDDTHwGCEOic1F+68uCB0gDTP/pAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgBgQEB1wDTP1VAbBXbPH/gIIIQ/HQZF7qOHTDTHwGCEPx0GRe68uCBgQEB1wCBAQHXAFlsElt/4CCCEL6U+ze64wKCEJRqmLa64wIwIB8dHAACcAFO0x8BghCUapi2uvLggdM/ATHIAYIQr/kPV1jLH8s/yfhCAXBt2zx/HgE6bW0ibrOZWyBu8tCAbyIBkTLiECRwAwSAQlAj2zxGADow0x8BghC+lPs3uvLggYEBAdcAgQEB1wBZbBJbfwT2ggCg9/hCVhkBxwXy9HAF4w9wESCAQBEicBEhyFUgghAc8M+BUATLHxKBAQHPAIEBAc8Ayz/JVhMEAxEhAwIRIgIRIAEUQzBtbds8ERoRHREaERkRHBEZERgRGxEYERcRGhEXERYRGREWERURGBEVERQRFxEUERMRFhETLSJGIQBsERIRFRESERERFBERERARExEQDxESDw4REQ4NERANEM8QvhCtEJwQixB6EGkQWBBHEDZFE1BCAfo0ER8RIREfER4RIBEeER0RIREdERwRIBEcERsRIREbERoRIBEaERkRIREZERgRIBEYERcRIREXERYRIBEWERURIREVERQRIBEUERMRIRETERIRIBESERERIRERERARIBEQDxEhDw4RIA4NESENDBEgDAsRIQsKESAKCREhCSMBgAgRIAgHESEHBhEgBgURIQUEESAEAxEhAwIRIALbPBEgER4RHREcERsRGhEZERgRFxEWERURFBETERIREREQVeAkAexWEYEBCyNZ9AtvoZIwbd8gbpIwbY4g0IEBAdcAgQEB1wCBAQHXANQB0IEBAdcAMBRDMGwUbwTigRR2IW6z8vQgbvLQgG8kgXrBIfgju/L0ggDjMVM1vvL0ER0RIxEdERwRIhEcERsRIREbERoRIBEaERkRHxEZJQL+ERgRHhEYERcRIxEXERYRIhEWERURIREVERQRIBEUERMRHxETERIRHhESERERIxERERARIhEQDxEhDw4RIA4NER8NDBEeDAsRIwsKESIKCREhCQgRIAgHER8HBhEeBgURIwUEESIEAxEhAwIRIAIBER8BER7bPFYSgVrEAqDCADQmAvry9FYRER0RHhEdERwRHhEcERsRHhEbERoRHhEaERkRHhEZERgRHhEYERcRHhEXERYRHhEWERURHhEVERQRHhEUERMRHhETERIRHhESERERHhERERARHhEQDxEeDw4RHg4NER4NDBEeDAsRHgsKER4KCREeCREeCAcGVUDbPDQnA/4BER8BoCDBAJIwcN6CAPGrIcIA8vRwIVYSvphWJFioVhGpBOMNESJWJKERISGhViHCAJF/kyDCAOKOQlYjViIigQELESTIVTBQNIEBAc8AgQEBzwCBAQHPAAHIgQEBzwDJAczJAhERAgERIQFWJgEgbpUwWfRZMJRBM/QT4uMOLCsoAvoREVYhoREQViOhBREiBQQRJAQDESMDAhEgAhEfH1YhyFVg2zzJyIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsAERcRHhEXERYRHREWERURHBEVERQRGxEUERMRGhETERIRGRESERERGBERERARFxEQDxEWDw4RFQ4NERQNDBETDCopAD4KERIKChERCgsREAsQjxB+EG0QXBBLEDpJF1CGFBUTAKyCEGGnRzdQCMsfFoEBAc8AUAQg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYSgQEBzwAByIEBAc8AEoEBAc8AEoEBAc8AAsiBAQHPAMlYzMkBzACSVyCBAQttIG6SMG2OJiBu8tCAbyTIVTBQNIEBAc8AgQEBzwCBAQHPAAHIgQEBzwDJAczJ4gIREQJWJgEgbpUwWfRZMJRBM/QT4gC+MPgjViChVhqgggFRgKkEViHAAI4XViRWGqgiVhOhqAGAZLYIqAGBA+ioqQSOLCFWEqFWJQGoIqkEViJWJlYcqCRWFaGoA4BktggTqAOBA+ioE6kEWbYIAbYJ4lYjIaAB+BEfESIRHxEeESERHhEdESARHREcESIRHBEbESERGxEaESARGhEZESIRGREYESERGBEXESARFxEWESIRFhEVESERFREUESARFBETESIRExESESEREhERESAREREQESIREA8RIQ8OESAODREiDQwRIQwLESALChEiCgkRIQkuAToIESAIBxEiBwYRIQYFESAFBBEiBAMRIQMRIFnbPC8B8lYRgQELI1n0C2+hkjBt3yBukjBtjiDQgQEB1wCBAQHXAIEBAdcA1AHQgQEB1wAwFEMwbBRvBOJwVHAAMDIibrOZWyBu8tCAbyQwlzJWEqQRE1niVhYRHREjER0RHBEiERwRGxEhERsRGhEgERoRGREfERkRGBEeERgwAvwRFxEjERcRFhEiERYRFREhERURFBEgERQRExEfERMREhEeERIREREjEREREBEiERAPESEPDhEgDg0RHw0MER4MCxEjCwoRIgoJESEJCBEgCAcRHwcGER4GBREjBQQRIgQDESEDAhEgAgERHwERHts8AREfAaAgwQCSMHDecCE0MQH6VhK5jhcwVhABoVYYAahWIqhWEKkEER9WH6ARH5Ex4hEgViKg+CNWGqCBAQtWIyNWIyTIVTBQNIEBAc8AgQEBzwCBAQHPAAHIgQEBzwDJAczJAhESAlYmASBulTBZ9FkwlEEz9BPiERJWI6AREVYjoAYRIgYFESQFBBEjBBMyAfYCESECAREgAREQyFVg2zzJyIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsAERcRHREXERYRHBEWERURGxEVERQRGhEUERMRGRETERIRGBESERERFxERERARFhEQDxEVDw4RFA4NERMNDBESDAoREQoJERAJEL8QjhB9EGxVVRIzAKyCEI6f1H1QCMsfFoEBAc8AUAQg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYSgQEBzwAByIEBAc8AEoEBAc8AEoEBAc8AAsiBAQHPAMlYzMkBzAEUcHGUIFYduYroMDUB+BEdER8RHREcER4RHBEbER8RGxEaER4RGhEZER8RGREYER4RGBEXER8RFxEWER4RFhEVER8RFREUER4RFBETER8RExESER4REhERER8REREQER4REA8RHw8OER4ODREfDQwRHgwLER8LChEeCgkRHwkIER4IBxEfBwYRHgY2A/wFER8FBBEeBAMRHwMCER4CAREfAREeVh7bPI7MLIEBAVYgWfQNb6GSMG3fIG6SMG2OE9CBAQHXANIAgQEB1wBVIGwTbwPiIG6zjpogbvLQgG8jEoIoI4byb8EAANs8AREgAaARH5Ew4t4RHqQRHREfER0RHBEeERwRGxEdERs5ODcAxBEaERwRGhEZERsRGREYERoRGBEXERkRFxEWERgRFhEVERcRFREUERYRFBETERURExESERQREhERERMREREQERIREA8REQ8OERAOEN8QzhC9EKwQmxCKEHkQaBBXEEYQNUQwAD4DnhKhqIIoI4byb8EAAKkE4FihqIIoI4byb8EAAKkEAV6BAQFWHQJZ9A1voZIwbd8gbpIwbY6H0Ns8bBhvCOIgbpIwcOAgbvLQgG8oEGdfBz4CEDDbPGwZ2zx/PzsB8BEdESYRHREcESURHBEbESQRGxEaESMRGhEZESIRGREYESERGBEXESARFxEWER8RFhEVER4RFREUESYRFBETESURExESESQREhERESMREREQESIREA8RIQ8OESAODREfDQwRHgwLESYLChElCgkRJAkIESMIBxEiBzwD/gYRIQYFESAFBBEfBAMRHgMCESYCARElAREk2zyBAQFWHAIRJVn0DW+hkjBt3yBukjBtjofQ2zxsGG8I4iBuMbMwViFuVyIRIbMwVh9uVyARH7MwVh1uVx4RHbMwVhtuVxwRG7MwVhluVxoRGbMwViBuVyERILMwVh5uVx8RHrNJPj0BzjBWHG5XHREcszD4QnBwgEAQI21tbds8ERQRHREUERMRHBETERIRGxESERERGhERERARGREQDxEYDw4RFw4NERYNDBEVDAsRFAsKERMKCRESCQgREQgHERAHEG8QXhBNEDxLGVCoXlFGAGTUAdAB0gCBAQHXAIEBAdcAgQEB1wDUAdCBAQHXAIEBAdcAgQEB1wAwEDgQNxA2EDUQNAL00x8BghCO1NequvLggYEBAdcA0gABk9QB0JFt4gHSAAGS0gCSbQHi0gABlYEBAdcAkm0B4tIAAZWBAQHXAJJtAeLUAdDSAAGVgQEB1wCSbQHi0gABlYEBAdcAkm0B4tIAAZWBAQHXAJJtAeLUMNDSAAGSMG3jDRBJEEhBQAAMEEcQRhBFAAyBAQHXADAB8BEdESYRHREcESURHBEbESQRGxEaESMRGhEZESIRGREYESERGBEXESARFxEWER8RFhEVER4RFREUESYRFBETESURExESESQREhERESMREREQESIREA8RIQ8OESAODREfDQwRHgwLESYLChElCgkRJAkIESMIBxEiB0MD/gYRIQYFESAFBBEfBAMRHgMCESYCARElAREk2zxWI26znVcdESIgbvLQgBEcESKSVyPiViFus51XGxEgIG7y0IARGhEgklch4lYfbrOdVxcRHiBu8tCAERYRHpJXH+JWHW6znVcVERwgbvLQgBEUERySVx3iVhtus5JXG+MNVhlJSEQC/m6znVcRERggbvLQgBEQERiSVxniViBus5s/ER8gbvLQgA4RH5JXIOJWHm6zmz0RHSBu8tCADBEdklce4lYcbrObOhEbIG7y0IAJERuSVxzi+EJwcIBAECNtbW3bPBEUER0RFBETERwRExESERsREhERERoREREQERkREA8RGA9GRQBcDhEXDg0RFg0MERUMCxEUCwoREwoJERIJCBERCAcREAcQbxBeEE0QPEsZUKheUQHKyHEBygFQBwHKAHABygJQBSDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFlAD+gJwAcpoI26zkX+TJG6z4pczMwFwAcoA4w0hbrOcfwHKAAEgbvLQgAHMlTFwAcoA4skB+wBHAJh/AcoAyHABygBwAcoAJG6znX8BygAEIG7y0IBQBMyWNANwAcoA4iRus51/AcoABCBu8tCAUATMljQDcAHKAOJwAcoAAn8BygACyVjMABpXExEaIG7y0IAREhEaABT4QlYUAccF8uCEAuzTHwGCEE01qZy68uCB0gABlYEBAdcAkm0B4tIAAZWBAQHXAJJtAeLSAAGVgQEB1wCSbQHi1AHQ0gABlYEBAdcAkm0B4tIAAZWBAQHXAJJtAeLSAAGVgQEB1wCSbQHi1DDQ0gABlYEBAdcAkm0B4tIAAZJtAeMNTEsAZPpAIdcLAcMAjh0BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiJIxbeIxEGkQaBBnAAqBAQHXAALm7UTQ1AH4Y9IAAY7Y2zxXHhEcER0RHBEbERwRGxEaERsRGhEZERoRGREYERkRGBEXERgRFxEWERcRFhEVERYRFREUERURFBETERQRExESERMREhERERIREREQEREREA8REA9VDuAw+CjXCwqDCbry4InbPE9OAN6CCvrwgIIJycOAbXGBASwhcoBkgggHoSCCCA9CQG0lcG1tVHMibSNtbW1tbW34QlOZyHIBywFwAcsAEsoHy//J0CDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IhTqgMREwMCERICARERAREQVbMB9oEBAdcAgQEB1wD0BIEBAdcA1AHQgQEB1wCBAQHXAIEBAdcA1DDQgQEB1wCBAQHXAIEBAdcA1DDQ+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAH6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAdQw0FAAuoEBAdcAgQEB1wBZAvQE0z+BAQHXAPQE9ATTP9Qw0IEBAdcAgQEB1wD0BNM/9AT0BNQw0PQE9AT0BNQw0PQEMBEaER4RGhEaER0RGhEaERwRGhEaERsRGhEQEREREG2xcV0="}},"sources":{"contracts/core/messages.tact":"Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBhZG1pbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwptZXNzYWdlIFVwZGF0ZUNvbmZpZyB7CiAgICBnYXNDb25zdW1wdGlvbjogSW50PzsKICAgIG1pblRvbnNGb3JTdG9yYWdlOiBJbnQ/OwogICAgcmJmTG9ja1RpbWU6IEludD87CiAgICBib251c0ZhY3RvcjogSW50PzsKICAgIG1pbkxQTWFyZ2luOiBJbnQ/OwogICAgbWF4TFBMZXZlcmFnZTogSW50PzsKICAgIGxwTGlxdWlkYXRpb25GZWU6IEludD87CiAgICBscE1heFJpc2tSYXRlOiBJbnQ/OwogICAgb3JkZXJCb29rOiBBZGRyZXNzPzsKfQoKbWVzc2FnZSBVcGRhdGVUb2tlbkNvbmZpZyB7CiAgICB0b2tlbklkOiBJbnQ7CiAgICBuYW1lOiBTdHJpbmc/OwogICAgZW5hYmxlOiBCb29sPzsKICAgIG1pbk1hcmdpblBlclBvc2l0aW9uOiBJbnQ/OwogICAgbWF4TGV2ZXJhZ2VQZXJQb3NpdGlvbjogSW50PzsKICAgIGxpcXVpZGF0aW9uRmVlUmF0ZVBlclBvc2l0aW9uOiBJbnQ/OwogICAgbGlxdWlkYXRpb25FeGVjdXRpb25GZWU6IEludD87CiAgICBpbnRlcmVzdFJhdGU6IEludD87CiAgICBtYXhGdW5kaW5nUmF0ZTogSW50PzsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBSQkYgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KLy8gaW5jcmVhc2UgUkJGCm1lc3NhZ2UgQ2FuY2VsSW5jcmVhc2VSQkZQb3NpdGlvbk9yZGVyIHsKICAgIGluZGV4OiBJbnQ7CiAgICB0cnhJZDogSW50Owp9CgptZXNzYWdlIEV4ZWN1dGVJbmNyZWFzZVJCRlBvc2l0aW9uT3JkZXIgewogICAgaW5kZXg6IEludDsKICAgIHRyeElkOiBJbnQ7Cn0KCi8vIGRlY3JlYXNlIFJCRgptZXNzYWdlIENyZWF0ZURlY3JlYXNlUkJGUG9zaXRpb25PcmRlciB7CiAgICBleGVjdXRpb25GZWU6IEludDsKICAgIGxpcXVpZGl0eURlbHRhOiBJbnQ7Cn0KCm1lc3NhZ2UgQ2FuY2VsRGVjcmVhc2VSQkZQb3NpdGlvbk9yZGVyIHsKICAgIGluZGV4OiBJbnQ7CiAgICB0cnhJZDogSW50Owp9CgptZXNzYWdlIEV4ZWN1dGVEZWNyZWFzZVJCRlBvc2l0aW9uT3JkZXIgewogICAgaW5kZXg6IEludDsKICAgIHRyeElkOiBJbnQ7Cn0KCm1lc3NhZ2UoMHhlODljZDQ1ZikgVXBkYXRlUkJGUG9zaXRpb24gewogICAgaXNJbmNyZWFzZTogQm9vbDsKICAgIG9yZGVySWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgbGlxdWlkaXR5RGVsdGE6IEludDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0Owp9CgptZXNzYWdlKDB4MWNmMGNmODEpIFVwZGF0ZVJCRlBvc2l0aW9uU3VjY2VzcyB7CiAgICBvcmRlcklkOiBJbnQ7CiAgICByZWNlaXZlOiBJbnQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBMUCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwovLyBpbmNyZWFzZSBMUAptZXNzYWdlIENhbmNlbEluY3JlYXNlTFBQb3NpdGlvbk9yZGVyIHsKICAgIGluZGV4OiBJbnQ7CiAgICB0cnhJZDogSW50Owp9CgptZXNzYWdlIEV4ZWN1dGVJbmNyZWFzZUxQUG9zaXRpb25PcmRlciB7CiAgICBpbmRleDogSW50OwogICAgdHJ4SWQ6IEludDsKfQoKLy8gZGVjcmVhc2UgTFAKbWVzc2FnZSBDcmVhdGVEZWNyZWFzZUxQUG9zaXRpb25PcmRlciB7CiAgICBleGVjdXRpb25GZWU6IEludDsKICAgIG1hcmdpbkRlbHRhOiBJbnQ7CiAgICBsaXF1aWRpdHlEZWx0YTogSW50Owp9CgptZXNzYWdlIENhbmNlbERlY3JlYXNlTFBQb3NpdGlvbk9yZGVyIHsKICAgIGluZGV4OiBJbnQ7CiAgICB0cnhJZDogSW50Owp9CgptZXNzYWdlIEV4ZWN1dGVEZWNyZWFzZUxQUG9zaXRpb25PcmRlciB7CiAgICBpbmRleDogSW50OwogICAgdHJ4SWQ6IEludDsKfQoKbWVzc2FnZSBMaXF1aWRhdGVMUFBvc2l0aW9uIHsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICB0cnhJZDogSW50Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFBlcnAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KLy8gaW5jcmVhc2UgbWFya2V0IFBlcnAKbWVzc2FnZSBDYW5jZWxJbmNyZWFzZVBlcnBQb3NpdGlvbk1hcmtldE9yZGVyIHsKICAgIGluZGV4OiBJbnQ7CiAgICB0cnhJZDogSW50Owp9CgptZXNzYWdlIEV4ZWN1dGVJbmNyZWFzZVBlcnBQb3NpdGlvbk1hcmtldE9yZGVyIHsKICAgIGluZGV4OiBJbnQ7CiAgICB0cnhJZDogSW50Owp9CgovLyBkZWNyZWFzZSBtYXJrZXQgUGVycAptZXNzYWdlIENyZWF0ZURlY3JlYXNlUGVycFBvc2l0aW9uTWFya2V0T3JkZXIgewogICAgdG9rZW46IFN0cmluZzsKICAgIGlzTG9uZzogQm9vbDsKICAgIG1hcmdpbkRlbHRhOiBJbnQ7CiAgICBzaXplRGVsdGE6IEludDsKICAgIGFjY2VwdGFibGVQcmljZTogSW50Owp9CgptZXNzYWdlIENhbmNlbERlY3JlYXNlUGVycFBvc2l0aW9uTWFya2V0T3JkZXIgewogICAgaW5kZXg6IEludDsKICAgIHRyeElkOiBJbnQ7Cn0KCm1lc3NhZ2UgRXhlY3V0ZURlY3JlYXNlUGVycFBvc2l0aW9uTWFya2V0T3JkZXIgewogICAgaW5kZXg6IEludDsKICAgIHRyeElkOiBJbnQ7Cn0KCi8vIGluY3JlYXNlIGxpbWl0IFBlcnAKbWVzc2FnZSBDcmVhdGVJbmNyZWFzZVBlcnBQb3NpdGlvbkxpbWl0T3JkZXIgewogICAgdG9rZW46IFN0cmluZzsKICAgIGlzTG9uZzogQm9vbDsKICAgIG1hcmdpbkRlbHRhOiBJbnQ7CiAgICBzaXplRGVsdGE6IEludDsKICAgIHRyaWdnZXJQcmljZTogSW50OwogICAgdHJpZ2dlckFib3ZlOiBCb29sOwp9CgptZXNzYWdlIENhbmNlbEluY3JlYXNlUGVycFBvc2l0aW9uTGltaXRPcmRlciB7CiAgICBpbmRleDogSW50OwogICAgdHJ4SWQ6IEludDsKfQoKbWVzc2FnZSBFeGVjdXRlSW5jcmVhc2VQZXJwUG9zaXRpb25MaW1pdE9yZGVyIHsKICAgIGluZGV4OiBJbnQ7CiAgICB0cnhJZDogSW50Owp9CgovLyBkZWNyZWFzZSBsaW1pdCBQZXJwCm1lc3NhZ2UgQ3JlYXRlRGVjcmVhc2VQZXJwUG9zaXRpb25MaW1pdE9yZGVyIHsKICAgIHRva2VuOiBTdHJpbmc7CiAgICBpc0xvbmc6IEJvb2w7CiAgICBtYXJnaW5EZWx0YTogSW50OwogICAgc2l6ZURlbHRhOiBJbnQ7CiAgICB0cmlnZ2VyUHJpY2U6IEludDsKICAgIHRyaWdnZXJBYm92ZTogQm9vbDsKfQoKbWVzc2FnZSBDYW5jZWxEZWNyZWFzZVBlcnBQb3NpdGlvbkxpbWl0T3JkZXIgewogICAgaW5kZXg6IEludDsKICAgIHRyeElkOiBJbnQ7Cn0KCm1lc3NhZ2UgRXhlY3V0ZURlY3JlYXNlUGVycFBvc2l0aW9uTGltaXRPcmRlciB7CiAgICBpbmRleDogSW50OwogICAgdHJ4SWQ6IEludDsKfQ==","contracts/core/events.tact":"Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBSQkYgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KLy8gaW5jcmVhc2UgUkJGCm1lc3NhZ2UgUkJGUG9zaXRpb25JbmNyZWFzZWRFdmVudCB7CiAgICBwb3NpdGlvbklkOiBJbnQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgbGlxdWlkaXR5RGVsdGE6IEludDsKICAgIGxpcXVpZGl0eUFmdGVyOiBJbnQ7CiAgICBib251c0RlbHRhOiBJbnQ7CiAgICBib251c0FmdGVyOiBJbnQ7CiAgICB1bmxvY2tUaW1lQWZ0ZXI6IEludDsKfQoKLy8gZGVjcmVhc2UgUkJGCm1lc3NhZ2UgUkJGUG9zaXRpb25EZWNyZWFzZWRFdmVudCB7CiAgICBwb3NpdGlvbklkOiBJbnQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgbGlxdWlkaXR5RGVsdGE6IEludDsKICAgIGxpcXVpZGl0eUFmdGVyOiBJbnQ7CiAgICBib251c0RlbHRhOiBJbnQ7CiAgICBib251c0FmdGVyOiBJbnQ7CiAgICByZWNlaXZlOiBJbnQ7Cn0KCi8vIGdsb2JhbCBSQkYKbWVzc2FnZSBHbG9iYWxSQkZDaGFuZ2VkRXZlbnQgewogICAgcmlza0J1ZmZlckZ1bmRBZnRlcjogSW50OwogICAgbGlxdWlkaXR5QWZ0ZXI6IEludDsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBMUCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwovLyBpbmNyZWFzZSBMUAptZXNzYWdlIEluY3JlYXNlTFBQb3NpdGlvbkNyZWF0ZWRFdmVudCB7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIGxpcXVpZGl0eURlbHRhOiBJbnQ7CiAgICBleGVjdXRpb25GZWU6IEludDsKICAgIGluZGV4OiBJbnQ7Cn0KCm1lc3NhZ2UgSW5jcmVhc2VMUFBvc2l0aW9uQ2FuY2VsbGVkRXZlbnQgewogICAgaW5kZXg6IEludDsKICAgIHRyeElkOiBJbnQ7Cn0KCm1lc3NhZ2UgSW5jcmVhc2VMUFBvc2l0aW9uRXhlY3V0ZWRFdmVudCB7CiAgICBpbmRleDogSW50OwogICAgdHJ4SWQ6IEludDsKfQoKbWVzc2FnZSBMUFBvc2l0aW9uSW5jcmVhc2VkRXZlbnQgewogICAgYWNjb3VudDogQWRkcmVzczsKICAgIG1hcmdpbkRlbHRhOiBJbnQ7CiAgICBtYXJnaW5BZnRlcjogSW50OwogICAgbGlxdWlkaXR5RGVsdGE6IEludDsKICAgIGxpcXVpZGl0eUFmdGVyOiBJbnQ7CiAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGg6IEludDsKICAgIGVudHJ5VHJhZGluZ0ZlZUdyb3d0aDogSW50Owp9CgovLyBkZWNyZWFzZSBMUAptZXNzYWdlIERlY3JlYXNlTFBQb3NpdGlvbkNyZWF0ZWRFdmVudCB7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIGxpcXVpZGl0eURlbHRhOiBJbnQ7CiAgICBleGVjdXRpb25GZWU6IEludDsKICAgIGluZGV4OiBJbnQ7Cn0KCm1lc3NhZ2UgRGVjcmVhc2VMUFBvc2l0aW9uQ2FuY2VsbGVkRXZlbnQgewogICAgaW5kZXg6IEludDsKICAgIHRyeElkOiBJbnQ7Cn0KCm1lc3NhZ2UgRGVjcmVhc2VMUFBvc2l0aW9uRXhlY3V0ZWRFdmVudCB7CiAgICBpbmRleDogSW50OwogICAgdHJ4SWQ6IEludDsKfQoKbWVzc2FnZSBMUFBvc2l0aW9uRGVjcmVhc2VkRXZlbnQgewogICAgYWNjb3VudDogQWRkcmVzczsKICAgIG1hcmdpbkRlbHRhOiBJbnQ7CiAgICBtYXJnaW5BZnRlcjogSW50OwogICAgbGlxdWlkaXR5RGVsdGE6IEludDsKICAgIGxpcXVpZGl0eUFmdGVyOiBJbnQ7CiAgICB0cmFkaW5nRmVlOiBJbnQ7CiAgICBmdW5kaW5nRmVlOiBJbnQ7CiAgICByZWFsaXplZExvc3M6IEludDsKfQoKLy8gbGlxdWlkYXRlIExQCm1lc3NhZ2UgTFBQb3NpdGlvbkxpcXVpZGF0ZWRFdmVudCB7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgdHJ4SWQ6IEludDsKICAgIG1hcmdpbjogSW50OwogICAgbGlxdWlkaXR5OiBJbnQ7CiAgICB0cmFkaW5nRmVlOiBJbnQ7CiAgICBmdW5kaW5nRmVlOiBJbnQ7CiAgICBsaXF1aWRhdGlvbkZlZTogSW50Owp9CgovLyBnbG9iYWwgTFAKbWVzc2FnZSBHbG9iYWxMUENoYW5nZWRFdmVudCB7CiAgICBuZXRTaXplQWZ0ZXI6IEludDsKICAgIGlzTG9uZzogQm9vbDsKICAgIGVudHJ5UHJpY2VBZnRlcjogSW50Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFBlcnAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KLy8gaW5jcmVhc2UgUGVycAptZXNzYWdlIEluY3JlYXNlUGVycFBvc2l0aW9uTWFya2V0Q3JlYXRlZEV2ZW50IHsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICB0b2tlbjogU3RyaW5nOwogICAgaXNMb25nOiBCb29sOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIHNpemVEZWx0YTogSW50OwogICAgYWNjZXB0YWJsZVByaWNlOiBJbnQ7CiAgICBleGVjdXRpb25GZWU6IEludDsKICAgIGluZGV4OiBJbnQ7Cn0KCm1lc3NhZ2UgSW5jcmVhc2VQZXJwUG9zaXRpb25NYXJrZXRDYW5jZWxsZWRFdmVudCB7CiAgICB0b2tlbjogU3RyaW5nOwogICAgaW5kZXg6IEludDsKICAgIHRyeElkOiBJbnQ7Cn0KCm1lc3NhZ2UgSW5jcmVhc2VQZXJwUG9zaXRpb25NYXJrZXRFeGVjdXRlZEV2ZW50IHsKICAgIHRva2VuOiBTdHJpbmc7CiAgICBpbmRleDogSW50OwogICAgdHJ4SWQ6IEludDsKfQoKbWVzc2FnZSBJbmNyZWFzZVBlcnBQb3NpdGlvbkxpbWl0Q3JlYXRlZEV2ZW50IHsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICB0b2tlbjogU3RyaW5nOwogICAgaXNMb25nOiBCb29sOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIHNpemVEZWx0YTogSW50OwogICAgdHJpZ2dlclByaWNlOiBJbnQ7CiAgICB0cmlnZ2VyQWJvdmU6IEJvb2w7CiAgICBleGVjdXRpb25GZWU6IEludDsKICAgIGluZGV4OiBJbnQ7Cn0KCm1lc3NhZ2UgSW5jcmVhc2VQZXJwUG9zaXRpb25MaW1pdENhbmNlbGxlZEV2ZW50IHsKICAgIHRva2VuOiBTdHJpbmc7CiAgICBpbmRleDogSW50OwogICAgdHJ4SWQ6IEludDsKfQoKbWVzc2FnZSBJbmNyZWFzZVBlcnBQb3NpdGlvbkxpbWl0RXhlY3V0ZWRFdmVudCB7CiAgICB0b2tlbjogU3RyaW5nOwogICAgaW5kZXg6IEludDsKICAgIHRyeElkOiBJbnQ7Cn0KCm1lc3NhZ2UgUGVycFBvc2l0aW9uSW5jcmVhc2VkRXZlbnQgewogICAgYWNjb3VudDogQWRkcmVzczsKICAgIHRva2VuOiBTdHJpbmc7CiAgICBtYXJnaW5EZWx0YTogSW50OwogICAgbWFyZ2luQWZ0ZXI6IEludDsKICAgIHNpemVEZWx0YTogSW50OwogICAgc2l6ZUFmdGVyOiBJbnQ7CiAgICB0cmFkZVByaWNlOiBJbnQ7CiAgICBlbnRyeVByaWNlOiBJbnQ7CiAgICBmdW5kaW5nRmVlOiBJbnQ7CiAgICB0cmFkaW5nRmVlOiBJbnQ7Cn0KCi8vIGRlY3JlYXNlIFBlcnAKbWVzc2FnZSBEZWNyZWFzZVBlcnBQb3NpdGlvbk1hcmtldENyZWF0ZWRFdmVudCB7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgdG9rZW46IFN0cmluZzsKICAgIGlzTG9uZzogQm9vbDsKICAgIG1hcmdpbkRlbHRhOiBJbnQ7CiAgICBzaXplRGVsdGE6IEludDsKICAgIGFjY2VwdGFibGVQcmljZTogSW50OwogICAgZXhlY3V0aW9uRmVlOiBJbnQ7CiAgICBpbmRleDogSW50Owp9CgptZXNzYWdlIERlY3JlYXNlUGVycFBvc2l0aW9uTWFya2V0Q2FuY2VsbGVkRXZlbnQgewogICAgdG9rZW46IFN0cmluZzsKICAgIGluZGV4OiBJbnQ7CiAgICB0cnhJZDogSW50Owp9CgptZXNzYWdlIERlY3JlYXNlUGVycFBvc2l0aW9uTWFya2V0RXhlY3V0ZWRFdmVudCB7CiAgICB0b2tlbjogU3RyaW5nOwogICAgaW5kZXg6IEludDsKICAgIHRyeElkOiBJbnQ7Cn0KCm1lc3NhZ2UgRGVjcmVhc2VQZXJwUG9zaXRpb25MaW1pdENyZWF0ZWRFdmVudCB7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgdG9rZW46IFN0cmluZzsKICAgIGlzTG9uZzogQm9vbDsKICAgIG1hcmdpbkRlbHRhOiBJbnQ7CiAgICBzaXplRGVsdGE6IEludDsKICAgIHRyaWdnZXJQcmljZTogSW50OwogICAgdHJpZ2dlckFib3ZlOiBCb29sOwogICAgZXhlY3V0aW9uRmVlOiBJbnQ7CiAgICBpbmRleDogSW50Owp9CgptZXNzYWdlIERlY3JlYXNlUGVycFBvc2l0aW9uTGltaXRDYW5jZWxsZWRFdmVudCB7CiAgICB0b2tlbjogU3RyaW5nOwogICAgaW5kZXg6IEludDsKICAgIHRyeElkOiBJbnQ7Cn0KCm1lc3NhZ2UgRGVjcmVhc2VQZXJwUG9zaXRpb25MaW1pdEV4ZWN1dGVkRXZlbnQgewogICAgdG9rZW46IFN0cmluZzsKICAgIGluZGV4OiBJbnQ7CiAgICB0cnhJZDogSW50Owp9CgptZXNzYWdlIFBlcnBQb3NpdGlvbkRlY3JlYXNlZEV2ZW50IHsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICB0b2tlbjogU3RyaW5nOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIG1hcmdpbkFmdGVyOiBJbnQ7CiAgICBzaXplRGVsdGE6IEludDsKICAgIHNpemVBZnRlcjogSW50OwogICAgdHJhZGVQcmljZTogSW50OwogICAgcmVhbGl6ZWRQbkxEZWx0YTogSW50OwogICAgZnVuZGluZ0ZlZTogSW50OwogICAgdHJhZGluZ0ZlZTogSW50Owp9Cg==","contracts/core/structs.tact":"Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBDb25maWcgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8Kc3RydWN0IENvbmZpZ0RhdGEgewogICAgcmJmTG9ja1RpbWU6IEludDsKICAgIGJvbnVzRmFjdG9yOiBJbnQ7CiAgICBtaW5MUE1hcmdpbjogSW50OwogICAgbWF4TFBMZXZlcmFnZTogSW50OwogICAgbHBMaXF1aWRhdGlvbkZlZTogSW50OwogICAgbHBNYXhSaXNrUmF0ZTogSW50OwogICAgb3JkZXJCb29rOiBBZGRyZXNzOwp9CgpzdHJ1Y3QgVG9rZW5Db25maWcgewogICAgbmFtZTogU3RyaW5nOwogICAgZW5hYmxlOiBCb29sOwogICAgLy8gPT09PT09PT09PT09PT09PT09PT0gVHJhZGVyIFBvc2l0aW9uIENvbmZpZ3VyYXRpb24gPT09PT09PT09PT09PT09PT09CiAgICBtaW5NYXJnaW5QZXJQb3NpdGlvbjogSW50OwogICAgbWF4TGV2ZXJhZ2VQZXJQb3NpdGlvbjogSW50OwogICAgbGlxdWlkYXRpb25GZWVSYXRlUGVyUG9zaXRpb246IEludDsKICAgIC8vID09PT09PT09PT09PT09PT09PT09IE90aGVyIENvbmZpZ3VyYXRpb24gPT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIGxpcXVpZGF0aW9uRXhlY3V0aW9uRmVlOiBJbnQ7CiAgICBpbnRlcmVzdFJhdGU6IEludDsKICAgIG1heEZ1bmRpbmdSYXRlOiBJbnQ7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUkJGID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCnN0cnVjdCBSQkZQb3NpdGlvbiB7CiAgICBwb3NpdGlvbklkOiBJbnQ7CiAgICBsaXF1aWRpdHk6IEludDsKICAgIGJvbnVzOiBJbnQ7CiAgICB1bmxvY2tUaW1lOiBJbnQ7Cn0KCnN0cnVjdCBHbG9iYWxSQkZQb3NpdGlvbiB7CiAgICByaXNrQnVmZmVyRnVuZDogSW50OwogICAgbGlxdWlkaXR5OiBJbnQ7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gTFAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8Kc3RydWN0IEluY3JlYXNlTFBQb3NpdGlvbk9yZGVyIHsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICBtYXJnaW5EZWx0YTogSW50OwogICAgbGlxdWlkaXR5RGVsdGE6IEludDsKICAgIGV4ZWN1dGlvbkZlZTogSW50OwogICAgYmxvY2tUaW1lOiBJbnQ7Cn0KCnN0cnVjdCBEZWNyZWFzZUxQUG9zaXRpb25PcmRlciB7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIGxpcXVpZGl0eURlbHRhOiBJbnQ7CiAgICBleGVjdXRpb25GZWU6IEludDsKICAgIGJsb2NrVGltZTogSW50Owp9CgpzdHJ1Y3QgTFBQb3NpdGlvbiB7CiAgICBtYXJnaW46IEludDsKICAgIGxpcXVpZGl0eTogSW50OwogICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiBJbnQ7CiAgICBlbnRyeVRyYWRpbmdGZWVHcm93dGg6IEludDsKfQoKc3RydWN0IEdsb2JhbExQUG9zaXRpb24gewogICAgbmV0U2l6ZTogSW50OwogICAgaXNMb25nOiBCb29sOwogICAgZW50cnlQcmljZTogSW50Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFBlcnAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KLy8gaW5jcmVhc2UgbWFya2V0IG9yZGVyCnN0cnVjdCBJbmNyZWFzZVBlcnBQb3NpdGlvbk1hcmtldE9yZGVycyB7CiAgICBpbmNyZWFzZVBlcnBQb3NpdGlvbk1hcmtldE9yZGVyczogbWFwPEludCwgSW5jcmVhc2VQZXJwUG9zaXRpb25NYXJrZXRPcmRlcj47Cn0KCnN0cnVjdCBJbmNyZWFzZVBlcnBQb3NpdGlvbk1hcmtldE9yZGVyIHsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICBpc0xvbmc6IEJvb2w7CiAgICBtYXJnaW5EZWx0YTogSW50OwogICAgc2l6ZURlbHRhOiBJbnQ7CiAgICBhY2NlcHRhYmxlUHJpY2U6IEludDsKICAgIGV4ZWN1dGlvbkZlZTogSW50OwogICAgYmxvY2tUaW1lOiBJbnQ7Cn0KCi8vIGRlY3JlYXNlIG1hcmtldCBvcmRlcgpzdHJ1Y3QgRGVjcmVhc2VQZXJwUG9zaXRpb25NYXJrZXRPcmRlcnMgewogICAgZGVjcmVhc2VQZXJwUG9zaXRpb25NYXJrZXRPcmRlcnM6IG1hcDxJbnQsIERlY3JlYXNlUGVycFBvc2l0aW9uTWFya2V0T3JkZXI+Owp9CgpzdHJ1Y3QgRGVjcmVhc2VQZXJwUG9zaXRpb25NYXJrZXRPcmRlciB7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgaXNMb25nOiBCb29sOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIHNpemVEZWx0YTogSW50OwogICAgYWNjZXB0YWJsZVByaWNlOiBJbnQ7CiAgICBleGVjdXRpb25GZWU6IEludDsKICAgIGJsb2NrVGltZTogSW50Owp9CgovLyBpbmNyZWFzZSBsaW1pdCBvcmRlcgpzdHJ1Y3QgSW5jcmVhc2VQZXJwUG9zaXRpb25MaW1pdE9yZGVycyB7CiAgICBpbmNyZWFzZVBlcnBQb3NpdGlvbkxpbWl0T3JkZXJzOiBtYXA8SW50LCBJbmNyZWFzZVBlcnBQb3NpdGlvbkxpbWl0T3JkZXI+Owp9CgpzdHJ1Y3QgSW5jcmVhc2VQZXJwUG9zaXRpb25MaW1pdE9yZGVyIHsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICBpc0xvbmc6IEJvb2w7CiAgICBtYXJnaW5EZWx0YTogSW50OwogICAgc2l6ZURlbHRhOiBJbnQ7CiAgICB0cmlnZ2VyUHJpY2U6IEludDsKICAgIHRyaWdnZXJBYm92ZTogQm9vbDsKICAgIGV4ZWN1dGlvbkZlZTogSW50OwogICAgYmxvY2tUaW1lOiBJbnQ7Cn0KCi8vIGRlY3JlYXNlIGxpbWl0IG9yZGVyCnN0cnVjdCBEZWNyZWFzZVBlcnBQb3NpdGlvbkxpbWl0T3JkZXJzIHsKICAgIGRlY3JlYXNlUGVycFBvc2l0aW9uTGltaXRPcmRlcnM6IG1hcDxJbnQsIERlY3JlYXNlUGVycFBvc2l0aW9uTGltaXRPcmRlcj47Cn0KCnN0cnVjdCBEZWNyZWFzZVBlcnBQb3NpdGlvbkxpbWl0T3JkZXIgewogICAgYWNjb3VudDogQWRkcmVzczsKICAgIGlzTG9uZzogQm9vbDsKICAgIG1hcmdpbkRlbHRhOiBJbnQ7CiAgICBzaXplRGVsdGE6IEludDsKICAgIHRyaWdnZXJQcmljZTogSW50OwogICAgdHJpZ2dlckFib3ZlOiBCb29sOwogICAgZXhlY3V0aW9uRmVlOiBJbnQ7CiAgICBibG9ja1RpbWU6IEludDsKfQoKLy8gcGVycCBwb3NpdGlvbgpzdHJ1Y3QgQWNjb3VudFBlcnBQb3NpdGlvbiB7CiAgICBwb3NpdGlvbnM6IG1hcDxBZGRyZXNzLCBEaXJlY3Rpb25QZXJwUG9zaXRpb24+Owp9CgpzdHJ1Y3QgRGlyZWN0aW9uUGVycFBvc2l0aW9uIHsKICAgIGxvbmdQb3NpdGlvbjogUGVycFBvc2l0aW9uOwogICAgc2hvcnRQb3NpdGlvbjogUGVycFBvc2l0aW9uOwp9CgpzdHJ1Y3QgUGVycFBvc2l0aW9uIHsKICAgIG1hcmdpbjogSW50OwogICAgc2l6ZTogSW50OwogICAgZW50cnlQcmljZTogSW50OwogICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiBJbnQ7Cn0KCi8vIGZ1bmRpbmcgcmF0ZSAvLwoKc3RydWN0IFByaWNlVmVydGV4IHsKICAgIHNpemU6IEludDsKICAgIHByZW1pdW1SYXRlWDk2OiBJbnQ7Cn0KCnN0cnVjdCBQcmljZVN0YXRlIHsKICAgIC8vIHVpbnQxMjggbWF4UHJpY2VJbXBhY3RMaXF1aWRpdHk7CiAgICBtYXhQcmljZUltcGFjdExpcXVpZGl0eTogSW50OwogICAgLy8gdWludDEyOCBwcmVtaXVtUmF0ZVg5NjsKICAgIHByZW1pdW1SYXRlWDk2OiBJbnQ7CiAgICAvLyBQcmljZVZlcnRleFs3XSBwcmljZVZlcnRpY2VzOwogICAgcHJpY2VWZXJ0aWNlczogbWFwPEludCwgUHJpY2VWZXJ0ZXg+OwogICAgLy8gdWludDggcGVuZGluZ1ZlcnRleEluZGV4OwogICAgcGVuZGluZ1ZlcnRleEluZGV4OiBJbnQ7CiAgICAvLyB1aW50OCBsaXF1aWRhdGlvblZlcnRleEluZGV4OwogICAgbGlxdWlkYXRpb25WZXJ0ZXhJbmRleDogSW50OwogICAgLy8gdWludDggY3VycmVudFZlcnRleEluZGV4OwogICAgY3VycmVudFZlcnRleEluZGV4OiBJbnQ7CiAgICAvLyB1aW50MTI4WzddIGxpcXVpZGF0aW9uQnVmZmVyTmV0U2l6ZXM7CiAgICBsaXF1aWRhdGlvbkJ1ZmZlck5ldFNpemVzOiBtYXA8SW50LCBJbnQ+Owp9CgpzdHJ1Y3QgR2xvYmFsUmlza0J1ZmZlckZ1bmQgewogICAgcmlza0J1ZmZlckZ1bmQ6IEludDsKICAgIGxpcXVpZGl0eTogSW50Owp9CgpzdHJ1Y3QgR2xvYmFsUG9zaXRpb24gewogICAgbG9uZ1NpemU6IEludDsKICAgIHNob3J0U2l6ZTogSW50OwogICAgbG9uZ0Z1bmRpbmdSYXRlR3Jvd3RoWDk2OiBJbnQ7CiAgICBzaG9ydEZ1bmRpbmdSYXRlR3Jvd3RoWDk2OiBJbnQ7Cn0KCnN0cnVjdCBHbG9iYWxMaXF1aWRpdHlQb3NpdGlvbiB7CiAgICBuZXRTaXplOiBJbnQ7CiAgICBsaXF1aWRhdGlvbkJ1ZmZlck5ldFNpemU6IEludDsKICAgIGVudHJ5UHJpY2VYOTY6IEludDsKICAgIHNpZGU6IEJvb2w7CiAgICBsaXF1aWRpdHk6IEludDsKICAgIHJlYWxpemVkUHJvZml0R3Jvd3RoWDY0OiBJbnQ7Cn0KCnN0cnVjdCBHbG9iYWxGdW5kaW5nUmF0ZVNhbXBsZSB7CiAgICBsYXN0QWRqdXN0RnVuZGluZ1JhdGVUaW1lOiBJbnQ7CiAgICBzYW1wbGVDb3VudDogSW50OwogICAgY3VtdWxhdGl2ZVByZW1pdW1SYXRlWDk2OiBJbnQ7Cn0KCnN0cnVjdCBQcmV2aW91c0dsb2JhbEZ1bmRpbmdSYXRlIHsKICAgIGxvbmdGdW5kaW5nUmF0ZUdyb3d0aFg5NjogSW50OwogICAgc2hvcnRGdW5kaW5nUmF0ZUdyb3d0aFg5NjogSW50Owp9CgpzdHJ1Y3QgRnVuZGluZ1JhdGVHcm93dGhYOTYgewogICAgY2xhbXBlZEZ1bmRpbmdSYXRlRGVsdGFYOTY6IEludDsKICAgIGxvbmdGdW5kaW5nUmF0ZUdyb3d0aEFmdGVyWDk2OiBJbnQ7CiAgICBzaG9ydEZ1bmRpbmdSYXRlR3Jvd3RoQWZ0ZXJYOTY6IEludDsKfQoKc3RydWN0IFNhbXBsZVByZW1pdW1SYXRlUmVzdWx0IHsKICAgIHNhbXBsZTogR2xvYmFsRnVuZGluZ1JhdGVTYW1wbGU7CiAgICBzaG91bGRBZGp1c3RGdW5kaW5nUmF0ZTogQm9vbDsKICAgIGZ1bmRpbmdSYXRlRGVsdGFYOTY6IEludDsKfQ==","contracts/core/constants.tact":"Y29uc3QgT1BfQ1JFQVRFX0lOQ1JFQVNFX1JCRl9QT1NJVElPTjogSW50ID0gMTsKY29uc3QgT1BfQ1JFQVRFX0lOQ1JFQVNFX0xQX1BPU0lUSU9OOiBJbnQgPSAyOwpjb25zdCBPUF9DUkVBVEVfSU5DUkVBU0VfUE9TSVRJT246IEludCA9IDM7Cgpjb25zdCBCQVNJU19QT0lOVDogSW50ID0gcG93KDEwLCA2KTsgLy8gMSBmb3IgMC4wMDAxJQpjb25zdCBQUklDRV9GQUNUT1I6IEludCA9IHBvdygxMCwgMTYpOwoKY29uc3QgREFZOiBJbnQgPSAyNCAqIDYwICogNjA7CgoKY29uc3QgQURKVVNUX0ZVTkRJTkdfUkFURV9JTlRFUlZBTDogSW50ID0gMzYwMDsgLy8gMSBob3VyCmNvbnN0IFNBTVBMRV9QUkVNSVVNX1JBVEVfSU5URVJWQUw6IEludCA9IDU7IC8vIDUgc2Vjb25kcwpjb25zdCBSRVFVSVJFRF9TQU1QTEVfQ09VTlQ6IEludCA9IDcyMDsKLy8gQGRldiA4ICogKDErMiszKy4uLis3MjApID0gOCAqICgoMSs3MjApICogNzIwIC8gMikgPSA4ICogMjU5NTYwCmNvbnN0IFBSRU1JVU1fUkFURV9BVkdfREVOT01JTkFUT1I6IEludCA9IDggKiAyNTk1NjA7CmNvbnN0IFBSRU1JVU1fUkFURV9DTEFNUF9CT1VOREFSWV9YOTY6IEludCA9IDQ5NTE3NjAxNTcxNDE1MjEwOTk1OTY0OTc7CmNvbnN0IFE2NDogSW50ID0gMSA8PCA2NDsKY29uc3QgUTk2OiBJbnQgPSAxIDw8IDk2Owpjb25zdCBCQVNJU19QT0lOVFNfRElWSVNPUjogSW50ID0gMTAwMDAwMDAwOw==","contracts/core/fundingRate.tact":"aW1wb3J0ICIuL21lc3NhZ2VzIjsKaW1wb3J0ICIuL2V2ZW50cyI7CmltcG9ydCAiLi9zdHJ1Y3RzIjsKaW1wb3J0ICIuL2NvbnN0YW50cyI7Cgp0cmFpdCBmdW5kaW5nUmF0ZSB7CgogICAgLy8gZnVuIHNhbXBsZUFuZEFkanVzdEZ1bmRpbmdSYXRlKGdsb2JhbEZ1bmRpbmdSYXRlU2FtcGxlOiBHbG9iYWxGdW5kaW5nUmF0ZVNhbXBsZSwgcG9zaXRpb246IEdsb2JhbExpcXVpZGl0eVBvc2l0aW9uLCBwcmljZVN0YXRlOiBQcmljZVN0YXRlLCBpbnRlcmVzdFJhdGU6IEludCwgdGltZXN0YW1wOiBJbnQsIGdsb2JhbFBvc2l0aW9uOiBHbG9iYWxQb3NpdGlvbikgewoKICAgIC8vICAgICAvLyBjYWxjdWxhdGUgaWYgc2hvdWxkIGFkanVzdCBmdW5kaW5nIHJhdGUgYW5kIGZ1bmRpbmcgcmF0ZSBkZWx0YXg5NgogICAgLy8gICAgIGxldCByZXM6IFNhbXBsZVByZW1pdW1SYXRlUmVzdWx0ID0gc2VsZi5zYW1wbGVQcmVtaXVtUmF0ZShnbG9iYWxGdW5kaW5nUmF0ZVNhbXBsZSwgcG9zaXRpb24sIHByaWNlU3RhdGUsIGludGVyZXN0UmF0ZSwgdGltZXN0YW1wKTsKICAgIC8vICAgICAvLyBpZiBzaG91bGQgYWRqdXN0IGZ1bmRpbmcgcmF0ZQoKICAgIC8vICAgICBpZiAocmVzLnNob3VsZEFkanVzdEZ1bmRpbmdSYXRlKSB7CgogICAgLy8gICAgICAgICAvLyBzZWxmLmNhbGN1bGF0ZUZ1bmRpbmdSYXRlR3Jvd3RoWDk2KCk7CgogICAgLy8gICAgICAgICAvLyBzZWxmLnNuYXBzaG90QW5kQWRqdXN0R2xvYmFsRnVuZGluZ1JhdGUoKTsKICAgIC8vICAgICB9CgoKICAgIC8vIH0KCiAgICBmdW4gc2FtcGxlUHJlbWl1bVJhdGUoc2FtcGxlOiBHbG9iYWxGdW5kaW5nUmF0ZVNhbXBsZSwgcG9zaXRpb246IEdsb2JhbExpcXVpZGl0eVBvc2l0aW9uLCBwcmljZVN0YXRlOiBQcmljZVN0YXRlLCBpbnRlcmVzdFJhdGVYOTY6IEludCwgdGltZXN0YW1wOiBJbnQpOiBTYW1wbGVQcmVtaXVtUmF0ZVJlc3VsdCB7CiAgICAgICAgbGV0IGxhc3RBZGp1c3RGdW5kaW5nUmF0ZVRpbWU6IEludCA9IHNhbXBsZS5sYXN0QWRqdXN0RnVuZGluZ1JhdGVUaW1lOwogICAgICAgIGxldCBtYXhTYW1wbGluZ1RpbWU6IEludCA9IGxhc3RBZGp1c3RGdW5kaW5nUmF0ZVRpbWUgKyBBREpVU1RfRlVORElOR19SQVRFX0lOVEVSVkFMOwoKICAgICAgICBpZiAobWF4U2FtcGxpbmdUaW1lIDwgdGltZXN0YW1wKSB7CiAgICAgICAgICAgIHRpbWVzdGFtcCA9IG1heFNhbXBsaW5nVGltZTsKICAgICAgICB9CgogICAgICAgIGxldCBsYXN0U2FtcGxpbmdUaW1lOiBJbnQgPSBsYXN0QWRqdXN0RnVuZGluZ1JhdGVUaW1lICsgc2FtcGxlLnNhbXBsZUNvdW50ICsgU0FNUExFX1BSRU1JVU1fUkFURV9JTlRFUlZBTDsKICAgICAgICBsZXQgdGltZURlbHRhOiBJbnQgPSB0aW1lc3RhbXAgLSBsYXN0U2FtcGxpbmdUaW1lOwogICAgICAgIGlmICh0aW1lRGVsdGEgPCBTQU1QTEVfUFJFTUlVTV9SQVRFX0lOVEVSVkFMKSB7CiAgICAgICAgICAgIHJldHVybiBTYW1wbGVQcmVtaXVtUmF0ZVJlc3VsdCB7CiAgICAgICAgICAgICAgICBzYW1wbGU6IHNhbXBsZSwKICAgICAgICAgICAgICAgIHNob3VsZEFkanVzdEZ1bmRpbmdSYXRlOiBmYWxzZSwKICAgICAgICAgICAgICAgIGZ1bmRpbmdSYXRlRGVsdGFYOTY6IDAKICAgICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIGxldCBwcmVtaXVtUmF0ZVg5NjogSW50ID0gMDsKICAgICAgICBpZiAocG9zaXRpb24ubGlxdWlkaXR5ID4gcHJpY2VTdGF0ZS5tYXhQcmljZUltcGFjdExpcXVpZGl0eSkgewogICAgICAgICAgICBwcmVtaXVtUmF0ZVg5NiA9IHByaWNlU3RhdGUucHJlbWl1bVJhdGVYOTYgLyBwcmljZVN0YXRlLm1heFByaWNlSW1wYWN0TGlxdWlkaXR5ICogcG9zaXRpb24ubGlxdWlkaXR5OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHByZW1pdW1SYXRlWDk2ID0gcHJpY2VTdGF0ZS5wcmVtaXVtUmF0ZVg5NjsKICAgICAgICB9CgogICAgICAgIC8vIGNhbGN1bGF0ZSBpZiBzaG91bGQgYWRqdXN0IGZ1bmRpbmcgcmF0ZSBhbmQgZnVuZGluZyByYXRlIGRlbHRheDk2CiAgICAgICAgaWYgKHBvc2l0aW9uLnNpZGUpIHsgLy8gdHJ1ZSBpcyBsb25nCiAgICAgICAgICAgIHByZW1pdW1SYXRlWDk2ID0gLXByZW1pdW1SYXRlWDk2OwogICAgICAgIH0KCiAgICAgICAgbGV0IGN1bXVsYXRpdmVQcmVtaXVtUmF0ZVg5NjogSW50ID0gMDsKICAgICAgICBsZXQgc2FtcGxlQ291bnREZWx0YTogSW50ID0gdGltZURlbHRhIC8gU0FNUExFX1BSRU1JVU1fUkFURV9JTlRFUlZBTDsKICAgICAgICBsZXQgc2FtcGxlQ291bnRBZnRlcjogSW50ID0gc2FtcGxlLnNhbXBsZUNvdW50ICsgc2FtcGxlQ291bnREZWx0YTsKCiAgICAgICAgLy8gVE9ETyBjaGVjayBmb3JtdWxhCiAgICAgICAgY3VtdWxhdGl2ZVByZW1pdW1SYXRlWDk2ID0gcHJlbWl1bVJhdGVYOTYgKiAoKHNhbXBsZS5zYW1wbGVDb3VudCArIDEgKyBzYW1wbGVDb3VudEFmdGVyKSAqIHNhbXBsZUNvdW50RGVsdGEgLyAyICk7CiAgICAgICAgY3VtdWxhdGl2ZVByZW1pdW1SYXRlWDk2ID0gc2FtcGxlLmN1bXVsYXRpdmVQcmVtaXVtUmF0ZVg5NiArIGN1bXVsYXRpdmVQcmVtaXVtUmF0ZVg5NjsKCiAgICAgICAgaWYgKHNhbXBsZUNvdW50QWZ0ZXIgPCBSRVFVSVJFRF9TQU1QTEVfQ09VTlQpIHsKICAgICAgICAgICAgc2FtcGxlLmN1bXVsYXRpdmVQcmVtaXVtUmF0ZVg5NiA9IGN1bXVsYXRpdmVQcmVtaXVtUmF0ZVg5NjsKICAgICAgICAgICAgc2FtcGxlLnNhbXBsZUNvdW50ID0gc2FtcGxlQ291bnRBZnRlcjsKICAgICAgICAgICAgcmV0dXJuIFNhbXBsZVByZW1pdW1SYXRlUmVzdWx0IHsKICAgICAgICAgICAgICAgIHNhbXBsZTogc2FtcGxlLAogICAgICAgICAgICAgICAgc2hvdWxkQWRqdXN0RnVuZGluZ1JhdGU6IGZhbHNlLAogICAgICAgICAgICAgICAgZnVuZGluZ1JhdGVEZWx0YVg5NjogMAogICAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgbGV0IHByZW1pdW1SYXRlQXZnWDk2OiBJbnQgPSAwOwogICAgICAgIHByZW1pdW1SYXRlQXZnWDk2ID0gY3VtdWxhdGl2ZVByZW1pdW1SYXRlWDk2IC8gUFJFTUlVTV9SQVRFX0FWR19ERU5PTUlOQVRPUjsKICAgICAgICBpZiAoY3VtdWxhdGl2ZVByZW1pdW1SYXRlWDk2IDwgMCkgewogICAgICAgICAgICBwcmVtaXVtUmF0ZUF2Z1g5NiA9IC1wcmVtaXVtUmF0ZUF2Z1g5NjsKICAgICAgICB9CgogICAgICAgIGxldCBmdW5kaW5nUmF0ZURlbHRhWDk2OiBJbnQgPSBwcmVtaXVtUmF0ZUF2Z1g5NiArIHNlbGYuY2x1bXAocHJlbWl1bVJhdGVBdmdYOTYsIGludGVyZXN0UmF0ZVg5Nik7CiAgICAgICAgCiAgICAgICAgc2FtcGxlLmxhc3RBZGp1c3RGdW5kaW5nUmF0ZVRpbWUgPSBtYXhTYW1wbGluZ1RpbWU7CiAgICAgICAgc2FtcGxlLmN1bXVsYXRpdmVQcmVtaXVtUmF0ZVg5NiA9IDA7CiAgICAgICAgc2FtcGxlLnNhbXBsZUNvdW50ID0gMDsKCiAgICAgICAgcmV0dXJuIFNhbXBsZVByZW1pdW1SYXRlUmVzdWx0IHsKICAgICAgICAgICAgICAgIHNhbXBsZTogc2FtcGxlLAogICAgICAgICAgICAgICAgc2hvdWxkQWRqdXN0RnVuZGluZ1JhdGU6IHRydWUsCiAgICAgICAgICAgICAgICBmdW5kaW5nUmF0ZURlbHRhWDk2OiBmdW5kaW5nUmF0ZURlbHRhWDk2CiAgICAgICAgICAgIH07CiAgICB9CgogICAgZnVuIGNsdW1wKHByZW1pdW1SYXRlQXZnWDk2OiBJbnQsIGludGVyZXN0UmF0ZVg5NjogSW50KTogSW50IHsKICAgICAgICBsZXQgcmF0ZURlbHRhWDk2OiBJbnQgPSBpbnRlcmVzdFJhdGVYOTYgLSBwcmVtaXVtUmF0ZUF2Z1g5NjsKICAgICAgICBpZiAocmF0ZURlbHRhWDk2ID4gUFJFTUlVTV9SQVRFX0NMQU1QX0JPVU5EQVJZX1g5NikgewogICAgICAgICAgICByZXR1cm4gUFJFTUlVTV9SQVRFX0NMQU1QX0JPVU5EQVJZX1g5NjsKICAgICAgICB9IGVsc2UgaWYgKHJhdGVEZWx0YVg5NiA8IC1QUkVNSVVNX1JBVEVfQ0xBTVBfQk9VTkRBUllfWDk2KSB7CiAgICAgICAgICAgIHJldHVybiAtUFJFTUlVTV9SQVRFX0NMQU1QX0JPVU5EQVJZX1g5NjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gcmF0ZURlbHRhWDk2OwogICAgICAgIH0KCiAgICB9CgogICAgZnVuIGNhbGN1bGF0ZUZ1bmRpbmdSYXRlR3Jvd3RoWDk2KGdsb2JhbFJpc2tCdWZmZXJGdW5kOiBHbG9iYWxSaXNrQnVmZmVyRnVuZCwgZ2xvYmFsUG9zaXRpb246IEdsb2JhbFBvc2l0aW9uLCBmdW5kaW5nUmF0ZURlbHRhWDk2OiBJbnQsIG1heEZ1bmRpbmdSYXRlOiBJbnQsIGluZGV4UHJpY2U6IEludCk6IEZ1bmRpbmdSYXRlR3Jvd3RoWDk2IHsKICAgICAgICBsZXQgcmVzOiBGdW5kaW5nUmF0ZUdyb3d0aFg5NiA9IEZ1bmRpbmdSYXRlR3Jvd3RoWDk2IHsKICAgICAgICAgICAgY2xhbXBlZEZ1bmRpbmdSYXRlRGVsdGFYOTY6IDAsCiAgICAgICAgICAgIGxvbmdGdW5kaW5nUmF0ZUdyb3d0aEFmdGVyWDk2OiAwLAogICAgICAgICAgICBzaG9ydEZ1bmRpbmdSYXRlR3Jvd3RoQWZ0ZXJYOTY6IDAKICAgICAgICB9OwogICAgICAgIGxldCBtYXhGdW5kaW5nUmF0ZVg5NjogSW50ID0gc2VsZi5jYWxjdWxhdGVNYXhGdW5kaW5nUmF0ZVg5NihtYXhGdW5kaW5nUmF0ZSk7CiAgICAgICAgaWYgKGZ1bmRpbmdSYXRlRGVsdGFYOTYgPiBtYXhGdW5kaW5nUmF0ZVg5NikgewogICAgICAgICAgICByZXMuY2xhbXBlZEZ1bmRpbmdSYXRlRGVsdGFYOTYgPSBtYXhGdW5kaW5nUmF0ZVg5NjsKICAgICAgICB9IGVsc2UgaWYgKGZ1bmRpbmdSYXRlRGVsdGFYOTYgPCAtbWF4RnVuZGluZ1JhdGVYOTYpIHsKICAgICAgICAgICAgcmVzLmNsYW1wZWRGdW5kaW5nUmF0ZURlbHRhWDk2ID0gLW1heEZ1bmRpbmdSYXRlWDk2OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlcy5jbGFtcGVkRnVuZGluZ1JhdGVEZWx0YVg5NiA9IGZ1bmRpbmdSYXRlRGVsdGFYOTY7CiAgICAgICAgfQogICAgICAgIGxldCBwYWlkU2l6ZTogSW50ID0gMDsKICAgICAgICBsZXQgcmVjZWl2ZWRTaXplOiBJbnQgPSAwOwogICAgICAgIGxldCBjbGFtcGVkRnVuZGluZ1JhdGVEZWx0YUFic1g5NjogSW50ID0gMDsKICAgICAgICBpZiByZXMuY2xhbXBlZEZ1bmRpbmdSYXRlRGVsdGFYOTYgPj0gMCB7CiAgICAgICAgICAgIHBhaWRTaXplID0gZ2xvYmFsUG9zaXRpb24ubG9uZ1NpemU7CiAgICAgICAgICAgIHJlY2VpdmVkU2l6ZSA9IGdsb2JhbFBvc2l0aW9uLnNob3J0U2l6ZTsKICAgICAgICAgICAgY2xhbXBlZEZ1bmRpbmdSYXRlRGVsdGFBYnNYOTYgPSByZXMuY2xhbXBlZEZ1bmRpbmdSYXRlRGVsdGFYOTY7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcGFpZFNpemUgPSBnbG9iYWxQb3NpdGlvbi5zaG9ydFNpemU7CiAgICAgICAgICAgIHJlY2VpdmVkU2l6ZSA9IGdsb2JhbFBvc2l0aW9uLmxvbmdTaXplOwogICAgICAgICAgICBjbGFtcGVkRnVuZGluZ1JhdGVEZWx0YUFic1g5NiA9IC1yZXMuY2xhbXBlZEZ1bmRpbmdSYXRlRGVsdGFYOTY7CiAgICAgICAgfQoKICAgICAgICBsZXQgcGFpZEZ1bmRpbmdSYXRlR3Jvd3RoRGVsdGFYOTY6IEludCA9IGluZGV4UHJpY2UgKiBjbGFtcGVkRnVuZGluZ1JhdGVEZWx0YUFic1g5NiAvIFE5NjsKCiAgICAgICAgbGV0IHJlY2VpdmVkRnVuZGluZ1JhdGVHcm93dGhEZWx0YVg5NjogSW50ID0gMDsKICAgICAgICBpZiAocGFpZEZ1bmRpbmdSYXRlR3Jvd3RoRGVsdGFYOTYgPiAwKSB7CiAgICAgICAgICAgIGlmIChyZWNlaXZlZFNpemUgPiAwKSB7CiAgICAgICAgICAgICAgICByZWNlaXZlZEZ1bmRpbmdSYXRlR3Jvd3RoRGVsdGFYOTYgPSBwYWlkU2l6ZSAqIHBhaWRGdW5kaW5nUmF0ZUdyb3d0aERlbHRhWDk2IC8gcmVjZWl2ZWRTaXplOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbGV0IHJpc2tCdWZmZXJGdW5kRGVsdGE6IEludCA9IHBhaWRTaXplICogcGFpZEZ1bmRpbmdSYXRlR3Jvd3RoRGVsdGFYOTYgLyBROTY7CiAgICAgICAgICAgICAgICBsZXQgcmlza0J1ZmZlckZ1bmRBZnRlcjogSW50ID0gZ2xvYmFsUmlza0J1ZmZlckZ1bmQucmlza0J1ZmZlckZ1bmQgKyByaXNrQnVmZmVyRnVuZERlbHRhOwogICAgICAgICAgICAgICAgZ2xvYmFsUmlza0J1ZmZlckZ1bmQucmlza0J1ZmZlckZ1bmQgPSByaXNrQnVmZmVyRnVuZEFmdGVyOwogICAgICAgICAgICAgICAgLy8gVE9ETyByZXR1cm4gZ2xvYmFsUmlza0J1ZmZlckZ1bmQgb3Igcmlza0J1ZmZlckZ1bmRBZnRlcgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJlcy5sb25nRnVuZGluZ1JhdGVHcm93dGhBZnRlclg5NiA9IGdsb2JhbFBvc2l0aW9uLmxvbmdGdW5kaW5nUmF0ZUdyb3d0aFg5NjsKICAgICAgICByZXMuc2hvcnRGdW5kaW5nUmF0ZUdyb3d0aEFmdGVyWDk2ID0gZ2xvYmFsUG9zaXRpb24uc2hvcnRGdW5kaW5nUmF0ZUdyb3d0aFg5NjsKCiAgICAgICAgaWYgKHJlcy5jbGFtcGVkRnVuZGluZ1JhdGVEZWx0YVg5NiA+PSAwKSB7CiAgICAgICAgICAgIHJlcy5sb25nRnVuZGluZ1JhdGVHcm93dGhBZnRlclg5NiA9IHJlcy5sb25nRnVuZGluZ1JhdGVHcm93dGhBZnRlclg5NiAtIHBhaWRGdW5kaW5nUmF0ZUdyb3d0aERlbHRhWDk2OwogICAgICAgICAgICByZXMuc2hvcnRGdW5kaW5nUmF0ZUdyb3d0aEFmdGVyWDk2ID0gcmVzLnNob3J0RnVuZGluZ1JhdGVHcm93dGhBZnRlclg5NiArIHJlY2VpdmVkRnVuZGluZ1JhdGVHcm93dGhEZWx0YVg5NjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXMubG9uZ0Z1bmRpbmdSYXRlR3Jvd3RoQWZ0ZXJYOTYgPSByZXMubG9uZ0Z1bmRpbmdSYXRlR3Jvd3RoQWZ0ZXJYOTYgKyByZWNlaXZlZEZ1bmRpbmdSYXRlR3Jvd3RoRGVsdGFYOTY7CiAgICAgICAgICAgIHJlcy5zaG9ydEZ1bmRpbmdSYXRlR3Jvd3RoQWZ0ZXJYOTYgPSByZXMuc2hvcnRGdW5kaW5nUmF0ZUdyb3d0aEFmdGVyWDk2IC0gcGFpZEZ1bmRpbmdSYXRlR3Jvd3RoRGVsdGFYOTY7CiAgICAgICAgfQogICAgICAgIHJldHVybiByZXM7CiAgICB9CgogICAgZnVuIGNhbGN1bGF0ZU1heEZ1bmRpbmdSYXRlWDk2KG1heEZ1bmRpbmdSYXRlOiBJbnQpOiBJbnQgewogICAgICAgIHJldHVybiBtYXhGdW5kaW5nUmF0ZSAvIFE5NiAqIEJBU0lTX1BPSU5UU19ESVZJU09SOwogICAgfQoKICAgIC8vIFRPRE8gaW1wIGluIG1haW4gY29udHJhY3QKICAgIGZ1biBzbmFwc2hvdEFuZEFkanVzdEdsb2JhbEZ1bmRpbmdSYXRlKCkgewoKICAgIH0KCn0=","contracts/core/pool.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CmltcG9ydCAiQHN0ZGxpYi9vd25hYmxlIjsKaW1wb3J0ICIuL21lc3NhZ2VzIjsKaW1wb3J0ICIuL2V2ZW50cyI7CmltcG9ydCAiLi9zdHJ1Y3RzIjsKaW1wb3J0ICIuL2NvbnN0YW50cyI7CmltcG9ydCAiLi9mdW5kaW5nUmF0ZSI7Cgpjb250cmFjdCBQb29sIHdpdGggRGVwbG95YWJsZSwgT3duYWJsZSwgZnVuZGluZ1JhdGUgewoKICAgIC8vIGNvbmZpZwogICAgZ2FzQ29uc3VtcHRpb246IEludCA9IHRvbigiMC4wNSIpOwogICAgbWluVG9uc0ZvclN0b3JhZ2U6IEludCA9IHRvbigiMC4wMyIpOwoKICAgIHRva2VuQ29uZmlnczogbWFwPEludCwgVG9rZW5Db25maWc+OyAvLyB0b2tlbkluZGV4ID0+IHRva2VuQ29uZmlnCiAgICB0b2tlbkluZGV4TmV4dDogSW50ID0gMTsKCiAgICAvLyByYmZMb2NrVGltZTogSW50ID0gMTAgKiAyNCAqIDYwICogNjA7IC8vIGxvY2sgMTAgZGF5cwogICAgcmJmTG9ja1RpbWU6IEludCA9IDUgKiA2MDsgLy8gVE9ETyBsb2NrIDUgbWluIGZvciB0ZXN0CiAgICBib251c0ZhY3RvcjogSW50ID0gMTsKCiAgICBtaW5MUE1hcmdpbjogSW50ID0gMjsKICAgIG1heExQTGV2ZXJhZ2U6IEludCA9IDEwMDsKICAgIGxwTGlxdWlkYXRpb25GZWU6IEludCA9IDUgKiBwb3coMTAsIDUpOyAvLyAwLjV1CiAgICBscE1heFJpc2tSYXRlOiBJbnQgPSBwb3coMTAsIDYpOwoKICAgIC8vIGFkbWluCiAgICBvd25lcjogQWRkcmVzczsKICAgIG9yZGVyQm9vazogQWRkcmVzczsKCiAgICAvLyBSQkYKICAgIGdsb2JhbFJCRlBvc2l0aW9uOiBHbG9iYWxSQkZQb3NpdGlvbjsKICAgIHJiZlBvc2l0aW9uczogbWFwPEFkZHJlc3MsIFJCRlBvc2l0aW9uPjsgLy8gdHJhZGVyID0+IFJCRgogICAgcmJmUG9zaXRpb25JbmRleE5leHQ6IEludCBhcyB1aW50NjQgPSAxOwoKICAgIC8vIExQCiAgICBnbG9iYWxMaXF1aWRpdHk6IEludCA9IDA7CiAgICBnbG9iYWxMUFBvc2l0aW9uczogbWFwPEludCwgR2xvYmFsTFBQb3NpdGlvbj47IC8vIHRva2VuSW5kZXggPT4gZ2xvYmFsTFAKICAgIGxwUG9zaXRpb25zOiBtYXA8QWRkcmVzcywgTFBQb3NpdGlvbj47IC8vIHRyYWRlciA9PiBMUAogICAgbHBQb3NpdGlvbkluZGV4TmV4dDogSW50IGFzIHVpbnQ2NCA9IDE7CgogICAgbHBUcmFkaW5nRmVlR3Jvd3RoOiBJbnQgPSAwOwogICAgbHBGdW5kaW5nRmVlR3Jvd3RoOiBJbnQgPSAwOwoKICAgIC8vIFBlcnAKICAgIHBlcnBQb3NpdGlvbnM6IG1hcDxJbnQsIEFjY291bnRQZXJwUG9zaXRpb24+OyAvLyB0b2tlbkluZGV4ID0+IHVzZXIgPT4gZGlyZWN0aW9uID0+IHBvc2l0aW9uCiAgICBwZXJwUG9zaXRpb25JbmRleE5leHQ6IEludCBhcyB1aW50NjQgPSAxOwoKICAgIC8vIGZ1bmRpbmcgcmF0ZQogICAgcHJpY2VTdGF0ZXM6IG1hcDxJbnQsIFByaWNlU3RhdGU+OyAvLyB0b2tlbkluZGV4ID0+IHByaWNlU3RhdGUKCiAgICBnbG9iYWxSaXNrQnVmZmVyRnVuZHM6IG1hcDxJbnQsIEdsb2JhbFJpc2tCdWZmZXJGdW5kPjsgLy8gdG9rZW5JbmRleCA9PiBSQkYKICAgIGdsb2JhbFBvc2l0aW9ucyA6IG1hcDxJbnQsIEdsb2JhbFBvc2l0aW9uPjsgLy8gdG9rZW5JbmRleCA9PiBnbG9iYWxQb3NpdGlvbgogICAgZ2xvYmFsRnVuZGluZ1JhdGVTYW1wbGVzOiBtYXA8SW50LCBHbG9iYWxGdW5kaW5nUmF0ZVNhbXBsZT47IC8vIHRva2VuSW5kZXggPT4gc2FtcGxlCiAgICBnbG9iYWxMaXF1aWRpdHlQb3NpdGlvbnM6IG1hcDxJbnQsIEdsb2JhbExpcXVpZGl0eVBvc2l0aW9uPjsgLy8gdG9rZW5JbmRleCA9PiBnbG9iYWxMaXF1aWRpdHlQb3NpdGlvbgogICAgcHJldmlvdXNHbG9iYWxGdW5kaW5nUmF0ZXM6IG1hcDxJbnQsIFByZXZpb3VzR2xvYmFsRnVuZGluZ1JhdGU+OyAvLyB0b2tlbkluZGV4ID0+IHJhdGUKCgogICAgaW5pdCgpIHsKICAgICAgICBzZWxmLm93bmVyID0gc2VuZGVyKCk7CiAgICAgICAgc2VsZi5vcmRlckJvb2sgPSBuZXdBZGRyZXNzKDAsIDApOwogICAgICAgIHNlbGYuZ2xvYmFsUkJGUG9zaXRpb24gPSBHbG9iYWxSQkZQb3NpdGlvbntyaXNrQnVmZmVyRnVuZDogMCwgbGlxdWlkaXR5OiAwfTsKICAgIH0KCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBBZG1pbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCiAgICByZWNlaXZlKG1zZzogVXBkYXRlQ29uZmlnKSB7CiAgICAgICAgc2VsZi5yZXF1aXJlT3duZXIoKTsKICAgICAgICBpZiAobXNnLmdhc0NvbnN1bXB0aW9uICE9IG51bGwpewogICAgICAgICAgICBzZWxmLmdhc0NvbnN1bXB0aW9uID0gbXNnLmdhc0NvbnN1bXB0aW9uISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cubWluVG9uc0ZvclN0b3JhZ2UgIT0gbnVsbCl7CiAgICAgICAgICAgIHNlbGYubWluVG9uc0ZvclN0b3JhZ2UgPSBtc2cubWluVG9uc0ZvclN0b3JhZ2UhITsKICAgICAgICB9CiAgICAgICAgaWYgKG1zZy5yYmZMb2NrVGltZSAhPSBudWxsKXsKICAgICAgICAgICAgc2VsZi5yYmZMb2NrVGltZSA9IG1zZy5yYmZMb2NrVGltZSEhOwogICAgICAgIH0KICAgICAgICBpZiAobXNnLmJvbnVzRmFjdG9yICE9IG51bGwpewogICAgICAgICAgICBzZWxmLmJvbnVzRmFjdG9yID0gbXNnLmJvbnVzRmFjdG9yISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cubWluTFBNYXJnaW4gIT0gbnVsbCl7CiAgICAgICAgICAgIHNlbGYubWluTFBNYXJnaW4gPSBtc2cubWluTFBNYXJnaW4hITsKICAgICAgICB9CiAgICAgICAgaWYgKG1zZy5tYXhMUExldmVyYWdlICE9IG51bGwpewogICAgICAgICAgICBzZWxmLm1heExQTGV2ZXJhZ2UgPSBtc2cubWF4TFBMZXZlcmFnZSEhOwogICAgICAgIH0KICAgICAgICBpZiAobXNnLmxwTGlxdWlkYXRpb25GZWUgIT0gbnVsbCl7CiAgICAgICAgICAgIHNlbGYubHBMaXF1aWRhdGlvbkZlZSA9IG1zZy5scExpcXVpZGF0aW9uRmVlISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cubHBNYXhSaXNrUmF0ZSAhPSBudWxsKXsKICAgICAgICAgICAgc2VsZi5scE1heFJpc2tSYXRlID0gbXNnLmxwTWF4Umlza1JhdGUhITsKICAgICAgICB9CiAgICAgICAgaWYgKG1zZy5vcmRlckJvb2sgIT0gbnVsbCl7CiAgICAgICAgICAgIHNlbGYub3JkZXJCb29rID0gbXNnLm9yZGVyQm9vayEhOwogICAgICAgIH0KICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogc2VuZGVyKCksCiAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUKICAgICAgICB9KTsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogVXBkYXRlVG9rZW5Db25maWcpIHsKICAgICAgICBzZWxmLnJlcXVpcmVPd25lcigpOwoKICAgICAgICBsZXQgdG9rZW5Db25maWdPcHQ6IFRva2VuQ29uZmlnPyA9IHNlbGYudG9rZW5Db25maWdzLmdldChtc2cudG9rZW5JZCk7CiAgICAgICAgbGV0IHRva2VuQ29uZmlnOiBUb2tlbkNvbmZpZyA9IFRva2VuQ29uZmlnewogICAgICAgICAgICBuYW1lOiAiIiwKICAgICAgICAgICAgZW5hYmxlOiBmYWxzZSwKICAgICAgICAgICAgbWluTWFyZ2luUGVyUG9zaXRpb246IDEwLAogICAgICAgICAgICBtYXhMZXZlcmFnZVBlclBvc2l0aW9uOiA1MCwKICAgICAgICAgICAgbGlxdWlkYXRpb25GZWVSYXRlUGVyUG9zaXRpb246IDAsCiAgICAgICAgICAgIGxpcXVpZGF0aW9uRXhlY3V0aW9uRmVlOiAwLAogICAgICAgICAgICBpbnRlcmVzdFJhdGU6IDAsCiAgICAgICAgICAgIG1heEZ1bmRpbmdSYXRlOiAwCiAgICAgICAgfTsKICAgICAgICBpZiAodG9rZW5Db25maWdPcHQgIT0gbnVsbCkgewogICAgICAgICAgICB0b2tlbkNvbmZpZyA9IHRva2VuQ29uZmlnT3B0ISE7CiAgICAgICAgfQoKICAgICAgICBpZiAobXNnLm5hbWUgIT0gbnVsbCl7CiAgICAgICAgICAgIHRva2VuQ29uZmlnLm5hbWUgPSBtc2cubmFtZSEhOwogICAgICAgIH0KICAgICAgICBpZiAobXNnLmVuYWJsZSAhPSBudWxsKXsKICAgICAgICAgICAgdG9rZW5Db25maWcuZW5hYmxlID0gbXNnLmVuYWJsZSEhOwogICAgICAgIH0KICAgICAgICBpZiAobXNnLm1pbk1hcmdpblBlclBvc2l0aW9uICE9IG51bGwpewogICAgICAgICAgICB0b2tlbkNvbmZpZy5taW5NYXJnaW5QZXJQb3NpdGlvbiA9IG1zZy5taW5NYXJnaW5QZXJQb3NpdGlvbiEhOwogICAgICAgIH0KICAgICAgICBpZiAobXNnLm1heExldmVyYWdlUGVyUG9zaXRpb24gIT0gbnVsbCl7CiAgICAgICAgICAgIHRva2VuQ29uZmlnLm1heExldmVyYWdlUGVyUG9zaXRpb24gPSBtc2cubWF4TGV2ZXJhZ2VQZXJQb3NpdGlvbiEhOwogICAgICAgIH0KICAgICAgICBpZiAobXNnLmxpcXVpZGF0aW9uRmVlUmF0ZVBlclBvc2l0aW9uICE9IG51bGwpewogICAgICAgICAgICB0b2tlbkNvbmZpZy5saXF1aWRhdGlvbkZlZVJhdGVQZXJQb3NpdGlvbiA9IG1zZy5saXF1aWRhdGlvbkZlZVJhdGVQZXJQb3NpdGlvbiEhOwogICAgICAgIH0KICAgICAgICBpZiAobXNnLmxpcXVpZGF0aW9uRXhlY3V0aW9uRmVlICE9IG51bGwpewogICAgICAgICAgICB0b2tlbkNvbmZpZy5saXF1aWRhdGlvbkV4ZWN1dGlvbkZlZSA9IG1zZy5saXF1aWRhdGlvbkV4ZWN1dGlvbkZlZSEhOwogICAgICAgIH0KICAgICAgICBpZiAobXNnLmludGVyZXN0UmF0ZSAhPSBudWxsKXsKICAgICAgICAgICAgdG9rZW5Db25maWcuaW50ZXJlc3RSYXRlID0gbXNnLmludGVyZXN0UmF0ZSEhOwogICAgICAgIH0KICAgICAgICBpZiAobXNnLm1heEZ1bmRpbmdSYXRlICE9IG51bGwpewogICAgICAgICAgICB0b2tlbkNvbmZpZy5tYXhGdW5kaW5nUmF0ZSA9IG1zZy5tYXhGdW5kaW5nUmF0ZSEhOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogc2VuZGVyKCksCiAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUKICAgICAgICB9KTsKICAgIH0KCiAgICBnZXQgZnVuIGNvbmZpZ0RhdGEoKTogQ29uZmlnRGF0YSB7CiAgICAgICAgcmV0dXJuIENvbmZpZ0RhdGF7CiAgICAgICAgICAgIHJiZkxvY2tUaW1lOiBzZWxmLnJiZkxvY2tUaW1lLAogICAgICAgICAgICBib251c0ZhY3Rvcjogc2VsZi5ib251c0ZhY3RvciwKICAgICAgICAgICAgbWluTFBNYXJnaW46IHNlbGYubWluTFBNYXJnaW4sCiAgICAgICAgICAgIG1heExQTGV2ZXJhZ2U6IHNlbGYubWF4TFBMZXZlcmFnZSwKICAgICAgICAgICAgbHBMaXF1aWRhdGlvbkZlZTogc2VsZi5scExpcXVpZGF0aW9uRmVlLAogICAgICAgICAgICBscE1heFJpc2tSYXRlOiBzZWxmLmxwTWF4Umlza1JhdGUsCiAgICAgICAgICAgIG9yZGVyQm9vazogc2VsZi5vcmRlckJvb2sKICAgICAgICB9OwogICAgfQoKICAgIGdldCBmdW4gdG9rZW5Db25maWcodG9rZW5JZDogSW50KTogVG9rZW5Db25maWc/IHsKICAgICAgICByZXR1cm4gc2VsZi50b2tlbkNvbmZpZ3MuZ2V0KHRva2VuSWQpOwogICAgfQoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IFJCRiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCiAgICAKICAgIHJlY2VpdmUobXNnOiBVcGRhdGVSQkZQb3NpdGlvbikgewogICAgICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gc2VsZi5vcmRlckJvb2ssICJpbnZhbGlkIHNlbmRlciIpOwoKICAgICAgICBsZXQgcmVjZWl2ZTogSW50ID0gMDsKICAgICAgICBpZiAobXNnLmlzSW5jcmVhc2UpIHsKICAgICAgICAgICAgc2VsZi5pbmNyZWFzZVBvc2l0aW9uKG1zZy5hY2NvdW50LCBtc2cubGlxdWlkaXR5RGVsdGEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlY2VpdmUgPSBzZWxmLmRlY3JlYXNlUG9zaXRpb24obXNnLmFjY291bnQsIG1zZy5saXF1aWRpdHlEZWx0YSk7CiAgICAgICAgfQoKICAgICAgICAvLyBzZW5kIHVwZGF0ZSBzdWNjZXNzIG1zZwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLm9yZGVyQm9vaywKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdWYWx1ZSwKICAgICAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICAgICAgYm9keTogVXBkYXRlUkJGUG9zaXRpb25TdWNjZXNzIHsKICAgICAgICAgICAgICAgIG9yZGVySWQ6IG1zZy5vcmRlcklkLAogICAgICAgICAgICAgICAgcmVjZWl2ZTogcmVjZWl2ZSwKICAgICAgICAgICAgICAgIHRyeElkOiBtc2cudHJ4SWQKICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgIH0pOwogICAgfQoKICAgIGZ1biBpbmNyZWFzZVBvc2l0aW9uKGFjY291bnQ6IEFkZHJlc3MsIGxpcXVpZGl0eURlbHRhOiBJbnQpIHsKICAgICAgICAvLyBnZXQgcG9zaXRpb24KICAgICAgICBsZXQgbHBQb3NpdGlvbk9wdDogUkJGUG9zaXRpb24/ID0gc2VsZi5yYmZQb3NpdGlvbnMuZ2V0KGFjY291bnQpOwogICAgICAgIC8vIGluaXQgcG9zaXRpb24gaWYgbm90IGV4aXN0CiAgICAgICAgbGV0IHJiZlBvc2l0aW9uOiBSQkZQb3NpdGlvbiA9IFJCRlBvc2l0aW9uewogICAgICAgICAgICAgICAgcG9zaXRpb25JZDogMCwKICAgICAgICAgICAgICAgIGxpcXVpZGl0eTogMCwKICAgICAgICAgICAgICAgIGJvbnVzOiAwLAogICAgICAgICAgICAgICAgdW5sb2NrVGltZTogMAogICAgICAgICAgICB9OwogICAgICAgIGlmIChscFBvc2l0aW9uT3B0ICE9IG51bGwpIHsKICAgICAgICAgICAgcmJmUG9zaXRpb24gPSBscFBvc2l0aW9uT3B0ISE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmJmUG9zaXRpb24ucG9zaXRpb25JZCA9IHNlbGYucmJmUG9zaXRpb25JbmRleE5leHQ7CiAgICAgICAgICAgIHNlbGYucmJmUG9zaXRpb25JbmRleE5leHQgPSBzZWxmLnJiZlBvc2l0aW9uSW5kZXhOZXh0ICsgMTsKICAgICAgICB9CgogICAgICAgIC8vIHVwZGF0ZSBSQkYKICAgICAgICAvLyBUT0RPIHVwZGF0ZSBmdW5kaW5nIHJhdGUKCiAgICAgICAgLy8gVE9ETyBjYWxjdWxhdGUgYm9udXMKICAgICAgICBsZXQgZ2xvYmFsTmV0UkJGOiBJbnQgPSBzZWxmLmdsb2JhbFJCRlBvc2l0aW9uLnJpc2tCdWZmZXJGdW5kICsgc2VsZi5jYWxjdWxhdGVUb3RhbEdsb2JhbFVucmVhbGl6ZWRQbmwoKTsKICAgICAgICBpZiAoZ2xvYmFsTmV0UkJGIDwgMCkgewogICAgICAgICAgICBnbG9iYWxOZXRSQkYgPSAwOwogICAgICAgIH0KICAgICAgICBsZXQgYm9udXM6IEludCA9IDA7CiAgICAgICAgaWYgKGdsb2JhbE5ldFJCRiA8IHNlbGYuZ2xvYmFsUkJGUG9zaXRpb24ubGlxdWlkaXR5KSB7CiAgICAgICAgICAgIC8vIGJvbnVzID0gYiArIHMgKDEgLSB4KSAqIGxpcXVpZGl0eQogICAgICAgICAgICBib251cyA9IHNlbGYuYm9udXNGYWN0b3IgKiAoc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5saXF1aWRpdHkgLSBnbG9iYWxOZXRSQkYpCiAgICAgICAgICAgICAgICAgKiBsaXF1aWRpdHlEZWx0YSAvIHNlbGYuZ2xvYmFsUkJGUG9zaXRpb24ubGlxdWlkaXR5OwogICAgICAgICAgICBkdW1wKCJib251czoiKTsKICAgICAgICAgICAgZHVtcChib251cyk7CiAgICAgICAgICAgIHJiZlBvc2l0aW9uLmJvbnVzID0gcmJmUG9zaXRpb24uYm9udXMgKyBib251czsKICAgICAgICB9CgogICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbgogICAgICAgIHJiZlBvc2l0aW9uLmxpcXVpZGl0eSA9IHJiZlBvc2l0aW9uLmxpcXVpZGl0eSArIGxpcXVpZGl0eURlbHRhOwogICAgICAgIHJiZlBvc2l0aW9uLnVubG9ja1RpbWUgPSBub3coKSArIHNlbGYucmJmTG9ja1RpbWU7CgogICAgICAgIC8vIHNldCBwb3NpdGlvbgogICAgICAgIGR1bXAoImV4ZWN1dGUgaW5jcmVhc2UgcmJmIHBvc2l0aW9uIik7CiAgICAgICAgZHVtcChiZWdpbkNlbGwoKS5zdG9yZUFkZHJlc3MoYWNjb3VudCkuZW5kQ2VsbCgpLmhhc2goKSk7CgogICAgICAgIHNlbGYucmJmUG9zaXRpb25zLnNldChhY2NvdW50LCByYmZQb3NpdGlvbik7CgogICAgICAgIC8vIHVwZGF0ZSBnbG9iYWwgcG9zaXRpb24KICAgICAgICBzZWxmLmdsb2JhbFJCRlBvc2l0aW9uLnJpc2tCdWZmZXJGdW5kID0gc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5yaXNrQnVmZmVyRnVuZCArIGxpcXVpZGl0eURlbHRhOwogICAgICAgIHNlbGYuZ2xvYmFsUkJGUG9zaXRpb24ubGlxdWlkaXR5ID0gc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5saXF1aWRpdHkgKyBsaXF1aWRpdHlEZWx0YTsKCiAgICAgICAgZW1pdChSQkZQb3NpdGlvbkluY3JlYXNlZEV2ZW50ewogICAgICAgICAgICBwb3NpdGlvbklkOiByYmZQb3NpdGlvbi5wb3NpdGlvbklkLAogICAgICAgICAgICBhY2NvdW50OiBhY2NvdW50LAogICAgICAgICAgICBsaXF1aWRpdHlEZWx0YTogbGlxdWlkaXR5RGVsdGEsCiAgICAgICAgICAgIGxpcXVpZGl0eUFmdGVyOiByYmZQb3NpdGlvbi5saXF1aWRpdHksCiAgICAgICAgICAgIGJvbnVzRGVsdGE6IGJvbnVzLAogICAgICAgICAgICBib251c0FmdGVyOiByYmZQb3NpdGlvbi5ib251cywKICAgICAgICAgICAgdW5sb2NrVGltZUFmdGVyOiByYmZQb3NpdGlvbi51bmxvY2tUaW1lCiAgICAgICAgfS50b0NlbGwoKSk7CiAgICB9CgogICAgZnVuIGRlY3JlYXNlUG9zaXRpb24oYWNjb3VudDogQWRkcmVzcywgbGlxdWlkaXR5RGVsdGE6IEludCk6IEludCB7CiAgICAgICAgLy8gZ2V0IHBvc2l0aW9uCiAgICAgICAgbGV0IGZ1bmRQb3NpdGlvbk9wdDogUkJGUG9zaXRpb24/ID0gc2VsZi5yYmZQb3NpdGlvbnMuZ2V0KGFjY291bnQpOwogICAgICAgIC8vIGNoZWNrIHBvc2l0aW9uCiAgICAgICAgcmVxdWlyZShmdW5kUG9zaXRpb25PcHQgIT0gbnVsbCwgInBvc2l0aW9uIG5vdCBleGlzdCIpOwogICAgICAgIGxldCByYmZQb3NpdGlvbjogUkJGUG9zaXRpb24gPSBmdW5kUG9zaXRpb25PcHQhITsKCiAgICAgICAgLy8gY2hlY2sgdW5sb2NrIHRpbWUKICAgICAgICBkdW1wKHJiZlBvc2l0aW9uLnVubG9ja1RpbWUpOwogICAgICAgIGR1bXAobm93KCkpOwogICAgICAgIHJlcXVpcmUocmJmUG9zaXRpb24udW5sb2NrVGltZSA8PSBub3coKSwgIm5vdCByZWFjaCB1bmxvY2sgdGltZSIpOwogICAgICAgIC8vIGNoZWNrIGxpcXVpZGl0eSBkZWx0YQogICAgICAgIHJlcXVpcmUocmJmUG9zaXRpb24ubGlxdWlkaXR5ID49IGxpcXVpZGl0eURlbHRhLCAiaW5zdWZmaWNpZW50IGxpcXVpZGl0eSIpOwoKICAgICAgICAvLyB1cGRhdGUgUkJGCiAgICAgICAgLy8gVE9ETyB1cGRhdGUgZnVuZGluZyByYXRlCiAgICAgICAgCgoKICAgICAgICAvLyBjYWxjdWxhdGUgTFAgZ2xvYmFsIHVucmVhbGl6ZWQgcG5sCiAgICAgICAgbGV0IHRvdGFsR2xvYmFsVW5yZWFsaXplZFBubDogSW50ID0gc2VsZi5jYWxjdWxhdGVUb3RhbEdsb2JhbFVucmVhbGl6ZWRQbmwoKTsKICAgICAgICByZXF1aXJlKHNlbGYuZ2xvYmFsUkJGUG9zaXRpb24ucmlza0J1ZmZlckZ1bmQgKyB0b3RhbEdsb2JhbFVucmVhbGl6ZWRQbmwgPiAwLCAiaW5zdWZmaWNpZW50IGdsb2JhbCBSQkYiKTsKCiAgICAgICAgLy8gY2FsY3VsYXRlIHJlY2VpdmUgYW1vdW50CiAgICAgICAgbGV0IGdsb2JhbE5ldFJCRjogSW50ID0gc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5yaXNrQnVmZmVyRnVuZCArIHNlbGYuY2FsY3VsYXRlVG90YWxHbG9iYWxVbnJlYWxpemVkUG5sKCk7CiAgICAgICAgaWYgKGdsb2JhbE5ldFJCRiA8IDApIHsKICAgICAgICAgICAgZ2xvYmFsTmV0UkJGID0gMDsKICAgICAgICB9CiAgICAgICAgcmVxdWlyZShnbG9iYWxOZXRSQkYgPiAwLCAiaW5zdWZpY2llbnQgZ2xvYmFsIG5ldCBSQkYiKTsKCiAgICAgICAgbGV0IHJlY2VpdmU6IEludCA9IDA7CiAgICAgICAgbGV0IGJvbnVzOiBJbnQgPSAwOwoKICAgICAgICBpZiAoZ2xvYmFsTmV0UkJGID49IHNlbGYuZ2xvYmFsUkJGUG9zaXRpb24ubGlxdWlkaXR5KSB7CiAgICAgICAgICAgIGxldCBuOiBJbnQgPSAoKG5vdygpIC0gcmJmUG9zaXRpb24udW5sb2NrVGltZSkgICsgc2VsZi5yYmZMb2NrVGltZSkgLyBEQVk7CgogICAgICAgICAgICBpZiAocmJmUG9zaXRpb24uYm9udXMgPT0gMCkgewogICAgICAgICAgICAgICAgLy8gYm9udXMgPSBsaXF1aWRpdHkgKiBy77yIeC0x77yJKiBtaW4obu+8jDEwMO+8iSogMC4xJQogICAgICAgICAgICAgICAgYm9udXMgPSBsaXF1aWRpdHlEZWx0YSAqIHNlbGYuYm9udXNGYWN0b3IgKiAoZ2xvYmFsTmV0UkJGIC0gc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5saXF1aWRpdHkpICogbWluKG4sIDEwMCkgLyAoZ2xvYmFsTmV0UkJGICogMTAwMCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBsZXQgYm9udXMxOiBJbnQgPSBsaXF1aWRpdHlEZWx0YSAqIChnbG9iYWxOZXRSQkYgLSBzZWxmLmdsb2JhbFJCRlBvc2l0aW9uLmxpcXVpZGl0eSkgLyBnbG9iYWxOZXRSQkY7CiAgICAgICAgICAgICAgICBsZXQgYm9udXMyOiBJbnQgPSByYmZQb3NpdGlvbi5ib251czsKICAgICAgICAgICAgICAgIGxldCBib251czM6IEludCA9IGxpcXVpZGl0eURlbHRhICogc2VsZi5ib251c0ZhY3RvciAqIChnbG9iYWxOZXRSQkYgLSBzZWxmLmdsb2JhbFJCRlBvc2l0aW9uLmxpcXVpZGl0eSkgKiBtaW4obiwgMTAwKSAvIChnbG9iYWxOZXRSQkYgKiAxMDAwKTsKICAgICAgICAgICAgICAgIGJvbnVzID0gbWF4KG1pbihib251czEsIGJvbnVzMiksIGJvbnVzMyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmVjZWl2ZSA9IGxpcXVpZGl0eURlbHRhICsgYm9udXM7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVjZWl2ZSA9IGxpcXVpZGl0eURlbHRhICogZ2xvYmFsTmV0UkJGIC8gc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5saXF1aWRpdHk7CiAgICAgICAgfQogICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbgogICAgICAgIHJiZlBvc2l0aW9uLmxpcXVpZGl0eSA9IHJiZlBvc2l0aW9uLmxpcXVpZGl0eSAtIGxpcXVpZGl0eURlbHRhOwogICAgICAgIHJiZlBvc2l0aW9uLmJvbnVzID0gcmJmUG9zaXRpb24uYm9udXMgLSBib251czsKCiAgICAgICAgLy8gc2V0IHBvc2l0aW9uCiAgICAgICAgZHVtcCgiZXhlY3V0ZSBkZWNyZWFzZSByYmYgcG9zaXRpb24iKTsKICAgICAgICBkdW1wKGJlZ2luQ2VsbCgpLnN0b3JlQWRkcmVzcyhhY2NvdW50KS5lbmRDZWxsKCkuaGFzaCgpKTsKCiAgICAgICAgaWYgKHJiZlBvc2l0aW9uLmxpcXVpZGl0eSA+IDAgfHwgcmJmUG9zaXRpb24uYm9udXMgPiAwKSB7CiAgICAgICAgICAgIHNlbGYucmJmUG9zaXRpb25zLnNldChhY2NvdW50LCByYmZQb3NpdGlvbik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2VsZi5yYmZQb3NpdGlvbnMuc2V0KGFjY291bnQsIG51bGwpOwogICAgICAgIH0KCiAgICAgICAgLy8gdXBkYXRlIGdsb2JhbCBwb3NpdGlvbgogICAgICAgIHNlbGYuZ2xvYmFsUkJGUG9zaXRpb24ucmlza0J1ZmZlckZ1bmQgPSBzZWxmLmdsb2JhbFJCRlBvc2l0aW9uLnJpc2tCdWZmZXJGdW5kIC0gcmVjZWl2ZTsKICAgICAgICBzZWxmLmdsb2JhbFJCRlBvc2l0aW9uLmxpcXVpZGl0eSA9IHNlbGYuZ2xvYmFsUkJGUG9zaXRpb24ubGlxdWlkaXR5IC0gbGlxdWlkaXR5RGVsdGE7CgogICAgICAgIC8vIGV2ZW50CiAgICAgICAgZW1pdChSQkZQb3NpdGlvbkRlY3JlYXNlZEV2ZW50ewogICAgICAgICAgICBwb3NpdGlvbklkOiByYmZQb3NpdGlvbi5wb3NpdGlvbklkLAogICAgICAgICAgICBhY2NvdW50OiBhY2NvdW50LAogICAgICAgICAgICBsaXF1aWRpdHlEZWx0YTogbGlxdWlkaXR5RGVsdGEsCiAgICAgICAgICAgIGxpcXVpZGl0eUFmdGVyOiByYmZQb3NpdGlvbi5saXF1aWRpdHksCiAgICAgICAgICAgIGJvbnVzRGVsdGE6IGJvbnVzLAogICAgICAgICAgICBib251c0FmdGVyOiByYmZQb3NpdGlvbi5ib251cywKICAgICAgICAgICAgcmVjZWl2ZTogcmVjZWl2ZQogICAgICAgIH0udG9DZWxsKCkpOwoKICAgICAgICByZXR1cm4gcmVjZWl2ZTsKICAgIH0KCiAgICBnZXQgZnVuIHJiZlBvc2l0aW9uKGFjY291bnQ6IEFkZHJlc3MpOiBSQkZQb3NpdGlvbj8gewogICAgICAgIHJldHVybiBzZWxmLnJiZlBvc2l0aW9ucy5nZXQoYWNjb3VudCk7CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBMUCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwogICAgLy8gZnVuIGhhbmRsZUNyZWF0ZUluY3JlYXNlTFBQb3NpdGlvbk9yZGVyKHF1ZXJ5SWQ6IEludCwgamV0dG9uRnJvbUFtb3VudDogSW50LCBhY2NvdW50OiBBZGRyZXNzLCBleGVjdXRpb25GZWU6IEludCwgbWFyZ2luRGVsdGE6IEludCwgbGlxdWlkaXR5RGVsdGE6IEludCkgewogICAgLy8gICAgIGR1bXAoImhhbmRsZUNyZWF0ZUluY3JlYXNlTFBQb3NpdGlvbk9yZGVyIik7CiAgICAvLyAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKCiAgICAvLyAgICAgaWYgKGpldHRvbkZyb21BbW91bnQgPCBtYXJnaW5EZWx0YSkgewogICAgLy8gICAgICAgICBzZWxmLnJlZnVuZExpcXVpZGl0eShxdWVyeUlkLCBqZXR0b25Gcm9tQW1vdW50LCBhY2NvdW50KTsKICAgIC8vICAgICAgICAgZHVtcCgicmVmdW5kIG5vdCBlbm91Z2ggbGlxdWlkaXR5Iik7CiAgICAvLyAgICAgICAgIHJldHVybjsKICAgIC8vICAgICB9CiAgICAvLyAgICAgLy8gY2hlY2sgZXhlY3V0aW9uRmVlCiAgICAvLyAgICAgaWYgKGN0eC52YWx1ZSA8IGV4ZWN1dGlvbkZlZSkgewogICAgLy8gICAgICAgICBkdW1wKCJleGVjdXRpb24gZmVlIG5vdCBlbm91Z2giKTsKICAgIC8vICAgICAgICAgc2VsZi5yZWZ1bmRMaXF1aWRpdHkocXVlcnlJZCwgamV0dG9uRnJvbUFtb3VudCwgYWNjb3VudCk7CiAgICAvLyAgICAgICAgIHJldHVybjsKICAgIC8vICAgICB9CgogICAgLy8gICAgIC8vIGFkZCBuZXcgb3JkZXIKICAgIC8vICAgICBsZXQgaW5kZXg6IEludCA9IHNlbGYuaW5jcmVhc2VMUFBvc2l0aW9uSW5kZXhOZXh0OwogICAgLy8gICAgIHNlbGYuaW5jcmVhc2VMUFBvc2l0aW9uSW5kZXhOZXh0ID0gc2VsZi5pbmNyZWFzZUxQUG9zaXRpb25JbmRleE5leHQgKyAxOwogICAgLy8gICAgIHNlbGYuaW5jcmVhc2VMUFBvc2l0aW9uT3JkZXJzLnNldChpbmRleCwgSW5jcmVhc2VMUFBvc2l0aW9uT3JkZXJ7CiAgICAvLyAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAvLyAgICAgICAgIG1hcmdpbkRlbHRhOiBtYXJnaW5EZWx0YSwKICAgIC8vICAgICAgICAgbGlxdWlkaXR5RGVsdGE6IGxpcXVpZGl0eURlbHRhLAogICAgLy8gICAgICAgICBleGVjdXRpb25GZWU6IGV4ZWN1dGlvbkZlZSwKICAgIC8vICAgICAgICAgYmxvY2tUaW1lOiBub3coKQogICAgLy8gICAgIH0pOwoKICAgIC8vICAgICAvLyBldmVudAogICAgLy8gICAgIGVtaXQoSW5jcmVhc2VMUFBvc2l0aW9uQ3JlYXRlZEV2ZW50ewogICAgLy8gICAgICAgICBhY2NvdW50OiBhY2NvdW50LAogICAgLy8gICAgICAgICBtYXJnaW5EZWx0YTogbWFyZ2luRGVsdGEsCiAgICAvLyAgICAgICAgIGxpcXVpZGl0eURlbHRhOiBsaXF1aWRpdHlEZWx0YSwKICAgIC8vICAgICAgICAgZXhlY3V0aW9uRmVlOiBleGVjdXRpb25GZWUsCiAgICAvLyAgICAgICAgIGluZGV4OiBpbmRleAogICAgLy8gICAgIH0udG9DZWxsKCkpOwogICAgLy8gfQogICAgCiAgICAvLyByZWNlaXZlKG1zZzogQ2FuY2VsSW5jcmVhc2VMUFBvc2l0aW9uT3JkZXIpIHsKICAgIC8vICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwoKICAgIC8vICAgICAvLyBjaGVjayBnYXMKICAgIC8vICAgICByZXF1aXJlKGN0eC52YWx1ZSA+PSBzZWxmLmdhc0NvbnN1bXB0aW9uLCAiZ2FzIG5vdCBlbm91Z2giKTsKCiAgICAvLyAgICAgLy8gY2hlY2sgb3JkZXIKICAgIC8vICAgICBsZXQgb3JkZXJPcHQ6IEluY3JlYXNlTFBQb3NpdGlvbk9yZGVyPyA9IHNlbGYuaW5jcmVhc2VMUFBvc2l0aW9uT3JkZXJzLmdldChtc2cuaW5kZXgpOwogICAgLy8gICAgIGlmIChvcmRlck9wdCA9PSBudWxsKSB7CiAgICAvLyAgICAgICAgIHJldHVybjsKICAgIC8vICAgICB9CiAgICAvLyAgICAgbGV0IG9yZGVyOiBJbmNyZWFzZUxQUG9zaXRpb25PcmRlciA9IG9yZGVyT3B0ISE7CiAgICAvLyAgICAgc2VsZi5zaG91bGRDYW5jZWwob3JkZXIuYmxvY2tUaW1lLCBjdHguc2VuZGVyKTsKCiAgICAvLyAgICAgLy8gdHJhbnNmZXIgZXhlY3V0aW9uIGZlZQogICAgLy8gICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAvLyAgICAgICAgIHRvOiBzZWxmLmV4ZWN1dGlvbkZlZVJlY2VpdmVyLAogICAgLy8gICAgICAgICBib3VuY2U6IHRydWUsCiAgICAvLyAgICAgICAgIHZhbHVlOiBvcmRlci5leGVjdXRpb25GZWUsCiAgICAvLyAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMKICAgIC8vICAgICB9KTsKCiAgICAvLyAgICAgLy8gVE9ETyB0cmFuc2ZlciBqZXR0b24KCiAgICAvLyAgICAgLy8gZGVsZXRlIG9yZGVyCiAgICAvLyAgICAgc2VsZi5pbmNyZWFzZUxQUG9zaXRpb25PcmRlcnMuc2V0KG1zZy5pbmRleCwgbnVsbCk7CiAgICAvLyAgICAgLy8gZXZlbnQKICAgIC8vICAgICBlbWl0KEluY3JlYXNlTFBQb3NpdGlvbkNhbmNlbGxlZEV2ZW50ewogICAgLy8gICAgICAgICBpbmRleDogbXNnLmluZGV4LAogICAgLy8gICAgICAgICB0cnhJZDogbXNnLnRyeElkCiAgICAvLyAgICAgfS50b0NlbGwoKSk7CiAgICAvLyB9CiAgICAKICAgIC8vIHJlY2VpdmUobXNnOiBFeGVjdXRlSW5jcmVhc2VMUFBvc2l0aW9uT3JkZXIpIHsKICAgIC8vICAgICBsZXQgb3JkZXJPcHQ6IEluY3JlYXNlTFBQb3NpdGlvbk9yZGVyPyA9IHNlbGYuaW5jcmVhc2VMUFBvc2l0aW9uT3JkZXJzLmdldChtc2cuaW5kZXgpOwogICAgLy8gICAgIC8vIGNoZWNrIG9yZGVyCiAgICAvLyAgICAgcmVxdWlyZShvcmRlck9wdCAhPSBudWxsLCAib3JkZXIgbm90IGV4aXN0Iik7CgogICAgLy8gICAgIGxldCBvcmRlcjogSW5jcmVhc2VMUFBvc2l0aW9uT3JkZXIgPSBvcmRlck9wdCEhOwogICAgLy8gICAgIHNlbGYuc2hvdWxkRXhlY3V0ZShvcmRlci5ibG9ja1RpbWUpOwoKICAgIC8vICAgICAvLyBnZXQgcG9zaXRpb24KICAgIC8vICAgICBsZXQgbHBQb3NpdGlvbk9wdDogTFBQb3NpdGlvbj8gPSBzZWxmLmxwUG9zaXRpb25zLmdldChvcmRlci5hY2NvdW50KTsKICAgIC8vICAgICAvLyBpbml0IHBvc2l0aW9uIGlmIG5vdCBleGlzdAogICAgLy8gICAgIGxldCBscFBvc2l0aW9uOiBMUFBvc2l0aW9uID0gTFBQb3NpdGlvbnsKICAgIC8vICAgICAgICAgbWFyZ2luOiAwLAogICAgLy8gICAgICAgICBsaXF1aWRpdHk6IDAsCiAgICAvLyAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aDogMCwKICAgIC8vICAgICAgICAgZW50cnlUcmFkaW5nRmVlR3Jvd3RoOiAwCiAgICAvLyAgICAgfTsKICAgIC8vICAgICBpZiAobHBQb3NpdGlvbk9wdCAhPSBudWxsKSB7CiAgICAvLyAgICAgICAgIGxwUG9zaXRpb24gPSBscFBvc2l0aW9uT3B0ISE7CiAgICAvLyAgICAgfQoKICAgIC8vICAgICBsZXQgbWFyZ2luQWZ0ZXI6IEludCA9IDA7CiAgICAvLyAgICAgaWYgKGxwUG9zaXRpb24ubGlxdWlkaXR5ID09IDApIHsKICAgIC8vICAgICAgICAgbWFyZ2luQWZ0ZXIgPSBvcmRlci5tYXJnaW5EZWx0YTsKICAgIC8vICAgICAgICAgLy8gY2hlY2sgbWFyZ2luIGFuZCBsZXZlcmFnZQogICAgLy8gICAgICAgICByZXF1aXJlKG1hcmdpbkFmdGVyID49IHNlbGYubWluTFBNYXJnaW4sICJpbnN1ZmZpY2llbnQgbWFyZ2luIik7CiAgICAvLyAgICAgICAgIHJlcXVpcmUobWFyZ2luQWZ0ZXIgKiBzZWxmLm1heExQTGV2ZXJhZ2UgPj0gb3JkZXIubGlxdWlkaXR5RGVsdGEsICJsZWdlcmFnZSB0b28gaGlnaCIpOwogICAgLy8gICAgIH0gZWxzZSB7CiAgICAvLyAgICAgICAgIC8vIGNhbGN1bGF0ZSBmdW5kaW5nIGZlZQogICAgLy8gICAgICAgICBsZXQgZnVuZGluZ0ZlZTogSW50ID0gKHNlbGYubHBGdW5kaW5nRmVlR3Jvd3RoIC0gbHBQb3NpdGlvbi5lbnRyeUZ1bmRpbmdGZWVHcm93dGgpICogbHBQb3NpdGlvbi5saXF1aWRpdHk7CiAgICAvLyAgICAgICAgIC8vIGNhbGN1bGF0ZSB0cmFkaW5nIGZlZQogICAgLy8gICAgICAgICBsZXQgdHJhZGluZ0ZlZTogSW50ID0gKHNlbGYubHBUcmFkaW5nRmVlR3Jvd3RoIC0gbHBQb3NpdGlvbi5lbnRyeVRyYWRpbmdGZWVHcm93dGgpICogbHBQb3NpdGlvbi5saXF1aWRpdHk7CiAgICAvLyAgICAgICAgIG1hcmdpbkFmdGVyID0gbHBQb3NpdGlvbi5tYXJnaW4gKyB0cmFkaW5nRmVlICsgZnVuZGluZ0ZlZSArIG9yZGVyLm1hcmdpbkRlbHRhOwogICAgLy8gICAgICAgICAvLyBjYWxjdWxhdGUgcG5sCiAgICAvLyAgICAgICAgIGxldCBnbG9iYWxVbnJlYWxpemVkUG5sOiBJbnQgPSBzZWxmLmNhbGN1bGF0ZVRvdGFsR2xvYmFsVW5yZWFsaXplZFBubCgpOwogICAgLy8gICAgICAgICBsZXQgdW5yZWFsaXplZFBubDogSW50ID0gKGdsb2JhbFVucmVhbGl6ZWRQbmwgKyBzZWxmLmdsb2JhbFJCRlBvc2l0aW9uLnJpc2tCdWZmZXJGdW5kKSAqIHNlbGYuZ2xvYmFsTGlxdWlkaXR5IC8gbHBQb3NpdGlvbi5saXF1aWRpdHk7CiAgICAvLyAgICAgICAgIGxldCB1bnJlYWxpemVkTG9zczogSW50ID0gMDsKICAgIC8vICAgICAgICAgaWYgKHVucmVhbGl6ZWRQbmwgPCAwKSB7CiAgICAvLyAgICAgICAgICAgICB1bnJlYWxpemVkTG9zcyA9IC11bnJlYWxpemVkUG5sOwogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICAgIC8vIGNoZWNrIHJpc2sgcmF0ZQogICAgLy8gICAgICAgICByZXF1aXJlKChtYXJnaW5BZnRlciAtIHNlbGYubHBMaXF1aWRhdGlvbkZlZSkgKiBzZWxmLmxwTWF4Umlza1JhdGUgLyBCQVNJU19QT0lOVCA+IHVucmVhbGl6ZWRMb3NzLCAicmlzayByYXRlIHRvbyBoaWdoIik7CiAgICAvLyAgICAgICAgIC8vIGNoZWNrIGxldmVyYWdlCiAgICAvLyAgICAgICAgIHJlcXVpcmUobWFyZ2luQWZ0ZXIgKiBzZWxmLm1heExQTGV2ZXJhZ2UgPj0gb3JkZXIubGlxdWlkaXR5RGVsdGEsICJsZWdlcmFnZSB0b28gaGlnaCIpOwogICAgLy8gICAgIH0KICAgICAgICAKICAgIC8vICAgICAvLyB1cGRhdGUgcG9zaXRpb24KICAgIC8vICAgICBscFBvc2l0aW9uLm1hcmdpbiA9IG1hcmdpbkFmdGVyOwogICAgLy8gICAgIGxwUG9zaXRpb24ubGlxdWlkaXR5ID0gbHBQb3NpdGlvbi5saXF1aWRpdHkgKyBvcmRlci5saXF1aWRpdHlEZWx0YTsKICAgIC8vICAgICBscFBvc2l0aW9uLmVudHJ5RnVuZGluZ0ZlZUdyb3d0aCA9IHNlbGYubHBGdW5kaW5nRmVlR3Jvd3RoOwogICAgLy8gICAgIGxwUG9zaXRpb24uZW50cnlUcmFkaW5nRmVlR3Jvd3RoID0gc2VsZi5scFRyYWRpbmdGZWVHcm93dGg7CgogICAgLy8gICAgIC8vIHNldCBwb3NpdGlvbgogICAgLy8gICAgIGR1bXAoImV4ZWN1dGUgaW5jcmVhc2UgbHAgcG9zaXRpb24gb3JkZXIiKTsKICAgIC8vICAgICBkdW1wKGJlZ2luQ2VsbCgpLnN0b3JlQWRkcmVzcyhvcmRlci5hY2NvdW50KS5lbmRDZWxsKCkuaGFzaCgpKTsKCiAgICAvLyAgICAgc2VsZi5scFBvc2l0aW9ucy5zZXQob3JkZXIuYWNjb3VudCwgbHBQb3NpdGlvbik7CgogICAgLy8gICAgIC8vIHVwZGF0ZSBnbG9iYWwgcG9zaXRpb24KICAgIC8vICAgICBzZWxmLmdsb2JhbExpcXVpZGl0eSA9IHNlbGYuZ2xvYmFsTGlxdWlkaXR5ICsgb3JkZXIubGlxdWlkaXR5RGVsdGE7CgogICAgLy8gICAgIC8vIGRlbGV0ZSBvcmRlcgogICAgLy8gICAgIHNlbGYuaW5jcmVhc2VMUFBvc2l0aW9uT3JkZXJzLnNldChtc2cuaW5kZXgsIG51bGwpOwogICAgICAgIAogICAgLy8gICAgIC8vIHRyYW5zZmVyIGV4ZWN1dGlvbiBmZWUKICAgIC8vICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgLy8gICAgICAgICB0bzogc2VsZi5leGVjdXRpb25GZWVSZWNlaXZlciwKICAgIC8vICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgLy8gICAgICAgICB2YWx1ZTogb3JkZXIuZXhlY3V0aW9uRmVlLAogICAgLy8gICAgICAgICBtb2RlOiBTZW5kSWdub3JlRXJyb3JzCiAgICAvLyAgICAgfSk7CgogICAgLy8gICAgIC8vIGV2ZW50CiAgICAvLyAgICAgZW1pdChJbmNyZWFzZUxQUG9zaXRpb25FeGVjdXRlZEV2ZW50ewogICAgLy8gICAgICAgICBpbmRleDogbXNnLmluZGV4LAogICAgLy8gICAgICAgICB0cnhJZDogbXNnLnRyeElkCiAgICAvLyAgICAgfS50b0NlbGwoKSk7CiAgICAvLyAgICAgZW1pdChMUFBvc2l0aW9uSW5jcmVhc2VkRXZlbnR7CiAgICAvLyAgICAgICAgIGFjY291bnQ6IG9yZGVyLmFjY291bnQsCiAgICAvLyAgICAgICAgIG1hcmdpbkRlbHRhOiBvcmRlci5tYXJnaW5EZWx0YSwKICAgIC8vICAgICAgICAgbWFyZ2luQWZ0ZXI6IGxwUG9zaXRpb24ubWFyZ2luLAogICAgLy8gICAgICAgICBsaXF1aWRpdHlEZWx0YTogb3JkZXIubGlxdWlkaXR5RGVsdGEsCiAgICAvLyAgICAgICAgIGxpcXVpZGl0eUFmdGVyOiBscFBvc2l0aW9uLmxpcXVpZGl0eSwKICAgIC8vICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiBscFBvc2l0aW9uLmVudHJ5RnVuZGluZ0ZlZUdyb3d0aCwKICAgIC8vICAgICAgICAgZW50cnlUcmFkaW5nRmVlR3Jvd3RoOiBscFBvc2l0aW9uLmVudHJ5VHJhZGluZ0ZlZUdyb3d0aAogICAgLy8gICAgIH0udG9DZWxsKCkpOwogICAgLy8gfQoKICAgIC8vIHJlY2VpdmUobXNnOiBDcmVhdGVEZWNyZWFzZUxQUG9zaXRpb25PcmRlcikgewogICAgLy8gICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAvLyAgICAgLy8gY2hlY2sgZ2FzCiAgICAvLyAgICAgcmVxdWlyZShjdHgudmFsdWUgLSBtc2cuZXhlY3V0aW9uRmVlID49IHNlbGYuZ2FzQ29uc3VtcHRpb24sICJnYXMgbm90IGVub3VnaCIpOwogICAgLy8gICAgIC8vIGNoZWNrIGV4ZWN1dGlvbiBmZWUKICAgIC8vICAgICByZXF1aXJlKG1zZy5leGVjdXRpb25GZWUgPj0gc2VsZi5taW5FeGVjdXRpb25GZWUsICJleGVjdXRpb24gZmVlIG5vdCBlbm91Z2giKTsKCiAgICAvLyAgICAgLy8gYWRkIG5ldyBvcmRlcgogICAgLy8gICAgIGxldCBpbmRleDogSW50ID0gc2VsZi5kZWNyZWFzZUxQUG9zaXRpb25JbmRleE5leHQ7CiAgICAvLyAgICAgc2VsZi5kZWNyZWFzZUxQUG9zaXRpb25JbmRleE5leHQgPSBzZWxmLmRlY3JlYXNlTFBQb3NpdGlvbkluZGV4TmV4dCArIDE7CiAgICAvLyAgICAgc2VsZi5kZWNyZWFzZUxQUG9zaXRpb25PcmRlcnMuc2V0KGluZGV4LCBEZWNyZWFzZUxQUG9zaXRpb25PcmRlcnsKICAgIC8vICAgICAgICAgYWNjb3VudDogc2VuZGVyKCksCiAgICAvLyAgICAgICAgIG1hcmdpbkRlbHRhOiBtc2cubWFyZ2luRGVsdGEsCiAgICAvLyAgICAgICAgIGxpcXVpZGl0eURlbHRhOiBtc2cubGlxdWlkaXR5RGVsdGEsCiAgICAvLyAgICAgICAgIGV4ZWN1dGlvbkZlZTogbXNnLmV4ZWN1dGlvbkZlZSwKICAgIC8vICAgICAgICAgYmxvY2tUaW1lOiBub3coKQogICAgLy8gICAgIH0pOwoKICAgIC8vICAgICAvLyBldmVudAogICAgLy8gICAgIGVtaXQoRGVjcmVhc2VMUFBvc2l0aW9uQ3JlYXRlZEV2ZW50ewogICAgLy8gICAgICAgICBhY2NvdW50OiBzZW5kZXIoKSwKICAgIC8vICAgICAgICAgbWFyZ2luRGVsdGE6IG1zZy5tYXJnaW5EZWx0YSwKICAgIC8vICAgICAgICAgbGlxdWlkaXR5RGVsdGE6IG1zZy5saXF1aWRpdHlEZWx0YSwKICAgIC8vICAgICAgICAgZXhlY3V0aW9uRmVlOiBtc2cuZXhlY3V0aW9uRmVlLAogICAgLy8gICAgICAgICBpbmRleDogaW5kZXgKICAgIC8vICAgICB9LnRvQ2VsbCgpKTsKICAgIC8vIH0KICAgIAogICAgLy8gcmVjZWl2ZShtc2c6IENhbmNlbERlY3JlYXNlTFBQb3NpdGlvbk9yZGVyKSB7CiAgICAvLyAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKCiAgICAvLyAgICAgLy8gY2hlY2sgZ2FzCiAgICAvLyAgICAgcmVxdWlyZShjdHgudmFsdWUgPj0gc2VsZi5nYXNDb25zdW1wdGlvbiwgImdhcyBub3QgZW5vdWdoIik7CgogICAgLy8gICAgIC8vIGNoZWNrIG9yZGVyCiAgICAvLyAgICAgbGV0IG9yZGVyT3B0OiBEZWNyZWFzZUxQUG9zaXRpb25PcmRlcj8gPSBzZWxmLmRlY3JlYXNlTFBQb3NpdGlvbk9yZGVycy5nZXQobXNnLmluZGV4KTsKICAgIC8vICAgICBpZiAob3JkZXJPcHQgPT0gbnVsbCkgewogICAgLy8gICAgICAgICByZXR1cm47CiAgICAvLyAgICAgfQogICAgLy8gICAgIGxldCBvcmRlcjogRGVjcmVhc2VMUFBvc2l0aW9uT3JkZXIgPSBvcmRlck9wdCEhOwogICAgLy8gICAgIHNlbGYuc2hvdWxkQ2FuY2VsKG9yZGVyLmJsb2NrVGltZSwgY3R4LnNlbmRlcik7CgogICAgLy8gICAgIC8vIFRPRE8gdHJhbnNmZXIgZXhlY3V0aW9uIGZlZQoKICAgIC8vICAgICAvLyBUT0RPIHRyYW5zZmVyIGpldHRvbgoKICAgIC8vICAgICAvLyBkZWxldGUgb3JkZXIKICAgIC8vICAgICBzZWxmLmRlY3JlYXNlTFBQb3NpdGlvbk9yZGVycy5zZXQobXNnLmluZGV4LCBudWxsKTsKICAgIC8vICAgICAvLyBldmVudAogICAgLy8gICAgIGVtaXQoRGVjcmVhc2VMUFBvc2l0aW9uQ2FuY2VsbGVkRXZlbnR7CiAgICAvLyAgICAgICAgIGluZGV4OiBtc2cuaW5kZXgsCiAgICAvLyAgICAgICAgIHRyeElkOiBtc2cudHJ4SWQKICAgIC8vICAgICB9LnRvQ2VsbCgpKTsKICAgIC8vIH0KICAgIAogICAgLy8gcmVjZWl2ZShtc2c6IEV4ZWN1dGVEZWNyZWFzZUxQUG9zaXRpb25PcmRlcikgewogICAgLy8gICAgIGxldCBvcmRlck9wdDogRGVjcmVhc2VMUFBvc2l0aW9uT3JkZXI/ID0gc2VsZi5kZWNyZWFzZUxQUG9zaXRpb25PcmRlcnMuZ2V0KG1zZy5pbmRleCk7CiAgICAvLyAgICAgLy8gY2hlY2sgb3JkZXIKICAgIC8vICAgICByZXF1aXJlKG9yZGVyT3B0ICE9IG51bGwsICJvcmRlciBub3QgZXhpc3QiKTsKCiAgICAvLyAgICAgbGV0IG9yZGVyOiBEZWNyZWFzZUxQUG9zaXRpb25PcmRlciA9IG9yZGVyT3B0ISE7CiAgICAvLyAgICAgc2VsZi5zaG91bGRFeGVjdXRlKG9yZGVyLmJsb2NrVGltZSk7CgogICAgLy8gICAgIC8vIHVwZGF0ZSBwb3NpdGlvbgogICAgLy8gICAgIGxldCBscFBvc2l0aW9uT3B0OiBMUFBvc2l0aW9uPyA9IHNlbGYubHBQb3NpdGlvbnMuZ2V0KG9yZGVyLmFjY291bnQpOwogICAgLy8gICAgIC8vIGluaXQgcG9zaXRpb24gaWYgbm90IGV4aXN0CiAgICAvLyAgICAgbGV0IGxwUG9zaXRpb246IExQUG9zaXRpb24gPSBMUFBvc2l0aW9uewogICAgLy8gICAgICAgICBtYXJnaW46IDAsCiAgICAvLyAgICAgICAgIGxpcXVpZGl0eTogMCwKICAgIC8vICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiAwLAogICAgLy8gICAgICAgICBlbnRyeVRyYWRpbmdGZWVHcm93dGg6IDAKICAgIC8vICAgICB9OwogICAgLy8gICAgIGlmIChscFBvc2l0aW9uT3B0ICE9IG51bGwpIHsKICAgIC8vICAgICAgICAgbHBQb3NpdGlvbiA9IGxwUG9zaXRpb25PcHQhITsKICAgIC8vICAgICB9CgogICAgLy8gICAgIC8vIFRPRE8gdXBkYXRlIGZ1bmRpbmcgcmF0ZSAgICAgICAgCgogICAgLy8gICAgIC8vIGNhbGN1bGF0ZSBmdW5kaW5nIGZlZQogICAgLy8gICAgIGxldCBmdW5kaW5nRmVlOiBJbnQgPSAoc2VsZi5scEZ1bmRpbmdGZWVHcm93dGggLSBscFBvc2l0aW9uLmVudHJ5RnVuZGluZ0ZlZUdyb3d0aCkgKiBscFBvc2l0aW9uLmxpcXVpZGl0eTsKICAgIC8vICAgICAvLyBjYWxjdWxhdGUgdHJhZGluZyBmZWUKICAgIC8vICAgICBsZXQgdHJhZGluZ0ZlZTogSW50ID0gKHNlbGYubHBUcmFkaW5nRmVlR3Jvd3RoIC0gbHBQb3NpdGlvbi5lbnRyeVRyYWRpbmdGZWVHcm93dGgpICogbHBQb3NpdGlvbi5saXF1aWRpdHk7CiAgICAvLyAgICAgbGV0IG1hcmdpbkFmdGVyOiBJbnQgPSBscFBvc2l0aW9uLm1hcmdpbiArIHRyYWRpbmdGZWUgKyBmdW5kaW5nRmVlOwogICAgLy8gICAgIC8vIGNoZWNrIG1hcmdpbgogICAgLy8gICAgIHJlcXVpcmUobWFyZ2luQWZ0ZXIgPj0gb3JkZXIubWFyZ2luRGVsdGEsICJpbnN1ZmZpY2llbnQgbWFyZ2luIik7CiAgICAvLyAgICAgbWFyZ2luQWZ0ZXIgPSBtYXJnaW5BZnRlciAtIG9yZGVyLm1hcmdpbkRlbHRhOwoKICAgIC8vICAgICAvLyBjaGVjayBsaXF1aWRpdHkKICAgIC8vICAgICByZXF1aXJlKGxwUG9zaXRpb24ubGlxdWlkaXR5ID49IG9yZGVyLmxpcXVpZGl0eURlbHRhLCAiaW5zdWZmaWNpZW50IGxpcXVpZGl0eSIpOwogICAgLy8gICAgIGxldCBsaXF1aWRpdHlBZnRlcjogSW50ID0gbHBQb3NpdGlvbi5saXF1aWRpdHkgLSBvcmRlci5saXF1aWRpdHlEZWx0YTsKCiAgICAvLyAgICAgLy8gY2FsY3VsYXRlIHBubAogICAgLy8gICAgIGxldCBnbG9iYWxVbnJlYWxpemVkUG5sOiBJbnQgPSBzZWxmLmNhbGN1bGF0ZVRvdGFsR2xvYmFsVW5yZWFsaXplZFBubCgpOwogICAgLy8gICAgIGxldCB1bnJlYWxpemVkUG5sOiBJbnQgPSAoZ2xvYmFsVW5yZWFsaXplZFBubCArIHNlbGYuZ2xvYmFsUkJGUG9zaXRpb24ucmlza0J1ZmZlckZ1bmQpICogc2VsZi5nbG9iYWxMaXF1aWRpdHkgLyBscFBvc2l0aW9uLmxpcXVpZGl0eTsKICAgIC8vICAgICBsZXQgdW5yZWFsaXplZExvc3M6IEludCA9IDA7CiAgICAvLyAgICAgaWYgKHVucmVhbGl6ZWRQbmwgPCAwKSB7CiAgICAvLyAgICAgICAgIHVucmVhbGl6ZWRMb3NzID0gLXVucmVhbGl6ZWRQbmw7CiAgICAvLyAgICAgfQogICAgICAgIAogICAgLy8gICAgIC8vIGNoZWNrIGdsb2JhbCBsaXF1aWRpdHkKICAgIC8vICAgICByZXF1aXJlKHNlbGYuZ2xvYmFsUkJGUG9zaXRpb24ucmlza0J1ZmZlckZ1bmQgKyBzZWxmLmdsb2JhbExpcXVpZGl0eSArIHVucmVhbGl6ZWRQbmwgPj0gb3JkZXIubGlxdWlkaXR5RGVsdGEsICJpbnN1ZmZpY2llbnQgZ2xvYmFsIGxpcXVpZGl0eSIpOwoKICAgIC8vICAgICBsZXQgcmVjZWl2ZWRNYXJnaW46IEludCA9IDA7CiAgICAvLyAgICAgbGV0IHJlYWxpemVkTG9zczogSW50ID0gMDsKICAgIC8vICAgICBpZiAobGlxdWlkaXR5QWZ0ZXIgPiAwKSB7CiAgICAvLyAgICAgICAgIHJlYWxpemVkTG9zcyA9IHVucmVhbGl6ZWRMb3NzICogb3JkZXIubGlxdWlkaXR5RGVsdGEgLyBscFBvc2l0aW9uLmxpcXVpZGl0eTsKICAgIC8vICAgICAgICAgaWYgKHJlYWxpemVkTG9zcyA8PSBvcmRlci5tYXJnaW5EZWx0YSkgewogICAgLy8gICAgICAgICAgICAgcmVjZWl2ZWRNYXJnaW4gPSBvcmRlci5tYXJnaW5EZWx0YSAtIHJlYWxpemVkTG9zczsKICAgIC8vICAgICAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgICAgICAgIHJlY2VpdmVkTWFyZ2luID0gMDsKICAgIC8vICAgICAgICAgICAgIG1hcmdpbkFmdGVyID0gbWFyZ2luQWZ0ZXIgKyBvcmRlci5tYXJnaW5EZWx0YSAtIHJlYWxpemVkTG9zczsKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgICAvLyBjaGVjayByaXNrIHJhdGUKICAgIC8vICAgICAgICAgcmVxdWlyZSgobWFyZ2luQWZ0ZXIgLSBzZWxmLmxwTGlxdWlkYXRpb25GZWUpICogc2VsZi5scE1heFJpc2tSYXRlIC8gQkFTSVNfUE9JTlQgPiB1bnJlYWxpemVkTG9zcywgInJpc2sgcmF0ZSB0b28gaGlnIik7CiAgICAvLyAgICAgICAgIC8vIGNoZWNrIGxldmVyYWdlCiAgICAvLyAgICAgICAgIHJlcXVpcmUobWFyZ2luQWZ0ZXIgKiBzZWxmLm1heExQTGV2ZXJhZ2UgPj0gb3JkZXIubGlxdWlkaXR5RGVsdGEsICJsZWdlcmFnZSB0b28gaGlnaCIpOwogICAgLy8gICAgIH0gZWxzZSB7CiAgICAvLyAgICAgICAgIHJlYWxpemVkTG9zcyA9IHVucmVhbGl6ZWRMb3NzOwogICAgLy8gICAgICAgICBtYXJnaW5BZnRlciA9IG1hcmdpbkFmdGVyIC0gcmVhbGl6ZWRMb3NzOwogICAgLy8gICAgICAgICByZWNlaXZlZE1hcmdpbiA9IG1hcmdpbkFmdGVyOwogICAgLy8gICAgIH0KICAgICAgICAKICAgIC8vICAgICAvLyBUT0RPIHRyYW5zZmVyIG1hcmdpbgogICAgLy8gICAgIGlmIChyZWNlaXZlZE1hcmdpbiA+IDApIHsKCiAgICAvLyAgICAgfQogICAgICAgIAogICAgLy8gICAgIGlmIChsaXF1aWRpdHlBZnRlciA+IDApIHsKICAgIC8vICAgICAgICAgLy8gdXBkYXRlIHBvc2l0aW9uCiAgICAvLyAgICAgICAgIGxwUG9zaXRpb24ubWFyZ2luID0gbWFyZ2luQWZ0ZXI7CiAgICAvLyAgICAgICAgIGxwUG9zaXRpb24ubGlxdWlkaXR5ID0gbGlxdWlkaXR5QWZ0ZXI7CiAgICAvLyAgICAgICAgIGxwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoID0gc2VsZi5scEZ1bmRpbmdGZWVHcm93dGg7CiAgICAvLyAgICAgICAgIGxwUG9zaXRpb24uZW50cnlUcmFkaW5nRmVlR3Jvd3RoID0gc2VsZi5scFRyYWRpbmdGZWVHcm93dGg7CiAgICAvLyAgICAgICAgIHNlbGYubHBQb3NpdGlvbnMuc2V0KG9yZGVyLmFjY291bnQsIGxwUG9zaXRpb24pOwogICAgLy8gICAgIH0gZWxzZSB7CiAgICAvLyAgICAgICAgIC8vIGRlbGV0ZSBwb3NpdGlvbgogICAgLy8gICAgICAgICBzZWxmLmxwUG9zaXRpb25zLnNldChvcmRlci5hY2NvdW50LCBudWxsKTsKICAgIC8vICAgICB9CgogICAgLy8gICAgIGR1bXAoImV4ZWN1dGUgZGVjcmVhc2UgbHAgcG9zaXRpb24gb3JkZXIiKTsKICAgIC8vICAgICBkdW1wKGJlZ2luQ2VsbCgpLnN0b3JlQWRkcmVzcyhvcmRlci5hY2NvdW50KS5lbmRDZWxsKCkuaGFzaCgpKTsKCiAgICAvLyAgICAgLy8gdXBkYXRlIGdsb2JhbCBwb3NpdGlvbgogICAgLy8gICAgIHNlbGYuZ2xvYmFsTGlxdWlkaXR5ID0gc2VsZi5nbG9iYWxMaXF1aWRpdHkgLSBvcmRlci5saXF1aWRpdHlEZWx0YTsKCiAgICAvLyAgICAgLy8gZGVsZXRlIG9yZGVyCiAgICAvLyAgICAgc2VsZi5pbmNyZWFzZUxQUG9zaXRpb25PcmRlcnMuc2V0KG1zZy5pbmRleCwgbnVsbCk7CiAgICAgICAgCiAgICAvLyAgICAgLy8gdHJhbnNmZXIgZXhlY3V0aW9uIGZlZQogICAgLy8gICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAvLyAgICAgICAgIHRvOiBzZWxmLmV4ZWN1dGlvbkZlZVJlY2VpdmVyLAogICAgLy8gICAgICAgICBib3VuY2U6IHRydWUsCiAgICAvLyAgICAgICAgIHZhbHVlOiBvcmRlci5leGVjdXRpb25GZWUsCiAgICAvLyAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMKICAgIC8vICAgICB9KTsKCiAgICAvLyAgICAgLy8gZXZlbnQKICAgIC8vICAgICBlbWl0KERlY3JlYXNlTFBQb3NpdGlvbkV4ZWN1dGVkRXZlbnR7CiAgICAvLyAgICAgICAgIGluZGV4OiBtc2cuaW5kZXgsCiAgICAvLyAgICAgICAgIHRyeElkOiBtc2cudHJ4SWQKICAgIC8vICAgICB9LnRvQ2VsbCgpKTsKICAgIC8vICAgICBlbWl0KExQUG9zaXRpb25EZWNyZWFzZWRFdmVudHsKICAgIC8vICAgICAgICAgYWNjb3VudDogb3JkZXIuYWNjb3VudCwKICAgIC8vICAgICAgICAgbWFyZ2luRGVsdGE6IG9yZGVyLm1hcmdpbkRlbHRhLAogICAgLy8gICAgICAgICBtYXJnaW5BZnRlcjogbHBQb3NpdGlvbi5tYXJnaW4sCiAgICAvLyAgICAgICAgIGxpcXVpZGl0eURlbHRhOiBvcmRlci5saXF1aWRpdHlEZWx0YSwKICAgIC8vICAgICAgICAgbGlxdWlkaXR5QWZ0ZXI6IGxwUG9zaXRpb24ubGlxdWlkaXR5LAogICAgLy8gICAgICAgICB0cmFkaW5nRmVlOiB0cmFkaW5nRmVlLAogICAgLy8gICAgICAgICBmdW5kaW5nRmVlOiBmdW5kaW5nRmVlLAogICAgLy8gICAgICAgICByZWFsaXplZExvc3M6IHJlYWxpemVkTG9zcwogICAgLy8gICAgIH0udG9DZWxsKCkpOwoKICAgIC8vIH0KCiAgICAvLyByZWNlaXZlKG1zZzogTGlxdWlkYXRlTFBQb3NpdGlvbikgewogICAgLy8gICAgIC8vIGdldCBwb3NpdGlvbgogICAgLy8gICAgIGxldCBscFBvc2l0aW9uT3B0OiBMUFBvc2l0aW9uPyA9IHNlbGYubHBQb3NpdGlvbnMuZ2V0KG1zZy5hY2NvdW50KTsKICAgIC8vICAgICAvLyBjaGVjayBwb3NpdGlvbgogICAgLy8gICAgIHJlcXVpcmUobHBQb3NpdGlvbk9wdCAhPSBudWxsLCAicG9zaXRpb24gbm90IGV4aXN0Iik7CiAgICAvLyAgICAgbGV0IGxwUG9zaXRpb246IExQUG9zaXRpb24gPSBscFBvc2l0aW9uT3B0ISE7CgogICAgLy8gICAgIC8vIFRPRE8gdXBkYXRlIGZ1bmRpbmcgcmF0ZSAgICAgICAgCgogICAgLy8gICAgIC8vIGNhbGN1bGF0ZSBmdW5kaW5nIGZlZQogICAgLy8gICAgIGxldCBmdW5kaW5nRmVlOiBJbnQgPSAoc2VsZi5scEZ1bmRpbmdGZWVHcm93dGggLSBscFBvc2l0aW9uLmVudHJ5RnVuZGluZ0ZlZUdyb3d0aCkgKiBscFBvc2l0aW9uLmxpcXVpZGl0eTsKICAgIC8vICAgICAvLyBjYWxjdWxhdGUgdHJhZGluZyBmZWUKICAgIC8vICAgICBsZXQgdHJhZGluZ0ZlZTogSW50ID0gKHNlbGYubHBUcmFkaW5nRmVlR3Jvd3RoIC0gbHBQb3NpdGlvbi5lbnRyeVRyYWRpbmdGZWVHcm93dGgpICogbHBQb3NpdGlvbi5saXF1aWRpdHk7CiAgICAvLyAgICAgbGV0IHJlYWxpemVkUHJvZml0OiBJbnQgPSB0cmFkaW5nRmVlICsgZnVuZGluZ0ZlZTsKICAgIC8vICAgICBsZXQgbWFyZ2luQWZ0ZXI6IEludCA9IGxwUG9zaXRpb24ubWFyZ2luICsgcmVhbGl6ZWRQcm9maXQ7CgogICAgLy8gICAgIC8vIGNhbGN1bGF0ZSBwbmwKICAgIC8vICAgICBsZXQgZ2xvYmFsVW5yZWFsaXplZFBubDogSW50ID0gc2VsZi5jYWxjdWxhdGVUb3RhbEdsb2JhbFVucmVhbGl6ZWRQbmwoKTsKICAgIC8vICAgICBsZXQgdW5yZWFsaXplZFBubDogSW50ID0gKGdsb2JhbFVucmVhbGl6ZWRQbmwgKyBzZWxmLmdsb2JhbFJCRlBvc2l0aW9uLnJpc2tCdWZmZXJGdW5kKSAqIHNlbGYuZ2xvYmFsTGlxdWlkaXR5IC8gbHBQb3NpdGlvbi5saXF1aWRpdHk7CiAgICAvLyAgICAgbGV0IHVucmVhbGl6ZWRMb3NzOiBJbnQgPSAwOwogICAgLy8gICAgIGlmICh1bnJlYWxpemVkUG5sIDwgMCkgewogICAgLy8gICAgICAgICB1bnJlYWxpemVkTG9zcyA9IC11bnJlYWxpemVkUG5sOwogICAgLy8gICAgIH0KCiAgICAvLyAgICAgLy8gY2hlY2sgcmlzayByYXRlCiAgICAvLyAgICAgcmVxdWlyZSgobWFyZ2luQWZ0ZXIgLSBzZWxmLmxwTGlxdWlkYXRpb25GZWUpICogc2VsZi5scE1heFJpc2tSYXRlIC8gQkFTSVNfUE9JTlQgPD0gdW5yZWFsaXplZExvc3MsICJyaXNrIHJhdGUgdG9vIGhpZ2giKTsKICAgICAgICAKICAgIC8vICAgICAvLyBtYXJnaW4gc3Vic3RyYWN0IGZlZQogICAgLy8gICAgIGxldCBsaXF1aWRhdGlvbkZlZTogSW50ID0gc2VsZi5scExpcXVpZGF0aW9uRmVlOwogICAgLy8gICAgIGlmIChtYXJnaW5BZnRlciA8IHNlbGYubHBMaXF1aWRhdGlvbkZlZSkgewogICAgLy8gICAgICAgICBsaXF1aWRhdGlvbkZlZSA9IG1hcmdpbkFmdGVyOwogICAgLy8gICAgICAgICBtYXJnaW5BZnRlciA9IDA7CiAgICAvLyAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgICAgbWFyZ2luQWZ0ZXIgPSBtYXJnaW5BZnRlciAtIHNlbGYubHBMaXF1aWRhdGlvbkZlZTsKICAgIC8vICAgICB9CiAgICAgICAgCiAgICAvLyAgICAgLy8gcmVtYWluZWQgbWFyZ2luIGFkZCB0byBSQkYKICAgIC8vICAgICBzZWxmLmdsb2JhbFJCRlBvc2l0aW9uLnJpc2tCdWZmZXJGdW5kID0gc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5yaXNrQnVmZmVyRnVuZCArIG1hcmdpbkFmdGVyOwogICAgICAgICAgICAgICAgCiAgICAvLyAgICAgLy8gZGVsZXRlIHBvc2l0aW9uCiAgICAvLyAgICAgc2VsZi5scFBvc2l0aW9ucy5zZXQobXNnLmFjY291bnQsIG51bGwpOwoKICAgIC8vICAgICBkdW1wKCJsaXF1aWRhdGUgbHAgcG9zaXRpb24gb3JkZXIiKTsKICAgIC8vICAgICBkdW1wKGJlZ2luQ2VsbCgpLnN0b3JlQWRkcmVzcyhtc2cuYWNjb3VudCkuZW5kQ2VsbCgpLmhhc2goKSk7CgogICAgLy8gICAgIC8vIHVwZGF0ZSBnbG9iYWwgcG9zaXRpb24KICAgIC8vICAgICBzZWxmLmdsb2JhbExpcXVpZGl0eSA9IHNlbGYuZ2xvYmFsTGlxdWlkaXR5IC0gbHBQb3NpdGlvbi5saXF1aWRpdHk7CiAgICAgICAgCiAgICAvLyAgICAgLy8gVE9ETyBzZW5kIGxpcXVpZGF0aW9uIGZlZSB0byBleGVjdXRvcgoKICAgIC8vICAgICAvLyBldmVudAogICAgLy8gICAgIGVtaXQoTFBQb3NpdGlvbkxpcXVpZGF0ZWRFdmVudHsKICAgIC8vICAgICAgICAgYWNjb3VudDogbXNnLmFjY291bnQsCiAgICAvLyAgICAgICAgIHRyeElkOiBtc2cudHJ4SWQsCiAgICAvLyAgICAgICAgIG1hcmdpbjogbHBQb3NpdGlvbi5tYXJnaW4sCiAgICAvLyAgICAgICAgIGxpcXVpZGl0eTogbHBQb3NpdGlvbi5saXF1aWRpdHksCiAgICAvLyAgICAgICAgIHRyYWRpbmdGZWU6IHRyYWRpbmdGZWUsCiAgICAvLyAgICAgICAgIGZ1bmRpbmdGZWU6IGZ1bmRpbmdGZWUsCiAgICAvLyAgICAgICAgIGxpcXVpZGF0aW9uRmVlOiBsaXF1aWRhdGlvbkZlZQogICAgLy8gICAgIH0udG9DZWxsKCkpOwogICAgLy8gICAgIGVtaXQoR2xvYmFsUkJGQ2hhbmdlZEV2ZW50ewogICAgLy8gICAgICAgICByaXNrQnVmZmVyRnVuZEFmdGVyOiBzZWxmLmdsb2JhbFJCRlBvc2l0aW9uLnJpc2tCdWZmZXJGdW5kLAogICAgLy8gICAgICAgICBsaXF1aWRpdHlBZnRlcjogc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5saXF1aWRpdHkKICAgIC8vICAgICB9LnRvQ2VsbCgpKTsKICAgIC8vIH0KCiAgICAvLyBnZXQgZnVuIGluY3JlYXNlTFBQb3NpdGlvbkluZGV4TmV4dCgpOiBJbnQgewogICAgLy8gICAgIHJldHVybiBzZWxmLmluY3JlYXNlTFBQb3NpdGlvbkluZGV4TmV4dDsKICAgIC8vIH0KCiAgICAvLyBnZXQgZnVuIGluY3JlYXNlTFBQb3NpdGlvbk9yZGVyKGluZGV4OiBJbnQpOiBJbmNyZWFzZUxQUG9zaXRpb25PcmRlcj8gewogICAgLy8gICAgIHJldHVybiBzZWxmLmluY3JlYXNlTFBQb3NpdGlvbk9yZGVycy5nZXQoaW5kZXgpOwogICAgLy8gfQoKICAgIC8vIGdldCBmdW4gZGVjcmVhc2VMUFBvc2l0aW9uSW5kZXhOZXh0KCk6IEludCB7CiAgICAvLyAgICAgcmV0dXJuIHNlbGYuZGVjcmVhc2VMUFBvc2l0aW9uSW5kZXhOZXh0OwogICAgLy8gfQoKICAgIC8vIGdldCBmdW4gZGVjcmVhc2VMUFBvc2l0aW9uT3JkZXIoaW5kZXg6IEludCk6IERlY3JlYXNlTFBQb3NpdGlvbk9yZGVyPyB7CiAgICAvLyAgICAgcmV0dXJuIHNlbGYuZGVjcmVhc2VMUFBvc2l0aW9uT3JkZXJzLmdldChpbmRleCk7CiAgICAvLyB9CgogICAgLy8gZ2V0IGZ1biBscFBvc2l0aW9uKGFjY291bnQ6IEFkZHJlc3MpOiBMUFBvc2l0aW9uPyB7CiAgICAvLyAgICAgcmV0dXJuIHNlbGYubHBQb3NpdGlvbnMuZ2V0KGFjY291bnQpOwogICAgLy8gfQoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUGVycCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwogICAgLy8gZnVuIGhhbmRsZUNyZWF0ZUluY3JlYXNlUGVycFBvc2l0aW9uTWFya2V0T3JkZXIocXVlcnlJZDogSW50LCBqZXR0b25Gcm9tQW1vdW50OiBJbnQsIGFjY291bnQ6IEFkZHJlc3MsIGV4ZWN1dGlvbkZlZTogSW50LCAKICAgIC8vICAgICB0b2tlbklkOiBJbnQsIGlzTG9uZzogQm9vbCwgbWFyZ2luRGVsdGE6IEludCwgbGlxdWlkaXR5RGVsdGE6IEludCwgYWNjZXB0YWJsZVByaWNlOiBJbnQpIHsKICAgIC8vICAgICBkdW1wKCJoYW5kbGVDcmVhdGVJbmNyZWFzZVBlcnBQb3NpdGlvbk1hcmtldE9yZGVyIik7CiAgICAvLyAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKCiAgICAvLyAgICAgaWYgKGpldHRvbkZyb21BbW91bnQgPCBtYXJnaW5EZWx0YSkgewogICAgLy8gICAgICAgICBzZWxmLnJlZnVuZExpcXVpZGl0eShxdWVyeUlkLCBqZXR0b25Gcm9tQW1vdW50LCBhY2NvdW50KTsKICAgIC8vICAgICAgICAgZHVtcCgicmVmdW5kIG5vdCBlbm91Z2ggbGlxdWlkaXR5Iik7CiAgICAvLyAgICAgICAgIHJldHVybjsKICAgIC8vICAgICB9CiAgICAvLyAgICAgLy8gY2hlY2sgZXhlY3V0aW9uRmVlCiAgICAvLyAgICAgaWYgKGN0eC52YWx1ZSA8IGV4ZWN1dGlvbkZlZSkgewogICAgLy8gICAgICAgICBkdW1wKCJleGVjdXRpb24gZmVlIG5vdCBlbm91Z2giKTsKICAgIC8vICAgICAgICAgc2VsZi5yZWZ1bmRMaXF1aWRpdHkocXVlcnlJZCwgamV0dG9uRnJvbUFtb3VudCwgYWNjb3VudCk7CiAgICAvLyAgICAgICAgIHJldHVybjsKICAgIC8vICAgICB9CgogICAgLy8gICAgIC8vIGdldCBpbmRleCBuZXh0CiAgICAvLyAgICAgbGV0IGluZGV4T3B0OiBJbnQgPSBzZWxmLmluY3JlYXNlUGVycFBvc2l0aW9uTWFya2V0SW5kZXhzTmV4dC5nZXQodG9rZW5JZCk7CiAgICAvLyAgICAgbGV0IGluZGV4OiBJbnQgPSAxOwogICAgLy8gICAgIGlmIChpbmRleE9wdCAhPSBudWxsKSB7CiAgICAvLyAgICAgICAgIGluZGV4ID0gaW5kZXhPcHQhITsKICAgIC8vICAgICB9CgogICAgLy8gICAgIHNlbGYuaW5jcmVhc2VQZXJwUG9zaXRpb25NYXJrZXRJbmRleE5leHQgPSBzZWxmLmluY3JlYXNlUGVycFBvc2l0aW9uTWFya2V0SW5kZXhOZXh0ICsgMTsKCiAgICAvLyAgICAgLy8gZ2V0IG9yZGVyIGxpc3QgYnkgdG9rZW5JZAogICAgLy8gICAgIGxldCBpbmNyZWFzZVBlcnBQb3NpdGlvbk1hcmtldE9yZGVyc09wdDogSW5jcmVhc2VQZXJwUG9zaXRpb25NYXJrZXRPcmRlcnM/ID0gc2VsZi5pbmNyZWFzZVBlcnBQb3NpdGlvbk1hcmtldE9yZGVycy5nZXQodG9rZW5JZCk7CiAgICAvLyAgICAgbGV0IGluY3JlYXNlUGVycFBvc2l0aW9uTWFya2V0T3JkZXJzOiBJbmNyZWFzZVBlcnBQb3NpdGlvbk1hcmtldE9yZGVycyA9IEluY3JlYXNlUGVycFBvc2l0aW9uTWFya2V0T3JkZXJze307CiAgICAvLyAgICAgaWYgKGluY3JlYXNlUGVycFBvc2l0aW9uTWFya2V0T3JkZXJzT3B0ICE9IG51bGwpIHsKICAgIC8vICAgICAgICAgaW5jcmVhc2VQZXJwUG9zaXRpb25NYXJrZXRPcmRlcnMgPSBpbmNyZWFzZVBlcnBQb3NpdGlvbk1hcmtldE9yZGVyc09wdCEhOwogICAgLy8gICAgIH0KCiAgICAvLyAgICAgLy8gZ2V0IG9yZGVyCiAgICAvLyAgICAgaW5jcmVhc2VQZXJwUG9zaXRpb25NYXJrZXRPcmRlcnMuZ2V0KCk7CgogICAgLy8gICAgIHNlbGYuaW5jcmVhc2VQZXJwUG9zaXRpb25NYXJrZXRPcmRlcnMuc2V0KGluZGV4LCBJbmNyZWFzZUxQUG9zaXRpb25PcmRlcnsKICAgIC8vICAgICAgICAgYWNjb3VudDogYWNjb3VudCwKICAgIC8vICAgICAgICAgbWFyZ2luRGVsdGE6IG1hcmdpbkRlbHRhLAogICAgLy8gICAgICAgICBsaXF1aWRpdHlEZWx0YTogbGlxdWlkaXR5RGVsdGEsCiAgICAvLyAgICAgICAgIGV4ZWN1dGlvbkZlZTogZXhlY3V0aW9uRmVlLAogICAgLy8gICAgICAgICBibG9ja1RpbWU6IG5vdygpCiAgICAvLyAgICAgfSk7CgogICAgLy8gICAgIC8vIGV2ZW50CiAgICAvLyAgICAgZW1pdChJbmNyZWFzZUxQUG9zaXRpb25DcmVhdGVkRXZlbnR7CiAgICAvLyAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAvLyAgICAgICAgIG1hcmdpbkRlbHRhOiBtYXJnaW5EZWx0YSwKICAgIC8vICAgICAgICAgbGlxdWlkaXR5RGVsdGE6IGxpcXVpZGl0eURlbHRhLAogICAgLy8gICAgICAgICBleGVjdXRpb25GZWU6IGV4ZWN1dGlvbkZlZSwKICAgIC8vICAgICAgICAgaW5kZXg6IGluZGV4CiAgICAvLyAgICAgfS50b0NlbGwoKSk7CiAgICAvLyB9CgogICAgcmVjZWl2ZShtc2c6IENhbmNlbEluY3JlYXNlUGVycFBvc2l0aW9uTWFya2V0T3JkZXIpIHsKCiAgICB9CgogICAgcmVjZWl2ZShtc2c6IEV4ZWN1dGVJbmNyZWFzZVBlcnBQb3NpdGlvbk1hcmtldE9yZGVyKSB7CgogICAgfQoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gcHJpdmF0ZSBmdW5jdGlvbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwogICAgZnVuIGNhbGN1bGF0ZVRvdGFsR2xvYmFsVW5yZWFsaXplZFBubCgpOiBJbnQgewogICAgICAgIGR1bXAoImNhbGN1bGF0ZSB0b3RhbCBwbmwiKTsKICAgICAgICBsZXQgdG90YWxHbG9iYWxVbnJlYWxpemVkUG5sOiBJbnQgPSAwOwogICAgICAgIGxldCBpOiBJbnQgPSAxOwogICAgICAgIHdoaWxlKGkgPCBzZWxmLnRva2VuSW5kZXhOZXh0KSB7CiAgICAgICAgICAgIGxldCB0b2tlbkVuYWJsZWQ6IEJvb2wgPSBzZWxmLnRva2VuRW5hYmxlZChpKTsKICAgICAgICAgICAgaWYgKHRva2VuRW5hYmxlZCkgewogICAgICAgICAgICAgICAgbGV0IGdsb2JhbExQUG9zaXRpb25PcHQ6IEdsb2JhbExQUG9zaXRpb24/ID0gc2VsZi5nbG9iYWxMUFBvc2l0aW9ucy5nZXQoaSk7CiAgICAgICAgICAgICAgICBpZiAoZ2xvYmFsTFBQb3NpdGlvbk9wdCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGdsb2JhbExQUG9zaXRpb246IEdsb2JhbExQUG9zaXRpb24gPSBnbG9iYWxMUFBvc2l0aW9uT3B0ISE7CiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBnZXQgaW5kZXggcHJpY2UKICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXhQcmljZTogSW50ID0gMSAqIFBSSUNFX0ZBQ1RPUjsKICAgICAgICAgICAgICAgICAgICAvLyB1bnJlYWxpemVkIHBubAogICAgICAgICAgICAgICAgICAgIGxldCB1bnJlYWxpemVkUG5sOiBJbnQgPSBzZWxmLmNhbGN1bGF0ZVVucmVhbGl6ZWRQbkwoZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcsIGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSwgCiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSwgaW5kZXhQcmljZSk7CiAgICAgICAgICAgICAgICAgICAgdG90YWxHbG9iYWxVbnJlYWxpemVkUG5sID0gdG90YWxHbG9iYWxVbnJlYWxpemVkUG5sICsgdW5yZWFsaXplZFBubDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpID0gaSArIDE7CiAgICAgICAgfQogICAgICAgIGR1bXAodG90YWxHbG9iYWxVbnJlYWxpemVkUG5sKTsKICAgICAgICByZXR1cm4gdG90YWxHbG9iYWxVbnJlYWxpemVkUG5sOwogICAgfQoKICAgIGZ1biB0b2tlbkVuYWJsZWQodG9rZW5JbmRleDogSW50KTogQm9vbCB7CiAgICAgICAgbGV0IHRva2VuQ29uZmlnT3B0OiBUb2tlbkNvbmZpZz8gPSBzZWxmLnRva2VuQ29uZmlncy5nZXQodG9rZW5JbmRleCk7CiAgICAgICAgaWYgKHRva2VuQ29uZmlnT3B0ID09IG51bGwpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gKHRva2VuQ29uZmlnT3B0ISEpLmVuYWJsZTsKICAgIH0KCiAgICBmdW4gY2FsY3VsYXRlVW5yZWFsaXplZFBuTChpc0xvbmc6IEJvb2wsIHNpemU6IEludCwgZW50cnlQcmljZTogSW50LCBwcmljZTogSW50KTogSW50IHsKICAgICAgICBpZiAoaXNMb25nKSB7CiAgICAgICAgICAgIHJldHVybiBzaXplICogKHByaWNlIC0gZW50cnlQcmljZSkgLyBQUklDRV9GQUNUT1I7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHNpemUgKiAoZW50cnlQcmljZSAtIHByaWNlKSAvIFBSSUNFX0ZBQ1RPUjsKICAgICAgICB9CiAgICB9CgogICAgZnVuIHNhbXBsZUFuZEFkanVzdEZ1bmRpbmdSYXRlKHRva2VuSW5kZXg6IEludCkgewogICAgICAgIGxldCBnbG9iYWxGdW5kaW5nUmF0ZVNhbXBsZTogR2xvYmFsRnVuZGluZ1JhdGVTYW1wbGUgPSBzZWxmLmdsb2JhbEZ1bmRpbmdSYXRlU2FtcGxlcy5nZXQodG9rZW5JbmRleCkhITsKICAgICAgICBsZXQgZ2xvYmFsTGlxdWlkaXR5UG9zaXRpb246IEdsb2JhbExpcXVpZGl0eVBvc2l0aW9uID0gc2VsZi5nbG9iYWxMaXF1aWRpdHlQb3NpdGlvbnMuZ2V0KHRva2VuSW5kZXgpISE7CiAgICAgICAgbGV0IHByaWNlU3RhdGU6IFByaWNlU3RhdGUgPSBzZWxmLnByaWNlU3RhdGVzLmdldCh0b2tlbkluZGV4KSEhOwogICAgICAgIGxldCB0b2tlbkNvbmZpZzogVG9rZW5Db25maWcgPSBzZWxmLnRva2VuQ29uZmlncy5nZXQodG9rZW5JbmRleCkhITsKCiAgICAgICAgbGV0IHJlczogU2FtcGxlUHJlbWl1bVJhdGVSZXN1bHQgPSBzZWxmLnNhbXBsZVByZW1pdW1SYXRlKGdsb2JhbEZ1bmRpbmdSYXRlU2FtcGxlLCBnbG9iYWxMaXF1aWRpdHlQb3NpdGlvbiwgcHJpY2VTdGF0ZSwgdG9rZW5Db25maWcuaW50ZXJlc3RSYXRlLCBub3coKSk7CiAgICB9Cgp9Cg=="},"compiler":{"name":"tact","version":"1.2.0","parameters":"{\"entrypoint\":\"contracts/core/pool.tact\",\"options\":{}}"}}