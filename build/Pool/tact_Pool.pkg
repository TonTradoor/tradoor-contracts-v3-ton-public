{"name":"Pool","code":"te6ccgECqAEANYYAART/APSkE/S88sgLAQIBYgIDA/TQAdDTAwFxsKMB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFRQUwNvBPhhAvhi2zwRGBEaERgRFxEZERcRFhEYERYRFREXERURFBEWERQRExEVERMREhEUERIRERETEREREBESERAPEREPDhEQDhDfVRzbPKIEBQIBIIeIBG4BkjB/4HAh10nCH5UwINcLH94gghAL0w6tuo8IMNs8bBjbPH/gIIIQadRIcLrjAiCCEOic1F+6BgcICQFO8uCCyPhDAcx/AcoAERkRGBEXERYRFREUERMREhERERBV4Ns8ye1UIAPy0x8BghAL0w6tuvLggfpAIdcLAcMAjh0BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiJIxbeIB0gABktIAkm0B4tIAAZL6AJJtAeLSAAGS+gCSbQHi0gABlYEBAdcAkm0B4tQB0NIAAZWBAQHXAJJtAeLSAAHjDwoLDAL0ERgRIBEYERcRHxEXERYRHhEWERURHREVERQRHBEUERMRGxETERIRGhESERERGRERERARIBEQDxEfDw4RHg4NER0NDBEcDAsRGwsKERoKCREZCQgRIAgHER8HBhEeBgURHQUEERwEAxEbAwIRGgIBERkBESDbPFYfbrMUDQIQMNs8bBrbPH8REgQ6jwgw2zxsF9s8f+AgghD/V+VXuuMCIIIQHciVjLocHR4fAAqBAQHXAAAEbQEAbPpAIdcLAcMAjh0BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiJIxbeIxEDgQNxA2EDUQNAP+lFYebrORcOKOL4EBCxEgIG7y0IARHyBu8tCAED8CESACAREfAXEhbpVbWfRZMJjIAc8AQTP0QeIMlFceVx7iVhtus51XFhEaIG7y0IARFREaklcb4lYZbrOdVxQRGCBu8tCAERMRGJJXGeJWF26zklcX4w1WFW6zklcV4w1WEw4PEAAYVxARFiBu8tCADxEWABY+ERQgbvLQgA0RFAHUbrObPBESIG7y0IALERKSVxPiVhlus5s5ERggbvLQgAgRGJJXGeL4QnBwgEAQI21tbds8ERARGBEQDxEXDw4RFg4NERUNDBEUDAsREwsKERIKCRERCQgREAgQfxBuEF0QTBA7ShhQl15BAYUB9tMfAYIQadRIcLry4IHTP9IAAZPUAdCRbeIB0gABktIAkm0B4tIAAZWBAQHXAJJtAeLSAAGVgQEB1wCSbQHi0gABlYEBAdcAkm0B4tQB0NIAAZWBAQHXAJJtAeLSAAGVgQEB1wCSbQHi0gABlYEBAdcAkm0B4tQw0NIAARMC9hEYESIRGBEXESERFxEWESARFhEVER8RFREUER4RFBETER0RExESERwREhERERsREREQERoREA8RGQ8OESIODREhDQwRIAwLER8LChEeCgkRHQkIERwIBxEbBwYRGgYFERkFBBEiBAMRIQMCESACAREfAREe2zxWFoEBARQVAC6WgQEB1wAwkjBt4hBKEEkQSBBHEEYQRQAU+EJWEgHHBfLghAT+Vh9Z9A1voZIwbd8gbpIwbY6H0Ns8bBpvCuIgbrOXIG7y0IBvKo4mMIsIcIIImJaAgGSCAw1AgggPQkCCECPDRgCCEAX14QBwIBAkECPiViZus5s5ESUgbvLQgAgRJZJXJuJWJG6zmzcRIyBu8tCABhEjklck4lYibrPjD1YgbqcWFxgAFjURISBu8tCABBEhAARXIgH+s5szER8gbvLQgAIRH5JXIOJWKG6zmDERJyBu8tCAklco4lYkbrOdVyARIyBu8tCAER8RI5JXJOJWJW6znVcdESQgbvLQgBEcESSSVyXiViNus51XHREiIG7y0IARHBEiklcj4lYgbrOdVx4RHyBu8tCAER0RH5JXIOJWHlYXvhkD/JdXFlYdpBEW3ggHER8HBhEhBgURIgUEESAEAxEjAwIRGgIBERsBERyBAQERHshVkNs8yRA/AhEVAgERFgEgbpUwWfRaMJRBM/QV4vhCcHCAQBAjbW1t2zwOERgODREXDREWCxEVCwoRFAoJERMJCBESCAcREQcGERAGEF8QThqFGwCGyFAKzxbJUArMF8oAFYEBAc8AE4EBAc8AgQEBzwAByIEBAc8AEoEBAc8AEoEBAc8AA8iBAQHPABKBAQHPAMlYzMkBzAAaED1MsBAqEIlGVQNEFAB80x8BghDonNRfuvLggdIA0z/6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAYEBAdcA0z/TP/QEVWAB9oIAoPf4QlYZAccF8vQRGhEfERoRGREeERkRGBEdERgRFxEcERcRFhEbERYRFREfERURFBEeERQRExEdERMREhEcERIREREbEREREBEfERAPER4PDhEdDg0RHA0MERsMCxEfCwoRHgoJER0JCBEcCAcRGwcGER8GBREeBSICEDDbPGwc2zx/MTID/o7KMNMfAYIQHciVjLry4IHTP9M/9ARVIGwTMnCBAQv4QlYTWXFBM/QKb6GUAdcAMJJbbeIgbrOWMSBu8tCAkTDiggCg9wHy9AHbPH/gghCUapi2uo6n0x8BghCUapi2uvLggdM/ATHIAYIQr/kPV1jLH8s/yfhCAXBt2zx/4DByc30B9gERGAERGYEBAc8AAREWAYEBAc8AAREUAfQAARESAcs/AREQAYEBAc8ADsiBAQHPAB2BAQHPAFALINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WyFAKINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WGIEBASEAms8AFvQAFPQAEss/9ACBAQHPAAHIgQEBzwASgQEBzwATgQEBzwAT9AAUyz8U9AAEyIEBAc8AFYEBAc8AFfQAFfQAyQHMyVjMyVjMyQHMBOAEER0EAxEcAwIRGwLbPHARHo7IERgRGhEYERcRGREXERYRGBEWERURFxEVERQRFhEUERMRFRETERIRFBESERERExERERAREhEQDxERDw4REA5VHQERGwFWG9s84w74QW8kE18DVhmqAKFWGKH4QW8kciMkJQP0VhCBAQskWfQLb6GSMG3fIG6SMG2Oh9DbPGwWbwbicFRwAFMAMDQkbrOaXwQgbvLQgG8mMJk0VhOkERRBRAPiVhJWEKAgwQCSMHDecCFWFLmOGjBWEgGhVhwBqCeoVhKCEDuaygCoqQRRM6ADkTHicCXCAJEy4w1RR6ChJicB6FcdERcRGhEXERYRGREWERURGBEVERQRFxEUERMRFhETERIRFRESERERFBERERARExEQDxESDw4REQ4NERANEM8QvhCtEJwQixB6EGkQWBBHEDZFExEcQARWHNs8ERsRGREYERcRFhEVERQRExESEREREFXgKgLs2zyhgSTVIcIA8vQRG3ARHXERHMhVIIIQHPDPgVAEyx8Syz+BAQHPAMs/yVYRBAMRHAMCER0CERsBECQQI21t2zwRFREYERURFBEXERQRExEWERMREhEVERIREREUEREREBETERAPERIPDhERDg0REA0Qz1UrEjiFACowVhFYoSSogjgFa8deLWMQAACpBAEE7FEhoFYR+CNWH6CBAQtUeFZUdlTIVVDbPMkCERoCUsAgbpUwWfRZMJRBM/QT4hEVKaARFCmgcQoQiRCLBwUGBAMRGQMCAREZASvIVbDbPMnIgljAAAAAAAAAAAAAAAABActnzMlw+wBwVHALBFYSVTDIVVDbPMkuKHEpANaCEB+Fls9QDcsfG8sHGcs/UAcg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYVgQEBzwATgQEBzwAByIEBAc8AEoEBAc8AEoEBAc8AAsiBAQHPABOBAQHPABOBAQHPABPLP8kBzMkBzAA4yIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsAEK0QmgT2VhCBAQskWfQLb6GSMG3fIG6SMG2Oh9DbPGwWbwbigRR2IW6z8vQgbvLQgG8mgXrBIfgju/L0U0e5kzcjB95WEFYUAaCCAJlTIcIA8vQgwQCSMHDeggDTGCHCAPL0cCFWFb6XUpKoVhSpBOMNcCfCAOMAUAWgUUSgcFF6oSssLQDMMPgjIqFWH6CCAVGAqQQlwACOHSlWH6giVhahqAGAZLYIqAGBA+ioghA7msoAqKkEjjAhVhWhUqCoIqkEU2pWIagkVhihqAOAZLYIE6gDgQPoqIIQO5rKAKgTqQRZtggBtgniU4CgACgwVhMkoSeogjgFa8deLWMQAACpBAP+oVFioSbCAJF/kyDCAOKOpoEBCylUSDBUOnEIyFVQ2zzJAhEZAlQnsCBulTBZ9FkwlEEz9BPijq8zNoEBC20gbpIwbY6NIG7y0IBvJshVUNs8yeICERkCUrAgbpUwWfRZMJRBM/QT4uIRFCWhERMooXIIEGoQWRBJERhUGTpWGS4uLwBIUFbLPxOBAQHPAIEBAc8AgQEBzwAByIEBAc8AEoEBAc8AyQHMApTIVaDbPMnIgljAAAAAAAAAAAAAAAABActnzMlw+wBwVHAMUUBVMBEUyFVQ2zzJyIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsAEL4QqzBxAMqCEAVLwblQDMsfGssHGMs/UAYg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYUgQEBzwASgQEBzwAByIEBAc8AEoEBAc8AEoEBAc8AAsiBAQHPABOBAQHPABPLP8lYzMkBzAC80x8BghD/V+VXuvLggdM/0wfTP/pAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB0gCBAQHXAIEBAdcA1AHQgQEB1wDSANM/0z/0BDAQXBBbEFoQWRBYEFcQVgH2jQSVXBkYXRlUGVycFBvc2l0aW9ug/hQwggCg9/hCVh4BxwXy9BEaESQRGhEZESMRGREYESIRGBEXESERFxEWESARFhEVER8RFREUER4RFBETER0RExESERwREhERERsREREQESQREA8RIw8OESIODREhDQwRIAwLER8LMwOAChEeCgkRHQkIERwIBxEbBwYRJAYFESMFBBEiBAMRIQMCESAC2zxWG9s8gROEIcIA8vQgcFYfwAqRf5RWH8AL4nI0NQBegQEBIwJZ9A1voZIwbd8gbpIwbZrQgQEB1wABMW8B4nAhbrOYMCBu8tCAbyGRMeIEqOMP+EFvJBNfA1YZqgChVhih+EFvJNs8oYEk1SHCAPL0ERxwERxxERzIVSCCEO8BwrRQBMsfEss/gQEBzwDLP8lWEQQDER0DAhEcAhEbARAkECNtbTY3ODkB/hEilyARI77y5myXIBEju/LmbOIRGREgERkRGBEfERgRFxEeERcRFhEdERYRFREcERURFBEbERQRExEaERMREhEZERIREREYEREREBEXERAPERYPDhEVDg0RFA0MERMMCxESCwoREQoJERAJEI8QfhBtEFwQSxA6SYBUFwMHRRY6A/4wVh7AA47oVx5XIFcgVyBXIBEVER0RFREUERwRFBETERsRExESERoREhERERkREREQERgREA8RFw8OERYODREVDQwRFAwLERMLChESCgkREQkIERAIVXcHER8HBhEeBiMFBBEgBBMCER8CAREf2zzjDhEaERsRGREYERcRFhEVTk9QAGRsMfpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4Igw+gAxcdch+gAx+gAwpwOrAAFw2zwRFREYERURFBEXERQRExEWERMREhEVERIREREUEREREBETERAPERIPDhERDg0REA0QzxC+VSqFARoEAxEkAwIRIwIRIts8OwP2jQUaW5jcmVhc2VQZXJwUG9zaXRpb26D+FDBWH4EBASdZ9A1voZIwbd8gbpIwbY6H0Ns8bBpvCuKBbJYhbrPy9CBu8tCAbypbMjaCAI9u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","abi":"{\"name\":\"Pool\",\"types\":[{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounced\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"Deploy\",\"header\":2490013878,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"DeployOk\",\"header\":2952335191,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"FactoryDeploy\",\"header\":1829761339,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"cashback\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwner\",\"header\":2174598809,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwnerOk\",\"header\":846932810,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"UpdateConfig\",\"header\":198381229,\"fields\":[{\"name\":\"executor\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"enableExecutor\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":true}},{\"name\":\"gasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":true,\"format\":\"coins\"}},{\"name\":\"minTonsForStorage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":true,\"format\":\"coins\"}},{\"name\":\"lpLockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"lpBonusFactor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"lpLiquidityFactor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"orderBook\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}]},{\"name\":\"UpdateTokenConfig\",\"header\":1775519856,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"name\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":true}},{\"name\":\"enable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":true}},{\"name\":\"minMargin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"maxLeverage\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"liquidationFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"tradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"lpTradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"interestRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"maxFundingRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}}]},{\"name\":\"UpdateLPPosition\",\"header\":3902592095,\"fields\":[{\"name\":\"isIncrease\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"pricesLength\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"prices\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UpdatePriceParam\",\"valueFormat\":\"ref\"}}]},{\"name\":\"UpdateLPPositionSuccess\",\"header\":485543809,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"UpdatePerpPosition\",\"header\":4283950423,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerAbove\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"pricesLength\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"prices\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UpdatePriceParam\",\"valueFormat\":\"ref\"}}]},{\"name\":\"UpdatePerpPositionSuccess\",\"header\":4009870004,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"UpdatePrice\",\"header\":499684748,\"fields\":[{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"pricesLength\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"prices\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UpdatePriceParam\",\"valueFormat\":\"ref\"}}]},{\"name\":\"LPPositionIncreasedEvent\",\"header\":528848591,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"unlockTimeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedFundingFeeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedFundingFeeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"LPPositionDecreasedEvent\",\"header\":88850873,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFeeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"GlobalLPLiquidityChangedEvent\",\"header\":185778578,\"fields\":[{\"name\":\"lpFundAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedPnl\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"GlobalLPPositionChangedEvent\",\"header\":4133122195,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"netSizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"entryPriceAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"PerpPositionIncreasedEvent\",\"header\":15026030,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"marginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradePrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"PerpPositionDecreasedEvent\",\"header\":2650649001,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"marginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradePrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedPnLDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"GlobalPositionChangedEvent\",\"header\":2196054124,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"longMarginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortMarginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"longSizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortSizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"longFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"UpdatePriceEvent\",\"header\":1616417891,\"fields\":[{\"name\":\"pricesLength\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"prices\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UpdatePriceParam\",\"valueFormat\":\"ref\"}}]},{\"name\":\"ConfigData\",\"header\":null,\"fields\":[{\"name\":\"isExecutor\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":true}},{\"name\":\"gasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"minTonsForStorage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"lpLockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpBonusFactor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpLiquidityFactor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"orderBook\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"TokenConfig\",\"header\":null,\"fields\":[{\"name\":\"name\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"enable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"minMargin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxLeverage\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidationFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityProportion\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpTradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"interestRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxFundingRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"TokenConfigData\",\"header\":null,\"fields\":[{\"name\":\"tokenIdNext\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"tokenConfig\",\"type\":{\"kind\":\"simple\",\"type\":\"TokenConfig\",\"optional\":true}}]},{\"name\":\"LPPosition\",\"header\":null,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"liquidity\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonus\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedFundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"unlockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LPPositionData\",\"header\":null,\"fields\":[{\"name\":\"lpPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"LPPosition\",\"optional\":true}},{\"name\":\"globalLPFund\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLPLiquidity\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLPFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLPUnrealizedPnl\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"AccountPerpPosition\",\"header\":null,\"fields\":[{\"name\":\"positions\",\"type\":{\"kind\":\"dict\",\"key\":\"address\",\"value\":\"DirectionPerpPosition\",\"valueFormat\":\"ref\"}}]},{\"name\":\"DirectionPerpPosition\",\"header\":null,\"fields\":[{\"name\":\"longPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"PerpPosition\",\"optional\":false}},{\"name\":\"shortPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"PerpPosition\",\"optional\":false}}]},{\"name\":\"PerpPosition\",\"header\":null,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"margin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"size\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalLPPosition\",\"header\":null,\"fields\":[{\"name\":\"netSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"entryPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"unrealizedPnl\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PerpPositionData\",\"header\":null,\"fields\":[{\"name\":\"perpPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"DirectionPerpPosition\",\"optional\":true}},{\"name\":\"globalLPPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"GlobalLPPosition\",\"optional\":true}},{\"name\":\"globalPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"GlobalPosition\",\"optional\":true}},{\"name\":\"globalPerpNetValue\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalPerpSingleValue\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PriceData\",\"header\":null,\"fields\":[{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"UpdatePriceParam\",\"header\":null,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalPosition\",\"header\":null,\"fields\":[{\"name\":\"longMargin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortMargin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"longSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"longFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"longValue\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortValue\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalFundingRateSample\",\"header\":null,\"fields\":[{\"name\":\"lastAdjustFundingRateTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sampleCount\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"cumulativePremiumRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"FundingFeeGrowth\",\"header\":null,\"fields\":[{\"name\":\"clampedFundingRateDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"longFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"SamplePremiumRateResult\",\"header\":null,\"fields\":[{\"name\":\"sample\",\"type\":{\"kind\":\"simple\",\"type\":\"GlobalFundingRateSample\",\"optional\":false}},{\"name\":\"shouldAdjustFundingRate\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"fundingRateDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateConfig\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateTokenConfig\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateLPPosition\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdatePerpPosition\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdatePrice\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Deploy\"}}],\"getters\":[{\"name\":\"configData\",\"arguments\":[{\"name\":\"executor\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"ConfigData\",\"optional\":false}},{\"name\":\"tokenConfig\",\"arguments\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"TokenConfigData\",\"optional\":false}},{\"name\":\"priceData\",\"arguments\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"PriceData\",\"optional\":true}},{\"name\":\"lpPosition\",\"arguments\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"LPPositionData\",\"optional\":true}},{\"name\":\"perpPosition\",\"arguments\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"PerpPositionData\",\"optional\":true}},{\"name\":\"owner\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}],\"errors\":{\"2\":{\"message\":\"Stack undeflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"13\":{\"message\":\"Out of gas error\"},\"32\":{\"message\":\"Method ID not found\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"37\":{\"message\":\"Not enough TON\"},\"38\":{\"message\":\"Not enough extra-currencies\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid address\"},\"137\":{\"message\":\"Masterchain support is not enabled for this contract\"},\"1644\":{\"message\":\"not reach trigger price\"},\"4996\":{\"message\":\"none available price\"},\"5238\":{\"message\":\"position not exist\"},\"9429\":{\"message\":\"send gas not enough\"},\"18995\":{\"message\":\"margin rate too low\"},\"23314\":{\"message\":\"insufficient liquidity for single value\"},\"27798\":{\"message\":\"invalid token\"},\"28603\":{\"message\":\"margin rate too high\"},\"31425\":{\"message\":\"not reach unlock time\"},\"36718\":{\"message\":\"disabled token\"},\"39251\":{\"message\":\"insufficient global LP\"},\"41207\":{\"message\":\"invalid sender\"},\"42634\":{\"message\":\"legerage too high\"},\"54040\":{\"message\":\"insufficient global net LP\"},\"55429\":{\"message\":\"not reach liquidate price\"},\"55754\":{\"message\":\"insufficient liquidity for net value\"},\"62409\":{\"message\":\"insufficient margin\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\",\"org.ton.debug.v0\",\"org.ton.chain.workchain.v0\",\"org.ton.ownable\"]}","init":{"kind":"direct","args":[{"name":"deployId","type":{"kind":"simple","type":"int","optional":false,"format":257}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":"te6cckECqgEANZAAAQHAAQEFoOi/AgEU/wD0pBP0vPLICwMCAWIfBAIBIBcFAgEgEAYCASAJBwK5tQObZ4IjAiMiIwIi4iMCIuIiwiLiIsIioiLCIqIigiKiIoIiYiKCImIiQiJiIkIiIiJCIiIiAiIiIgHiIgHqodtniuJK4gvh6hEr4QQN0kYNsyQN3loQDeVN4VxQpggBQoEBAVYYAln0DW+hkjBt3yBukjBtjofQ2zxsGm8K4lYWAZcCASAPCgIBIAwLAHWs3caGrS4MzmdF5eotrKqNaaosrihqBmaMTuht5krrSOio6sxsrw3G7c8qSubpDO3rTaYvTismrc6wQAPZrn2QN0kYNscOEGukwICF3XlwRBBrhYUQQIJ/3XloRMGE3XlwRHFtngiMCIyIjAiLiIwIi4iLCIuIiwiKiIsIioiKCIqIigiJiIoIiYiJCImIiQiIiIkIiIiICIiIiAeIiAeqh22eK4gvh7ZIwKYODQBSIG6SMG2OGyBu8tCAbyUEIG6SMG2ZIG7y0IBvJm8G4gRvBeIgbpIwbd4BZm0hbrOOpDCBAQsBIG7y0IAvWVn0C2+hkjBt3yBukjBtjofQ2zxsFm8G4pEx4lR7qStvBXkAEbCvu1E0NIAAYAIBIBIRAN23ejBOC52Hq6WVz2PQnYc6yVCjbNBOE7rGpaVsj5ZkWnXlv74sRzBOBAq4A3AM7HKZywdVyOS2WHBOA3qTvfKost446np7wKs4ZNBOE7Lpy1Zp2W5nQdLNsozdFJBOCBnOrTzivzpKFgOsLcTI9lAD5bdRBA3SRg2xw4Qa6TAgIXdeXBEEGuFhRBAgn/deWhEwYTdeXBEcW2eCIwIjQiMCIuIjIiLiIsIjAiLCIqIi4iKiIoIiwiKCImIioiJiIkIigiJCIiIiYiIiIgIiQiIB4iIh4cIiAcIb6qObZ4riC+HtkjCmFBMAriBukjBtjkkgbvLQgG8lBCBukjBtjhEgbvLQgG8qVURvBVVAbwVvAuIDIG6SMG2ZIG7y0IBvJG8E4gIgbpIwbZkgbvLQgG8obwjiEDRAE28F4iBukjBt3gPybSFus46kKYEBASRZ9A1voZIwbd8gbpIwbZfQ9AQBMW8B4iBus5IwMeMNkTHiLYEBASNZ9A1voZIwbd8gbpIwbY4Y0IEBAdcA0gCBAQHXAIEBAdcAVTBsFG8E4oEBAVRIFFn0DW+hkjBt3yBukjBtjofQ2zxsGG8I4haLFQAMVBIGJm8FANoxIG7y0IBvIYEBCwIgbvLQgBJZ9AtvoZIwbd8gbpIwbY5K0NM/gQEB1wCBAQHXAIEBAdcA1AHQgQEB1wAwFRRDMAXUAdDTP4EBAdcAgQEB1wCBAQHXANQB0IEBAdcAMBUUQzA1EFpVA2wabwriAgEgHRgCAccbGQIYqR3bPNs8VxBfD2yRphoABFYRAtSq4SBukjBtjhwg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCI4ts8ERgRGREYERcRGBEXERYRFxEWERURFhEVERQRFREUERMRFBETERIRExESEREREhERERAREREQDxEQD1UO2zxs52y3phwAZG0hbrOOHTCBAQsBIG7y0IBWEFlxQTP0Cm+hlAHXADCSW23ikTHiVhlWGVYXVhdWF1YWAr25f42zwRGBEZERgRFxEYERcRFhEXERYRFREWERURFBEVERQRExEUERMREhETERIRERESEREREBERERAPERAPVQ7bPFcQXw9skSBukjBtmSBu8tCAbyFvAeIgbpIwbd6KYeAD6BAQEjAln0DW+hkjBt3yBukjBtmtCBAQHXAAExbwHiA/TQAdDTAwFxsKMB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFRQUwNvBPhhAvhi2zwRGBEaERgRFxEZERcRFhEYERYRFREXERURFBEWERQRExEVERMREhEUERIRERETEREREBESERAPEREPDhEQDhDfVRzbPKYjIAFO8uCCyPhDAcx/AcoAERkRGBEXERYRFREUERMREhERERBV4Ns8ye1UIQH2AREYAREZgQEBzwABERYBgQEBzwABERQB9AABERIByz8BERABgQEBzwAOyIEBAc8AHYEBAc8AUAsg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxbIUAog10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYYgQEBIgCazwAW9AAU9AASyz/0AIEBAc8AAciBAQHPABKBAQHPABOBAQHPABP0ABTLPxT0AATIgQEBzwAVgQEBzwAV9AAV9ADJAczJWMzJWMzJAcwEbgGSMH/gcCHXScIflTAg1wsf3iCCEAvTDq26jwgw2zxsGNs8f+AgghBp1EhwuuMCIIIQ6JzUX7qimo4kBDqPCDDbPGwX2zx/4CCCEP9X5Ve64wIgghAdyJWMuo1nJyUD/o7KMNMfAYIQHciVjLry4IHTP9M/9ARVIGwTMnCBAQv4QlYTWXFBM/QKb6GUAdcAMJJbbeIgbrOWMSBu8tCAkTDiggCg9wHy9AHbPH/gghCUapi2uo6n0x8BghCUapi2uvLggdM/ATHIAYIQr/kPV1jLH8s/yfhCAXBt2zx/4DB6JogBOm1tIm6zmVsgbvLQgG8iAZEy4hAkcAMEgEJQI9s8nQIQMNs8bBzbPH9mKAH2jQSVXBkYXRlUGVycFBvc2l0aW9ug/hQwggCg9/hCVh4BxwXy9BEaESQRGhEZESMRGREYESIRGBEXESERFxEWESARFhEVER8RFREUER4RFBETER0RExESERwREhERERsREREQESQREA8RIw8OESIODREhDQwRIAwLER8LKQOAChEeCgkRHQkIERwIBxEbBwYRJAYFESMFBBEiBAMRIQMCESAC2zxWG9s8gROEIcIA8vQgcFYfwAqRf5RWH8AL4nplKgSo4w/4QW8kE18DVhmqAKFWGKH4QW8k2zyhgSTVIcIA8vQRHHARHHERHMhVIIIQ7wHCtFAEyx8Syz+BAQHPAMs/yVYRBAMRHQMCERwCERsBECQQI21tTyxqKwFw2zwRFREYERURFBEXERQRExEWERMREhEVERIREREUEREREBETERAPERIPDhERDg0REA0QzxC+VSqdA/4wVh7AA47oVx5XIFcgVyBXIBEVER0RFREUERwRFBETERsRExESERoREhERERkREREQERgREA8RFw8OERYODREVDQwRFAwLERMLChESCgkREQkIERAIVXcHER8HBhEeBiMFBBEgBBMCER8CAREf2zzjDhEaERsRGREYERcRFhEVPy4tABgRFBETERIREREQVeAC9FYewASO7FchVyERGBEgERgRFxEfERcRFhEeERYRFREdERURFBEcERQRExEbERMREhEaERIREREZEREREBEYERAPERcPDhEWDg0RFQ0MERQMCxETCwoREgoJEREJCBEQCFV3JhBYXiMQJAMRIwMRIgLbPOMOERoRGxEaMC8B/hEhmVYgAREivvLmbJlWIAERIrvy5mziERgRIBEYERcRHxEXERYRHhEWERURHREVERQRHBEUERMRGxET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GhEZER4RGREYER0RGBEXERwRFxEWERsRFhEVER8RFREUER4RFBETER0RExESERwREhERERsREREQER8REA8RHg8OER0ODREcDQwRGwwLER8LChEeCgkRHQkIERwIBxEbBwYRHwYFER4FaATgBBEdBAMRHAMCERsC2zxwER6OyBEYERoRGBEXERkRFxEWERgRFhEVERcRFREUERYRFBETERURExESERQREhERERMREREQERIREA8REQ8OERAOVR0BERsBVhvbPOMO+EFvJBNfA1YZqgChVhih+EFvJHpya2kC7Ns8oYEk1SHCAPL0ERtwER1xERzIVSCCEBzwz4FQBMsfEss/gQEBzwDLP8lWEQQDERwDAhEdAhEbARAkECNtbds8ERURGBEVERQRFxEUERMRFhETERIRFRESERERFBERERARExEQDxESDw4REQ4NERANEM9VKxJqnQBkbDH6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIMPoAMXHXIfoAMfoAMKcDqwAB6FcdERcRGhEXERYRGREWERURGBEVERQRFxEUERMRFhETERIRFRESERERFBERERARExEQDxESDw4REQ4NERANEM8QvhCtEJwQixB6EGkQWBBHEDZFExEcQARWHNs8ERsRGREYERcRFhEVERQRExESEREREFXgbAT2VhCBAQskWfQLb6GSMG3fIG6SMG2Oh9DbPGwWbwbigRR2IW6z8vQgbvLQgG8mgXrBIfgju/L0U0e5kzcjB95WEFYUAaCCAJlTIcIA8vQgwQCSMHDeggDTGCHCAPL0cCFWFb6XUpKoVhSpBOMNcCfCAOMAUAWgUUSgcFF6eXFwbQP+oVFioSbCAJF/kyDCAOKOpoEBCylUSDBUOnEIyFVQ2zzJAhEZAlQnsCBulTBZ9FkwlEEz9BPijq8zNoEBC20gbpIwbY6NIG7y0IBvJshVUNs8yeICERkCUrAgbpUwWfRZMJRBM/QT4uIRFCWhERMooXIIEGoQWRBJERhUGTpWGXd3bgKUyFWg2zzJyIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsAcFRwDFFAVTARFMhVUNs8yciCWMAAAAAAAAAAAAAAAAEBy2fMyXD7ABC+EKtvdQDKghAFS8G5UAzLHxrLBxjLP1AGINdJgQELuvLgiCDXCwoggQT/uvLQiYMJ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"}},"sources":{"contracts/pool/messages.tact":"aW1wb3J0ICIuL3N0cnVjdHMiOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBhZG1pbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwptZXNzYWdlIFVwZGF0ZUNvbmZpZyB7CiAgICBleGVjdXRvcjogQWRkcmVzcz87CiAgICBlbmFibGVFeGVjdXRvcjogQm9vbD87CiAgICBnYXNDb25zdW1wdGlvbjogSW50PyBhcyBjb2luczsKICAgIG1pblRvbnNGb3JTdG9yYWdlOiBJbnQ/IGFzIGNvaW5zOwogICAgbHBMb2NrVGltZTogSW50PzsKICAgIGxwQm9udXNGYWN0b3I6IEludD87CiAgICBscExpcXVpZGl0eUZhY3RvcjogSW50PzsKICAgIG9yZGVyQm9vazogQWRkcmVzcz87Cn0KCm1lc3NhZ2UgVXBkYXRlVG9rZW5Db25maWcgewogICAgdG9rZW5JZDogSW50IGFzIHVpbnQ2NDsKICAgIG5hbWU6IFN0cmluZz87CiAgICBlbmFibGU6IEJvb2w/OwogICAgbWluTWFyZ2luOiBJbnQ/OwogICAgbWF4TGV2ZXJhZ2U6IEludD87CiAgICBsaXF1aWRhdGlvbkZlZTogSW50PzsKICAgIHRyYWRpbmdGZWVSYXRlOiBJbnQ/OwogICAgbHBUcmFkaW5nRmVlUmF0ZTogSW50PzsKICAgIGludGVyZXN0UmF0ZTogSW50PzsKICAgIG1heEZ1bmRpbmdSYXRlOiBJbnQ/Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IExQID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCm1lc3NhZ2UoMHhlODljZDQ1ZikgVXBkYXRlTFBQb3NpdGlvbiB7CiAgICBpc0luY3JlYXNlOiBCb29sOwogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICBsaXF1aWRpdHlEZWx0YTogSW50OwogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7CiAgICBwcmljZXNMZW5ndGg6IEludCBhcyB1aW50NjQ7CiAgICBwcmljZXM6IG1hcDxJbnQsIFVwZGF0ZVByaWNlUGFyYW0+Owp9CgptZXNzYWdlKDB4MWNmMGNmODEpIFVwZGF0ZUxQUG9zaXRpb25TdWNjZXNzIHsKICAgIG9yZGVySWQ6IEludCBhcyB1aW50NjQ7CiAgICByZWNlaXZlOiBJbnQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBQZXJwID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCm1lc3NhZ2UoMHhmZjU3ZTU1NykgVXBkYXRlUGVycFBvc2l0aW9uIHsKICAgIG9yZGVySWQ6IEludCBhcyB1aW50NjQ7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIHRva2VuSWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgaXNMb25nOiBCb29sOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIHNpemVEZWx0YTogSW50OwogICAgdHJpZ2dlclByaWNlOiBJbnQ7CiAgICB0cmlnZ2VyQWJvdmU6IEJvb2w7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKICAgIHByaWNlc0xlbmd0aDogSW50IGFzIHVpbnQ2NDsKICAgIHByaWNlczogbWFwPEludCwgVXBkYXRlUHJpY2VQYXJhbT47Cn0KCm1lc3NhZ2UoMHhlZjAxYzJiNCkgVXBkYXRlUGVycFBvc2l0aW9uU3VjY2VzcyB7CiAgICBvcmRlcklkOiBJbnQgYXMgdWludDY0OwogICAgcmVjZWl2ZTogSW50OwogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUHJpY2UgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KbWVzc2FnZSBVcGRhdGVQcmljZSB7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKICAgIHByaWNlc0xlbmd0aDogSW50IGFzIHVpbnQ2NDsKICAgIHByaWNlczogbWFwPEludCwgVXBkYXRlUHJpY2VQYXJhbT47Cn0=","contracts/pool/events.tact":"aW1wb3J0ICIuL3N0cnVjdHMiOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBMUCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwovLyBpbmNyZWFzZSBMUAptZXNzYWdlIExQUG9zaXRpb25JbmNyZWFzZWRFdmVudCB7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIHBvc2l0aW9uSWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgbGlxdWlkaXR5RGVsdGE6IEludDsKICAgIGxpcXVpZGl0eUFmdGVyOiBJbnQ7CiAgICBib251c0RlbHRhOiBJbnQ7CiAgICBib251c0FmdGVyOiBJbnQ7CiAgICB1bmxvY2tUaW1lQWZ0ZXI6IEludDsKICAgIHJlYWxpemVkRnVuZGluZ0ZlZURlbHRhOiBJbnQ7CiAgICByZWFsaXplZEZ1bmRpbmdGZWVBZnRlcjogSW50OwogICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0Owp9CgovLyBkZWNyZWFzZSBMUAptZXNzYWdlIExQUG9zaXRpb25EZWNyZWFzZWRFdmVudCB7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIHBvc2l0aW9uSWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgbGlxdWlkaXR5RGVsdGE6IEludDsgLy8gZGVjcmVhc2UgbGlxdWlkdHkKICAgIGxpcXVpZGl0eUFmdGVyOiBJbnQ7CiAgICBib251c0RlbHRhOiBJbnQ7CiAgICBib251c0FmdGVyOiBJbnQ7CiAgICBmdW5kaW5nRmVlRGVsdGE6IEludDsKICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBJbnQ7CiAgICByZWNlaXZlOiBJbnQ7IC8vIHJlYWxpemVkUG5sID0gcmVjZWl2ZSAtIGxpcXVpZGl0eURlbHRhCiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKLy8gZ2xvYmFsIExQCm1lc3NhZ2UgR2xvYmFsTFBMaXF1aWRpdHlDaGFuZ2VkRXZlbnQgewogICAgbHBGdW5kQWZ0ZXI6IEludDsKICAgIGxpcXVpZGl0eUFmdGVyOiBJbnQ7CiAgICB0cmFkaW5nRmVlOiBJbnQ7CiAgICBmdW5kaW5nRmVlOiBJbnQ7CiAgICByZWFsaXplZFBubDogSW50OwogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7Cn0KCm1lc3NhZ2UgR2xvYmFsTFBQb3NpdGlvbkNoYW5nZWRFdmVudCB7CiAgICB0b2tlbklkOiBJbnQgYXMgdWludDY0OwogICAgbmV0U2l6ZUFmdGVyOiBJbnQ7CiAgICBpc0xvbmc6IEJvb2w7CiAgICBlbnRyeVByaWNlQWZ0ZXI6IEludDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFBlcnAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KbWVzc2FnZSBQZXJwUG9zaXRpb25JbmNyZWFzZWRFdmVudCB7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIHBvc2l0aW9uSWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgdG9rZW5JZDogSW50IGFzIHVpbnQ2NDsKICAgIGlzTG9uZzogQm9vbDsKICAgIG1hcmdpbkRlbHRhOiBJbnQ7CiAgICBtYXJnaW5BZnRlcjogSW50OwogICAgc2l6ZURlbHRhOiBJbnQ7CiAgICBzaXplQWZ0ZXI6IEludDsKICAgIHRyYWRlUHJpY2U6IEludDsKICAgIGVudHJ5UHJpY2U6IEludDsKICAgIGZ1bmRpbmdGZWU6IEludDsKICAgIHRyYWRpbmdGZWU6IEludDsKICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBJbnQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKbWVzc2FnZSBQZXJwUG9zaXRpb25EZWNyZWFzZWRFdmVudCB7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIHBvc2l0aW9uSWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgdG9rZW5JZDogSW50IGFzIHVpbnQ2NDsKICAgIGlzTG9uZzogQm9vbDsKICAgIG1hcmdpbkRlbHRhOiBJbnQ7CiAgICBtYXJnaW5BZnRlcjogSW50OwogICAgc2l6ZURlbHRhOiBJbnQ7CiAgICBzaXplQWZ0ZXI6IEludDsKICAgIHRyYWRlUHJpY2U6IEludDsKICAgIHJlYWxpemVkUG5MRGVsdGE6IEludDsKICAgIGZ1bmRpbmdGZWU6IEludDsKICAgIHRyYWRpbmdGZWU6IEludDsKICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBJbnQ7CiAgICByZWNlaXZlOiBJbnQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKbWVzc2FnZSBHbG9iYWxQb3NpdGlvbkNoYW5nZWRFdmVudCB7CiAgICB0b2tlbklkOiBJbnQgYXMgdWludDY0OwogICAgbG9uZ01hcmdpbkFmdGVyOiBJbnQ7CiAgICBzaG9ydE1hcmdpbkFmdGVyOiBJbnQ7CiAgICBsb25nU2l6ZUFmdGVyOiBJbnQ7CiAgICBzaG9ydFNpemVBZnRlcjogSW50OwogICAgbG9uZ0Z1bmRpbmdGZWVHcm93dGhBZnRlcjogSW50OwogICAgc2hvcnRGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFByaWNlID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCm1lc3NhZ2UgVXBkYXRlUHJpY2VFdmVudCB7CiAgICBwcmljZXNMZW5ndGg6IEludCBhcyB1aW50NjQ7CiAgICBwcmljZXM6IG1hcDxJbnQsIFVwZGF0ZVByaWNlUGFyYW0+Owp9","contracts/pool/structs.tact":"Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBDb25maWcgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8Kc3RydWN0IENvbmZpZ0RhdGEgewogICAgaXNFeGVjdXRvcjogQm9vbD87CiAgICBnYXNDb25zdW1wdGlvbjogSW50IGFzIGNvaW5zOwogICAgbWluVG9uc0ZvclN0b3JhZ2U6IEludCBhcyBjb2luczsKICAgIGxwTG9ja1RpbWU6IEludDsKICAgIGxwQm9udXNGYWN0b3I6IEludDsKICAgIGxwTGlxdWlkaXR5RmFjdG9yOiBJbnQ7CiAgICBvcmRlckJvb2s6IEFkZHJlc3M7Cn0KCnN0cnVjdCBUb2tlbkNvbmZpZyB7CiAgICBuYW1lOiBTdHJpbmc7CiAgICBlbmFibGU6IEJvb2w7CiAgICAvLyA9PT09PT09PT09PT09PT09PT09PSBUcmFkZXIgUG9zaXRpb24gQ29uZmlndXJhdGlvbiA9PT09PT09PT09PT09PT09PT0KICAgIG1pbk1hcmdpbjogSW50OwogICAgbWF4TGV2ZXJhZ2U6IEludDsKICAgIGxpcXVpZGF0aW9uRmVlOiBJbnQ7CiAgICBsaXF1aWRpdHlQcm9wb3J0aW9uOiBJbnQ7CiAgICAvLyA9PT09PT09PT09PT09PT09PT09PSBUcmFkaW5nIEZlZSBDb25maWd1cmF0aW9uID09PT09PT09PT09PT09PT09PQogICAgdHJhZGluZ0ZlZVJhdGU6IEludDsKICAgIGxwVHJhZGluZ0ZlZVJhdGU6IEludDsKICAgIC8vID09PT09PT09PT09PT09PT09PT09IE90aGVyIENvbmZpZ3VyYXRpb24gPT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIGludGVyZXN0UmF0ZTogSW50OwogICAgbWF4RnVuZGluZ1JhdGU6IEludDsKfQoKc3RydWN0IFRva2VuQ29uZmlnRGF0YSB7CiAgICB0b2tlbklkTmV4dDogSW50IGFzIHVpbnQ2NDsKICAgIHRva2VuQ29uZmlnOiBUb2tlbkNvbmZpZz87Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gTFAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8Kc3RydWN0IExQUG9zaXRpb24gewogICAgcG9zaXRpb25JZDogSW50IGFzIHVpbnQ2NDsKICAgIGxpcXVpZGl0eTogSW50OwogICAgYm9udXM6IEludDsKICAgIHJlYWxpemVkRnVuZGluZ0ZlZTogSW50OwogICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiBJbnQ7CiAgICB1bmxvY2tUaW1lOiBJbnQ7Cn0KCnN0cnVjdCBMUFBvc2l0aW9uRGF0YSB7CiAgICBscFBvc2l0aW9uOiBMUFBvc2l0aW9uPzsKICAgIGdsb2JhbExQRnVuZDogSW50OwogICAgZ2xvYmFsTFBMaXF1aWRpdHk6IEludDsKICAgIGdsb2JhbExQRnVuZGluZ0ZlZUdyb3d0aDogSW50OwogICAgZ2xvYmFsTFBVbnJlYWxpemVkUG5sOiBJbnQ7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUGVycCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwovLyBwZXJwIHBvc2l0aW9uCnN0cnVjdCBBY2NvdW50UGVycFBvc2l0aW9uIHsKICAgIHBvc2l0aW9uczogbWFwPEFkZHJlc3MsIERpcmVjdGlvblBlcnBQb3NpdGlvbj47Cn0KCnN0cnVjdCBEaXJlY3Rpb25QZXJwUG9zaXRpb24gewogICAgbG9uZ1Bvc2l0aW9uOiBQZXJwUG9zaXRpb247CiAgICBzaG9ydFBvc2l0aW9uOiBQZXJwUG9zaXRpb247Cn0KCnN0cnVjdCBQZXJwUG9zaXRpb24gewogICAgcG9zaXRpb25JZDogSW50IGFzIHVpbnQ2NDsKICAgIG1hcmdpbjogSW50OwogICAgc2l6ZTogSW50OwogICAgZW50cnlQcmljZTogSW50OwogICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiBJbnQ7Cn0KCnN0cnVjdCBHbG9iYWxMUFBvc2l0aW9uIHsKICAgIG5ldFNpemU6IEludDsKICAgIGlzTG9uZzogQm9vbDsKICAgIGVudHJ5UHJpY2U6IEludDsKICAgIHVucmVhbGl6ZWRQbmw6IEludDsKfQoKc3RydWN0IFBlcnBQb3NpdGlvbkRhdGEgewogICAgcGVycFBvc2l0aW9uOiBEaXJlY3Rpb25QZXJwUG9zaXRpb24/OwogICAgZ2xvYmFsTFBQb3NpdGlvbjogR2xvYmFsTFBQb3NpdGlvbj87CiAgICBnbG9iYWxQb3NpdGlvbjogR2xvYmFsUG9zaXRpb24/OwogICAgZ2xvYmFsUGVycE5ldFZhbHVlOiBJbnQ7CiAgICBnbG9iYWxQZXJwU2luZ2xlVmFsdWU6IEludDsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBQcmljZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwpzdHJ1Y3QgUHJpY2VEYXRhIHsKICAgIHByaWNlOiBJbnQ7Cn0KCnN0cnVjdCBVcGRhdGVQcmljZVBhcmFtIHsKICAgIHRva2VuSWQ6IEludCBhcyB1aW50NjQ7CiAgICBwcmljZTogSW50Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IGZ1bmRpbmcgcmF0ZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwpzdHJ1Y3QgR2xvYmFsUG9zaXRpb24gewogICAgbG9uZ01hcmdpbjogSW50OwogICAgc2hvcnRNYXJnaW46IEludDsKICAgIGxvbmdTaXplOiBJbnQ7CiAgICBzaG9ydFNpemU6IEludDsKICAgIGxvbmdGdW5kaW5nRmVlR3Jvd3RoOiBJbnQ7CiAgICBzaG9ydEZ1bmRpbmdGZWVHcm93dGg6IEludDsKICAgIGxvbmdWYWx1ZTogSW50OwogICAgc2hvcnRWYWx1ZTogSW50Owp9CgpzdHJ1Y3QgR2xvYmFsRnVuZGluZ1JhdGVTYW1wbGUgewogICAgbGFzdEFkanVzdEZ1bmRpbmdSYXRlVGltZTogSW50OwogICAgc2FtcGxlQ291bnQ6IEludDsKICAgIGN1bXVsYXRpdmVQcmVtaXVtUmF0ZTogSW50Owp9CgpzdHJ1Y3QgRnVuZGluZ0ZlZUdyb3d0aCB7CiAgICBjbGFtcGVkRnVuZGluZ1JhdGVEZWx0YTogSW50OwogICAgbG9uZ0Z1bmRpbmdGZWVHcm93dGhBZnRlcjogSW50OwogICAgc2hvcnRGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludDsKfQoKc3RydWN0IFNhbXBsZVByZW1pdW1SYXRlUmVzdWx0IHsKICAgIHNhbXBsZTogR2xvYmFsRnVuZGluZ1JhdGVTYW1wbGU7CiAgICBzaG91bGRBZGp1c3RGdW5kaW5nUmF0ZTogQm9vbDsKICAgIGZ1bmRpbmdSYXRlRGVsdGE6IEludDsKfQ==","contracts/pool/constants.tact":"CmNvbnN0IFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQ6IEludCA9IHBvdygxMCwgOSk7CmNvbnN0IFBSSUNFX0RFQ0lNQUxfRkFDVE9SOiBJbnQgPSBwb3coMTAsIDIwKTsKCmNvbnN0IERBWTogSW50ID0gMjQgKiA2MCAqIDYwOwoKY29uc3QgQURKVVNUX0ZVTkRJTkdfUkFURV9JTlRFUlZBTDogSW50ID0gMzYwMDsgLy8gMSBob3VyCmNvbnN0IFNBTVBMRV9QUkVNSVVNX1JBVEVfSU5URVJWQUw6IEludCA9IDU7IC8vIDUgc2Vjb25kcwpjb25zdCBSRVFVSVJFRF9TQU1QTEVfQ09VTlQ6IEludCA9IDcyMDsKLy8gOCAqICgxKzIrMysuLi4rNzIwKSA9IDggKiAoKDErNzIwKSAqIDcyMCAvIDIpID0gOCAqIDI1OTU2MApjb25zdCBQUkVNSVVNX1JBVEVfQVZHX0RFTk9NSU5BVE9SOiBJbnQgPSA4ICogMjU5NTYwOwovLyAwLjA1JSAvIDggKiBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UCmNvbnN0IFBSRU1JVU1fUkFURV9DTEFNUF9CT1VOREFSWTogSW50ID0gNjI1MDA7CmNvbnN0IEJBU0lTX1BPSU5UU19ESVZJU09SOiBJbnQgPSAxMDAwMDAwMDA7Cgpjb25zdCBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFOiBJbnQgPSAxOwpjb25zdCBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFOiBJbnQgPSAyOwpjb25zdCBPUkRFUl9PUF9UWVBFX0xJUVVJREFUSU9OOiBJbnQgPSAzOwpjb25zdCBPUkRFUl9PUF9UWVBFX0FETDogSW50ID0gNDsKCmNvbnN0IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTUFSS0VUOiBJbnQgPSAxMDsKY29uc3QgT1JERVJfT1BfVFlQRV9JTkNSRUFTRV9MSU1JVDogSW50ID0gMTE7CmNvbnN0IE9SREVSX09QX1RZUEVfREVDUkVBU0VfTUFSS0VUOiBJbnQgPSAxMjsKY29uc3QgT1JERVJfT1BfVFlQRV9ERUNSRUFTRV9UUDogSW50ID0gMTM7CmNvbnN0IE9SREVSX09QX1RZUEVfREVDUkVBU0VfU0w6IEludCA9IDE0Ow==","contracts/pool/pool.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CmltcG9ydCAiQHN0ZGxpYi9vd25hYmxlIjsKaW1wb3J0ICIuL21lc3NhZ2VzIjsKaW1wb3J0ICIuL2V2ZW50cyI7CmltcG9ydCAiLi9zdHJ1Y3RzIjsKaW1wb3J0ICIuL2NvbnN0YW50cyI7Cgpjb250cmFjdCBQb29sIHdpdGggRGVwbG95YWJsZSwgT3duYWJsZSB7CgogICAgLy8gY29uZmlnCiAgICBnYXNDb25zdW1wdGlvbjogSW50ID0gdG9uKCIwLjA1Iik7CiAgICBtaW5Ub25zRm9yU3RvcmFnZTogSW50ID0gdG9uKCIwLjAzIik7CgogICAgdG9rZW5Db25maWdzOiBtYXA8SW50LCBUb2tlbkNvbmZpZz47IC8vIHRva2VuSWQgPT4gdG9rZW5Db25maWcKICAgIHRva2VuSWROZXh0OiBJbnQgYXMgdWludDY0ID0gMTsKCiAgICAvLyBscExvY2tUaW1lOiBJbnQgPSAxMCAqIDI0ICogNjAgKiA2MDsgLy8gbG9jayAxMCBkYXlzCiAgICBscExvY2tUaW1lOiBJbnQgPSAxMCAqIDYwOyAvLyBUT0RPIGxvY2sgMTAgbWluIGZvciB0ZXN0CiAgICBscEJvbnVzRmFjdG9yOiBJbnQgPSBwb3coMTAsIDkpOwogICAgbHBMaXF1aWRpdHlGYWN0b3I6IEludCA9IHBvdygxMCwgOSk7CgogICAgLy8gYWRtaW4KICAgIG93bmVyOiBBZGRyZXNzOwogICAgb3JkZXJCb29rOiBBZGRyZXNzOwogICAgcHJvdG9jb2xUcmFkaW5nRmVlOiBJbnQgPSAwOwogICAgZXhlY3V0b3JzOiBtYXA8QWRkcmVzcywgQm9vbD47IC8vIGFjY291bnQgPT4gZW5hYmxlZAoKICAgIC8vIExQCiAgICBscFBvc2l0aW9uczogbWFwPEFkZHJlc3MsIExQUG9zaXRpb24+OyAvLyB0cmFkZXIgPT4gTFAKICAgIGxwUG9zaXRpb25JbmRleE5leHQ6IEludCBhcyB1aW50NjQgPSAxOwoKICAgIGdsb2JhbExQUG9zaXRpb25zOiBtYXA8SW50LCBHbG9iYWxMUFBvc2l0aW9uPjsgLy8gdG9rZW5JZCA9PiBnbG9iYWxMUAoKICAgIGdsb2JhbExQRnVuZDogSW50ID0gMDsKICAgIGdsb2JhbExQTGlxdWlkaXR5OiBJbnQgPSAwOwogICAgZ2xvYmFsTFBGdW5kaW5nRmVlR3Jvd3RoOiBJbnQgPSAwOwogICAgZ2xvYmFsTFBVbnJlYWxpemVkUG5sOiBJbnQgPSAwOwoKICAgIC8vIFBlcnAKICAgIHBlcnBQb3NpdGlvbnM6IG1hcDxJbnQsIEFjY291bnRQZXJwUG9zaXRpb24+OyAvLyB0b2tlbklkID0+IHVzZXIgPT4gZGlyZWN0aW9uID0+IHBvc2l0aW9uCiAgICBwZXJwUG9zaXRpb25JbmRleE5leHQ6IEludCBhcyB1aW50NjQgPSAxOwogICAgZ2xvYmFsUG9zaXRpb25zIDogbWFwPEludCwgR2xvYmFsUG9zaXRpb24+OyAvLyB0b2tlbklkID0+IGdsb2JhbFBvc2l0aW9uCgogICAgZ2xvYmFsUGVycE5ldFZhbHVlOiBJbnQgPSAwOwogICAgZ2xvYmFsUGVycFNpbmdsZVZhbHVlOiBJbnQgPSAwOwoKICAgIC8vIHByaWNlCiAgICBwcmljZXM6IG1hcDxJbnQsIFByaWNlRGF0YT47IC8vIHRva2VuSWQgPT4gcHJpY2VEYXRhCgogICAgLy8gZnVuZGluZyByYXRlCiAgICBnbG9iYWxGdW5kaW5nUmF0ZVNhbXBsZXM6IG1hcDxJbnQsIEdsb2JhbEZ1bmRpbmdSYXRlU2FtcGxlPjsgLy8gdG9rZW5JZCA9PiBzYW1wbGUKCiAgICBpbml0KGRlcGxveUlkOiBJbnQpIHsKICAgICAgICBzZWxmLm93bmVyID0gc2VuZGVyKCk7CiAgICAgICAgc2VsZi5vcmRlckJvb2sgPSBuZXdBZGRyZXNzKDAsIDApOwogICAgICAgIHNlbGYuZXhlY3V0b3JzLnNldChzZW5kZXIoKSwgdHJ1ZSk7CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gQWRtaW4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwogICAgcmVjZWl2ZShtc2c6IFVwZGF0ZUNvbmZpZykgewogICAgICAgIHNlbGYucmVxdWlyZU93bmVyKCk7CgogICAgICAgIGlmIChtc2cuZXhlY3V0b3IgIT0gbnVsbCAmJiBtc2cuZW5hYmxlRXhlY3V0b3IgIT0gbnVsbCkgewogICAgICAgICAgICBzZWxmLmV4ZWN1dG9ycy5zZXQobXNnLmV4ZWN1dG9yISEsIG1zZy5lbmFibGVFeGVjdXRvciEhKTsKICAgICAgICB9CiAgICAgICAgaWYgKG1zZy5nYXNDb25zdW1wdGlvbiAhPSBudWxsKSB7CiAgICAgICAgICAgIHNlbGYuZ2FzQ29uc3VtcHRpb24gPSBtc2cuZ2FzQ29uc3VtcHRpb24hITsKICAgICAgICB9CiAgICAgICAgaWYgKG1zZy5taW5Ub25zRm9yU3RvcmFnZSAhPSBudWxsKSB7CiAgICAgICAgICAgIHNlbGYubWluVG9uc0ZvclN0b3JhZ2UgPSBtc2cubWluVG9uc0ZvclN0b3JhZ2UhITsKICAgICAgICB9CiAgICAgICAgaWYgKG1zZy5scExvY2tUaW1lICE9IG51bGwpIHsKICAgICAgICAgICAgc2VsZi5scExvY2tUaW1lID0gbXNnLmxwTG9ja1RpbWUhITsKICAgICAgICB9CiAgICAgICAgaWYgKG1zZy5scEJvbnVzRmFjdG9yICE9IG51bGwpIHsKICAgICAgICAgICAgc2VsZi5scEJvbnVzRmFjdG9yID0gbXNnLmxwQm9udXNGYWN0b3IhITsKICAgICAgICB9CiAgICAgICAgaWYgKG1zZy5scExpcXVpZGl0eUZhY3RvciAhPSBudWxsKSB7CiAgICAgICAgICAgIHNlbGYubHBMaXF1aWRpdHlGYWN0b3IgPSBtc2cubHBMaXF1aWRpdHlGYWN0b3IhITsKICAgICAgICB9CiAgICAgICAgaWYgKG1zZy5vcmRlckJvb2sgIT0gbnVsbCkgewogICAgICAgICAgICBzZWxmLm9yZGVyQm9vayA9IG1zZy5vcmRlckJvb2shITsKICAgICAgICB9CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbmRlcigpLAogICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ1ZhbHVlCiAgICAgICAgfSk7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFVwZGF0ZVRva2VuQ29uZmlnKSB7CiAgICAgICAgc2VsZi5yZXF1aXJlT3duZXIoKTsKCiAgICAgICAgbGV0IHRva2VuQ29uZmlnT3B0OiBUb2tlbkNvbmZpZz8gPSBzZWxmLnRva2VuQ29uZmlncy5nZXQobXNnLnRva2VuSWQpOwogICAgICAgIGxldCB0b2tlbkNvbmZpZzogVG9rZW5Db25maWcgPSB0b2tlbkNvbmZpZ09wdCAhPSBudWxsID8gdG9rZW5Db25maWdPcHQhISA6IFRva2VuQ29uZmlnewogICAgICAgICAgICBuYW1lOiAiIiwKICAgICAgICAgICAgZW5hYmxlOiBmYWxzZSwKICAgICAgICAgICAgbWluTWFyZ2luOiAxMCAqIHBvdygxMCwgNiksIC8vIDEwVQogICAgICAgICAgICBtYXhMZXZlcmFnZTogMTAwLAogICAgICAgICAgICBsaXF1aWRhdGlvbkZlZTogMiAqIHBvdygxMCwgNSksIC8vIDAuMlUKICAgICAgICAgICAgdHJhZGluZ0ZlZVJhdGU6IDFfMDAwXzAwMCwgLy8gMC4xJQogICAgICAgICAgICBscFRyYWRpbmdGZWVSYXRlOiA2MDBfMDAwXzAwMCwgLy8gNjAlCiAgICAgICAgICAgIGxpcXVpZGl0eVByb3BvcnRpb246IDEwMF8wMDBfMDAwLCAvLyAxMCUKICAgICAgICAgICAgaW50ZXJlc3RSYXRlOiAwLAogICAgICAgICAgICBtYXhGdW5kaW5nUmF0ZTogMAogICAgICAgIH07CgogICAgICAgIGlmIChtc2cubmFtZSAhPSBudWxsKXsKICAgICAgICAgICAgdG9rZW5Db25maWcubmFtZSA9IG1zZy5uYW1lISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cuZW5hYmxlICE9IG51bGwpewogICAgICAgICAgICB0b2tlbkNvbmZpZy5lbmFibGUgPSBtc2cuZW5hYmxlISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cubWluTWFyZ2luICE9IG51bGwpewogICAgICAgICAgICB0b2tlbkNvbmZpZy5taW5NYXJnaW4gPSBtc2cubWluTWFyZ2luISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cubWF4TGV2ZXJhZ2UgIT0gbnVsbCl7CiAgICAgICAgICAgIHRva2VuQ29uZmlnLm1heExldmVyYWdlID0gbXNnLm1heExldmVyYWdlISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cubGlxdWlkYXRpb25GZWUgIT0gbnVsbCl7CiAgICAgICAgICAgIHRva2VuQ29uZmlnLmxpcXVpZGF0aW9uRmVlID0gbXNnLmxpcXVpZGF0aW9uRmVlISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cuaW50ZXJlc3RSYXRlICE9IG51bGwpewogICAgICAgICAgICB0b2tlbkNvbmZpZy5pbnRlcmVzdFJhdGUgPSBtc2cuaW50ZXJlc3RSYXRlISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cudHJhZGluZ0ZlZVJhdGUgIT0gbnVsbCl7CiAgICAgICAgICAgIHRva2VuQ29uZmlnLnRyYWRpbmdGZWVSYXRlID0gbXNnLnRyYWRpbmdGZWVSYXRlISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cubHBUcmFkaW5nRmVlUmF0ZSAhPSBudWxsKXsKICAgICAgICAgICAgdG9rZW5Db25maWcubHBUcmFkaW5nRmVlUmF0ZSA9IG1zZy5scFRyYWRpbmdGZWVSYXRlISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cubWF4RnVuZGluZ1JhdGUgIT0gbnVsbCl7CiAgICAgICAgICAgIHRva2VuQ29uZmlnLm1heEZ1bmRpbmdSYXRlID0gbXNnLm1heEZ1bmRpbmdSYXRlISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cudG9rZW5JZCA+PSBzZWxmLnRva2VuSWROZXh0KSB7CiAgICAgICAgICAgIHNlbGYudG9rZW5JZE5leHQgPSBtc2cudG9rZW5JZCArIDE7CiAgICAgICAgfQoKICAgICAgICBzZWxmLnRva2VuQ29uZmlncy5zZXQobXNnLnRva2VuSWQsIHRva2VuQ29uZmlnKTsKICAgICAgICAKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogc2VuZGVyKCksCiAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUKICAgICAgICB9KTsKICAgIH0KCiAgICBnZXQgZnVuIGNvbmZpZ0RhdGEoZXhlY3V0b3I6IEFkZHJlc3M/KTogQ29uZmlnRGF0YSB7CiAgICAgICAgbGV0IGlzRXhlY3V0b3I6IEJvb2w/ID0gbnVsbDsKICAgICAgICBpZiAoZXhlY3V0b3IgIT0gbnVsbCkgewogICAgICAgICAgICBpc0V4ZWN1dG9yID0gc2VsZi5leGVjdXRvcnMuZ2V0KGV4ZWN1dG9yISEpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gQ29uZmlnRGF0YXsKICAgICAgICAgICAgaXNFeGVjdXRvcjogaXNFeGVjdXRvciwKICAgICAgICAgICAgZ2FzQ29uc3VtcHRpb246IHNlbGYuZ2FzQ29uc3VtcHRpb24sCiAgICAgICAgICAgIG1pblRvbnNGb3JTdG9yYWdlOiBzZWxmLm1pblRvbnNGb3JTdG9yYWdlLAogICAgICAgICAgICBscExvY2tUaW1lOiBzZWxmLmxwTG9ja1RpbWUsCiAgICAgICAgICAgIGxwQm9udXNGYWN0b3I6IHNlbGYubHBCb251c0ZhY3RvciwKICAgICAgICAgICAgbHBMaXF1aWRpdHlGYWN0b3I6IHNlbGYubHBMaXF1aWRpdHlGYWN0b3IsCiAgICAgICAgICAgIG9yZGVyQm9vazogc2VsZi5vcmRlckJvb2sKICAgICAgICB9OwogICAgfQoKICAgIGdldCBmdW4gdG9rZW5Db25maWcodG9rZW5JZDogSW50KTogVG9rZW5Db25maWdEYXRhIHsKICAgICAgICByZXR1cm4gVG9rZW5Db25maWdEYXRhewogICAgICAgICAgICB0b2tlbklkTmV4dDogc2VsZi50b2tlbklkTmV4dCwKICAgICAgICAgICAgdG9rZW5Db25maWc6IHNlbGYudG9rZW5Db25maWdzLmdldCh0b2tlbklkKQogICAgICAgIH07CiAgICB9CgogICAgZ2V0IGZ1biBwcmljZURhdGEodG9rZW5JZDogSW50KTogUHJpY2VEYXRhPyB7CiAgICAgICAgcmV0dXJuIHNlbGYucHJpY2VzLmdldCh0b2tlbklkKTsKICAgIH0KCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBMUCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCiAgICByZWNlaXZlKG1zZzogVXBkYXRlTFBQb3NpdGlvbikgewogICAgICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gc2VsZi5vcmRlckJvb2ssICJpbnZhbGlkIHNlbmRlciIpOwoKICAgICAgICAvLyB1cGRhdGUgcHJpY2UKICAgICAgICBzZWxmLnNldFByaWNlKG1zZy5wcmljZXNMZW5ndGgsIG1zZy5wcmljZXMpOwoKICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb24KICAgICAgICBsZXQgcmVjZWl2ZTogSW50ID0gMDsKICAgICAgICBpZiAobXNnLmlzSW5jcmVhc2UpIHsKICAgICAgICAgICAgc2VsZi5pbmNyZWFzZUxQUG9zaXRpb24obXNnLmFjY291bnQsIG1zZy5saXF1aWRpdHlEZWx0YSwgbXNnLnRyeElkKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZWNlaXZlID0gc2VsZi5kZWNyZWFzZUxQUG9zaXRpb24obXNnLmFjY291bnQsIG1zZy5saXF1aWRpdHlEZWx0YSwgbXNnLnRyeElkKTsKICAgICAgICB9CgogICAgICAgIGxldCBtc2dWYWx1ZTogSW50ID0gY29udGV4dCgpLnZhbHVlIC0gc2VsZi5nYXNDb25zdW1wdGlvbiAqIDIgLSBzZWxmLm1pblRvbnNGb3JTdG9yYWdlIC0gY29udGV4dCgpLnJlYWRGb3J3YXJkRmVlKCk7CiAgICAgICAgcmVxdWlyZShtc2dWYWx1ZSA+IDAsICJzZW5kIGdhcyBub3QgZW5vdWdoIik7CiAgICAgICAgLy8gc2VuZCB1cGRhdGUgc3VjY2VzcyBtc2cKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogc2VsZi5vcmRlckJvb2ssCiAgICAgICAgICAgIHZhbHVlOiBtc2dWYWx1ZSwKICAgICAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICAgICAgbW9kZTogU2VuZFBheUdhc1NlcGFyYXRlbHksCiAgICAgICAgICAgIGJvZHk6IFVwZGF0ZUxQUG9zaXRpb25TdWNjZXNzIHsKICAgICAgICAgICAgICAgIG9yZGVySWQ6IG1zZy5vcmRlcklkLAogICAgICAgICAgICAgICAgcmVjZWl2ZTogcmVjZWl2ZSwKICAgICAgICAgICAgICAgIHRyeElkOiBtc2cudHJ4SWQKICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgIH0pOwogICAgfQoKICAgIGZ1biBpbmNyZWFzZUxQUG9zaXRpb24oYWNjb3VudDogQWRkcmVzcywgbGlxdWlkaXR5RGVsdGE6IEludCwgdHJ4SWQ6IEludCkgewogICAgICAgIC8vIGdldCBwb3NpdGlvbgogICAgICAgIGxldCBscFBvc2l0aW9uT3B0OiBMUFBvc2l0aW9uPyA9IHNlbGYubHBQb3NpdGlvbnMuZ2V0KGFjY291bnQpOwogICAgICAgIC8vIGluaXQgcG9zaXRpb24gaWYgbm90IGV4aXN0CiAgICAgICAgbGV0IGxwUG9zaXRpb246IExQUG9zaXRpb24gPSBMUFBvc2l0aW9uewogICAgICAgICAgICAgICAgcG9zaXRpb25JZDogMCwKICAgICAgICAgICAgICAgIGxpcXVpZGl0eTogMCwKICAgICAgICAgICAgICAgIGJvbnVzOiAwLAogICAgICAgICAgICAgICAgcmVhbGl6ZWRGdW5kaW5nRmVlOiAwLAogICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiAwLAogICAgICAgICAgICAgICAgdW5sb2NrVGltZTogMAogICAgICAgICAgICB9OwogICAgICAgIGlmIChscFBvc2l0aW9uT3B0ICE9IG51bGwpIHsKICAgICAgICAgICAgbHBQb3NpdGlvbiA9IGxwUG9zaXRpb25PcHQhITsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBscFBvc2l0aW9uLnBvc2l0aW9uSWQgPSBzZWxmLmxwUG9zaXRpb25JbmRleE5leHQ7CiAgICAgICAgICAgIHNlbGYubHBQb3NpdGlvbkluZGV4TmV4dCA9IHNlbGYubHBQb3NpdGlvbkluZGV4TmV4dCArIDE7CiAgICAgICAgfQoKICAgICAgICAvLyB1cGRhdGUgTFAKICAgICAgICAvLyBjYWxjdWxhdGUgYm9udXMKICAgICAgICBsZXQgZ2xvYmFsTmV0TFA6IEludCA9IHNlbGYuZ2xvYmFsTFBGdW5kICsgc2VsZi5nbG9iYWxMUFVucmVhbGl6ZWRQbmw7CiAgICAgICAgaWYgKGdsb2JhbE5ldExQIDwgMCkgewogICAgICAgICAgICBnbG9iYWxOZXRMUCA9IDA7CiAgICAgICAgfQogICAgICAgIGxldCBib251czogSW50ID0gMDsKICAgICAgICBpZiAoZ2xvYmFsTmV0TFAgPCBzZWxmLmdsb2JhbExQTGlxdWlkaXR5KSB7CiAgICAgICAgICAgIC8vIGJvbnVzID0gYiArIHMgKDEgLSB4KSAqIGxpcXVpZGl0eQogICAgICAgICAgICBib251cyA9IHNlbGYubHBCb251c0ZhY3RvciAqIChzZWxmLmdsb2JhbExQTGlxdWlkaXR5IC0gZ2xvYmFsTmV0TFApCiAgICAgICAgICAgICAgICAgKiBsaXF1aWRpdHlEZWx0YSAvIChzZWxmLmdsb2JhbExQTGlxdWlkaXR5ICogUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCk7CiAgICAgICAgICAgIGxwUG9zaXRpb24uYm9udXMgPSBscFBvc2l0aW9uLmJvbnVzICsgYm9udXM7CiAgICAgICAgfQogICAgICAgIC8vIGZ1bmRpbmcgZmVlCiAgICAgICAgbGV0IHJlYWxpemVkRnVuZGluZ0ZlZTogSW50ID0gMDsKICAgICAgICBpZiAobHBQb3NpdGlvbi5saXF1aWRpdHkgPiAwKSB7CiAgICAgICAgICAgIHJlYWxpemVkRnVuZGluZ0ZlZSA9IChzZWxmLmdsb2JhbExQRnVuZGluZ0ZlZUdyb3d0aCAtIGxwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoKSAqIGxwUG9zaXRpb24ubGlxdWlkaXR5IC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgfQoKICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb24KICAgICAgICBscFBvc2l0aW9uLmxpcXVpZGl0eSA9IGxwUG9zaXRpb24ubGlxdWlkaXR5ICsgbGlxdWlkaXR5RGVsdGE7CiAgICAgICAgbHBQb3NpdGlvbi5yZWFsaXplZEZ1bmRpbmdGZWUgKz0gcmVhbGl6ZWRGdW5kaW5nRmVlOwogICAgICAgIGxwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoID0gc2VsZi5nbG9iYWxMUEZ1bmRpbmdGZWVHcm93dGg7CiAgICAgICAgbHBQb3NpdGlvbi51bmxvY2tUaW1lID0gbm93KCkgKyBzZWxmLmxwTG9ja1RpbWU7CgogICAgICAgIC8vIHNldCBwb3NpdGlvbgogICAgICAgIHNlbGYubHBQb3NpdGlvbnMuc2V0KGFjY291bnQsIGxwUG9zaXRpb24pOwoKICAgICAgICAvLyB1cGRhdGUgZ2xvYmFsIHBvc2l0aW9uCiAgICAgICAgc2VsZi5nbG9iYWxMUEZ1bmQgPSBzZWxmLmdsb2JhbExQRnVuZCArIGxpcXVpZGl0eURlbHRhOwogICAgICAgIHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkgPSBzZWxmLmdsb2JhbExQTGlxdWlkaXR5ICsgbGlxdWlkaXR5RGVsdGE7CgogICAgICAgIGVtaXQoTFBQb3NpdGlvbkluY3JlYXNlZEV2ZW50ewogICAgICAgICAgICBvcFR5cGU6IE9SREVSX09QX1RZUEVfSU5DUkVBU0UsCiAgICAgICAgICAgIHBvc2l0aW9uSWQ6IGxwUG9zaXRpb24ucG9zaXRpb25JZCwKICAgICAgICAgICAgYWNjb3VudDogYWNjb3VudCwKICAgICAgICAgICAgbGlxdWlkaXR5RGVsdGE6IGxpcXVpZGl0eURlbHRhLAogICAgICAgICAgICBsaXF1aWRpdHlBZnRlcjogbHBQb3NpdGlvbi5saXF1aWRpdHksCiAgICAgICAgICAgIGJvbnVzRGVsdGE6IGJvbnVzLAogICAgICAgICAgICBib251c0FmdGVyOiBscFBvc2l0aW9uLmJvbnVzLAogICAgICAgICAgICB1bmxvY2tUaW1lQWZ0ZXI6IGxwUG9zaXRpb24udW5sb2NrVGltZSwKICAgICAgICAgICAgcmVhbGl6ZWRGdW5kaW5nRmVlRGVsdGE6IHJlYWxpemVkRnVuZGluZ0ZlZSwKICAgICAgICAgICAgcmVhbGl6ZWRGdW5kaW5nRmVlQWZ0ZXI6IGxwUG9zaXRpb24ucmVhbGl6ZWRGdW5kaW5nRmVlLAogICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGhBZnRlcjogbHBQb3NpdGlvbi5lbnRyeUZ1bmRpbmdGZWVHcm93dGgsCiAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwogICAgICAgIGVtaXQoR2xvYmFsTFBMaXF1aWRpdHlDaGFuZ2VkRXZlbnR7CiAgICAgICAgICAgIGxwRnVuZEFmdGVyOiBzZWxmLmdsb2JhbExQRnVuZCwKICAgICAgICAgICAgbGlxdWlkaXR5QWZ0ZXI6IHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHksCiAgICAgICAgICAgIHRyYWRpbmdGZWU6IDAsCiAgICAgICAgICAgIGZ1bmRpbmdGZWU6IDAsCiAgICAgICAgICAgIHJlYWxpemVkUG5sOiAwLAogICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgIH0KCiAgICBmdW4gZGVjcmVhc2VMUFBvc2l0aW9uKGFjY291bnQ6IEFkZHJlc3MsIGxpcXVpZGl0eURlbHRhOiBJbnQsIHRyeElkOiBJbnQpOiBJbnQgewogICAgICAgIC8vIGdldCBwb3NpdGlvbgogICAgICAgIGxldCBscFBvc2l0aW9uT3B0OiBMUFBvc2l0aW9uPyA9IHNlbGYubHBQb3NpdGlvbnMuZ2V0KGFjY291bnQpOwogICAgICAgIC8vIGNoZWNrIHBvc2l0aW9uCiAgICAgICAgcmVxdWlyZShscFBvc2l0aW9uT3B0ICE9IG51bGwsICJwb3NpdGlvbiBub3QgZXhpc3QiKTsKICAgICAgICBsZXQgbHBQb3NpdGlvbjogTFBQb3NpdGlvbiA9IGxwUG9zaXRpb25PcHQhITsKCiAgICAgICAgLy8gY2hlY2sgdW5sb2NrIHRpbWUKICAgICAgICByZXF1aXJlKGxwUG9zaXRpb24udW5sb2NrVGltZSA8PSBub3coKSwgIm5vdCByZWFjaCB1bmxvY2sgdGltZSIpOwoKICAgICAgICAvLyBkZWNyZWFzZSBsaXF1aWRpdHkgZGVsdGEKICAgICAgICBpZiAobHBQb3NpdGlvbi5saXF1aWRpdHkgPCBsaXF1aWRpdHlEZWx0YSkgewogICAgICAgICAgICBsaXF1aWRpdHlEZWx0YSA9IGxwUG9zaXRpb24ubGlxdWlkaXR5OwogICAgICAgIH0KCiAgICAgICAgLy8gY2FsY3VsYXRlIExQIGdsb2JhbCB1bnJlYWxpemVkIHBubAogICAgICAgIGxldCB0b3RhbEdsb2JhbFVucmVhbGl6ZWRQbmw6IEludCA9IHNlbGYuZ2xvYmFsTFBVbnJlYWxpemVkUG5sOwogICAgICAgIGxldCBnbG9iYWxOZXRMUDogSW50ID0gc2VsZi5nbG9iYWxMUEZ1bmQgKyB0b3RhbEdsb2JhbFVucmVhbGl6ZWRQbmw7CiAgICAgICAgcmVxdWlyZShnbG9iYWxOZXRMUCA+IDAsICJpbnN1ZmZpY2llbnQgZ2xvYmFsIExQIik7CgogICAgICAgIC8vIGNhbGN1bGF0ZSByZWNlaXZlIGFtb3VudAogICAgICAgIGlmIChnbG9iYWxOZXRMUCA8IDApIHsKICAgICAgICAgICAgZ2xvYmFsTmV0TFAgPSAwOwogICAgICAgIH0KICAgICAgICByZXF1aXJlKGdsb2JhbE5ldExQID4gMCwgImluc3VmZmljaWVudCBnbG9iYWwgbmV0IExQIik7CgogICAgICAgIGxldCByZWNlaXZlOiBJbnQgPSAwOwogICAgICAgIGxldCBib251czogSW50ID0gMDsKCiAgICAgICAgaWYgKGdsb2JhbE5ldExQID49IHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkpIHsKICAgICAgICAgICAgbGV0IG46IEludCA9ICgobm93KCkgLSBscFBvc2l0aW9uLnVubG9ja1RpbWUpICArIHNlbGYubHBMb2NrVGltZSkgLyBEQVk7CgogICAgICAgICAgICBpZiAobHBQb3NpdGlvbi5ib251cyA9PSAwKSB7CiAgICAgICAgICAgICAgICAvLyBib251cyA9IGxpcXVpZGl0eSAqIHLvvIh4LTHvvIkqIG1pbihu77yMMTAw77yJKiAwLjElCiAgICAgICAgICAgICAgICBib251cyA9IGxpcXVpZGl0eURlbHRhICogc2VsZi5scEJvbnVzRmFjdG9yICogKGdsb2JhbE5ldExQIC0gc2VsZi5nbG9iYWxMUExpcXVpZGl0eSkgKiBtaW4obiwgMTAwKSAvIChnbG9iYWxOZXRMUCAqIDEwMDAgKiBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxldCBib251czE6IEludCA9IGxpcXVpZGl0eURlbHRhICogKGdsb2JhbE5ldExQIC0gc2VsZi5nbG9iYWxMUExpcXVpZGl0eSkgLyBnbG9iYWxOZXRMUDsKICAgICAgICAgICAgICAgIGxldCBib251czI6IEludCA9IGxwUG9zaXRpb24uYm9udXM7CiAgICAgICAgICAgICAgICBsZXQgYm9udXMzOiBJbnQgPSBsaXF1aWRpdHlEZWx0YSAqIHNlbGYubHBCb251c0ZhY3RvciAqIChnbG9iYWxOZXRMUCAtIHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkpICogbWluKG4sIDEwMCkgLyAoZ2xvYmFsTmV0TFAgKiAxMDAwICogUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCk7CiAgICAgICAgICAgICAgICBib251cyA9IG1heChtaW4oYm9udXMxLCBib251czIpLCBib251czMpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlY2VpdmUgPSBsaXF1aWRpdHlEZWx0YSArIGJvbnVzOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlY2VpdmUgPSBsaXF1aWRpdHlEZWx0YSAqIGdsb2JhbE5ldExQIC8gc2VsZi5nbG9iYWxMUExpcXVpZGl0eTsKICAgICAgICB9CiAgICAgICAgLy8gd2l0aGRyYXcgZnVuZGluZyBmZWUKICAgICAgICBsZXQgcmVhbGl6ZWRGdW5kaW5nRmVlOiBJbnQgPSAwOwogICAgICAgIGlmIChscFBvc2l0aW9uLmxpcXVpZGl0eSA+IDApIHsKICAgICAgICAgICAgcmVhbGl6ZWRGdW5kaW5nRmVlID0gKHNlbGYuZ2xvYmFsTFBGdW5kaW5nRmVlR3Jvd3RoIC0gbHBQb3NpdGlvbi5lbnRyeUZ1bmRpbmdGZWVHcm93dGgpICogbHBQb3NpdGlvbi5saXF1aWRpdHkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICB9CiAgICAgICAgcmVhbGl6ZWRGdW5kaW5nRmVlICs9IGxwUG9zaXRpb24ucmVhbGl6ZWRGdW5kaW5nRmVlOwogICAgICAgIHJlY2VpdmUgKz0gcmVhbGl6ZWRGdW5kaW5nRmVlOwoKICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb24KICAgICAgICBscFBvc2l0aW9uLnJlYWxpemVkRnVuZGluZ0ZlZSA9IDA7CiAgICAgICAgbHBQb3NpdGlvbi5saXF1aWRpdHkgPSBscFBvc2l0aW9uLmxpcXVpZGl0eSAtIGxpcXVpZGl0eURlbHRhOwogICAgICAgIGxwUG9zaXRpb24uYm9udXMgPSBscFBvc2l0aW9uLmJvbnVzIC0gYm9udXM7CgogICAgICAgIC8vIHNldCBwb3NpdGlvbgogICAgICAgIGlmIChscFBvc2l0aW9uLmxpcXVpZGl0eSA+IDAgfHwgbHBQb3NpdGlvbi5ib251cyA+IDApIHsKICAgICAgICAgICAgc2VsZi5scFBvc2l0aW9ucy5zZXQoYWNjb3VudCwgbHBQb3NpdGlvbik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2VsZi5scFBvc2l0aW9ucy5zZXQoYWNjb3VudCwgbnVsbCk7CiAgICAgICAgfQoKICAgICAgICAvLyB1cGRhdGUgZ2xvYmFsIHBvc2l0aW9uCiAgICAgICAgc2VsZi5nbG9iYWxMUEZ1bmQgPSBzZWxmLmdsb2JhbExQRnVuZCAtIHJlY2VpdmU7CiAgICAgICAgc2VsZi5nbG9iYWxMUExpcXVpZGl0eSA9IHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkgLSBsaXF1aWRpdHlEZWx0YTsKCiAgICAgICAgLy8gZXZlbnQKICAgICAgICBlbWl0KExQUG9zaXRpb25EZWNyZWFzZWRFdmVudHsKICAgICAgICAgICAgb3BUeXBlOiBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFLAogICAgICAgICAgICBwb3NpdGlvbklkOiBscFBvc2l0aW9uLnBvc2l0aW9uSWQsCiAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgICAgICAgIGxpcXVpZGl0eURlbHRhOiBsaXF1aWRpdHlEZWx0YSwKICAgICAgICAgICAgbGlxdWlkaXR5QWZ0ZXI6IGxwUG9zaXRpb24ubGlxdWlkaXR5LAogICAgICAgICAgICBib251c0RlbHRhOiBib251cywKICAgICAgICAgICAgYm9udXNBZnRlcjogbHBQb3NpdGlvbi5ib251cywKICAgICAgICAgICAgZnVuZGluZ0ZlZURlbHRhOiByZWFsaXplZEZ1bmRpbmdGZWUsCiAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBscFBvc2l0aW9uLmVudHJ5RnVuZGluZ0ZlZUdyb3d0aCwKICAgICAgICAgICAgcmVjZWl2ZTogcmVjZWl2ZSwKICAgICAgICAgICAgdHJ4SWQ6IHRyeElkCiAgICAgICAgfS50b0NlbGwoKSk7CiAgICAgICAgZW1pdChHbG9iYWxMUExpcXVpZGl0eUNoYW5nZWRFdmVudHsKICAgICAgICAgICAgbHBGdW5kQWZ0ZXI6IHNlbGYuZ2xvYmFsTFBGdW5kLAogICAgICAgICAgICBsaXF1aWRpdHlBZnRlcjogc2VsZi5nbG9iYWxMUExpcXVpZGl0eSwKICAgICAgICAgICAgdHJhZGluZ0ZlZTogMCwKICAgICAgICAgICAgZnVuZGluZ0ZlZTogMCwKICAgICAgICAgICAgcmVhbGl6ZWRQbmw6IDAsCiAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwogICAgICAgIHJldHVybiByZWNlaXZlOwogICAgfQoKICAgIGdldCBmdW4gbHBQb3NpdGlvbihhY2NvdW50OiBBZGRyZXNzPyk6IExQUG9zaXRpb25EYXRhPyB7CiAgICAgICAgbGV0IGxwUG9zaXRpb246IExQUG9zaXRpb24/ID0gbnVsbDsgCiAgICAgICAgaWYgKGFjY291bnQgIT0gbnVsbCkgewogICAgICAgICAgICBscFBvc2l0aW9uID0gc2VsZi5scFBvc2l0aW9ucy5nZXQoYWNjb3VudCEhKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIExQUG9zaXRpb25EYXRhIHsKICAgICAgICAgICAgbHBQb3NpdGlvbjogbHBQb3NpdGlvbiwKICAgICAgICAgICAgZ2xvYmFsTFBGdW5kOiBzZWxmLmdsb2JhbExQRnVuZCwKICAgICAgICAgICAgZ2xvYmFsTFBMaXF1aWRpdHk6IHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHksCiAgICAgICAgICAgIGdsb2JhbExQRnVuZGluZ0ZlZUdyb3d0aDogc2VsZi5nbG9iYWxMUEZ1bmRpbmdGZWVHcm93dGgsCiAgICAgICAgICAgIGdsb2JhbExQVW5yZWFsaXplZFBubDogc2VsZi5nbG9iYWxMUFVucmVhbGl6ZWRQbmwKICAgICAgICB9OwogICAgfQoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUGVycCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwogICAgcmVjZWl2ZShtc2c6IFVwZGF0ZVBlcnBQb3NpdGlvbikgewogICAgICAgIGR1bXAoIlVwZGF0ZVBlcnBQb3NpdGlvbiIpOwoKICAgICAgICByZXF1aXJlKHNlbmRlcigpID09IHNlbGYub3JkZXJCb29rLCAiaW52YWxpZCBzZW5kZXIiKTsKCiAgICAgICAgLy8gdXBkYXRlIHByaWNlCiAgICAgICAgc2VsZi5zZXRQcmljZShtc2cucHJpY2VzTGVuZ3RoLCBtc2cucHJpY2VzKTsKCiAgICAgICAgLy8gZ2V0IGluZGV4IHByaWNlCiAgICAgICAgbGV0IGluZGV4UHJpY2U6IEludCA9IHNlbGYuZ2V0UHJpY2UobXNnLnRva2VuSWQpOwogICAgICAgIHJlcXVpcmUoaW5kZXhQcmljZSA+IDAsICJub25lIGF2YWlsYWJsZSBwcmljZSIpOwoKICAgICAgICAvLyBUT0RPIGdldCB0cmFkZSBwcmljZQogICAgICAgIGxldCB0cmFkZVByaWNlOiBJbnQgPSBpbmRleFByaWNlOwoKICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb24KICAgICAgICBsZXQgcmVjZWl2ZTogSW50ID0gMDsKICAgICAgICBpZiAobXNnLm9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFX01BUktFVCB8fCBtc2cub3BUeXBlID09IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTElNSVQpIHsKICAgICAgICAgICAgaWYgKG1zZy50cmlnZ2VyQWJvdmUpIHsKICAgICAgICAgICAgICAgIHJlcXVpcmUodHJhZGVQcmljZSA+PSBtc2cudHJpZ2dlclByaWNlLCAibm90IHJlYWNoIHRyaWdnZXIgcHJpY2UiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJlcXVpcmUodHJhZGVQcmljZSA8PSBtc2cudHJpZ2dlclByaWNlLCAibm90IHJlYWNoIHRyaWdnZXIgcHJpY2UiKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzZWxmLmluY3JlYXNlUGVycFBvc2l0aW9uKG1zZy5vcFR5cGUsIG1zZy50cnhJZCwgbXNnLmFjY291bnQsIG1zZy50b2tlbklkLCBtc2cuaXNMb25nLCBtc2cubWFyZ2luRGVsdGEsIG1zZy5zaXplRGVsdGEsIGluZGV4UHJpY2UsIHRyYWRlUHJpY2UpOwogICAgICAgIH0gZWxzZSBpZiAobXNnLm9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0xJUVVJREFUSU9OKSB7CiAgICAgICAgICAgIHJlY2VpdmUgPSBzZWxmLmxpcXVpZGF0ZVBlcnBQb3NpdGlvbihtc2cudHJ4SWQsIG1zZy5hY2NvdW50LCBtc2cudG9rZW5JZCwgbXNnLmlzTG9uZywgaW5kZXhQcmljZSwgdHJhZGVQcmljZSk7CiAgICAgICAgfSBlbHNlIGlmIChtc2cub3BUeXBlID09IE9SREVSX09QX1RZUEVfQURMKSB7CiAgICAgICAgICAgIHJlY2VpdmUgPSBzZWxmLmRlY3JlYXNlUGVycFBvc2l0aW9uKG1zZy5vcFR5cGUsIG1zZy50cnhJZCwgbXNnLmFjY291bnQsIG1zZy50b2tlbklkLCBtc2cuaXNMb25nLCBtc2cubWFyZ2luRGVsdGEsIG1zZy5zaXplRGVsdGEsIGluZGV4UHJpY2UsIHRyYWRlUHJpY2UpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChtc2cudHJpZ2dlckFib3ZlKSB7CiAgICAgICAgICAgICAgICByZXF1aXJlKHRyYWRlUHJpY2UgPj0gbXNnLnRyaWdnZXJQcmljZSwgIm5vdCByZWFjaCB0cmlnZ2VyIHByaWNlIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXF1aXJlKHRyYWRlUHJpY2UgPD0gbXNnLnRyaWdnZXJQcmljZSwgIm5vdCByZWFjaCB0cmlnZ2VyIHByaWNlIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmVjZWl2ZSA9IHNlbGYuZGVjcmVhc2VQZXJwUG9zaXRpb24obXNnLm9wVHlwZSwgbXNnLnRyeElkLCBtc2cuYWNjb3VudCwgbXNnLnRva2VuSWQsIG1zZy5pc0xvbmcsIG1zZy5tYXJnaW5EZWx0YSwgbXNnLnNpemVEZWx0YSwgaW5kZXhQcmljZSwgdHJhZGVQcmljZSk7CiAgICAgICAgfSAKCiAgICAgICAgbGV0IG1zZ1ZhbHVlOiBJbnQgPSBjb250ZXh0KCkudmFsdWUgLSBzZWxmLmdhc0NvbnN1bXB0aW9uICogMiAtIHNlbGYubWluVG9uc0ZvclN0b3JhZ2UgLSBjb250ZXh0KCkucmVhZEZvcndhcmRGZWUoKTsKICAgICAgICByZXF1aXJlKG1zZ1ZhbHVlID4gMCwgInNlbmQgZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICAvLyBzZW5kIHVwZGF0ZSBzdWNjZXNzIG1zZwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLm9yZGVyQm9vaywKICAgICAgICAgICAgdmFsdWU6IG1zZ1ZhbHVlLAogICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICBtb2RlOiBTZW5kUGF5R2FzU2VwYXJhdGVseSwKICAgICAgICAgICAgYm9keTogVXBkYXRlUGVycFBvc2l0aW9uU3VjY2VzcyB7CiAgICAgICAgICAgICAgICBvcmRlcklkOiBtc2cub3JkZXJJZCwKICAgICAgICAgICAgICAgIHJlY2VpdmU6IHJlY2VpdmUsCiAgICAgICAgICAgICAgICB0cnhJZDogbXNnLnRyeElkCiAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICB9KTsKICAgIH0KCiAgICBmdW4gaW5jcmVhc2VQZXJwUG9zaXRpb24ob3BUeXBlOiBJbnQsIHRyeElkOiBJbnQsIGFjY291bnQ6IEFkZHJlc3MsIHRva2VuSWQ6IEludCwgaXNMb25nOiBCb29sLCBtYXJnaW5EZWx0YTogSW50LCBzaXplRGVsdGE6IEludCwgaW5kZXhQcmljZTogSW50LCB0cmFkZVByaWNlOiBJbnQpIHsKICAgICAgICBkdW1wKCJpbmNyZWFzZVBlcnBQb3NpdGlvbiIpOwogICAgICAgIC8vIGdldCB0b2tlbiBjb25maWcKICAgICAgICBsZXQgdG9rZW5Db25maWdPcHQ6IFRva2VuQ29uZmlnPyA9IHNlbGYudG9rZW5Db25maWdzLmdldCh0b2tlbklkKTsKICAgICAgICByZXF1aXJlKHRva2VuQ29uZmlnT3B0ICE9IG51bGwsICJpbnZhbGlkIHRva2VuIik7CiAgICAgICAgbGV0IHRva2VuQ29uZmlnOiBUb2tlbkNvbmZpZyA9IHRva2VuQ29uZmlnT3B0ISE7CiAgICAgICAgcmVxdWlyZSh0b2tlbkNvbmZpZy5lbmFibGUsICJkaXNhYmxlZCB0b2tlbiIpOwogICAgICAgIAogICAgICAgIC8vIGdldCBwb3NpdGlvbgogICAgICAgIGxldCBhY2NvdW50UGVycFBvc2l0aW9uT3B0OiBBY2NvdW50UGVycFBvc2l0aW9uPyA9IHNlbGYucGVycFBvc2l0aW9ucy5nZXQodG9rZW5JZCk7CiAgICAgICAgbGV0IGFjY291bnRQZXJwUG9zaXRpb246IEFjY291bnRQZXJwUG9zaXRpb24gPSBhY2NvdW50UGVycFBvc2l0aW9uT3B0ICE9IG51bGwgPyBhY2NvdW50UGVycFBvc2l0aW9uT3B0ISEgOiBBY2NvdW50UGVycFBvc2l0aW9uewogICAgICAgICAgICBwb3NpdGlvbnM6IGVtcHR5TWFwKCkKICAgICAgICB9OwoKICAgICAgICBsZXQgZGlyZWN0aW9uUGVycFBvc2l0aW9uT3B0OiBEaXJlY3Rpb25QZXJwUG9zaXRpb24/ID0gYWNjb3VudFBlcnBQb3NpdGlvbi5wb3NpdGlvbnMuZ2V0KGFjY291bnQpOwogICAgICAgIGxldCBkaXJlY3Rpb25QZXJwUG9zaXRpb246IERpcmVjdGlvblBlcnBQb3NpdGlvbiA9IGRpcmVjdGlvblBlcnBQb3NpdGlvbk9wdCAhPSBudWxsID8gZGlyZWN0aW9uUGVycFBvc2l0aW9uT3B0ISEgOiBEaXJlY3Rpb25QZXJwUG9zaXRpb257CiAgICAgICAgICAgIGxvbmdQb3NpdGlvbjogUGVycFBvc2l0aW9uIHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uSWQ6IDAsCiAgICAgICAgICAgICAgICBtYXJnaW46IDAsCiAgICAgICAgICAgICAgICBzaXplOiAwLAogICAgICAgICAgICAgICAgZW50cnlQcmljZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aDogMAogICAgICAgICAgICB9LAogICAgICAgICAgICBzaG9ydFBvc2l0aW9uOiBQZXJwUG9zaXRpb24gewogICAgICAgICAgICAgICAgcG9zaXRpb25JZDogMCwKICAgICAgICAgICAgICAgIG1hcmdpbjogMCwKICAgICAgICAgICAgICAgIHNpemU6IDAsCiAgICAgICAgICAgICAgICBlbnRyeVByaWNlOiAwLAogICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiAwCiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBsZXQgcGVycFBvc2l0aW9uOiBQZXJwUG9zaXRpb24gPSBpc0xvbmcgPyBkaXJlY3Rpb25QZXJwUG9zaXRpb24ubG9uZ1Bvc2l0aW9uIDogZGlyZWN0aW9uUGVycFBvc2l0aW9uLnNob3J0UG9zaXRpb247CiAgICAgICAgCiAgICAgICAgLy8gY2hlY2sgbWFyZ2luCiAgICAgICAgaWYgKHBlcnBQb3NpdGlvbi5zaXplID09IDApIHsKICAgICAgICAgICAgcmVxdWlyZShtYXJnaW5EZWx0YSA+PSB0b2tlbkNvbmZpZy5taW5NYXJnaW4sICJpbnN1ZmZpY2llbnQgbWFyZ2luIik7CiAgICAgICAgICAgIHBlcnBQb3NpdGlvbi5wb3NpdGlvbklkID0gc2VsZi5wZXJwUG9zaXRpb25JbmRleE5leHQ7CiAgICAgICAgICAgIHNlbGYucGVycFBvc2l0aW9uSW5kZXhOZXh0ICs9IDE7CiAgICAgICAgfQoKICAgICAgICAvLyBnZXQgZ2xvYmFsIHBvc2l0aW9uCiAgICAgICAgbGV0IGdsb2JhbFBvc2l0aW9uT3B0OiBHbG9iYWxQb3NpdGlvbj8gPSBzZWxmLmdsb2JhbFBvc2l0aW9ucy5nZXQodG9rZW5JZCk7CiAgICAgICAgbGV0IGdsb2JhbFBvc2l0aW9uOiBHbG9iYWxQb3NpdGlvbiA9IGdsb2JhbFBvc2l0aW9uT3B0ICE9IG51bGwgPyBnbG9iYWxQb3NpdGlvbk9wdCEhIDogR2xvYmFsUG9zaXRpb257CiAgICAgICAgICAgIGxvbmdNYXJnaW46IDAsCiAgICAgICAgICAgIHNob3J0TWFyZ2luOiAwLAogICAgICAgICAgICBsb25nU2l6ZTogMCwKICAgICAgICAgICAgc2hvcnRTaXplOiAwLAogICAgICAgICAgICBsb25nRnVuZGluZ0ZlZUdyb3d0aDogMCwKICAgICAgICAgICAgc2hvcnRGdW5kaW5nRmVlR3Jvd3RoOiAwLAogICAgICAgICAgICBsb25nVmFsdWU6IDAsCiAgICAgICAgICAgIHNob3J0VmFsdWU6IDAKICAgICAgICB9OwogICAgICAgIGlmIChpc0xvbmcpIHsKICAgICAgICAgICAgZ2xvYmFsUG9zaXRpb24ubG9uZ1NpemUgKz0gc2l6ZURlbHRhOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLnNob3J0U2l6ZSArPSBzaXplRGVsdGE7CiAgICAgICAgfQogICAgICAgIC8vIHVwZGF0ZSBnbG9iYWwgdmFsdWUgYW5kIGNoZWNrIGxpcXVpZGl0eQogICAgICAgIGxldCBzaW5nbGVWYWx1ZUJlZm9yZTogSW50ID0gbWF4KGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSwgZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSk7CiAgICAgICAgbGV0IG5ldFZhbHVlQmVmb3JlOiBJbnQgPSBhYnMoZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlIC0gZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSk7CiAgICAgICAgZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlID0gZ2xvYmFsUG9zaXRpb24ubG9uZ1NpemUgKiBpbmRleFByaWNlIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSA9IGdsb2JhbFBvc2l0aW9uLnNob3J0U2l6ZSAqIGluZGV4UHJpY2UgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICBzZWxmLmdsb2JhbFBlcnBTaW5nbGVWYWx1ZSArPSBtYXgoZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlLCBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlKSAtIHNpbmdsZVZhbHVlQmVmb3JlOwogICAgICAgIHJlcXVpcmUoc2VsZi5nbG9iYWxQZXJwTmV0VmFsdWUgPD0gc2VsZi5nbG9iYWxMUEZ1bmQgKiBzZWxmLmxwTGlxdWlkaXR5RmFjdG9yIC8gUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCwgImluc3VmZmljaWVudCBsaXF1aWRpdHkgZm9yIHNpbmdsZSB2YWx1ZSIpOwogICAgICAgIAogICAgICAgIHNlbGYuZ2xvYmFsUGVycE5ldFZhbHVlICs9IGFicyhnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUgLSBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlKSAtIG5ldFZhbHVlQmVmb3JlOwogICAgICAgIHJlcXVpcmUoc2VsZi5nbG9iYWxQZXJwTmV0VmFsdWUgPD0gc2VsZi5nbG9iYWxMUEZ1bmQsICJpbnN1ZmZpY2llbnQgbGlxdWlkaXR5IGZvciBuZXQgdmFsdWUiKTsKCiAgICAgICAgLy8gZ2V0IGdsb2JhbCBscCBwb3NpdGlvbgogICAgICAgIGxldCBnbG9iYWxMUFBvc2l0aW9uT3B0OiBHbG9iYWxMUFBvc2l0aW9uPyA9IHNlbGYuZ2xvYmFsTFBQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgIGxldCBnbG9iYWxMUFBvc2l0aW9uOiBHbG9iYWxMUFBvc2l0aW9uID0gZ2xvYmFsTFBQb3NpdGlvbk9wdCAhPSBudWxsID8gZ2xvYmFsTFBQb3NpdGlvbk9wdCEhIDogR2xvYmFsTFBQb3NpdGlvbiB7CiAgICAgICAgICAgIG5ldFNpemU6IDAsCiAgICAgICAgICAgIGlzTG9uZzogZmFsc2UsCiAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgIHVucmVhbGl6ZWRQbmw6IDAKICAgICAgICB9OwoKICAgICAgICAvLyBscCBwbmwKICAgICAgICBsZXQgbHBSZWFsaXplZFBubDogSW50ID0gMDsKICAgICAgICBsZXQgc2l6ZVJlbWFpbmluZzogSW50ID0gc2l6ZURlbHRhOwogICAgICAgIGlmIChnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgPiAwICYmIChpc0xvbmcgPT0gZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcpKSB7CiAgICAgICAgICAgIGxldCBzaXplVXNlZDogSW50ID0gc2l6ZURlbHRhID4gZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplID8gZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplIDogc2l6ZURlbHRhOwogICAgICAgICAgICBpZiAoaXNMb25nKSB7CiAgICAgICAgICAgICAgICBscFJlYWxpemVkUG5sID0gc2l6ZVVzZWQgKiAodHJhZGVQcmljZSAtIGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxwUmVhbGl6ZWRQbmwgPSBzaXplVXNlZCAqIChnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UgLSB0cmFkZVByaWNlKSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNpemVSZW1haW5pbmcgLT0gc2l6ZVVzZWQ7CiAgICAgICAgICAgIGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSAtPSBzaXplVXNlZDsKICAgICAgICAgICAgaWYgKGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSA9PSAwKSB7CiAgICAgICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UgPSAwOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8vIGVudHJ5IHByaWNlCiAgICAgICAgaWYgKHNpemVSZW1haW5pbmcgPiAwKSB7CiAgICAgICAgICAgIGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSA9IChnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgKiBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UgKyBzaXplUmVtYWluaW5nICogdHJhZGVQcmljZSkgLyAoZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplICsgc2l6ZVJlbWFpbmluZyk7CiAgICAgICAgICAgIGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSArPSBzaXplUmVtYWluaW5nOwogICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLmlzTG9uZyA9ICFpc0xvbmc7CiAgICAgICAgfQoKICAgICAgICAvLyB0cmFkaW5nIGZlZQogICAgICAgIGxldCB0cmFkaW5nRmVlOiBJbnQgPSAwOwogICAgICAgIGxldCBscFRyYWRpbmdGZWU6IEludCA9IDA7CiAgICAgICAgaWYgKHNpemVEZWx0YSA+IDApIHsKICAgICAgICAgICAgdHJhZGluZ0ZlZSA9IHNpemVEZWx0YSAqIHRyYWRlUHJpY2UgKiB0b2tlbkNvbmZpZy50cmFkaW5nRmVlUmF0ZSAvIChQRVJDRU5UQUdFX0JBU0lTX1BPSU5UICogUFJJQ0VfREVDSU1BTF9GQUNUT1IpOwogICAgICAgICAgICBscFRyYWRpbmdGZWUgPSB0cmFkaW5nRmVlICogdG9rZW5Db25maWcubHBUcmFkaW5nRmVlUmF0ZSAvIFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQ7CiAgICAgICAgICAgIHNlbGYucHJvdG9jb2xUcmFkaW5nRmVlICs9IHRyYWRpbmdGZWUgLSBscFRyYWRpbmdGZWU7CiAgICAgICAgICAgIHNlbGYuZ2xvYmFsTFBGdW5kICs9IGxwUmVhbGl6ZWRQbmwgKyBscFRyYWRpbmdGZWU7CiAgICAgICAgfQoKICAgICAgICAvLyBmdW5kaW5nIGZlZQogICAgICAgIGxldCBmdW5kaW5nRmVlOiBJbnQgPSAwOwogICAgICAgIGxldCBlbnRyeUZ1bmRpbmdGZWVHcm93dGhBZnRlcjogSW50ID0gMDsKICAgICAgICBpZiAocGVycFBvc2l0aW9uLnNpemUgPiAwKSB7CiAgICAgICAgICAgIGlmIChpc0xvbmcpIHsKICAgICAgICAgICAgICAgIGZ1bmRpbmdGZWUgPSAoZ2xvYmFsUG9zaXRpb24ubG9uZ0Z1bmRpbmdGZWVHcm93dGggLSBwZXJwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoKSAqIHBlcnBQb3NpdGlvbi5zaXplIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGhBZnRlciA9IGdsb2JhbFBvc2l0aW9uLmxvbmdGdW5kaW5nRmVlR3Jvd3RoOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZnVuZGluZ0ZlZSA9IChnbG9iYWxQb3NpdGlvbi5zaG9ydEZ1bmRpbmdGZWVHcm93dGggLSBwZXJwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoKSAqIHBlcnBQb3NpdGlvbi5zaXplIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGhBZnRlciA9IGdsb2JhbFBvc2l0aW9uLnNob3J0RnVuZGluZ0ZlZUdyb3d0aDsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gdXBkYXRlIHBvc2l0aW9uCiAgICAgICAgbGV0IG1hcmdpbkJlZm9yZTogSW50ID0gcGVycFBvc2l0aW9uLm1hcmdpbjsKICAgICAgICBwZXJwUG9zaXRpb24ubWFyZ2luICs9IG1hcmdpbkRlbHRhICsgZnVuZGluZ0ZlZSAtIHRyYWRpbmdGZWU7CiAgICAgICAgbGV0IG1hcmdpbkRlbHRhQWZ0ZXI6IEludCA9IHBlcnBQb3NpdGlvbi5tYXJnaW4gLSBtYXJnaW5CZWZvcmU7CgogICAgICAgIHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlID0gKHBlcnBQb3NpdGlvbi5zaXplICogcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UgKyBzaXplRGVsdGEgKiB0cmFkZVByaWNlKSAvIChwZXJwUG9zaXRpb24uc2l6ZSArIHNpemVEZWx0YSk7CiAgICAgICAgcGVycFBvc2l0aW9uLnNpemUgKz0gc2l6ZURlbHRhOwogICAgICAgIHBlcnBQb3NpdGlvbi5lbnRyeUZ1bmRpbmdGZWVHcm93dGggPSBlbnRyeUZ1bmRpbmdGZWVHcm93dGhBZnRlcjsKCiAgICAgICAgLy8gY2hlY2sgbWFpbnRhaW4gbWFyZ2luCiAgICAgICAgbGV0IHVucmVhbGl6ZWRQbmw6IEludCA9IDA7CiAgICAgICAgaWYgKGlzTG9uZykgewogICAgICAgICAgICB1bnJlYWxpemVkUG5sID0gcGVycFBvc2l0aW9uLnNpemUgKiAodHJhZGVQcmljZSAtIHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlKSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHVucmVhbGl6ZWRQbmwgPSBwZXJwUG9zaXRpb24uc2l6ZSAqIChwZXJwUG9zaXRpb24uZW50cnlQcmljZSAtIHRyYWRlUHJpY2UpIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgfQogICAgICAgIGxldCBtYWludGVuYW5jZU1hcmdpbjogSW50ID0gcGVycFBvc2l0aW9uLnNpemUgKiB0cmFkZVByaWNlICogdG9rZW5Db25maWcudHJhZGluZ0ZlZVJhdGUgLyAoUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCAqIFBSSUNFX0RFQ0lNQUxfRkFDVE9SKSArIHRva2VuQ29uZmlnLmxpcXVpZGF0aW9uRmVlOwogICAgICAgIHJlcXVpcmUobWFpbnRlbmFuY2VNYXJnaW4gPCBwZXJwUG9zaXRpb24ubWFyZ2luICsgdW5yZWFsaXplZFBubCwgIm1hcmdpbiByYXRlIHRvbyBoaWdoIik7CgogICAgICAgIC8vIGNoZWNrIGxldmVyYWdlCiAgICAgICAgcmVxdWlyZShwZXJwUG9zaXRpb24ubWFyZ2luICogdG9rZW5Db25maWcubWF4TGV2ZXJhZ2UgPj0gcGVycFBvc2l0aW9uLnNpemUgKiBwZXJwUG9zaXRpb24uZW50cnlQcmljZSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SLCAibGVnZXJhZ2UgdG9vIGhpZ2giKTsKCiAgICAgICAgLy8gdXBkYXRlIHBvc2l0aW9uCiAgICAgICAgaWYgKGlzTG9uZykgewogICAgICAgICAgICBkaXJlY3Rpb25QZXJwUG9zaXRpb24ubG9uZ1Bvc2l0aW9uID0gcGVycFBvc2l0aW9uOwogICAgICAgICAgICBnbG9iYWxQb3NpdGlvbi5sb25nTWFyZ2luICs9IG1hcmdpbkRlbHRhQWZ0ZXI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGlyZWN0aW9uUGVycFBvc2l0aW9uLnNob3J0UG9zaXRpb24gPSBwZXJwUG9zaXRpb247CiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLnNob3J0TWFyZ2luICs9IG1hcmdpbkRlbHRhQWZ0ZXI7CiAgICAgICAgfQogICAgICAgIGFjY291bnRQZXJwUG9zaXRpb24ucG9zaXRpb25zLnNldChhY2NvdW50LCBkaXJlY3Rpb25QZXJwUG9zaXRpb24pOwogICAgICAgIHNlbGYucGVycFBvc2l0aW9ucy5zZXQodG9rZW5JZCwgYWNjb3VudFBlcnBQb3NpdGlvbik7CgogICAgICAgIHNlbGYuZ2xvYmFsUG9zaXRpb25zLnNldCh0b2tlbklkLCBnbG9iYWxQb3NpdGlvbik7CiAgICAgICAgc2VsZi5nbG9iYWxMUFBvc2l0aW9ucy5zZXQodG9rZW5JZCwgZ2xvYmFsTFBQb3NpdGlvbik7CgogICAgICAgIC8vIGV2ZW50CiAgICAgICAgZW1pdChQZXJwUG9zaXRpb25JbmNyZWFzZWRFdmVudHsKICAgICAgICAgICAgb3BUeXBlOiBvcFR5cGUsCiAgICAgICAgICAgIHBvc2l0aW9uSWQ6IHBlcnBQb3NpdGlvbi5wb3NpdGlvbklkLAogICAgICAgICAgICBhY2NvdW50OiBhY2NvdW50LAogICAgICAgICAgICB0b2tlbklkOiB0b2tlbklkLAogICAgICAgICAgICBpc0xvbmc6IGlzTG9uZywKICAgICAgICAgICAgbWFyZ2luRGVsdGE6IG1hcmdpbkRlbHRhQWZ0ZXIsCiAgICAgICAgICAgIG1hcmdpbkFmdGVyOiBwZXJwUG9zaXRpb24ubWFyZ2luLAogICAgICAgICAgICBzaXplRGVsdGE6IHNpemVEZWx0YSwKICAgICAgICAgICAgc2l6ZUFmdGVyOiBwZXJwUG9zaXRpb24uc2l6ZSwKICAgICAgICAgICAgdHJhZGVQcmljZTogdHJhZGVQcmljZSwKICAgICAgICAgICAgZW50cnlQcmljZTogcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UsCiAgICAgICAgICAgIHRyYWRpbmdGZWU6IHRyYWRpbmdGZWUsCiAgICAgICAgICAgIGZ1bmRpbmdGZWU6IGZ1bmRpbmdGZWUsCiAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBlbnRyeUZ1bmRpbmdGZWVHcm93dGhBZnRlciwKICAgICAgICAgICAgdHJ4SWQ6IHRyeElkCiAgICAgICAgfS50b0NlbGwoKSk7CiAgICAgICAgZW1pdChHbG9iYWxQb3NpdGlvbkNoYW5nZWRFdmVudHsKICAgICAgICAgICAgdG9rZW5JZDogdG9rZW5JZCwKICAgICAgICAgICAgbG9uZ01hcmdpbkFmdGVyOiBnbG9iYWxQb3NpdGlvbi5sb25nTWFyZ2luLAogICAgICAgICAgICBzaG9ydE1hcmdpbkFmdGVyOiBnbG9iYWxQb3NpdGlvbi5zaG9ydE1hcmdpbiwKICAgICAgICAgICAgbG9uZ1NpemVBZnRlcjogZ2xvYmFsUG9zaXRpb24ubG9uZ1NpemUsCiAgICAgICAgICAgIHNob3J0U2l6ZUFmdGVyOiBnbG9iYWxQb3NpdGlvbi5zaG9ydFNpemUsCiAgICAgICAgICAgIGxvbmdGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IGdsb2JhbFBvc2l0aW9uLmxvbmdGdW5kaW5nRmVlR3Jvd3RoLAogICAgICAgICAgICBzaG9ydEZ1bmRpbmdGZWVHcm93dGhBZnRlcjogZ2xvYmFsUG9zaXRpb24uc2hvcnRGdW5kaW5nRmVlR3Jvd3RoLAogICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICBlbWl0KEdsb2JhbExQUG9zaXRpb25DaGFuZ2VkRXZlbnR7CiAgICAgICAgICAgIHRva2VuSWQ6IHRva2VuSWQsCiAgICAgICAgICAgIG5ldFNpemVBZnRlcjogZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplLAogICAgICAgICAgICBpc0xvbmc6IGdsb2JhbExQUG9zaXRpb24uaXNMb25nLAogICAgICAgICAgICBlbnRyeVByaWNlQWZ0ZXI6IGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSwKICAgICAgICAgICAgdHJ4SWQ6IHRyeElkCiAgICAgICAgfS50b0NlbGwoKSk7CiAgICAgICAgZW1pdChHbG9iYWxMUExpcXVpZGl0eUNoYW5nZWRFdmVudHsKICAgICAgICAgICAgbHBGdW5kQWZ0ZXI6IHNlbGYuZ2xvYmFsTFBGdW5kLAogICAgICAgICAgICBsaXF1aWRpdHlBZnRlcjogc2VsZi5nbG9iYWxMUExpcXVpZGl0eSwKICAgICAgICAgICAgdHJhZGluZ0ZlZTogbHBUcmFkaW5nRmVlLAogICAgICAgICAgICBmdW5kaW5nRmVlOiAwLAogICAgICAgICAgICByZWFsaXplZFBubDogbHBSZWFsaXplZFBubCwKICAgICAgICAgICAgdHJ4SWQ6IHRyeElkCiAgICAgICAgfS50b0NlbGwoKSk7CiAgICAgICAgZHVtcCgiaW5jcmVhc2VQZXJwUG9zaXRpb24gZG9uZSIpOwogICAgfQoKICAgIGZ1biBkZWNyZWFzZVBlcnBQb3NpdGlvbihvcFR5cGU6IEludCwgdHJ4SWQ6IEludCwgYWNjb3VudDogQWRkcmVzcywgdG9rZW5JZDogSW50LCBpc0xvbmc6IEJvb2wsIG1hcmdpbkRlbHRhOiBJbnQsIHNpemVEZWx0YTogSW50LCBpbmRleFByaWNlOiBJbnQsIHRyYWRlUHJpY2U6IEludCk6IEludCB7CiAgICAgICAgLy8gZ2V0IHRva2VuIGNvbmZpZwogICAgICAgIGxldCB0b2tlbkNvbmZpZ09wdDogVG9rZW5Db25maWc/ID0gc2VsZi50b2tlbkNvbmZpZ3MuZ2V0KHRva2VuSWQpOwogICAgICAgIHJlcXVpcmUodG9rZW5Db25maWdPcHQgIT0gbnVsbCwgImludmFsaWQgdG9rZW4iKTsKICAgICAgICBsZXQgdG9rZW5Db25maWc6IFRva2VuQ29uZmlnID0gdG9rZW5Db25maWdPcHQhITsKICAgICAgICByZXF1aXJlKHRva2VuQ29uZmlnLmVuYWJsZSwgImRpc2FibGVkIHRva2VuIik7CiAgICAgICAgCiAgICAgICAgLy8gZ2V0IHBvc2l0aW9uCiAgICAgICAgbGV0IGFjY291bnRQZXJwUG9zaXRpb25PcHQ6IEFjY291bnRQZXJwUG9zaXRpb24/ID0gc2VsZi5wZXJwUG9zaXRpb25zLmdldCh0b2tlbklkKTsKICAgICAgICBsZXQgYWNjb3VudFBlcnBQb3NpdGlvbjogQWNjb3VudFBlcnBQb3NpdGlvbiA9IGFjY291bnRQZXJwUG9zaXRpb25PcHQgIT0gbnVsbCA/IGFjY291bnRQZXJwUG9zaXRpb25PcHQhISA6IEFjY291bnRQZXJwUG9zaXRpb257CiAgICAgICAgICAgIHBvc2l0aW9uczogZW1wdHlNYXAoKQogICAgICAgIH07CgogICAgICAgIGxldCBkaXJlY3Rpb25QZXJwUG9zaXRpb25PcHQ6IERpcmVjdGlvblBlcnBQb3NpdGlvbj8gPSBhY2NvdW50UGVycFBvc2l0aW9uLnBvc2l0aW9ucy5nZXQoYWNjb3VudCk7CiAgICAgICAgbGV0IGRpcmVjdGlvblBlcnBQb3NpdGlvbjogRGlyZWN0aW9uUGVycFBvc2l0aW9uID0gZGlyZWN0aW9uUGVycFBvc2l0aW9uT3B0ICE9IG51bGwgPyBkaXJlY3Rpb25QZXJwUG9zaXRpb25PcHQhISA6IERpcmVjdGlvblBlcnBQb3NpdGlvbnsKICAgICAgICAgICAgbG9uZ1Bvc2l0aW9uOiBQZXJwUG9zaXRpb24gewogICAgICAgICAgICAgICAgcG9zaXRpb25JZDogMCwKICAgICAgICAgICAgICAgIG1hcmdpbjogMCwKICAgICAgICAgICAgICAgIHNpemU6IDAsCiAgICAgICAgICAgICAgICBlbnRyeVByaWNlOiAwLAogICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiAwCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNob3J0UG9zaXRpb246IFBlcnBQb3NpdGlvbiB7CiAgICAgICAgICAgICAgICBwb3NpdGlvbklkOiAwLAogICAgICAgICAgICAgICAgbWFyZ2luOiAwLAogICAgICAgICAgICAgICAgc2l6ZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGg6IDAKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIGxldCBwZXJwUG9zaXRpb246IFBlcnBQb3NpdGlvbiA9IGlzTG9uZyA/IGRpcmVjdGlvblBlcnBQb3NpdGlvbi5sb25nUG9zaXRpb24gOiBkaXJlY3Rpb25QZXJwUG9zaXRpb24uc2hvcnRQb3NpdGlvbjsKCiAgICAgICAgbGV0IGlzTGlxdWlkYXRlOiBCb29sID0gb3BUeXBlID09IE9SREVSX09QX1RZUEVfTElRVUlEQVRJT04gPyB0cnVlIDogZmFsc2U7CiAgICAgICAgLy8gY2xhbXAgZGVsdGEKICAgICAgICBpZiAoc2l6ZURlbHRhID4gcGVycFBvc2l0aW9uLnNpemUpIHsKICAgICAgICAgICAgc2l6ZURlbHRhID0gcGVycFBvc2l0aW9uLnNpemU7CiAgICAgICAgfQoKICAgICAgICAvLyBnZXQgZ2xvYmFsIHBvc2l0aW9uCiAgICAgICAgbGV0IGdsb2JhbFBvc2l0aW9uT3B0OiBHbG9iYWxQb3NpdGlvbj8gPSBzZWxmLmdsb2JhbFBvc2l0aW9ucy5nZXQodG9rZW5JZCk7CiAgICAgICAgbGV0IGdsb2JhbFBvc2l0aW9uOiBHbG9iYWxQb3NpdGlvbiA9IGdsb2JhbFBvc2l0aW9uT3B0ICE9IG51bGwgPyBnbG9iYWxQb3NpdGlvbk9wdCEhIDogR2xvYmFsUG9zaXRpb257CiAgICAgICAgICAgIGxvbmdNYXJnaW46IDAsCiAgICAgICAgICAgIHNob3J0TWFyZ2luOiAwLAogICAgICAgICAgICBsb25nU2l6ZTogMCwKICAgICAgICAgICAgc2hvcnRTaXplOiAwLAogICAgICAgICAgICBsb25nRnVuZGluZ0ZlZUdyb3d0aDogMCwKICAgICAgICAgICAgc2hvcnRGdW5kaW5nRmVlR3Jvd3RoOiAwLAogICAgICAgICAgICBsb25nVmFsdWU6IDAsCiAgICAgICAgICAgIHNob3J0VmFsdWU6IDAKICAgICAgICB9OwoKICAgICAgICAvLyBmdW5kaW5nIGZlZQogICAgICAgIGxldCBmdW5kaW5nRmVlOiBJbnQgPSAwOwogICAgICAgIGxldCBlbnRyeUZ1bmRpbmdGZWVHcm93dGhBZnRlcjogSW50ID0gMDsKICAgICAgICBpZiAocGVycFBvc2l0aW9uLnNpemUgPiAwKSB7CiAgICAgICAgICAgIGlmIChpc0xvbmcpIHsKICAgICAgICAgICAgICAgIGZ1bmRpbmdGZWUgPSAoZ2xvYmFsUG9zaXRpb24ubG9uZ0Z1bmRpbmdGZWVHcm93dGggLSBwZXJwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoKSAqIHBlcnBQb3NpdGlvbi5zaXplIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGhBZnRlciA9IGdsb2JhbFBvc2l0aW9uLmxvbmdGdW5kaW5nRmVlR3Jvd3RoOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZnVuZGluZ0ZlZSA9IChnbG9iYWxQb3NpdGlvbi5zaG9ydEZ1bmRpbmdGZWVHcm93dGggLSBwZXJwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoKSAqIHBlcnBQb3NpdGlvbi5zaXplIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGhBZnRlciA9IGdsb2JhbFBvc2l0aW9uLnNob3J0RnVuZGluZ0ZlZUdyb3d0aDsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gZ2V0IGdsb2JhbCBwb3NpdGlvbgogICAgICAgIGxldCBnbG9iYWxMUFBvc2l0aW9uT3B0OiBHbG9iYWxMUFBvc2l0aW9uPyA9IHNlbGYuZ2xvYmFsTFBQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgIGxldCBnbG9iYWxMUFBvc2l0aW9uOiBHbG9iYWxMUFBvc2l0aW9uID0gZ2xvYmFsTFBQb3NpdGlvbk9wdCAhPSBudWxsID8gZ2xvYmFsTFBQb3NpdGlvbk9wdCEhIDogR2xvYmFsTFBQb3NpdGlvbiB7CiAgICAgICAgICAgIG5ldFNpemU6IDAsCiAgICAgICAgICAgIGlzTG9uZzogZmFsc2UsCiAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgIHVucmVhbGl6ZWRQbmw6IDAKICAgICAgICB9OwoKICAgICAgICAvLyBscCBwbmwKICAgICAgICBsZXQgbHBSZWFsaXplZFBubDogSW50ID0gMDsKICAgICAgICBsZXQgc2l6ZVJlbWFpbmluZzogSW50ID0gc2l6ZURlbHRhOwogICAgICAgIGlmIChnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgPiAwICYmIChpc0xvbmcgIT0gZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcpKSB7CiAgICAgICAgICAgIGxldCBzaXplVXNlZDogSW50ID0gc2l6ZURlbHRhID4gZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplID8gZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplIDogc2l6ZURlbHRhOwogICAgICAgICAgICBpZiAoaXNMb25nKSB7CiAgICAgICAgICAgICAgICBscFJlYWxpemVkUG5sID0gc2l6ZVVzZWQgKiAodHJhZGVQcmljZSAtIGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxwUmVhbGl6ZWRQbmwgPSBzaXplVXNlZCAqIChnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UgLSB0cmFkZVByaWNlKSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNpemVSZW1haW5pbmcgLT0gc2l6ZVVzZWQ7CiAgICAgICAgICAgIGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSAtPSBzaXplVXNlZDsKICAgICAgICAgICAgaWYgKGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSA9PSAwKSB7CiAgICAgICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UgPSAwOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8vIGxwIGVudHJ5IHByaWNlCiAgICAgICAgaWYgKHNpemVSZW1haW5pbmcgPiAwKSB7CiAgICAgICAgICAgIGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSA9IChnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgKiBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UgKyBzaXplUmVtYWluaW5nICogdHJhZGVQcmljZSkgLyAoZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplICsgc2l6ZVJlbWFpbmluZyk7CiAgICAgICAgICAgIGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSArPSBzaXplUmVtYWluaW5nOwogICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLmlzTG9uZyA9ICFpc0xvbmc7CiAgICAgICAgfQoKICAgICAgICAvLyB0cmFkaW5nIGZlZQogICAgICAgIGxldCB0cmFkaW5nRmVlOiBJbnQgPSAwOwogICAgICAgIGxldCBscFRyYWRpbmdGZWU6IEludCA9IDA7CiAgICAgICAgaWYgKHNpemVEZWx0YSA+IDApIHsKICAgICAgICAgICAgdHJhZGluZ0ZlZSA9IHNpemVEZWx0YSAqIHRyYWRlUHJpY2UgKiB0b2tlbkNvbmZpZy50cmFkaW5nRmVlUmF0ZSAvIChQRVJDRU5UQUdFX0JBU0lTX1BPSU5UICogUFJJQ0VfREVDSU1BTF9GQUNUT1IpOwogICAgICAgICAgICBscFRyYWRpbmdGZWUgPSB0cmFkaW5nRmVlICogdG9rZW5Db25maWcubHBUcmFkaW5nRmVlUmF0ZSAvIFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQ7CgogICAgICAgICAgICBzZWxmLnByb3RvY29sVHJhZGluZ0ZlZSArPSB0cmFkaW5nRmVlIC0gbHBUcmFkaW5nRmVlOwogICAgICAgICAgICBzZWxmLmdsb2JhbExQRnVuZCArPSBscFJlYWxpemVkUG5sICsgbHBUcmFkaW5nRmVlOwogICAgICAgIH0KICAgICAgICBsZXQgcG9zaXRpb25JZDogSW50ID0gcGVycFBvc2l0aW9uLnBvc2l0aW9uSWQ7CiAgICAgICAgbGV0IHJlY2VpdmU6IEludCA9IDA7CiAgICAgICAgbGV0IHJlYWxpemVkUG5sOiBJbnQgPSAwOwogICAgICAgIC8vIHBvc2l0aW9uIHBubAogICAgICAgIGlmIChpc0xvbmcpIHsKICAgICAgICAgICAgcmVhbGl6ZWRQbmwgPSBzaXplRGVsdGEgKiAodHJhZGVQcmljZSAtIHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlKSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlYWxpemVkUG5sID0gc2l6ZURlbHRhICogKHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlIC0gdHJhZGVQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICB9CgogICAgICAgIC8vIG1hcmdpbgogICAgICAgIGxldCBtYXJnaW5CZWZvcmU6IEludCA9IHBlcnBQb3NpdGlvbi5tYXJnaW47CiAgICAgICAgcGVycFBvc2l0aW9uLm1hcmdpbiArPSByZWFsaXplZFBubCArIGZ1bmRpbmdGZWUgLSB0cmFkaW5nRmVlOwogICAgICAgIAogICAgICAgIHJlcXVpcmUocGVycFBvc2l0aW9uLm1hcmdpbiA+PSAwLCAiaW5zdWZmaWNpZW50IG1hcmdpbiIpOwogICAgICAgIGlmIChtYXJnaW5EZWx0YSA+IHBlcnBQb3NpdGlvbi5tYXJnaW4pIHsKICAgICAgICAgICAgbWFyZ2luRGVsdGEgPSBwZXJwUG9zaXRpb24ubWFyZ2luOwogICAgICAgIH0KICAgICAgICBwZXJwUG9zaXRpb24ubWFyZ2luIC09IG1hcmdpbkRlbHRhOwogICAgICAgIHBlcnBQb3NpdGlvbi5zaXplIC09IHNpemVEZWx0YTsKICAgICAgICBwZXJwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoID0gZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI7CiAgICAgICAgbGV0IG1hcmdpbkRlbHRhQWZ0ZXI6IEludCA9IG1hcmdpbkJlZm9yZSAtIHBlcnBQb3NpdGlvbi5tYXJnaW47CgogICAgICAgIGlmIChwZXJwUG9zaXRpb24uc2l6ZSA+IDApIHsKICAgICAgICAgICAgLy8gY2hlY2sgbWFpbnRhaW4gbWFyZ2luCiAgICAgICAgICAgIGxldCB1bnJlYWxpemVkUG5sOiBJbnQgPSAwOwogICAgICAgICAgICBpZiAoaXNMb25nKSB7CiAgICAgICAgICAgICAgICB1bnJlYWxpemVkUG5sID0gcGVycFBvc2l0aW9uLnNpemUgKiAodHJhZGVQcmljZSAtIHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlKSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdW5yZWFsaXplZFBubCA9IHBlcnBQb3NpdGlvbi5zaXplICogKHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlIC0gdHJhZGVQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgbWFpbnRlbmFuY2VNYXJnaW46IEludCA9IHBlcnBQb3NpdGlvbi5zaXplICogdHJhZGVQcmljZSAqIHRva2VuQ29uZmlnLnRyYWRpbmdGZWVSYXRlIC8gKFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQgKiBQUklDRV9ERUNJTUFMX0ZBQ1RPUikgKyB0b2tlbkNvbmZpZy5saXF1aWRhdGlvbkZlZTsKICAgICAgICAgICAgcmVxdWlyZShtYWludGVuYW5jZU1hcmdpbiA8IHBlcnBQb3NpdGlvbi5tYXJnaW4gKyB1bnJlYWxpemVkUG5sLCAibWFyZ2luIHJhdGUgdG9vIGhpZ2giKTsKCiAgICAgICAgICAgIC8vIGNoZWNrIGxldmVyYWdlCiAgICAgICAgICAgIHJlcXVpcmUocGVycFBvc2l0aW9uLm1hcmdpbiAqIHRva2VuQ29uZmlnLm1heExldmVyYWdlID49IHBlcnBQb3NpdGlvbi5zaXplLCAibGVnZXJhZ2UgdG9vIGhpZ2giKTsKICAgICAgICAgICAgcmVjZWl2ZSA9IG1hcmdpbkRlbHRhOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIGNsb3NlIHBvc2l0aW9uCiAgICAgICAgICAgIC8vIHdpdGhkcmF3IGFsbCBtYXJnaW4KICAgICAgICAgICAgbWFyZ2luRGVsdGFBZnRlciArPSBwZXJwUG9zaXRpb24ubWFyZ2luOwogICAgICAgICAgICByZWNlaXZlID0gbWFyZ2luRGVsdGEgKyBwZXJwUG9zaXRpb24ubWFyZ2luOwogICAgICAgICAgICBwZXJwUG9zaXRpb24gPSBQZXJwUG9zaXRpb24gewogICAgICAgICAgICAgICAgcG9zaXRpb25JZDogMCwKICAgICAgICAgICAgICAgIG1hcmdpbjogMCwKICAgICAgICAgICAgICAgIHNpemU6IDAsCiAgICAgICAgICAgICAgICBlbnRyeVByaWNlOiAwLAogICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiAwCiAgICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb24KICAgICAgICBpZiAoaXNMb25nKSB7CiAgICAgICAgICAgIGRpcmVjdGlvblBlcnBQb3NpdGlvbi5sb25nUG9zaXRpb24gPSBwZXJwUG9zaXRpb247CiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLmxvbmdNYXJnaW4gLT0gbWFyZ2luRGVsdGFBZnRlcjsKICAgICAgICAgICAgZ2xvYmFsUG9zaXRpb24ubG9uZ1NpemUgLT0gc2l6ZURlbHRhOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRpcmVjdGlvblBlcnBQb3NpdGlvbi5zaG9ydFBvc2l0aW9uID0gcGVycFBvc2l0aW9uOwogICAgICAgICAgICBnbG9iYWxQb3NpdGlvbi5zaG9ydE1hcmdpbiAtPSBtYXJnaW5EZWx0YUFmdGVyOwogICAgICAgICAgICBnbG9iYWxQb3NpdGlvbi5zaG9ydFNpemUgLT0gc2l6ZURlbHRhOwogICAgICAgIH0KCiAgICAgICAgLy8gdXBkYXRlIGdsb2JhbCB2YWx1ZQogICAgICAgIGxldCBzaW5nbGVWYWx1ZUJlZm9yZTogSW50ID0gbWF4KGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSwgZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSk7CiAgICAgICAgbGV0IG5ldFZhbHVlQmVmb3JlOiBJbnQgPSBhYnMoZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlIC0gZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSk7CiAgICAgICAgZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlID0gZ2xvYmFsUG9zaXRpb24ubG9uZ1NpemUgKiBpbmRleFByaWNlIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSA9IGdsb2JhbFBvc2l0aW9uLnNob3J0U2l6ZSAqIGluZGV4UHJpY2UgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICBzZWxmLmdsb2JhbFBlcnBTaW5nbGVWYWx1ZSArPSBtYXgoZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlLCBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlKSAtIHNpbmdsZVZhbHVlQmVmb3JlOwogICAgICAgIHNlbGYuZ2xvYmFsUGVycE5ldFZhbHVlICs9IGFicyhnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUgLSBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlKSAtIG5ldFZhbHVlQmVmb3JlOwoKICAgICAgICBhY2NvdW50UGVycFBvc2l0aW9uLnBvc2l0aW9ucy5zZXQoYWNjb3VudCwgZGlyZWN0aW9uUGVycFBvc2l0aW9uKTsKICAgICAgICBzZWxmLnBlcnBQb3NpdGlvbnMuc2V0KHRva2VuSWQsIGFjY291bnRQZXJwUG9zaXRpb24pOwogICAgICAgIHNlbGYuZ2xvYmFsUG9zaXRpb25zLnNldCh0b2tlbklkLCBnbG9iYWxQb3NpdGlvbik7CiAgICAgICAgc2VsZi5nbG9iYWxMUFBvc2l0aW9ucy5zZXQodG9rZW5JZCwgZ2xvYmFsTFBQb3NpdGlvbik7CgogICAgICAgIC8vIGV2ZW50CiAgICAgICAgZW1pdChQZXJwUG9zaXRpb25EZWNyZWFzZWRFdmVudHsKICAgICAgICAgICAgb3BUeXBlOiBvcFR5cGUsCiAgICAgICAgICAgIHBvc2l0aW9uSWQ6IHBvc2l0aW9uSWQsCiAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgICAgICAgIHRva2VuSWQ6IHRva2VuSWQsCiAgICAgICAgICAgIGlzTG9uZzogaXNMb25nLAogICAgICAgICAgICBtYXJnaW5EZWx0YTogbWFyZ2luRGVsdGFBZnRlciwKICAgICAgICAgICAgbWFyZ2luQWZ0ZXI6IHBlcnBQb3NpdGlvbi5tYXJnaW4sCiAgICAgICAgICAgIHNpemVEZWx0YTogc2l6ZURlbHRhLAogICAgICAgICAgICBzaXplQWZ0ZXI6IHBlcnBQb3NpdGlvbi5zaXplLAogICAgICAgICAgICB0cmFkZVByaWNlOiB0cmFkZVByaWNlLAogICAgICAgICAgICByZWFsaXplZFBuTERlbHRhOiByZWFsaXplZFBubCwKICAgICAgICAgICAgdHJhZGluZ0ZlZTogdHJhZGluZ0ZlZSwKICAgICAgICAgICAgZnVuZGluZ0ZlZTogZnVuZGluZ0ZlZSwKICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyLAogICAgICAgICAgICByZWNlaXZlOiByZWNlaXZlLAogICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICBlbWl0KEdsb2JhbFBvc2l0aW9uQ2hhbmdlZEV2ZW50ewogICAgICAgICAgICB0b2tlbklkOiB0b2tlbklkLAogICAgICAgICAgICBsb25nTWFyZ2luQWZ0ZXI6IGdsb2JhbFBvc2l0aW9uLmxvbmdNYXJnaW4sCiAgICAgICAgICAgIHNob3J0TWFyZ2luQWZ0ZXI6IGdsb2JhbFBvc2l0aW9uLnNob3J0TWFyZ2luLAogICAgICAgICAgICBsb25nU2l6ZUFmdGVyOiBnbG9iYWxQb3NpdGlvbi5sb25nU2l6ZSwKICAgICAgICAgICAgc2hvcnRTaXplQWZ0ZXI6IGdsb2JhbFBvc2l0aW9uLnNob3J0U2l6ZSwKICAgICAgICAgICAgbG9uZ0Z1bmRpbmdGZWVHcm93dGhBZnRlcjogZ2xvYmFsUG9zaXRpb24ubG9uZ0Z1bmRpbmdGZWVHcm93dGgsCiAgICAgICAgICAgIHNob3J0RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBnbG9iYWxQb3NpdGlvbi5zaG9ydEZ1bmRpbmdGZWVHcm93dGgsCiAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwogICAgICAgIGVtaXQoR2xvYmFsTFBQb3NpdGlvbkNoYW5nZWRFdmVudHsKICAgICAgICAgICAgdG9rZW5JZDogdG9rZW5JZCwKICAgICAgICAgICAgbmV0U2l6ZUFmdGVyOiBnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUsCiAgICAgICAgICAgIGlzTG9uZzogZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcsCiAgICAgICAgICAgIGVudHJ5UHJpY2VBZnRlcjogZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlLAogICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICBlbWl0KEdsb2JhbExQTGlxdWlkaXR5Q2hhbmdlZEV2ZW50ewogICAgICAgICAgICBscEZ1bmRBZnRlcjogc2VsZi5nbG9iYWxMUEZ1bmQsCiAgICAgICAgICAgIGxpcXVpZGl0eUFmdGVyOiBzZWxmLmdsb2JhbExQTGlxdWlkaXR5LAogICAgICAgICAgICB0cmFkaW5nRmVlOiBscFRyYWRpbmdGZWUsCiAgICAgICAgICAgIGZ1bmRpbmdGZWU6IDAsCiAgICAgICAgICAgIHJlYWxpemVkUG5sOiBscFJlYWxpemVkUG5sLAogICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICByZXR1cm4gcmVjZWl2ZTsKICAgIH0KCiAgICBmdW4gbGlxdWlkYXRlUGVycFBvc2l0aW9uKHRyeElkOiBJbnQsIGFjY291bnQ6IEFkZHJlc3MsIHRva2VuSWQ6IEludCwgaXNMb25nOiBCb29sLCBpbmRleFByaWNlOiBJbnQsIHRyYWRlUHJpY2U6IEludCk6IEludCB7CiAgICAgICAgLy8gZ2V0IHRva2VuIGNvbmZpZwogICAgICAgIGxldCB0b2tlbkNvbmZpZ09wdDogVG9rZW5Db25maWc/ID0gc2VsZi50b2tlbkNvbmZpZ3MuZ2V0KHRva2VuSWQpOwogICAgICAgIHJlcXVpcmUodG9rZW5Db25maWdPcHQgIT0gbnVsbCwgImludmFsaWQgdG9rZW4iKTsKICAgICAgICBsZXQgdG9rZW5Db25maWc6IFRva2VuQ29uZmlnID0gdG9rZW5Db25maWdPcHQhITsKICAgICAgICByZXF1aXJlKHRva2VuQ29uZmlnLmVuYWJsZSwgImRpc2FibGVkIHRva2VuIik7CiAgICAgICAgCiAgICAgICAgLy8gZ2V0IHBvc2l0aW9uCiAgICAgICAgbGV0IGFjY291bnRQZXJwUG9zaXRpb25PcHQ6IEFjY291bnRQZXJwUG9zaXRpb24/ID0gc2VsZi5wZXJwUG9zaXRpb25zLmdldCh0b2tlbklkKTsKICAgICAgICBsZXQgYWNjb3VudFBlcnBQb3NpdGlvbjogQWNjb3VudFBlcnBQb3NpdGlvbiA9IGFjY291bnRQZXJwUG9zaXRpb25PcHQgIT0gbnVsbCA/IGFjY291bnRQZXJwUG9zaXRpb25PcHQhISA6IEFjY291bnRQZXJwUG9zaXRpb257CiAgICAgICAgICAgIHBvc2l0aW9uczogZW1wdHlNYXAoKQogICAgICAgIH07CgogICAgICAgIGxldCBkaXJlY3Rpb25QZXJwUG9zaXRpb25PcHQ6IERpcmVjdGlvblBlcnBQb3NpdGlvbj8gPSBhY2NvdW50UGVycFBvc2l0aW9uLnBvc2l0aW9ucy5nZXQoYWNjb3VudCk7CiAgICAgICAgbGV0IGRpcmVjdGlvblBlcnBQb3NpdGlvbjogRGlyZWN0aW9uUGVycFBvc2l0aW9uID0gZGlyZWN0aW9uUGVycFBvc2l0aW9uT3B0ICE9IG51bGwgPyBkaXJlY3Rpb25QZXJwUG9zaXRpb25PcHQhISA6IERpcmVjdGlvblBlcnBQb3NpdGlvbnsKICAgICAgICAgICAgbG9uZ1Bvc2l0aW9uOiBQZXJwUG9zaXRpb24gewogICAgICAgICAgICAgICAgcG9zaXRpb25JZDogMCwKICAgICAgICAgICAgICAgIG1hcmdpbjogMCwKICAgICAgICAgICAgICAgIHNpemU6IDAsCiAgICAgICAgICAgICAgICBlbnRyeVByaWNlOiAwLAogICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiAwCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNob3J0UG9zaXRpb246IFBlcnBQb3NpdGlvbiB7CiAgICAgICAgICAgICAgICBwb3NpdGlvbklkOiAwLAogICAgICAgICAgICAgICAgbWFyZ2luOiAwLAogICAgICAgICAgICAgICAgc2l6ZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGg6IDAKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIGxldCBwZXJwUG9zaXRpb246IFBlcnBQb3NpdGlvbiA9IGlzTG9uZyA/IGRpcmVjdGlvblBlcnBQb3NpdGlvbi5sb25nUG9zaXRpb24gOiBkaXJlY3Rpb25QZXJwUG9zaXRpb24uc2hvcnRQb3NpdGlvbjsKCiAgICAgICAgLy8gZGVsdGEKICAgICAgICBsZXQgbWFyZ2luRGVsdGE6IEludCA9IHBlcnBQb3NpdGlvbi5tYXJnaW47CiAgICAgICAgbGV0IHNpemVEZWx0YTogSW50ID0gcGVycFBvc2l0aW9uLnNpemU7CgogICAgICAgIC8vIGdldCBnbG9iYWwgcG9zaXRpb24KICAgICAgICBsZXQgZ2xvYmFsUG9zaXRpb25PcHQ6IEdsb2JhbFBvc2l0aW9uPyA9IHNlbGYuZ2xvYmFsUG9zaXRpb25zLmdldCh0b2tlbklkKTsKICAgICAgICBsZXQgZ2xvYmFsUG9zaXRpb246IEdsb2JhbFBvc2l0aW9uID0gZ2xvYmFsUG9zaXRpb25PcHQgIT0gbnVsbCA/IGdsb2JhbFBvc2l0aW9uT3B0ISEgOiBHbG9iYWxQb3NpdGlvbnsKICAgICAgICAgICAgbG9uZ01hcmdpbjogMCwKICAgICAgICAgICAgc2hvcnRNYXJnaW46IDAsCiAgICAgICAgICAgIGxvbmdTaXplOiAwLAogICAgICAgICAgICBzaG9ydFNpemU6IDAsCiAgICAgICAgICAgIGxvbmdGdW5kaW5nRmVlR3Jvd3RoOiAwLAogICAgICAgICAgICBzaG9ydEZ1bmRpbmdGZWVHcm93dGg6IDAsCiAgICAgICAgICAgIGxvbmdWYWx1ZTogMCwKICAgICAgICAgICAgc2hvcnRWYWx1ZTogMAogICAgICAgIH07CgogICAgICAgIC8vIGZ1bmRpbmcgZmVlCiAgICAgICAgbGV0IGZ1bmRpbmdGZWU6IEludCA9IDA7CiAgICAgICAgbGV0IGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBJbnQgPSAwOwogICAgICAgIGlmIChwZXJwUG9zaXRpb24uc2l6ZSA+IDApIHsKICAgICAgICAgICAgaWYgKGlzTG9uZykgewogICAgICAgICAgICAgICAgZnVuZGluZ0ZlZSA9IChnbG9iYWxQb3NpdGlvbi5sb25nRnVuZGluZ0ZlZUdyb3d0aCAtIHBlcnBQb3NpdGlvbi5lbnRyeUZ1bmRpbmdGZWVHcm93dGgpICogcGVycFBvc2l0aW9uLnNpemUgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyID0gZ2xvYmFsUG9zaXRpb24ubG9uZ0Z1bmRpbmdGZWVHcm93dGg7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBmdW5kaW5nRmVlID0gKGdsb2JhbFBvc2l0aW9uLnNob3J0RnVuZGluZ0ZlZUdyb3d0aCAtIHBlcnBQb3NpdGlvbi5lbnRyeUZ1bmRpbmdGZWVHcm93dGgpICogcGVycFBvc2l0aW9uLnNpemUgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyID0gZ2xvYmFsUG9zaXRpb24uc2hvcnRGdW5kaW5nRmVlR3Jvd3RoOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBjaGVjayBtYWludGFpbiBtYXJnaW4KICAgICAgICBsZXQgdW5yZWFsaXplZFBubDogSW50ID0gMDsKICAgICAgICBpZiAoaXNMb25nKSB7CiAgICAgICAgICAgIHVucmVhbGl6ZWRQbmwgPSBwZXJwUG9zaXRpb24uc2l6ZSAqICh0cmFkZVByaWNlIC0gcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UpIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdW5yZWFsaXplZFBubCA9IHBlcnBQb3NpdGlvbi5zaXplICogKHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlIC0gdHJhZGVQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICB9CiAgICAgICAgbGV0IG1haW50ZW5hbmNlTWFyZ2luOiBJbnQgPSBwZXJwUG9zaXRpb24uc2l6ZSAqIHRyYWRlUHJpY2UgKiB0b2tlbkNvbmZpZy50cmFkaW5nRmVlUmF0ZSAvIChQRVJDRU5UQUdFX0JBU0lTX1BPSU5UICogUFJJQ0VfREVDSU1BTF9GQUNUT1IpICsgdG9rZW5Db25maWcubGlxdWlkYXRpb25GZWU7CiAgICAgICAgcmVxdWlyZShtYWludGVuYW5jZU1hcmdpbiA+PSBwZXJwUG9zaXRpb24ubWFyZ2luICsgdW5yZWFsaXplZFBubCwgIm1hcmdpbiByYXRlIHRvbyBsb3ciKTsKCiAgICAgICAgLy8gbGlxdWlkYXRlIHByaWNlCiAgICAgICAgbGV0IGxpcXVpZGF0ZVByaWNlOiBJbnQgPSAoKHBlcnBQb3NpdGlvbi5tYXJnaW4gKyBmdW5kaW5nRmVlIC0gdG9rZW5Db25maWcubGlxdWlkYXRpb25GZWUpICogUFJJQ0VfREVDSU1BTF9GQUNUT1IgKyAoaXNMb25nID8gLXBlcnBQb3NpdGlvbi5lbnRyeVByaWNlICogcGVycFBvc2l0aW9uLnNpemUgOiBwZXJwUG9zaXRpb24uZW50cnlQcmljZSAqIHBlcnBQb3NpdGlvbi5zaXplKSkgCiAgICAgICAgICAgIC8gKHBlcnBQb3NpdGlvbi5zaXplICogKHRva2VuQ29uZmlnLnRyYWRpbmdGZWVSYXRlICsgKGlzTG9uZyA/IC0gUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCA6IFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQpKSk7CiAgICAgICAgcmVxdWlyZShpc0xvbmcgPyBsaXF1aWRhdGVQcmljZSA8IHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlIDogbGlxdWlkYXRlUHJpY2UgPiBwZXJwUG9zaXRpb24uZW50cnlQcmljZSwgIm5vdCByZWFjaCBsaXF1aWRhdGUgcHJpY2UiKTsKICAgICAgICB0cmFkZVByaWNlID0gbGlxdWlkYXRlUHJpY2U7CgogICAgICAgIC8vIGdldCBnbG9iYWwgcG9zaXRpb24KICAgICAgICBsZXQgZ2xvYmFsTFBQb3NpdGlvbk9wdDogR2xvYmFsTFBQb3NpdGlvbj8gPSBzZWxmLmdsb2JhbExQUG9zaXRpb25zLmdldCh0b2tlbklkKTsKICAgICAgICBsZXQgZ2xvYmFsTFBQb3NpdGlvbjogR2xvYmFsTFBQb3NpdGlvbiA9IGdsb2JhbExQUG9zaXRpb25PcHQgIT0gbnVsbCA/IGdsb2JhbExQUG9zaXRpb25PcHQhISA6IEdsb2JhbExQUG9zaXRpb24gewogICAgICAgICAgICBuZXRTaXplOiAwLAogICAgICAgICAgICBpc0xvbmc6IGZhbHNlLAogICAgICAgICAgICBlbnRyeVByaWNlOiAwLAogICAgICAgICAgICB1bnJlYWxpemVkUG5sOiAwCiAgICAgICAgfTsKCiAgICAgICAgLy8gbHAgcG5sCiAgICAgICAgbGV0IGxwUmVhbGl6ZWRQbmw6IEludCA9IDA7CiAgICAgICAgbGV0IHNpemVSZW1haW5pbmc6IEludCA9IHNpemVEZWx0YTsKICAgICAgICBpZiAoZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplID4gMCAmJiAoaXNMb25nICE9IGdsb2JhbExQUG9zaXRpb24uaXNMb25nKSkgewogICAgICAgICAgICBsZXQgc2l6ZVVzZWQ6IEludCA9IHNpemVEZWx0YSA+IGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSA/IGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSA6IHNpemVEZWx0YTsKICAgICAgICAgICAgaWYgKGlzTG9uZykgewogICAgICAgICAgICAgICAgbHBSZWFsaXplZFBubCA9IHNpemVVc2VkICogKHRyYWRlUHJpY2UgLSBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UpIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBscFJlYWxpemVkUG5sID0gc2l6ZVVzZWQgKiAoZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlIC0gdHJhZGVQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgfQogICAgICAgICAgICBzaXplUmVtYWluaW5nIC09IHNpemVVc2VkOwogICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgLT0gc2l6ZVVzZWQ7CiAgICAgICAgICAgIGlmIChnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgPT0gMCkgewogICAgICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlID0gMDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvLyBscCBlbnRyeSBwcmljZQogICAgICAgIGlmIChzaXplUmVtYWluaW5nID4gMCkgewogICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UgPSAoZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplICogZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlICsgc2l6ZVJlbWFpbmluZyAqIHRyYWRlUHJpY2UpIC8gKGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSArIHNpemVSZW1haW5pbmcpOwogICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgKz0gc2l6ZVJlbWFpbmluZzsKICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcgPSAhaXNMb25nOwogICAgICAgIH0KCiAgICAgICAgLy8gdHJhZGluZyBmZWUKICAgICAgICBsZXQgdHJhZGluZ0ZlZTogSW50ID0gc2l6ZURlbHRhICogdHJhZGVQcmljZSAqIHRva2VuQ29uZmlnLnRyYWRpbmdGZWVSYXRlIC8gKFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQgKiBQUklDRV9ERUNJTUFMX0ZBQ1RPUik7CiAgICAgICAgbGV0IGxwVHJhZGluZ0ZlZTogSW50ID0gdHJhZGluZ0ZlZSAqIHRva2VuQ29uZmlnLmxwVHJhZGluZ0ZlZVJhdGUgLyBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UOwogICAgICAgIGxldCBwcm90b2NvbFRyYWRpbmdGZWU6IEludCA9IHRyYWRpbmdGZWUgLSBscFRyYWRpbmdGZWU7CgogICAgICAgIHNlbGYucHJvdG9jb2xUcmFkaW5nRmVlICs9IHByb3RvY29sVHJhZGluZ0ZlZTsKICAgICAgICBzZWxmLmdsb2JhbExQRnVuZCArPSBscFJlYWxpemVkUG5sICsgbHBUcmFkaW5nRmVlOwoKICAgICAgICBsZXQgcG9zaXRpb25JZDogSW50ID0gcGVycFBvc2l0aW9uLnBvc2l0aW9uSWQ7CiAgICAgICAgbGV0IHJlY2VpdmU6IEludCA9IDA7CiAgICAgICAgbGV0IHJlYWxpemVkUG5sOiBJbnQgPSAwOwogICAgICAgIC8vIGNsb3NlIHBvc2l0aW9uCiAgICAgICAgcmVjZWl2ZSA9IHRva2VuQ29uZmlnLmxpcXVpZGF0aW9uRmVlOwogICAgICAgIHJlYWxpemVkUG5sID0gLWxwUmVhbGl6ZWRQbmw7CiAgICAgICAgcGVycFBvc2l0aW9uID0gUGVycFBvc2l0aW9uIHsKICAgICAgICAgICAgcG9zaXRpb25JZDogMCwKICAgICAgICAgICAgbWFyZ2luOiAwLAogICAgICAgICAgICBzaXplOiAwLAogICAgICAgICAgICBlbnRyeVByaWNlOiAwLAogICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGg6IDAKICAgICAgICB9OwoKICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb24KICAgICAgICBpZiAoaXNMb25nKSB7CiAgICAgICAgICAgIGRpcmVjdGlvblBlcnBQb3NpdGlvbi5sb25nUG9zaXRpb24gPSBwZXJwUG9zaXRpb247CiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLmxvbmdNYXJnaW4gLT0gbWFyZ2luRGVsdGE7CiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLmxvbmdTaXplIC09IHNpemVEZWx0YTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkaXJlY3Rpb25QZXJwUG9zaXRpb24uc2hvcnRQb3NpdGlvbiA9IHBlcnBQb3NpdGlvbjsKICAgICAgICAgICAgZ2xvYmFsUG9zaXRpb24uc2hvcnRNYXJnaW4gLT0gbWFyZ2luRGVsdGE7CiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLnNob3J0U2l6ZSAtPSBzaXplRGVsdGE7CiAgICAgICAgfQogICAgICAgIC8vIHVwZGF0ZSBnbG9iYWwgdmFsdWUKICAgICAgICBsZXQgc2luZ2xlVmFsdWVCZWZvcmU6IEludCA9IG1heChnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUsIGdsb2JhbFBvc2l0aW9uLnNob3J0VmFsdWUpOwogICAgICAgIGxldCBuZXRWYWx1ZUJlZm9yZTogSW50ID0gYWJzKGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSAtIGdsb2JhbFBvc2l0aW9uLnNob3J0VmFsdWUpOwogICAgICAgIGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSA9IGdsb2JhbFBvc2l0aW9uLmxvbmdTaXplICogaW5kZXhQcmljZSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgIGdsb2JhbFBvc2l0aW9uLnNob3J0VmFsdWUgPSBnbG9iYWxQb3NpdGlvbi5zaG9ydFNpemUgKiBpbmRleFByaWNlIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgc2VsZi5nbG9iYWxQZXJwU2luZ2xlVmFsdWUgKz0gbWF4KGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSwgZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSkgLSBzaW5nbGVWYWx1ZUJlZm9yZTsKICAgICAgICBzZWxmLmdsb2JhbFBlcnBOZXRWYWx1ZSArPSBhYnMoZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlIC0gZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSkgLSBuZXRWYWx1ZUJlZm9yZTsKCiAgICAgICAgYWNjb3VudFBlcnBQb3NpdGlvbi5wb3NpdGlvbnMuc2V0KGFjY291bnQsIGRpcmVjdGlvblBlcnBQb3NpdGlvbik7CiAgICAgICAgc2VsZi5wZXJwUG9zaXRpb25zLnNldCh0b2tlbklkLCBhY2NvdW50UGVycFBvc2l0aW9uKTsKICAgICAgICBzZWxmLmdsb2JhbFBvc2l0aW9ucy5zZXQodG9rZW5JZCwgZ2xvYmFsUG9zaXRpb24pOwogICAgICAgIHNlbGYuZ2xvYmFsTFBQb3NpdGlvbnMuc2V0KHRva2VuSWQsIGdsb2JhbExQUG9zaXRpb24pOwoKICAgICAgICAvLyBldmVudAogICAgICAgIGVtaXQoUGVycFBvc2l0aW9uRGVjcmVhc2VkRXZlbnR7CiAgICAgICAgICAgIG9wVHlwZTogT1JERVJfT1BfVFlQRV9MSVFVSURBVElPTiwKICAgICAgICAgICAgcG9zaXRpb25JZDogcG9zaXRpb25JZCwKICAgICAgICAgICAgYWNjb3VudDogYWNjb3VudCwKICAgICAgICAgICAgdG9rZW5JZDogdG9rZW5JZCwKICAgICAgICAgICAgaXNMb25nOiBpc0xvbmcsCiAgICAgICAgICAgIG1hcmdpbkRlbHRhOiBtYXJnaW5EZWx0YSwKICAgICAgICAgICAgbWFyZ2luQWZ0ZXI6IHBlcnBQb3NpdGlvbi5tYXJnaW4sCiAgICAgICAgICAgIHNpemVEZWx0YTogc2l6ZURlbHRhLAogICAgICAgICAgICBzaXplQWZ0ZXI6IHBlcnBQb3NpdGlvbi5zaXplLAogICAgICAgICAgICB0cmFkZVByaWNlOiB0cmFkZVByaWNlLAogICAgICAgICAgICByZWFsaXplZFBuTERlbHRhOiByZWFsaXplZFBubCwKICAgICAgICAgICAgdHJhZGluZ0ZlZTogdHJhZGluZ0ZlZSwKICAgICAgICAgICAgZnVuZGluZ0ZlZTogZnVuZGluZ0ZlZSwKICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyLAogICAgICAgICAgICByZWNlaXZlOiByZWNlaXZlLAogICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICBlbWl0KEdsb2JhbFBvc2l0aW9uQ2hhbmdlZEV2ZW50ewogICAgICAgICAgICB0b2tlbklkOiB0b2tlbklkLAogICAgICAgICAgICBsb25nTWFyZ2luQWZ0ZXI6IGdsb2JhbFBvc2l0aW9uLmxvbmdNYXJnaW4sCiAgICAgICAgICAgIHNob3J0TWFyZ2luQWZ0ZXI6IGdsb2JhbFBvc2l0aW9uLnNob3J0TWFyZ2luLAogICAgICAgICAgICBsb25nU2l6ZUFmdGVyOiBnbG9iYWxQb3NpdGlvbi5sb25nU2l6ZSwKICAgICAgICAgICAgc2hvcnRTaXplQWZ0ZXI6IGdsb2JhbFBvc2l0aW9uLnNob3J0U2l6ZSwKICAgICAgICAgICAgbG9uZ0Z1bmRpbmdGZWVHcm93dGhBZnRlcjogZ2xvYmFsUG9zaXRpb24ubG9uZ0Z1bmRpbmdGZWVHcm93dGgsCiAgICAgICAgICAgIHNob3J0RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBnbG9iYWxQb3NpdGlvbi5zaG9ydEZ1bmRpbmdGZWVHcm93dGgsCiAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwogICAgICAgIGVtaXQoR2xvYmFsTFBQb3NpdGlvbkNoYW5nZWRFdmVudHsKICAgICAgICAgICAgdG9rZW5JZDogdG9rZW5JZCwKICAgICAgICAgICAgbmV0U2l6ZUFmdGVyOiBnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUsCiAgICAgICAgICAgIGlzTG9uZzogZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcsCiAgICAgICAgICAgIGVudHJ5UHJpY2VBZnRlcjogZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlLAogICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICBlbWl0KEdsb2JhbExQTGlxdWlkaXR5Q2hhbmdlZEV2ZW50ewogICAgICAgICAgICBscEZ1bmRBZnRlcjogc2VsZi5nbG9iYWxMUEZ1bmQsCiAgICAgICAgICAgIGxpcXVpZGl0eUFmdGVyOiBzZWxmLmdsb2JhbExQTGlxdWlkaXR5LAogICAgICAgICAgICB0cmFkaW5nRmVlOiBscFRyYWRpbmdGZWUsCiAgICAgICAgICAgIGZ1bmRpbmdGZWU6IDAsCiAgICAgICAgICAgIHJlYWxpemVkUG5sOiBscFJlYWxpemVkUG5sLAogICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICByZXR1cm4gcmVjZWl2ZTsKICAgIH0KCiAgICBnZXQgZnVuIHBlcnBQb3NpdGlvbih0b2tlbklkOiBJbnQsIGFjY291bnQ6IEFkZHJlc3M/KTogUGVycFBvc2l0aW9uRGF0YT8gewogICAgICAgIC8vIGdldCBwb3NpdGlvbgogICAgICAgIGxldCBwZXJwUG9zaXRpb246IERpcmVjdGlvblBlcnBQb3NpdGlvbj8gPSBudWxsOwogICAgICAgIGlmIChhY2NvdW50ICE9IG51bGwpIHsKICAgICAgICAgICAgbGV0IGFjY291bnRQZXJwUG9zaXRpb25PcHQ6IEFjY291bnRQZXJwUG9zaXRpb24/ID0gc2VsZi5wZXJwUG9zaXRpb25zLmdldCh0b2tlbklkKTsKICAgICAgICAgICAgaWYgKGFjY291bnRQZXJwUG9zaXRpb25PcHQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgcGVycFBvc2l0aW9uID0gKGFjY291bnRQZXJwUG9zaXRpb25PcHQhISkucG9zaXRpb25zLmdldChhY2NvdW50ISEpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBQZXJwUG9zaXRpb25EYXRhewogICAgICAgICAgICBwZXJwUG9zaXRpb246IHBlcnBQb3NpdGlvbiwKICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbjogc2VsZi5nbG9iYWxMUFBvc2l0aW9ucy5nZXQodG9rZW5JZCksCiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uOiBzZWxmLmdsb2JhbFBvc2l0aW9ucy5nZXQodG9rZW5JZCksCiAgICAgICAgICAgIGdsb2JhbFBlcnBOZXRWYWx1ZTogc2VsZi5nbG9iYWxQZXJwTmV0VmFsdWUsCiAgICAgICAgICAgIGdsb2JhbFBlcnBTaW5nbGVWYWx1ZTogc2VsZi5nbG9iYWxQZXJwU2luZ2xlVmFsdWUKICAgICAgICB9OwogICAgfQoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gcHJpY2UgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KICAgIHJlY2VpdmUobXNnOiBVcGRhdGVQcmljZSkgewogICAgICAgIC8vIGNoZWNrIHNlbmRlcgogICAgICAgIGxldCBpc0V4ZWN1dG9yOiBCb29sID0gZmFsc2U7CiAgICAgICAgbGV0IGlzRXhlY3V0b3JPcHQ6IEJvb2w/ID0gc2VsZi5leGVjdXRvcnMuZ2V0KHNlbmRlcigpKTsKICAgICAgICBpZiAoaXNFeGVjdXRvck9wdCAhPSBudWxsKSB7CiAgICAgICAgICAgIGlzRXhlY3V0b3IgPSBpc0V4ZWN1dG9yT3B0ISE7CiAgICAgICAgfQogICAgICAgIHJlcXVpcmUoaXNFeGVjdXRvciwgImludmFsaWQgc2VuZGVyIik7CgogICAgICAgIC8vIHVwZGF0ZSBwcmljZQogICAgICAgIHNlbGYuc2V0UHJpY2UobXNnLnByaWNlc0xlbmd0aCwgbXNnLnByaWNlcyk7CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBwcml2YXRlIGZ1bmN0aW9uID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCiAgICBmdW4gc2V0UHJpY2UocHJpY2VzTGVuZ3RoOiBJbnQsIHByaWNlczogbWFwPEludCwgVXBkYXRlUHJpY2VQYXJhbT4pIHsKICAgICAgICBpZiAocHJpY2VzTGVuZ3RoIDw9IDApIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBsZXQgaTogSW50ID0gMDsKICAgICAgICBsZXQgdG90YWxHbG9iYWxVbnJlYWxpemVkUG5sOiBJbnQgPSBzZWxmLmdsb2JhbExQVW5yZWFsaXplZFBubDsKICAgICAgICB3aGlsZShpIDwgcHJpY2VzTGVuZ3RoKSB7CiAgICAgICAgICAgIGxldCB1cGRhdGVQcmljZTogVXBkYXRlUHJpY2VQYXJhbT8gPSBwcmljZXMuZ2V0KGkpOwogICAgICAgICAgICBpZiAodXBkYXRlUHJpY2UgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgLy8gVE9ETyBjaGVjayBwcmljZSBvZmZzZXQKICAgICAgICAgICAgICAgIGxldCBwcmljZTogSW50ID0gKHVwZGF0ZVByaWNlISEpLnByaWNlOwogICAgICAgICAgICAgICAgbGV0IHRva2VuSWQ6IEludCA9ICh1cGRhdGVQcmljZSEhKS50b2tlbklkOwoKICAgICAgICAgICAgICAgIGxldCBwcmljZURhdGFPcHQ6IFByaWNlRGF0YT8gPSBzZWxmLnByaWNlcy5nZXQodG9rZW5JZCk7CiAgICAgICAgICAgICAgICBpZiAocHJpY2VEYXRhT3B0ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgcHJpY2VEYXRhOiBQcmljZURhdGEgPSBwcmljZURhdGFPcHQhITsKICAgICAgICAgICAgICAgICAgICBwcmljZURhdGEucHJpY2UgPSBwcmljZTsKICAgICAgICAgICAgICAgICAgICBzZWxmLnByaWNlcy5zZXQodG9rZW5JZCwgcHJpY2VEYXRhKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgc2VsZi5wcmljZXMuc2V0KHRva2VuSWQsIFByaWNlRGF0YXsKICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gdXBkYXRlIGxwIHBubAogICAgICAgICAgICAgICAgbGV0IGdsb2JhbExQUG9zaXRpb25PcHQ6IEdsb2JhbExQUG9zaXRpb24/ID0gc2VsZi5nbG9iYWxMUFBvc2l0aW9ucy5nZXQodG9rZW5JZCk7CiAgICAgICAgICAgICAgICBpZiAoZ2xvYmFsTFBQb3NpdGlvbk9wdCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGdsb2JhbExQUG9zaXRpb246IEdsb2JhbExQUG9zaXRpb24gPSBnbG9iYWxMUFBvc2l0aW9uT3B0ISE7CiAgICAgICAgICAgICAgICAgICAgLy8gdW5yZWFsaXplZCBwbmwKICAgICAgICAgICAgICAgICAgICBsZXQgdW5yZWFsaXplZFBubDogSW50ID0gMDsKICAgICAgICAgICAgICAgICAgICBpZiAoZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdW5yZWFsaXplZFBubCA9IGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSAqIChwcmljZSAtIGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB1bnJlYWxpemVkUG5sID0gZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplICogKGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSAtIHByaWNlKSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB0b3RhbEdsb2JhbFVucmVhbGl6ZWRQbmwgPSB0b3RhbEdsb2JhbFVucmVhbGl6ZWRQbmwgLSBnbG9iYWxMUFBvc2l0aW9uLnVucmVhbGl6ZWRQbmwgKyB1bnJlYWxpemVkUG5sOwogICAgICAgICAgICAgICAgICAgIHNlbGYuZ2xvYmFsTFBQb3NpdGlvbnMuc2V0KHRva2VuSWQsIGdsb2JhbExQUG9zaXRpb24pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBnbG9iYWwgdmFsdWUKICAgICAgICAgICAgICAgIGxldCBnbG9iYWxQb3NpdGlvbk9wdDogR2xvYmFsUG9zaXRpb24/ID0gc2VsZi5nbG9iYWxQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgICAgICAgICAgaWYgKGdsb2JhbFBvc2l0aW9uT3B0ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgZ2xvYmFsUG9zaXRpb246IEdsb2JhbFBvc2l0aW9uID0gZ2xvYmFsUG9zaXRpb25PcHQhITsKICAgICAgICAgICAgICAgICAgICBsZXQgc2luZ2xlVmFsdWVCZWZvcmU6IEludCA9IG1heChnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUsIGdsb2JhbFBvc2l0aW9uLnNob3J0VmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGxldCBuZXRWYWx1ZUJlZm9yZTogSW50ID0gYWJzKGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSAtIGdsb2JhbFBvc2l0aW9uLnNob3J0VmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSA9IGdsb2JhbFBvc2l0aW9uLmxvbmdTaXplICogcHJpY2UgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgICAgICAgICBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlID0gZ2xvYmFsUG9zaXRpb24uc2hvcnRTaXplICogcHJpY2UgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgICAgICAgICBzZWxmLmdsb2JhbFBlcnBTaW5nbGVWYWx1ZSArPSBtYXgoZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlLCBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlKSAtIHNpbmdsZVZhbHVlQmVmb3JlOwogICAgICAgICAgICAgICAgICAgIHNlbGYuZ2xvYmFsUGVycE5ldFZhbHVlICs9IGFicyhnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUgLSBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlKSAtIG5ldFZhbHVlQmVmb3JlOwogICAgICAgICAgICAgICAgICAgIHNlbGYuZ2xvYmFsUG9zaXRpb25zLnNldCh0b2tlbklkLCBnbG9iYWxQb3NpdGlvbik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gdXBkYXRlIGZ1bmRpbmcgZmVlCiAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZUZ1bmRpbmdSYXRlKHRva2VuSWQsIHByaWNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpID0gaSArIDE7CiAgICAgICAgfQogICAgICAgIHNlbGYuZ2xvYmFsTFBVbnJlYWxpemVkUG5sID0gdG90YWxHbG9iYWxVbnJlYWxpemVkUG5sOwogICAgICAgIGVtaXQoVXBkYXRlUHJpY2VFdmVudHsKICAgICAgICAgICAgcHJpY2VzTGVuZ3RoOiBwcmljZXNMZW5ndGgsCiAgICAgICAgICAgIHByaWNlczogcHJpY2VzCiAgICAgICAgfS50b0NlbGwoKSk7CiAgICB9CgogICAgLy8gVE9ETwogICAgZnVuIGdldFByaWNlKHRva2VuSWQ6IEludCk6IEludCB7CiAgICAgICAgbGV0IHByaWNlRGF0YTogUHJpY2VEYXRhPyA9IHNlbGYucHJpY2VzLmdldCh0b2tlbklkKTsKICAgICAgICBsZXQgcHJpY2U6IEludCA9IDA7CiAgICAgICAgaWYgKHByaWNlRGF0YSAhPSBudWxsKSB7CiAgICAgICAgICAgIHByaWNlID0gKHByaWNlRGF0YSEhKS5wcmljZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHByaWNlOwogICAgfQoKICAgIGZ1biB1cGRhdGVGdW5kaW5nUmF0ZSh0b2tlbklkOiBJbnQsIGluZGV4UHJpY2U6IEludCkgewogICAgICAgIGxldCB0b2tlbkNvbmZpZzogVG9rZW5Db25maWcgPSBzZWxmLnRva2VuQ29uZmlncy5nZXQodG9rZW5JZCkhITsKCiAgICAgICAgLy8gPT09PT09PT09PT0gY2FsY3VsYXRlIHNhbXBsZSA9PT09PT09PT09PSAvLwogICAgICAgIC8vIGdldCBmdW5kaW5nIHJhdGUgc2FtcGxlCiAgICAgICAgbGV0IHNhbXBsZU9wdDogR2xvYmFsRnVuZGluZ1JhdGVTYW1wbGU/ID0gc2VsZi5nbG9iYWxGdW5kaW5nUmF0ZVNhbXBsZXMuZ2V0KHRva2VuSWQpOwogICAgICAgIGxldCBzYW1wbGU6IEdsb2JhbEZ1bmRpbmdSYXRlU2FtcGxlID0gc2FtcGxlT3B0ICE9IG51bGwgPyBzYW1wbGVPcHQhISA6IEdsb2JhbEZ1bmRpbmdSYXRlU2FtcGxlewogICAgICAgICAgICBsYXN0QWRqdXN0RnVuZGluZ1JhdGVUaW1lOiBub3coKSAtIChub3coKSAlIEFESlVTVF9GVU5ESU5HX1JBVEVfSU5URVJWQUwpLAogICAgICAgICAgICBzYW1wbGVDb3VudDogMCwKICAgICAgICAgICAgY3VtdWxhdGl2ZVByZW1pdW1SYXRlOiAwCiAgICAgICAgfTsKCiAgICAgICAgbGV0IGxhc3RBZGp1c3RGdW5kaW5nUmF0ZVRpbWU6IEludCA9IHNhbXBsZS5sYXN0QWRqdXN0RnVuZGluZ1JhdGVUaW1lOwogICAgICAgIC8vIGF0IG1vc3QgMSBob3VyIG9mIHByZW1pdW0gcmF0ZSBzYW1wbGluZwogICAgICAgIGxldCBtYXhTYW1wbGluZ1RpbWU6IEludCA9IGxhc3RBZGp1c3RGdW5kaW5nUmF0ZVRpbWUgKyBBREpVU1RfRlVORElOR19SQVRFX0lOVEVSVkFMOwogICAgICAgIGxldCB0aW1lc3RhbXA6IEludCA9IG5vdygpOwogICAgICAgIGlmIChtYXhTYW1wbGluZ1RpbWUgPCB0aW1lc3RhbXApIHsKICAgICAgICAgICAgdGltZXN0YW1wID0gbWF4U2FtcGxpbmdUaW1lOwogICAgICAgIH0KCiAgICAgICAgbGV0IGxhc3RTYW1wbGluZ1RpbWU6IEludCA9IGxhc3RBZGp1c3RGdW5kaW5nUmF0ZVRpbWUgKyBzYW1wbGUuc2FtcGxlQ291bnQgKiBTQU1QTEVfUFJFTUlVTV9SQVRFX0lOVEVSVkFMOwogICAgICAgIGxldCB0aW1lRGVsdGE6IEludCA9IHRpbWVzdGFtcCAtIGxhc3RTYW1wbGluZ1RpbWU7CiAgICAgICAgaWYgKHRpbWVEZWx0YSA8IFNBTVBMRV9QUkVNSVVNX1JBVEVfSU5URVJWQUwpIHsKICAgICAgICAgICAgLy8gbm8gbmVlZCB0byB1cGRhdGUKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgLy8gVE9ETwogICAgICAgIGxldCBwcmVtaXVtUmF0ZTogSW50ID0gc2VsZi5jYWxjdWxhdGVQcmVtaXVtUmF0ZSgpOwoKICAgICAgICAvLyBjdW11bGF0aXZlIHNhbXBsZSBjb3VudAogICAgICAgIGxldCBzYW1wbGVDb3VudERlbHRhOiBJbnQgPSB0aW1lRGVsdGEgLyBTQU1QTEVfUFJFTUlVTV9SQVRFX0lOVEVSVkFMOwogICAgICAgIGxldCBzYW1wbGVDb3VudEFmdGVyOiBJbnQgPSBzYW1wbGUuc2FtcGxlQ291bnQgKyBzYW1wbGVDb3VudERlbHRhOwoKICAgICAgICAvLyBjdW11bGF0aXZlIFBSCiAgICAgICAgbGV0IGN1bXVsYXRpdmVQcmVtaXVtUmF0ZTogSW50ID0gcHJlbWl1bVJhdGUgKiAoKHNhbXBsZS5zYW1wbGVDb3VudCArIDEgKyBzYW1wbGVDb3VudEFmdGVyKSAqIHNhbXBsZUNvdW50RGVsdGEgLyAyICk7CiAgICAgICAgY3VtdWxhdGl2ZVByZW1pdW1SYXRlID0gc2FtcGxlLmN1bXVsYXRpdmVQcmVtaXVtUmF0ZSArIGN1bXVsYXRpdmVQcmVtaXVtUmF0ZTsKCiAgICAgICAgZHVtcChzYW1wbGVDb3VudEFmdGVyKTsKCiAgICAgICAgLy8gc2FtcGxlIGNvdW50IDwgNzIwLCBubyBuZWVkIHVwZGF0ZSBmdW5kaW5nIHJhdGUKICAgICAgICBpZiAoc2FtcGxlQ291bnRBZnRlciA8IFJFUVVJUkVEX1NBTVBMRV9DT1VOVCkgewogICAgICAgICAgICBzYW1wbGUuY3VtdWxhdGl2ZVByZW1pdW1SYXRlID0gY3VtdWxhdGl2ZVByZW1pdW1SYXRlOwogICAgICAgICAgICBzYW1wbGUuc2FtcGxlQ291bnQgPSBzYW1wbGVDb3VudEFmdGVyOwogICAgICAgICAgICBzZWxmLmdsb2JhbEZ1bmRpbmdSYXRlU2FtcGxlcy5zZXQodG9rZW5JZCwgc2FtcGxlKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgLy8gYXZlcmFnZSBQUgogICAgICAgIGxldCBwcmVtaXVtUmF0ZUF2ZzogSW50ID0gY3VtdWxhdGl2ZVByZW1pdW1SYXRlIC8gUFJFTUlVTV9SQVRFX0FWR19ERU5PTUlOQVRPUjsKICAgICAgICBpZiAoY3VtdWxhdGl2ZVByZW1pdW1SYXRlIDwgMCkgewogICAgICAgICAgICBwcmVtaXVtUmF0ZUF2ZyA9IC1wcmVtaXVtUmF0ZUF2ZzsKICAgICAgICB9CiAgICAgICAgLy8gY2xhbXAgKElSIC0gYXZnUFIpIDogLTAuMDUlIDw9IChJUiAtIGF2Z1BSKSA8PSAwLjA1JQogICAgICAgIGxldCByYXRlRGVsdGE6IEludCA9IHRva2VuQ29uZmlnLmludGVyZXN0UmF0ZSAtIHByZW1pdW1SYXRlQXZnOwogICAgICAgIGxldCBjbGFtcGVkUmF0ZURlbHRhOiBJbnQgPSAwOwogICAgICAgIGlmIChyYXRlRGVsdGEgPiBQUkVNSVVNX1JBVEVfQ0xBTVBfQk9VTkRBUlkpIHsKICAgICAgICAgICAgY2xhbXBlZFJhdGVEZWx0YSA9IFBSRU1JVU1fUkFURV9DTEFNUF9CT1VOREFSWTsKICAgICAgICB9IGVsc2UgaWYgKHJhdGVEZWx0YSA8IC1QUkVNSVVNX1JBVEVfQ0xBTVBfQk9VTkRBUlkpIHsKICAgICAgICAgICAgY2xhbXBlZFJhdGVEZWx0YSA9IC1QUkVNSVVNX1JBVEVfQ0xBTVBfQk9VTkRBUlk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2xhbXBlZFJhdGVEZWx0YSA9IHJhdGVEZWx0YTsKICAgICAgICB9CiAgICAgICAgbGV0IGZ1bmRpbmdSYXRlRGVsdGE6IEludCA9IHByZW1pdW1SYXRlQXZnICsgY2xhbXBlZFJhdGVEZWx0YTsKICAgICAgICAKICAgICAgICBzYW1wbGUubGFzdEFkanVzdEZ1bmRpbmdSYXRlVGltZSA9IG1heFNhbXBsaW5nVGltZTsKICAgICAgICBzYW1wbGUuY3VtdWxhdGl2ZVByZW1pdW1SYXRlID0gMDsKICAgICAgICBzYW1wbGUuc2FtcGxlQ291bnQgPSAwOwogICAgICAgIHNlbGYuZ2xvYmFsRnVuZGluZ1JhdGVTYW1wbGVzLnNldCh0b2tlbklkLCBzYW1wbGUpOwoKICAgICAgICAvLyA9PT09PT09PT09PSB1cGRhdGUgZnVuZGluZyByYXRlID09PT09PT09PT09IC8vCiAgICAgICAgLy8gY2xhbXAgZnVuZGluZ1JhdGVEZWx0YTogLW1heEZ1bmRpbmdSYXRlIDw9IGZ1bmRpbmdSYXRlRGVsdGEgPD0gbWF4RnVuZGluZ1JhdGUKICAgICAgICBsZXQgbWF4RnVuZGluZ1JhdGU6IEludCA9IHRva2VuQ29uZmlnLm1heEZ1bmRpbmdSYXRlOwogICAgICAgIGxldCBjbGFtcGVkRnVuZGluZ1JhdGVEZWx0YTogSW50ID0gMDsKICAgICAgICBpZiAoZnVuZGluZ1JhdGVEZWx0YSA+IG1heEZ1bmRpbmdSYXRlKSB7CiAgICAgICAgICAgIGNsYW1wZWRGdW5kaW5nUmF0ZURlbHRhID0gbWF4RnVuZGluZ1JhdGU7CiAgICAgICAgfSBlbHNlIGlmIChmdW5kaW5nUmF0ZURlbHRhIDwgLW1heEZ1bmRpbmdSYXRlKSB7CiAgICAgICAgICAgIGNsYW1wZWRGdW5kaW5nUmF0ZURlbHRhID0gLW1heEZ1bmRpbmdSYXRlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNsYW1wZWRGdW5kaW5nUmF0ZURlbHRhID0gZnVuZGluZ1JhdGVEZWx0YTsKICAgICAgICB9CgogICAgICAgIGR1bXAoY2xhbXBlZEZ1bmRpbmdSYXRlRGVsdGEpOwoKICAgICAgICAvLyBnZXQgcGFpZFNpemUgYW5kIHJlY2VpdmVkU2l6ZQogICAgICAgIGxldCBnbG9iYWxQb3NpdGlvbk9wdDogR2xvYmFsUG9zaXRpb24/ID0gc2VsZi5nbG9iYWxQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgIGlmIChnbG9iYWxQb3NpdGlvbk9wdCA9PSBudWxsKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGxldCBnbG9iYWxQb3NpdGlvbjogR2xvYmFsUG9zaXRpb24gPSBnbG9iYWxQb3NpdGlvbk9wdCEhOwoKICAgICAgICBsZXQgcGFpZFNpemU6IEludCA9IDA7CiAgICAgICAgbGV0IHJlY2VpdmVkU2l6ZTogSW50ID0gMDsKICAgICAgICBpZiAoY2xhbXBlZEZ1bmRpbmdSYXRlRGVsdGEgPj0gMCkgewogICAgICAgICAgICBwYWlkU2l6ZSA9IGdsb2JhbFBvc2l0aW9uLmxvbmdTaXplOwogICAgICAgICAgICByZWNlaXZlZFNpemUgPSBnbG9iYWxQb3NpdGlvbi5zaG9ydFNpemU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcGFpZFNpemUgPSBnbG9iYWxQb3NpdGlvbi5zaG9ydFNpemU7CiAgICAgICAgICAgIHJlY2VpdmVkU2l6ZSA9IGdsb2JhbFBvc2l0aW9uLmxvbmdTaXplOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBjYWxjdWxhdGUgZnVuZGluZyByYXRlIGdyb3d0aAogICAgICAgIC8vIHBhaWRGdW5kaW5nRmVlR3Jvd3RoRGVsdGEgPSAocGFpZFNpemUgKiBwcmljZSAqIGZ1bmRpbmdSYXRlKSAvIHBhaWRTaXplID0gcHJpY2UgKiBmdW5kaW5nUmF0ZQogICAgICAgIGxldCBwYWlkRnVuZGluZ0ZlZUdyb3d0aERlbHRhOiBJbnQgPSBpbmRleFByaWNlICogY2xhbXBlZEZ1bmRpbmdSYXRlRGVsdGEgLyBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UOwoKICAgICAgICBsZXQgcmVjZWl2ZWRGdW5kaW5nRmVlR3Jvd3RoRGVsdGE6IEludCA9IDA7CiAgICAgICAgaWYgKHBhaWRGdW5kaW5nRmVlR3Jvd3RoRGVsdGEgPiAwKSB7CiAgICAgICAgICAgIGlmIChyZWNlaXZlZFNpemUgPiAwKSB7CiAgICAgICAgICAgICAgICByZWNlaXZlZEZ1bmRpbmdGZWVHcm93dGhEZWx0YSA9IHBhaWRGdW5kaW5nRmVlR3Jvd3RoRGVsdGE7CiAgICAgICAgICAgICAgICBzZWxmLmdsb2JhbExQRnVuZGluZ0ZlZUdyb3d0aCArPSBwYWlkRnVuZGluZ0ZlZUdyb3d0aERlbHRhICogKHBhaWRTaXplIC0gcmVjZWl2ZWRTaXplKSAvIHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzZWxmLmdsb2JhbExQRnVuZGluZ0ZlZUdyb3d0aCArPSBwYWlkU2l6ZSAqIHBhaWRGdW5kaW5nRmVlR3Jvd3RoRGVsdGEgLyBzZWxmLmdsb2JhbExQTGlxdWlkaXR5OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGxldCBsb25nRnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBJbnQgPSBnbG9iYWxQb3NpdGlvbi5sb25nRnVuZGluZ0ZlZUdyb3d0aDsKICAgICAgICBsZXQgc2hvcnRGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludCA9IGdsb2JhbFBvc2l0aW9uLnNob3J0RnVuZGluZ0ZlZUdyb3d0aDsKICAgICAgICAKICAgICAgICAvLyBmdW5kaW5nIHJhdGUgPiAwLCBsb25nIHBheSBmb3Igc2hvcnQgYW5kIExQIFRPRE8KICAgICAgICBpZiAoY2xhbXBlZEZ1bmRpbmdSYXRlRGVsdGEgPj0gMCkgewogICAgICAgICAgICBsb25nRnVuZGluZ0ZlZUdyb3d0aEFmdGVyID0gbG9uZ0Z1bmRpbmdGZWVHcm93dGhBZnRlciAtIHBhaWRGdW5kaW5nRmVlR3Jvd3RoRGVsdGE7CiAgICAgICAgICAgIHNob3J0RnVuZGluZ0ZlZUdyb3d0aEFmdGVyID0gc2hvcnRGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXIgKyByZWNlaXZlZEZ1bmRpbmdGZWVHcm93dGhEZWx0YTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBsb25nRnVuZGluZ0ZlZUdyb3d0aEFmdGVyID0gbG9uZ0Z1bmRpbmdGZWVHcm93dGhBZnRlciArIHJlY2VpdmVkRnVuZGluZ0ZlZUdyb3d0aERlbHRhOwogICAgICAgICAgICBzaG9ydEZ1bmRpbmdGZWVHcm93dGhBZnRlciA9IHNob3J0RnVuZGluZ0ZlZUdyb3d0aEFmdGVyIC0gcGFpZEZ1bmRpbmdGZWVHcm93dGhEZWx0YTsKICAgICAgICB9CiAgICAgICAgZ2xvYmFsUG9zaXRpb24ubG9uZ0Z1bmRpbmdGZWVHcm93dGggPSBsb25nRnVuZGluZ0ZlZUdyb3d0aEFmdGVyOwogICAgICAgIGdsb2JhbFBvc2l0aW9uLnNob3J0RnVuZGluZ0ZlZUdyb3d0aCA9IHNob3J0RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOwogICAgICAgIHNlbGYuZ2xvYmFsUG9zaXRpb25zLnNldCh0b2tlbklkLCBnbG9iYWxQb3NpdGlvbik7CiAgICB9CgogICAgZnVuIGNhbGN1bGF0ZVByZW1pdW1SYXRlKCk6IEludCB7CiAgICAgICAgcmV0dXJuIDA7CiAgICB9Cgp9Cg=="},"compiler":{"name":"tact","version":"1.2.0","parameters":"{\"entrypoint\":\"contracts/pool/pool.tact\",\"options\":{\"debug\":true}}"}}