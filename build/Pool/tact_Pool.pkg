{"name":"Pool","code":"te6ccgECqgEAOWsAART/APSkE/S88sgLAQIBYgIDAvDQAdDTAwFxsKMB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFRQUwNvBPhhAvhi2zwRGxEdERsRGhEcERoRGREbERkRGBEaERgRFxEZERcRFhEYERYRFREXERURFBEWERQRExEVERMREhEUERIRERETERGjBAIBIIeIAn4REBESERAPEREPDhEQDlUd2zzy4ILI+EMBzH8BygARHBEbERoRGREYERcRFhEVERQRExESEREREFXg2zzJ7VQFBgRuAZIwf+BwIddJwh+VMCDXCx/eIIIQSp8vgLqPCDDbPGwb2zx/4CCCEMsu5qK64wIgghD+sqdmugcICQoBzAERGwERHIEBAc8AAREZAYEBAc8AAREXAYEBAc8AAREVAfQAERPIgQEBzwABERIBgQEBzwABERABgQEBzwAOyIEBAc8AUA0g10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxZQCyIB9NMfAYIQSp8vgLry4IGBAQHXAPQE+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAH6APoA+gDUAdCBAQHXAIEBAdcAgQEB1wDUMNCBAQHXAPpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgxEFsQWhBZCwHwERsRJhEbERoRJREaERkRJBEZERgRIxEYERcRIhEXERYRIREWERURIBEVERQRHxEUERMRHhETERIRHRESERERHBERERARJhEQDxElDw4RJA4NESMNDBEiDAsRIQsKESAKCREfCQgRHggHER0HBhEcBgURJgUEESUEDAIQMNs8bB3bPH8PEAS8jrIw0x8BghD+sqdmuvLggdM/+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiBJsEuAgwAAi10nBIbCSW3/gIIIQ6JzUX7rjAiCCEP9X5Ve64wIgghAdyJWMuhUWFxgADBBYEFcQVgT8AxEkAwIRIwIBESIBESHbPFcQVxFXElcSVxJXElcTVxNXE3CUIFYZuYroMFcWVxb4QnBwgEAQI21tbds8ERIRGxESERERGhERERIRGRESDREYDRERERcRERESERYREg0RFQ0REREUEREIERMIBhERBggREAgQTxA+TcsQKhBpEg2FDgDoVheBAQEiWfQNb6GSMG3fIG6SMG2OKND6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAdIAWWwSbwLiIG6zjiyBAQshIG7y0IBvIjACIG7y0IBvIjEQOhJxIW6VW1n0WTCYyAHPAEEz9EHiB5Ew4qQADhBHEDZDVAEAutMfAYIQyy7morry4IHTP9QB0AHSAIEBAdcAgQEB1wCBAQHXANQB0IEBAdcAgQEB1wCBAQHXANQw0IEBAdcAgQEB1wCBAQHXANQw0IEBAdcAMBB9EHwQexB6EHkQeAHwERsRKBEbERoRJxEaERkRJhEZERgRJREYERcRJBEXERYRIxEWERURIhEVERQRIREUERMRIBETERIRHxESERERHhERERARHREQDxEcDw4RKA4NEScNDBEmDAsRJQsKESQKCREjCQgRIggHESEHBhEgBgURHwUEER4EEQTmAxEdAwIRHAIBESgBESfbPFYYgQEBVihZ9A1voZIwbd8gbpIwbY6H0Ns8bBxvDOIgbjGzMAoRJQoJESQJCBEjCAcRIgcGESEGBREgBQQRHwQDEScDAhEeAgERHQERHIEBAREpyFWw2zzJED4CER4CAREcARKpExQAFPhCVhQBxwXy4IQAqMhQDM8WyVAMzBnKABeBAQHPABWBAQHPABOBAQHPAAHIgQEBzwASgQEBzwASgQEBzwACyIEBAc8AE4EBAc8AFIEBAc8AAsiBAQHPAMlYzMlYzMkBzAGuIG6VMFn0WjCUQTP0FeL4QnBwgEAQI21tbds8DhEbDg0RGg0MERkMERgKERcKCREWCQgRFQgHERQHBhETBgUREgUEEREEAxEQA0/gEL0KCQgHBgVExBsThQHIggCg9/hCVhQBxwXy9FYTwgCOzXBwWoBAERbIVSCCEF3VhGFQBMsfEss/ASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFoEBAc8AyVYVBBEVARAkECNtbds8cBERkVvif4UCqjDTHwGCEOic1F+68uCB0gDTP/pAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgBgQEB1wDTP1VAbBWCAKD3+EJWGQHHBfL0BI6C2zyOgts84n8kJQIQMNs8bBzbPH8ZGgK4js4w0x8BghAdyJWMuvLggdM/0z/0BFUgbBNwgQEL+EJWFVlxQTP0Cm+hlAHXADCSW23iIG6zljEgbvLQgJEw4oIAoPcB8vQhwQGSXwPjDn/gghCUapi2uuMCMHBxcgDI0x8BghD/V+VXuvLggdM/0wfTP/pAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB0gCBAQHXAIEBAdcA1AHQgQEB1wDSANM/gQEB1wCBAQHXADAQXBBbEFoQWRBYEFcQVgHuggCg9/hCViABxwXy9IFKqiG2C4IQO5rKALny9IEBAVRdAFLAQTP0DG+hlAHXADCSW23ibpFwjhyBAQFUXQBSwEEz9AxvoZQB1wAwkltt4iBu8tCA4iGCEDuaygACoKsAoFioghA7msoAqQQRGxEnERsRGhEmERobAf4RGRElERkRGBEkERgRFxEjERcRFhEiERYRFREhERURFBEgERQRExEfERMREhEeERIREREdEREREBEcERAPEScPDhEmDg0RJQ0MESQMCxEjCwoRIgoJESEJCBEgCAcRHwcGER4GBREdBQQRHAQDEScDAhEmAgERJQERJFYhViVwHANc2zxfA4EBAWZWJAIRKQEhbpVbWfRaMJjIAc8AQTP0QuJWIsAKkX+UViLAC+LjD3YdHgH+ESeZViMBERy+8uZsmVYjAREcu/LmbOIRGRElERkRGBEkERgRFxEjERcRFhEiERYRFREhERURFBEgERQRExEfERMREhEeERIREREdEREREBEcERAPERsPDhEaDg0RGQ0MERgMCxEXCwoRFgoJERUJCBEUCAcREwcGERIGBRERBTQDHFYiwAOPBlYiwATjD+MNHyAhAfhXHFcmERkRJREZERgRJBEYERcRIxEXERYRIhEWERURIREVERQRIBEUERMRHxETERIRHhESERERHRERERARHBEQDxEbDw4RGg4NERkNDBEYDAsRFwsKERYKCREVCQgRFAgHERMHBhESBgUREQUEERAEED9O3Eq5CAdVQNs8SwH+ESeZViMBERy+8uZsmVYjAREcu/LmbOIRGRElERkRGBEkERgRFxEjERcRFhEiERYRFREhERURFBEgERQRExEfERMREhEeERIREREdEREREBEcERAPERsPDhEaDg0RGQ0MERgMCxEXCwoRFgoJERUJCBEUCAcREwcGERIGBRERBUoB7FccVxxXHFcfVyMRFhEiERYRFREhERURFBEgERQRExEfERMREhEeERIR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oFYSVimOFVYmVhOhUiCogjgFa8deLWMQAACpBI4VVhJWJ6FSIKiCOAVrx14tYxAAAKkE4iJWKKgBESYBESOgAREiAaiCOAoY8H1za5C+VaocqQQBESKgVieBb7sRJaC5AREjAfL0ViVAAf6BQ6ARH6hWIFYRqII4BWvHXi1jEAAAqQS+AREeAfL0ViWOE1cWVxZXFlcWVxYrViBWGyxRrKCOR1cRVxFXEVcRVxErViBWGyxRnKARFREcERURFBEZERQRExEYERMREhEXERIREREWEREREBEVERADERQDAhETAgEREgEJEREKQQHq4hA4R2AQWgQRHAQDERQDAhETAgEREgEREYEBCxERyFWQEFoQSRA4R2pQRcs/EoEBAc8AgQEBzwCBAQHPAAHIgQEBzwDJAczIVUAGUEXLPxKBAQHPAIEBAc8AgQEBzwAByIEBAc8AyQHMyQHMyQIREgIYVh4BQgL8IG6VMFn0WTCUQTP0E+KBAQEByAEB9ADJAhEoAlYcASBulTBZ9FowlEEz9BXigQEBJ1RHMFYUVEwwLAJWFQIBESkBERDIVXDbPMkCESQCGVYaASBulTBZ9FowlEEz9BXiVHupgQEBDMhVMFA0gQEBzwDKAIEBAc8AgQEBzwDJgUMB/gIRKgIZVhkBIG6VMFn0WjCUQTP0FeIRGxE3ERsRGhE2ERoRGRE1ERkRGBE0ERgRFxEzERcRFhEyERYRFRExERURFBEwERQRExEvERMREhEuERIREREtEREREBEsERAPESsPDhEqDg0RKQ0MCxEnCwoRJgoJESUJCBEpCAcRHwdEA/QGESIGBREfBQQRJwQDESADAhEeAgERHQERHHLbPIEk1SHCAPL0cHFWOXBWPMhVIIIQ7wHCtFAEyx8Syz+BAQHPAMs/yVYWVTAQJBAjbW3bPBEbETcRGxEaETYRGhEZETURGREYER0RGBEXETQRFxEWETMRFhEVETIRFXSFRQHWERQRIhEUERMRMRETERIRMBESERERKxERERARLxEQDxEhDw4RIw4NES0NDBEoDAsRIAsKER4KCREqCQgRHwgHEScHBhEcBlYqBgURJwUEESYEAxEqA1YhA1YgAwIRLwIBEScBETEREBERERBGAezIER8RHhEdERwRGxEaERkRGBEXERYRFREUERMREhERERBV4Ns8yciCWMAAAAAAAAAAAAAAAAEBy2fMyXD7AAERGAEBERcBAREWAQERFQEGERQGARETAQYREgYPEREPAREQARBfEH4QXRBLECoQeRA4EEdFVhQTRwH0ghDfiHgXAREgyx8BER4Byz8BERwByz8BERoBywcBERgByz8BERYg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYBERQByz8BERIBygABERABgQEBzwAOyIEBAc8AHYEBAc8AG4EBAc8ACciBAQHPABiBAQHPABZIAfyBAQHPAATIgQEBzwATgQEBzwCBAQHPAAHIgQEBzwATgQEBzwATgQEBzwAEyIEBAc8AFYEBAc8AFoEBAc8ABsiBAQHPABfKABeBAQHPABeBAQHPAAfIgQEBzwAYgQEBzwAYgQEBzwAIyIEBAc8AyVAIzMlQBMzJUAbMyVAFzMlJABhQBMzJWMzJWMzJAcwBJAQREAQQP07cSxkIBwUEQ6PbPEsC6FYigQEBJ1n0DW+hkjBt3yBukjBtjofQ2zxsHG8M4oFsliFus/L0IG7y0IBvLFsyNTU2ggCPblAF8vRWFoEBASxZ9A1voZIwbd8gbpIwbZfQ9AQBMW8B4iBus5cgbvLQgG8hkjBt4iCBAQsuWfQLb6GSMG3fqUwB/iBukjBtjkrQ0z+BAQHXAIEBAdcAgQEB1wDUAdCBAQHXADAVFEMwBdQB0NM/gQEB1wCBAQHXAIEBAdcA1AHQgQEB1wAwFRRDMDUQWlUDbBpvCuIgbrOXIG7y0IBvKpswcFRwACBwVHAAIOJWFJVUeYdTmJVUdDJTQ+KBFHYjwgBNAv7y9FYXI7yVVxchERfeViSBAQFWHFn0DW+hkjBt3yBukjBtjofQ2zxsGG8I4iBus5cgbvLQgG8omTBwVHAAVHAAIOJWIY4TUjmhKqiCOAVrx14tYxAAAKkEI44TUimhKqiCOAVrx14tYxAAAKkEIuJWNIEBAVYlWfQNb6GSMG3fmE4D3CBukjBtjhjQgQEB1wDSAIEBAdcAgQEB1wBVMGwUbwTiIG6zlyBu8tCAbySVMHBwUxHicFYlJcIAlFYoJb2RcOLjACDCAI4VNFJDqCNWJaigU0OgqQRQQ6BWJkNDkTDicCBWJ8IAklci4w1WE1YpT1BRAIgxJFYmtghWKLOOFFYlJKFSEKiCOAVrx14tYxAAAKkEjhQjViahUhCogjgFa8deLWMQAACpBOJRIaFQZqEgwACScDTeBQB4W1YlViWoViCogjgKGPB9c2uQvlWqHKkEIBEiqIIQO5rKAKkEViEhoQERQAGgIVZAoAEROgGgETkRPxEhBP6OFlYmVhKhVigBqII4BWvHXi1jEAAAqQSOFlYRViehVigBqII4BWvHXi1jEAAAqQTiVhRTGqAkoQERFgGgggDzySHC//L0ViohvJRXKlYp3lYqoREUVimhKREWVhWhIcIA4w9WKI4WVxlXGVcZVxlXGSxWHi0MViGhClYkoeMOUlNUVQH8ViyOFVYpVhWhUiCogjgFa8deLWMQAACpBI4VVhRWKqFSIKiCOAVrx14tYxAAAKkE4iJWK6gBESYBESmgAREoAaiCOAoY8H1za5C+VaocqQQBESagVhSBb7sRJaC5AREjAfL0VhKBQ6ARIqhWJFYTqII4BWvHXi1jEAAAqQS+VgCKMVcTVxRXFFcfVx9XIFcgUc2gAREjAQ2gcFRwACAFEScFERERIxERAhEiAhESESAREhETER8REwQREwQREgMREQMBERAEAKJXFFcUVxRXFFcULFYeLQtWIaEJViShERYRGxEWERURGhEVERQRGREUERMRGBETERIRFxESERERFhERAhEVAgERFAELERMLERAREhEQELwJCwoB/lYbjhVWI1YboVJAqII4BWvHXi1jEAAAqQSOFVYaViShUkCogjgFa8deLWMQAACpBOIBETUBERqhVhmgU222CVB+obYLVjRWJKiCOAVrx14tYxAAAKkEKlYlqII4BWvHXi1jEAAAqQRctgkBERChARExAaBWMC+htgtYoQERMQFXAAwBESEB8vQB7qAIEREIR2AQXAQREAQDERYDAhEVAgERFAERE4EBCxETyFWQEFoQSRA4R2pQRcs/EoEBAc8AgQEBzwCBAQHPAAHIgQEBzwDJAczIVUAGUEXLPxKBAQHPAIEBAc8AgQEBzwAByIEBAc8AyQHMyQHMyQIRFAIaViABWALYIG6VMFn0WTCUQTP0E+KBAQEByAEB9ADJAhEqAlYeASBulTBZ9FowlEEz9BXigQEBVhICVioCVixUSzArAlYQAgERKwEJyFVw2zzJAhEmAgERJgFWHAEgbpUwWfRaMJRBM/QV4lR57YEBAREQgVkB+shVMFA0gQEBzwDKAIEBAc8AgQEBzwDJAhEsAh1WGwEgbpUwWfRaMJRBM/QV4hEbETkRGxEaETgRGhEZETcRGREYETYRGBEXETURFxEWETQRFhEVETMRFREUETIRFBETETERExESETAREhERES8REREQES4REA8RLQ8OESwOWgP0DRErDQwLESkLChEoCgkRJwkQaAcRIQcGESQGBREpBQQRKQQDESIDAhEgAgERHwERHnLbPIEk1SHCAPL0cHFWH1Y5ViLIVSCCEO8BwrRQBMsfEss/gQEBzwDLP8lWFlUwECQQI21t2zwRGxE5ERsRGhEtERoRGRE4ERl0hVsB+hEYETcRGBEXETYRFxEWETERFhEVER8RFREUETQRFBETETARExESETMREhERESoREREQES4REA8RJw8OESMODREgDQwRNQwLESwLChElCgkRJgkIESkIBxEiBwYRIQZWJgYFESUFBBEsBAMRHwNWLQNWJwMCETICARErARE1XAL8EREREhERyBEhESARHxEeER0RHBEbERoRGREYERcRFhEVERQRExESEREREFXg2zzJyIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsADxEaDw8RGQ8PERgPDxEXDxETERYREwERFQERExEUERMREhETERIBERIBDBERDBCfEF4QLRCcbV0AHBBbXicQWBBHEDYQNEAzAupWH4EBASVZ9A1voZIwbd8gbpIwbY6H0Ns8bBxvDOKBbJYhbrPy9CBu8tCAbyxbMjQ0NDWCAI9uUATy9FYSgQEBKVn0DW+hkjBt3yBukjBtl9D0BAExbwHiIG6zlyBu8tCAbyGSMG3iIIEBCytZ9AtvoZIwbd+pXwH+IG6SMG2OStDTP4EBAdcAgQEB1wCBAQHXANQB0IEBAdcAMBUUQzAF1AHQ0z+BAQHXAIEBAdcAgQEB1wDUAdCBAQHXADAVFEMwNRBaVQNsGm8K4iBus5cgbvLQgG8qmzBwVHAAIHBUcAAg4lYRlVR5h1OYlVR0MlND4oEUdiPCAGAD/vL0XVYigQEBVhtZ9A1voZIwbd8gbpIwbY6H0Ns8bBhvCOIgbrOXIG7y0IBvKJkwcFRwAFRwACDiViCOE1I7oSyogjgFa8deLWMQAACpBCOOE1IroSyogjgFa8deLWMQAACpBCLiViGOFCxWIaFS4KiCOAVrx14tYxAAAKkE4w2YYWIAKFYgLaFS4KiCOAVrx14tYxAAAKkEAfxS4BEiqFYeVh6gqII4ChjwfXNrkL5VqhypBFYfoIFKM1YQJKABESOgvgERIQHy9FHdoFYdoYI4BWvHXi1jEAAAqFYglAujLKiTUbyo4hugVhsBERugVh+WghfEZTYAloIQO5rKAOKgG6iCEDuaygCpBAERGQGpBFYugQEBViBjAv5Z9A1voZIwbd8gbpIwbY4Y0IEBAdcA0gCBAQHXAIEBAdcAVTBsFG8E4iBus5cgbvLQgG8klTBwcFMR4nBTpMIAlFYjJb2RcOLjACDCAI4UNFJDqFM1qKBTQ6CpBFBDoFYhQ0ORMOJTpagBER+ogjgKGPB9c2uQvlWqHKkEIBEdZGUAgjFTSrYIViOzjhNTY6FSEKiCOAVrx14tYxAAAKkEjhNTNqFSEKiCOAVrx14tYxAAAKkE4lEhoVBmoSDAAJJwNN4FAf6oghA7msoAqQRWHCGhARE5AaBWHlY5oAERMwGgK1YdoVYQoKNwVHAAIFYojhZXHFccVxxXHFccVhpWGlYaUd+hUb6hjjlXF1cXVxdXF1cXVhVWFVYVUc+hUa6hERgRHREYERcRHBEXERYRGxEWAhEYAgERFwEMERYMEM0KDAviZgH8J44TU5ahUpCogjgFa8deLWMQAACpBI4TU2mhUpCogjgFa8deLWMQAACpBOIBETQBBqEloFYRVhG2CQEREgEREaG2C1YzKqiCOAVrx14tYxAAAKkEU7qogjgFa8deLWMQAACpBFy2CQERE6EBETABoFYvVhKhtgtYoQERMAGgZwHsCBEeCEdgEF0EERoEAxEZAwIRGAIBERcBERaBAQsRFshVkBBaEEkQOEdqUEXLPxKBAQHPAIEBAc8AgQEBzwAByIEBAc8AyQHMyFVABlBFyz8SgQEBzwCBAQHPAIEBAc8AAciBAQHPAMkBzMkBzMkCERcCHVYgAWgC1CBulTBZ9FkwlEEz9BPigQEBAcgBAfQAyQIRKQJWHgEgbpUwWfRaMJRBM/QV4oEBAVYoVEMwVisCVhgCVhtUTTABESoBDMhVcNs8yQIRJQIVVhwBIG6VMFn0WjCUQTP0FeJWEVPLgQEBESeBaQH4yFUwUDSBAQHPAMoAgQEBzwCBAQHPAMkCESsCAREkAVYbASBulTBZ9FowlEEz9BXiERsROBEbERoRNxEaERkRNhEZERgRNREYERcRNBEXERYRMxEWERURMhEVERQRMREUERMRMBETERIRLxESERERKBERERARLREQDxEsD2oD+A4RKw4NESoNDAsKEScKCREmCRA4BxEgBwYRIwYFESIFEDQDESEDAhEfAgERHgERHXLbPIEk1SHCAPL0cHFWO1Y2ViHIVSCCEO8BwrRQBMsfEss/gQEBzwDLP8lWFlUwECQQI21t2zwRGxE4ERtzERsRGhEkERoRGRE4ERl0hWsB+hEYETcRGBEXETYRFxEWER8RFhEVES0RFREUESoRFBETESwRExESESEREhERESsREREQER4REA8RMA8OESMODRE1DQwRMwwLESULChEgCgkRJgkIESkIBxExBwYRIgZWIAYFES8FBBEpBAMRKANWNANWJwMCETICARE1ARE3bAL8EREREhERyBEhESARHxEeER0RHBEbERoRGREYERcRFhEVERQRExESEREREFXg2zzJyIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsAERYRGhEWBhEZBhEWERgRFgYRFwYBERUBDxEUDwwREwwOERIOAxERAw0REA0PEF0QbBsQeklwbW4B9oIQpKPCfwERIssfAREgAcs/AREeAcs/AREcAcsHAREaAcs/AREYINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WAREWAcs/AREUAcoAARESAYEBAc8AERDIgQEBzwAfgQEBzwAdgQEBzwALyIEBAc8AGoEBAc8AGG8AChBFEDQSAf6BAQHPAAbIgQEBzwAVgQEBzwATgQEBzwAByIEBAc8AEoEBAc8AEoEBAc8AA8iBAQHPABSBAQHPABWBAQHPAAXIgQEBzwAXgQEBzwAXgQEBzwAXygAHyIEBAc8AGIEBAc8AGIEBAc8ACMiBAQHPABmBAQHPABmBAQHPAMlQBszJcAAuWMzJUAPMyVAFzMlYzMlQA8zJWMzJAcwD5nBtk1MTuY6sIoEBASNZ9A1voZIwbd8gbpIwbZ3Q0z+BAQHXAFlsEm8C4iBus5Ew4w0BpAHoNFsByFmCEJqe9QZQA8sfgQEBzwD0AMnIgljAAAAAAAAAAAAAAAABActnzMlw+wBy2zz4Qn9YchAjbW1t2zxzdIUBTtMfAYIQlGqYtrry4IHTPwExyAGCEK/5D1dYyx/LP8n4QgFwbds8f4QB9CAgbvLQ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","abi":"{\"name\":\"Pool\",\"types\":[{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounced\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"Deploy\",\"header\":2490013878,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"DeployOk\",\"header\":2952335191,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"FactoryDeploy\",\"header\":1829761339,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"cashback\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwner\",\"header\":2174598809,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwnerOk\",\"header\":846932810,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"UpdateConfig\",\"header\":1251946368,\"fields\":[{\"name\":\"executorLength\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executors\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"ExecutorParam\",\"valueFormat\":\"ref\"}},{\"name\":\"claimExecutor\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"lpGasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"perpGasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"minTonsForStorage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"lpLockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpAddBonusFactor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpRemoveBonusFactor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpLiquidityFactor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"orderBook\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"UpdateTokenConfig\",\"header\":3408848546,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"name\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"enable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"minValue\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxValue\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxLeverage\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidationFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maintenanceRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpTradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"interestRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxFundingRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityProportion\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"ClaimProtocolFee\",\"header\":4273121126,\"fields\":[{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"feeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"SendProtocolFee\",\"header\":1574274145,\"fields\":[{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"feeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"UpdateLPPosition\",\"header\":3902592095,\"fields\":[{\"name\":\"isIncrease\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"UpdateLPPositionSuccess\",\"header\":485543809,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"UpdatePerpPosition\",\"header\":4283950423,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerAbove\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"premiumRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"UpdatePerpPositionSuccess\",\"header\":4009870004,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"UpdatePrice\",\"header\":499684748,\"fields\":[{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"pricesLength\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"prices\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UpdatePriceParam\",\"valueFormat\":\"ref\"}}]},{\"name\":\"LPPositionIncreasedEvent\",\"header\":866046695,\"fields\":[{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"unlockTimeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedFundingFeeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedFundingFeeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpFundAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpLiquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LPPositionDecreasedEvent\",\"header\":4192904720,\"fields\":[{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFeeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpFundAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpLiquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PerpPositionIncreasedEvent\",\"header\":3750262807,\"fields\":[{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"marginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradePrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLongMarginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalShortMarginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLongSizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalShortSizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLongFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalShortFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLPFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpNetSizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpIsLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"lpEntryPriceAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpFundAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpLiquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpTradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpRealizedPnl\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpReceivedFundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PerpPositionDecreasedEvent\",\"header\":2762195583,\"fields\":[{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"marginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradePrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedPnLDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLongMarginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalShortMarginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLongSizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalShortSizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLongFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalShortFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLPFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpNetSizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpIsLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"lpEntryPriceAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpFundAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpLiquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpTradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpRealizedPnl\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpReceivedFundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"UpdateFundingFeeEvent\",\"header\":2594108678,\"fields\":[{\"name\":\"length\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"datas\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UpdateFundingRateEventData\",\"valueFormat\":\"ref\"}}]},{\"name\":\"ConfigData\",\"header\":null,\"fields\":[{\"name\":\"isExecutor\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":true}},{\"name\":\"lpGasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"perpGasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"minTonsForStorage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"lpAddBonusFactor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpRemoveBonusFactor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpLiquidityFactor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"orderBook\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"claimExecutor\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"protocolTradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"ExecutorParam\",\"header\":null,\"fields\":[{\"name\":\"executor\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"enable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"TokenConfig\",\"header\":null,\"fields\":[{\"name\":\"name\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"enable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"minValue\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxValue\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxLeverage\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidationFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maintenanceRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityProportion\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpTradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"interestRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxFundingRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LPPosition\",\"header\":null,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"liquidity\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonus\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedFundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"openTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"unlockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LPPositionData\",\"header\":null,\"fields\":[{\"name\":\"lpPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"LPPosition\",\"optional\":true}},{\"name\":\"globalLPFund\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLPLiquidity\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLPFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLPUnrealizedPnl\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"AccountPerpPosition\",\"header\":null,\"fields\":[{\"name\":\"positions\",\"type\":{\"kind\":\"dict\",\"key\":\"address\",\"value\":\"DirectionPerpPosition\",\"valueFormat\":\"ref\"}}]},{\"name\":\"DirectionPerpPosition\",\"header\":null,\"fields\":[{\"name\":\"longPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"PerpPosition\",\"optional\":false}},{\"name\":\"shortPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"PerpPosition\",\"optional\":false}}]},{\"name\":\"PerpPosition\",\"header\":null,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"margin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"size\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalLPPosition\",\"header\":null,\"fields\":[{\"name\":\"netSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"entryPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"unrealizedPnl\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PerpPositionData\",\"header\":null,\"fields\":[{\"name\":\"globalPerpNetValue\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalPerpSingleValue\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"perpPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"DirectionPerpPosition\",\"optional\":true}},{\"name\":\"globalLPPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"GlobalLPPosition\",\"optional\":true}},{\"name\":\"globalPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"GlobalPosition\",\"optional\":true}},{\"name\":\"globalFundingRateSample\",\"type\":{\"kind\":\"simple\",\"type\":\"GlobalFundingRateSample\",\"optional\":true}},{\"name\":\"prevPremiumRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}}]},{\"name\":\"UpdatePriceParam\",\"header\":null,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalPosition\",\"header\":null,\"fields\":[{\"name\":\"longMargin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortMargin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"longSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"longFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"longValue\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortValue\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalFundingRateSample\",\"header\":null,\"fields\":[{\"name\":\"lastAdjustFundingRateTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sampleCount\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"cumulativePremiumRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"UpdateFundingRateResult\",\"header\":null,\"fields\":[{\"name\":\"lpReceivedFundingFeeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLPFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"longFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"UpdateFundingRateEventData\",\"header\":null,\"fields\":[{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpReceivedFundingFeeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLPFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"longFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateConfig\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateTokenConfig\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ClaimProtocolFee\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"empty\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateLPPosition\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdatePerpPosition\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdatePrice\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Deploy\"}}],\"getters\":[{\"name\":\"configData\",\"arguments\":[{\"name\":\"executor\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"ConfigData\",\"optional\":false}},{\"name\":\"tokenConfig\",\"arguments\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"TokenConfig\",\"optional\":true}},{\"name\":\"priceData\",\"arguments\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"lpPosition\",\"arguments\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"LPPositionData\",\"optional\":false}},{\"name\":\"perpPosition\",\"arguments\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"PerpPositionData\",\"optional\":false}},{\"name\":\"owner\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}],\"errors\":{\"2\":{\"message\":\"Stack undeflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"13\":{\"message\":\"Out of gas error\"},\"32\":{\"message\":\"Method ID not found\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"37\":{\"message\":\"Not enough TON\"},\"38\":{\"message\":\"Not enough extra-currencies\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid address\"},\"137\":{\"message\":\"Masterchain support is not enabled for this contract\"},\"1456\":{\"message\":\"price must not zero\"},\"1644\":{\"message\":\"not reach trigger price\"},\"5238\":{\"message\":\"position not exist\"},\"9429\":{\"message\":\"send gas not enough\"},\"17312\":{\"message\":\"leverage too high\"},\"18995\":{\"message\":\"margin rate too low\"},\"19114\":{\"message\":\"invalid premium rate\"},\"23245\":{\"message\":\"greater than max value\"},\"23314\":{\"message\":\"insufficient liquidity for single value\"},\"27798\":{\"message\":\"invalid token\"},\"28603\":{\"message\":\"margin rate too high\"},\"31332\":{\"message\":\"less than min value\"},\"31425\":{\"message\":\"not reach unlock time\"},\"36718\":{\"message\":\"disabled token\"},\"37153\":{\"message\":\"must close all perp before remove last liquidity\"},\"39251\":{\"message\":\"insufficient global LP\"},\"41207\":{\"message\":\"invalid sender\"},\"55754\":{\"message\":\"insufficient liquidity for net value\"},\"59588\":{\"message\":\"token config not exist\"},\"62409\":{\"message\":\"insufficient margin\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\",\"org.ton.chain.workchain.v0\",\"org.ton.ownable\"]}","init":{"kind":"direct","args":[{"name":"deployId","type":{"kind":"simple","type":"int","optional":false,"format":257}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":"te6cckECrAEAOXUAAQHAAQEFoOi/AgEU/wD0pBP0vPLICwMCAWIgBAIBIBcFAgEgEAYCASAJBwLhtQObZ4IjYiOCI2IjQiNiI0IjIiNCIyIjAiMiIwIi4iMCIuIiwiLiIsIioiLCIqIigiKiIoIiYiKCImIiQiJiIkIiIiJCIiIiAiIiIgHiIgHqodtniuIL4e2YJA3SRg2zJA3eWhAN5Y3hnEQN0kYNu9CnCAE8gQEBVhoCWfQNb6GSMG3fIG6SMG2Oh9DbPGwcbwzinAIBIA8KAgEgDAsAdazdxoatLgzOZ0Xl6i2qaGnHDOjJqk5Nym2t7kiuKQbtr03ppoxu6i3NLi7JjOyJjUopjs8IL0hNabBAA/mufZA3SRg2xw4Qa6TAgIXdeXBEEGuFhRBAgn/deWhEwYTdeXBEcW2eCI2IjgiNiI0IjYiNCIyIjQiMiIwIjIiMCIuIjAiLiIsIi4iLCIqIiwiKiIoIioiKCImIigiJiIkIiYiJCIiIiQiIiIgIiIiIB4iIB6qHbZ42erZqwKcODQAkBCBukjBtmSBu8tCAbydvB+IEAWRtIW6zjqUwgQELASBu8tCAVhBZWfQLb6GSMG3fIG6SMG2Oh9DbPGwXbwfikTHiVHy6LJUAEbCvu1E0NIAAYAIBIBIRALm3ejBOC52Hq6WVz2PQnYc6yVCjbNBOE7rGpaVsj5ZkWnXlv74sRzBOBAq4A3AM7HKZywdVyOS2WHBOE7Lpy1Zp2W5nQdLNsozdFJBOCBnOrTzivzpKFgOsLcTI9lAD+bdRBA3SRg2xw4Qa6TAgIXdeXBEEGuFhRBAgn/deWhEwYTdeXBEcW2eCI2IjoiNiI0IjgiNCIyIjYiMiIwIjQiMCIuIjIiLiIsIjAiLCIqIi4iKiIoIiwiKCImIioiJiIkIigiJCIiIiYiIiIgIiQiIB4iIh4cIiAcqju2eQpxQTAKZs52znBCBukjBtjhEgbvLQgG8qVURvBVVAbwVvAuIDIG6SMG2ZIG7y0IBvJG8E4gIgbpIwbZkgbvLQgG8obwjiASBukjBtmSBu8tCAbyNvA+JVAwPybSFus46kKoEBASRZ9A1voZIwbd8gbpIwbZfQ9AQBMW8B4iBus5IwMeMNkTHiLoEBASNZ9A1voZIwbd8gbpIwbY4Y0IEBAdcA0gCBAQHXAIEBAdcAVTBsFG8E4iiBAQEkWfQNb6GSMG3fIG6SMG2Oh9DbPGwYbwjiJhaBFQCSgQEBJVn0DW+hkjBt3yBukjBtjhbQgQEB1wCBAQHXAIEBAdcAVSBsE28D4oEBAVMGA1B3QTP0DG+hlAHXADCSW23iKVFZBQRDEwDaMSBu8tCAbyGBAQsCIG7y0IASWfQLb6GSMG3fIG6SMG2OStDTP4EBAdcAgQEB1wCBAQHXANQB0IEBAdcAMBUUQzAF1AHQ0z+BAQHXAIEBAdcAgQEB1wDUAdCBAQHXADAVFEMwNRBaVQNsGm8K4gIBIB4YAgHHGxkCGKkd2zzbPFcQXw9swacaAARWEwP4quEgbpIwbY4cINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiOLbPBEbERwRGxEaERsRGhEZERoRGREYERkRGBEXERgRFxEWERcRFhEVERYRFREUERURFBETERQRExESERMREhERERIREREQEREREA8REA9VDts8bKpsqqcdHAAEbIoAcG0hbrOOHTCBAQsBIG7y0IBWEVlxQTP0Cm+hlAHXADCSW23ikTHiVhxWHFYcVhpWGlYaVhlWGFYaArW5f42zwRGxEcERsRGhEbERoRGREaERkRGBEZERgRFxEYERcRFhEXERYRFREWERURFBEVERQRExEUERMREhETERIRERESEREREBERERAPERAPVQ7bPFcQXw9swYpx8ALIEBAVMDUDNBM/QMb6GUAdcAMJJbbeIC8NAB0NMDAXGwowH6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIVFBTA28E+GEC+GLbPBEbER0RGxEaERwRGhEZERsRGREYERoRGBEXERkRFxEWERgRFhEVERcRFREUERYRFBETERURExESERQREhERERMREachAn4REBESERAPEREPDhEQDlUd2zzy4ILI+EMBzH8BygARHBEbERoRGREYERcRFhEVERQRExESEREREFXg2zzJ7VQlIgHMAREbAREcgQEBzwABERkBgQEBzwABERcBgQEBzwABERUB9AARE8iBAQHPAAEREgGBAQHPAAEREAGBAQHPAA7IgQEBzwBQDSDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFlALIwH+INdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WCciBAQHPAFAIINdJgQEL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FBETETARExESES8REhERESgREREQES0REA8RLA9AA/gOESsODREqDQwLChEnCgkRJgkQOAcRIAcGESMGBREiBRA0AxEhAwIRHwIBER4BER1y2zyBJNUhwgDy9HBxVjtWNlYhyFUgghDvAcK0UATLHxLLP4EBAc8Ayz/JVhZVMBAkECNtbds8ERsROBEbcxEbERoRJBEaERkROBEZkqFBAfoRGBE3ERgRFxE2ERcRFhEfERYRFREtERURFBEqERQRExEsERMREhEhERIRERErEREREBEeERAPETAPDhEjDg0RNQ0METMMCxElCwoRIAoJESYJCBEpCAcRMQcGESIGViAGBREvBQQRKQQDESgDVjQDVicDAhEyAgERNQERN0IC/BERERIREcgRIREgER8RHhEdERwRGxEaERkRGBEXERYRFREUERMREhERERBV4Ns8yciCWMAAAAAAAAAAAAAAAAEBy2fMyXD7ABEWERoRFgYRGQYRFhEYERYGERcGAREVAQ8RFA8MERMMDhESDgMREQMNERANDxBdEGwbEHpJcFZDAAoQRRA0EgCCMVNKtghWI7OOE1NjoVIQqII4BWvHXi1jEAAAqQSOE1M2oVIQqII4BWvHXi1jEAAAqQTiUSGhUGahIMAAknA03gUAKFYgLaFS4KiCOAVrx14tYxAAAKkEAf4RJ5lWIwERHL7y5myZViMBERy78uZs4hEZESURGREYESQRGBEXESMRFxEWESIRFhEVESERFREUESARFBETER8RExESER4REhERER0REREQERwREA8RGw8OERoODREZDQwRGAwLERcLChEWCgkRFQkIERQIBxETBwYREgYFEREFRwEkBBEQBBA/TtxLGQgHBQRDo9s8SQH4VxxXJhEZESURGREYESQRGBEXESMRFxEWESIRFhEVESERFREUESARFBETER8RExESER4REhERER0REREQERwREA8RGw8OERoODREZDQwRGAwLERcLChEWCgkRFQkIERQIBxETBwYREgYFEREFBBEQBBA/TtxKuQgHVUDbPEkC6FYigQEBJ1n0DW+hkjBt3yBukjBtjofQ2zxsHG8M4oFsliFus/L0IG7y0IBvLFsyNTU2ggCPblAF8vRWFoEBASxZ9A1voZIwbd8gbpIwbZfQ9AQBMW8B4iBus5cgbvLQgG8hkjBt4iCBAQsuWfQLb6GSMG3fnEoB/iBukjBtjkrQ0z+BAQHXAIEBAdcAgQEB1wDUAdCBAQHXADAVFEMwBdQB0NM/gQEB1wCBAQHXAIEBAdcA1AHQgQEB1wAwFRRDMDUQWlUDbBpvCuIgbrOXIG7y0IBvKpswcFRwACBwVHAAIOJWFJVUeYdTmJVUdDJTQ+KBFHYjwgBLAv7y9FYXI7yVVxchERfeViSBAQFWHFn0DW+hkjBt3yBukjBtjofQ2zxsGG8I4iBus5cgbvLQgG8omTBwVHAAVHAAIOJWIY4TUjmhKqiCOAVrx14tYxAAAKkEI44TUimhKqiCOAVrx14tYxAAAKkEIuJWNIEBAVYlWfQNb6GSMG3fgUwD3CBukjBtjhjQgQEB1wDSAIEBAdcAgQEB1wBVMGwUbwTiIG6zlyBu8tCAbySVMHBwUxHicFYlJcIAlFYoJb2RcOLjACDCAI4VNFJDqCNWJaigU0OgqQRQQ6BWJkNDkTDicCBWJ8IAklci4w1WE1YpXl1NBP6OFlYmVhKhVigBqII4BWvHXi1jEAAAqQSOFlYRViehVigBqII4BWvHXi1jEAAAqQTiVhRTGqAkoQERFgGgggDzySHC//L0ViohvJRXKlYp3lYqoREUVimhKREWVhWhIcIA4w9WKI4WVxlXGVcZVxlXGSxWHi0MViGhClYkoeMOW1pZTgH+VhuOFVYjVhuhUkCogjgFa8deLWMQAACpBI4VVhpWJKFSQKiCOAVrx14tYxAAAKkE4gERNQERGqFWGaBTbbYJUH6htgtWNFYkqII4BWvHXi1jEAAAqQQqViWogjgFa8deLWMQAACpBFy2CQEREKEBETEBoFYwL6G2C1ihARExAU8B7qAIEREIR2AQXAQREAQDERYDAhEVAgERFAERE4EBCxETyFWQEFoQSRA4R2pQRcs/EoEBAc8AgQEBzwCBAQHPAAHIgQEBzwDJAczIVUAGUEXLPxKBAQHPAIEBAc8AgQEBzwAByIEBAc8AyQHMyQHMyQIRFAIaViABUALYIG6VMFn0WTCUQTP0E+KBAQEByAEB9ADJAhEqAlYeASBulTBZ9FowlEEz9BXigQEBVhICVioCVixUSzArAlYQAgERKwEJyFVw2zzJAhEmAgERJgFWHAEgbpUwWfRaMJRBM/QV4lR57YEBAREQf1EB+shVMFA0gQEBzwDKAIEBAc8AgQEBzwDJAhEsAh1WGwEgbpUwWfRaMJRBM/QV4hEbETkRGxEaETgRGhEZETcRGREYETYRGBEXETURFxEWETQRFhEVETMRFREUETIRFBETETERExESETAREhERES8REREQES4REA8RLQ8OESwOUgP0DRErDQwLESkLChEoCgkRJwkQaAcRIQcGESQGBREpBQQRKQQDESIDAhEgAgERHwERHnLbPIEk1SHCAPL0cHFWH1Y5ViLIVSCCEO8BwrRQBMsfEss/gQEBzwDLP8lWFlUwECQQI21t2zwRGxE5ERsRGhEtERoRGRE4ERmSoVMB+hEYETcRGBEXETYRFxEWETERFhEVER8RFREUETQRFBETETARExESETMREhERESoREREQES4REA8RJw8OESMODREgDQwRNQwLESwLChElCgkRJgkIESkIBxEiBwYRIQZWJgYFESUFBBEsBAMRHwNWLQNWJwMCETICARErARE1VAL8EREREhERyBEhESARHxEeER0RHBEbERoRGREYERcRFhEVERQRExESEREREFXg2zzJyIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsADxEaDw8RGQ8PERgPDxEXDxETERYREwERFQERExEUERMREhETERIBERIBDBERDBCfEF4QLRCcVlUAHBBbXicQWBBHEDYQNEAzAfaCEKSjwn8BESLLHwERIAHLPwERHgHLPwERHAHLBwERGgHLPwERGCDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFgERFgHLPwERFAHKAAEREgGBAQHPABEQyIEBAc8AH4EBAc8AHYEBAc8AC8iBAQHPABqBAQHPABhXAf6BAQHPAAbIgQEBzwAVgQEBzwATgQEBzwAByIEBAc8AEoEBAc8AEoEBAc8AA8iBAQHPABSBAQHPABWBAQHPAAXIgQEBzwAXgQEBzwAXgQEBzwAXygAHyIEBAc8AGIEBAc8AGIEBAc8ACMiBAQHPABmBAQHPABmBAQHPAMlQBszJWAAuWMzJUAPMyVAFzMlYzMlQA8zJWMzJAcwAolcUVxRXFFcUVxQsVh4tC1YhoQlWJKERFhEbERYRFREaERURFBEZERQRExEYERMREhEXERIREREWERECERUCAREUAQsREwsREBESERAQvAkLCgCKMVcTVxRXFFcfVx9XIFcgUc2gAREj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ERcRFhEyERYRFRExERURFBEwERQRExEvERMREhEuERIREREtEREREBEsERAPESsPDhEqDg0RKQ0MCxEnCwoRJgoJESUJCBEpCAcRHwdsA/QGESIGBREfBQQRJwQDESADAhEeAgERHQERHHLbPIEk1SHCAPL0cHFWOXBWPMhVIIIQ7wHCtFAEyx8Syz+BAQHPAMs/yVYWVTAQJBAjbW3bPBEbETcRGxEaETYRGhEZETURGREYER0RGBEXETQRFxEWETMRFhEVETIRFZKhbQHWERQRIhEUERMRMRETERIRMBESERERKxERERARLxEQDxEhDw4RIw4NES0NDBEoDAsRIAsKER4KCREqCQgRHwgHEScHBhEcBlYqBgURJwUEESYEAxEqA1YhA1YgAwIRLwIBEScBETEREBERERBuAezIER8RHhEdERwRGxEaERkRGBEXERYRFREUERMREhERERBV4Ns8yciCWMAAAAAAAAAAAAAAAAEBy2fMyXD7AAERGAEBERcBAREWAQERFQEGERQGARETAQYREgYPEREPAREQARBfEH4QXRBLECoQeRA4EEdFVhQTbwH0ghDfiHgXAREgyx8BER4Byz8BERwByz8BERoBywcBERgByz8BERYg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYBERQByz8BERIBygABERABgQEBzwAOyIEBAc8AHYEBAc8AG4EBAc8ACciBAQHPABiBAQHPABZwAfyBAQHPAATIgQEBzwATgQEBzwCBAQHPAAHIgQEBzwATgQEBzwATgQEBzwAEyIEBAc8AFYEBAc8AFoEBAc8ABsiBAQHPABfKABeBAQHPABeBAQHPAAfIgQEBzwAYgQEBzwAYgQEBzwAIyIEBAc8AyVAIzMlQBMzJUAbMyVAFzMlxABhQBMzJWMzJWMzJAcwAKFKPoVYQqII4BWvHXi1jEAAAqQQoAChSn6FWEKiCOAVrx14tYxAAAKkEKQAoIlYkoVJQqII4BWvHXi1jEAAAqQQAKFYjI6FSUKiCOAVrx14tYxAAAKkEBPYhwgDy5bCBAQFUFQBUZEAhbpVbWfRaMJjIAc8AQTP0QuIogQEBJFn0DW+hkjBt3yBukjBtjofQ2zxsGG8I4iBus5cgbvLQgG8omTBwVHAAVHAAIOIM4wBWIoEBAStZ9A1voZIwbd8gbpIw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"}},"sources":{"contracts/pool/messages.tact":"aW1wb3J0ICIuL3N0cnVjdHMiOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBhZG1pbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwptZXNzYWdlIFVwZGF0ZUNvbmZpZyB7CiAgICBleGVjdXRvckxlbmd0aDogSW50OwogICAgZXhlY3V0b3JzOiBtYXA8SW50LCBFeGVjdXRvclBhcmFtPjsKICAgIGNsYWltRXhlY3V0b3I6IEFkZHJlc3M7CiAgICBscEdhc0NvbnN1bXB0aW9uOiBJbnQgYXMgY29pbnM7CiAgICBwZXJwR2FzQ29uc3VtcHRpb246IEludCBhcyBjb2luczsKICAgIG1pblRvbnNGb3JTdG9yYWdlOiBJbnQgYXMgY29pbnM7CiAgICBscExvY2tUaW1lOiBJbnQ7CiAgICBscEFkZEJvbnVzRmFjdG9yOiBJbnQ7CiAgICBscFJlbW92ZUJvbnVzRmFjdG9yOiBJbnQ7CiAgICBscExpcXVpZGl0eUZhY3RvcjogSW50OwogICAgb3JkZXJCb29rOiBBZGRyZXNzOwp9CgptZXNzYWdlIFVwZGF0ZVRva2VuQ29uZmlnIHsKICAgIHRva2VuSWQ6IEludCBhcyB1aW50NjQ7CiAgICBuYW1lOiBTdHJpbmc7CiAgICBlbmFibGU6IEJvb2w7CiAgICAvLyA9PT09PT09PT09PT09PT09PT09PSBUcmFkZXIgUG9zaXRpb24gQ29uZmlnID09PT09PT09PT09PT09PT09PT09CiAgICBtaW5WYWx1ZTogSW50OwogICAgbWF4VmFsdWU6IEludDsKICAgIG1heExldmVyYWdlOiBJbnQ7CiAgICBsaXF1aWRhdGlvbkZlZTogSW50OwogICAgbWFpbnRlbmFuY2VSYXRlOiBJbnQ7CiAgICAvLyA9PT09PT09PT09PT09PT09PT09PSBUcmFkaW5nIEZlZSBDb25maWcgPT09PT09PT09PT09PT09PT09PT0KICAgIHRyYWRpbmdGZWVSYXRlOiBJbnQ7CiAgICBscFRyYWRpbmdGZWVSYXRlOiBJbnQ7CiAgICAvLyA9PT09PT09PT09PT09PT09PT09PSBGdW5kaW5nIEZlZSBDb25maWcgPT09PT09PT09PT09PT09PT09PT0KICAgIGludGVyZXN0UmF0ZTogSW50OwogICAgbWF4RnVuZGluZ1JhdGU6IEludDsKICAgIGxpcXVpZGl0eVByb3BvcnRpb246IEludDsKfQoKbWVzc2FnZSBDbGFpbVByb3RvY29sRmVlIHsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0OwogICAgZmVlUmVjZWl2ZXI6IEFkZHJlc3M7Cn0KCm1lc3NhZ2UoMHg1ZGQ1ODQ2MSkgU2VuZFByb3RvY29sRmVlIHsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0OwogICAgZmVlUmVjZWl2ZXI6IEFkZHJlc3M7CiAgICBhbW91bnQ6IEludDsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBMUCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwptZXNzYWdlKDB4ZTg5Y2Q0NWYpIFVwZGF0ZUxQUG9zaXRpb24gewogICAgaXNJbmNyZWFzZTogQm9vbDsKICAgIG9yZGVySWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgbGlxdWlkaXR5RGVsdGE6IEludDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0Owp9CgptZXNzYWdlKDB4MWNmMGNmODEpIFVwZGF0ZUxQUG9zaXRpb25TdWNjZXNzIHsKICAgIG9yZGVySWQ6IEludCBhcyB1aW50NjQ7CiAgICByZWNlaXZlOiBJbnQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBQZXJwID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCm1lc3NhZ2UoMHhmZjU3ZTU1NykgVXBkYXRlUGVycFBvc2l0aW9uIHsKICAgIG9yZGVySWQ6IEludCBhcyB1aW50NjQ7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIHRva2VuSWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgaXNMb25nOiBCb29sOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIHNpemVEZWx0YTogSW50OwogICAgdHJpZ2dlclByaWNlOiBJbnQ7CiAgICB0cmlnZ2VyQWJvdmU6IEJvb2w7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKICAgIHByaWNlOiBJbnQ7CiAgICBwcmVtaXVtUmF0ZTogSW50Owp9CgptZXNzYWdlKDB4ZWYwMWMyYjQpIFVwZGF0ZVBlcnBQb3NpdGlvblN1Y2Nlc3MgewogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIHJlY2VpdmU6IEludDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFByaWNlID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCm1lc3NhZ2UgVXBkYXRlUHJpY2UgewogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7CiAgICBwcmljZXNMZW5ndGg6IEludCBhcyB1aW50NjQ7CiAgICBwcmljZXM6IG1hcDxJbnQsIFVwZGF0ZVByaWNlUGFyYW0+Owp9","contracts/pool/events.tact":"aW1wb3J0ICIuL3N0cnVjdHMiOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBMUCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwovLyBpbmNyZWFzZSBMUAptZXNzYWdlIExQUG9zaXRpb25JbmNyZWFzZWRFdmVudCB7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKICAgIG9yZGVySWQ6IEludCBhcyB1aW50NjQ7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIHBvc2l0aW9uSWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgbGlxdWlkaXR5RGVsdGE6IEludDsKICAgIGxpcXVpZGl0eUFmdGVyOiBJbnQ7CiAgICBib251c0RlbHRhOiBJbnQ7CiAgICBib251c0FmdGVyOiBJbnQ7CiAgICB1bmxvY2tUaW1lQWZ0ZXI6IEludDsKICAgIHJlYWxpemVkRnVuZGluZ0ZlZURlbHRhOiBJbnQ7CiAgICByZWFsaXplZEZ1bmRpbmdGZWVBZnRlcjogSW50OwogICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludDsKICAgIGxwRnVuZEFmdGVyOiBJbnQ7CiAgICBscExpcXVpZGl0eUFmdGVyOiBJbnQ7Cn0KCi8vIGRlY3JlYXNlIExQCm1lc3NhZ2UgTFBQb3NpdGlvbkRlY3JlYXNlZEV2ZW50IHsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0OwogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIG9wVHlwZTogSW50IGFzIHVpbnQ4OwogICAgcG9zaXRpb25JZDogSW50IGFzIHVpbnQ2NDsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICBsaXF1aWRpdHlEZWx0YTogSW50OyAvLyBkZWNyZWFzZSBsaXF1aWR0eQogICAgbGlxdWlkaXR5QWZ0ZXI6IEludDsKICAgIGJvbnVzRGVsdGE6IEludDsKICAgIGJvbnVzQWZ0ZXI6IEludDsKICAgIGZ1bmRpbmdGZWVEZWx0YTogSW50OwogICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludDsKICAgIHJlY2VpdmU6IEludDsgLy8gcmVhbGl6ZWRQbmwgPSByZWNlaXZlIC0gbGlxdWlkaXR5RGVsdGEKICAgIGxwRnVuZEFmdGVyOiBJbnQ7CiAgICBscExpcXVpZGl0eUFmdGVyOiBJbnQ7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUGVycCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwptZXNzYWdlIFBlcnBQb3NpdGlvbkluY3JlYXNlZEV2ZW50IHsKICAgIC8vIHBlcnAgcG9zaXRpb24KICAgIHRyeElkOiBJbnQgYXMgdWludDY0OwogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIG9wVHlwZTogSW50IGFzIHVpbnQ4OwogICAgcG9zaXRpb25JZDogSW50IGFzIHVpbnQ2NDsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICB0b2tlbklkOiBJbnQgYXMgdWludDY0OwogICAgaXNMb25nOiBCb29sOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIG1hcmdpbkFmdGVyOiBJbnQ7CiAgICBzaXplRGVsdGE6IEludDsKICAgIHNpemVBZnRlcjogSW50OwogICAgdHJhZGVQcmljZTogSW50OwogICAgZW50cnlQcmljZTogSW50OwogICAgZnVuZGluZ0ZlZTogSW50OwogICAgdHJhZGluZ0ZlZTogSW50OwogICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludDsKICAgIC8vIGdsb2JhbCBwb3NpdGlvbgogICAgZ2xvYmFsTG9uZ01hcmdpbkFmdGVyOiBJbnQ7CiAgICBnbG9iYWxTaG9ydE1hcmdpbkFmdGVyOiBJbnQ7CiAgICBnbG9iYWxMb25nU2l6ZUFmdGVyOiBJbnQ7CiAgICBnbG9iYWxTaG9ydFNpemVBZnRlcjogSW50OwogICAgZ2xvYmFsTG9uZ0Z1bmRpbmdGZWVHcm93dGhBZnRlcjogSW50OwogICAgZ2xvYmFsU2hvcnRGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludDsKICAgIGdsb2JhbExQRnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBJbnQ7CiAgICAvLyBscCBwb3NpdGlvbgogICAgbHBOZXRTaXplQWZ0ZXI6IEludDsKICAgIGxwSXNMb25nOiBCb29sOwogICAgbHBFbnRyeVByaWNlQWZ0ZXI6IEludDsKICAgIC8vIGxwIGxpcXVpZGl0eQogICAgbHBGdW5kQWZ0ZXI6IEludDsKICAgIGxwTGlxdWlkaXR5QWZ0ZXI6IEludDsKICAgIGxwVHJhZGluZ0ZlZTogSW50OwogICAgbHBSZWFsaXplZFBubDogSW50OwogICAgbHBSZWNlaXZlZEZ1bmRpbmdGZWU6IEludDsKfQoKbWVzc2FnZSBQZXJwUG9zaXRpb25EZWNyZWFzZWRFdmVudCB7CiAgICAvLyBwZXJwIHBvc2l0aW9uCiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKICAgIG9yZGVySWQ6IEludCBhcyB1aW50NjQ7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIHBvc2l0aW9uSWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgdG9rZW5JZDogSW50IGFzIHVpbnQ2NDsKICAgIGlzTG9uZzogQm9vbDsKICAgIG1hcmdpbkRlbHRhOiBJbnQ7CiAgICBtYXJnaW5BZnRlcjogSW50OwogICAgc2l6ZURlbHRhOiBJbnQ7CiAgICBzaXplQWZ0ZXI6IEludDsKICAgIHRyYWRlUHJpY2U6IEludDsKICAgIGVudHJ5UHJpY2U6IEludDsKICAgIHJlYWxpemVkUG5MRGVsdGE6IEludDsKICAgIGZ1bmRpbmdGZWU6IEludDsKICAgIHRyYWRpbmdGZWU6IEludDsKICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBJbnQ7CiAgICByZWNlaXZlOiBJbnQ7CiAgICAvLyBnbG9iYWwgcG9zaXRpb24KICAgIGdsb2JhbExvbmdNYXJnaW5BZnRlcjogSW50OwogICAgZ2xvYmFsU2hvcnRNYXJnaW5BZnRlcjogSW50OwogICAgZ2xvYmFsTG9uZ1NpemVBZnRlcjogSW50OwogICAgZ2xvYmFsU2hvcnRTaXplQWZ0ZXI6IEludDsKICAgIGdsb2JhbExvbmdGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludDsKICAgIGdsb2JhbFNob3J0RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBJbnQ7CiAgICBnbG9iYWxMUEZ1bmRpbmdGZWVHcm93dGhBZnRlcjogSW50OwogICAgLy8gbHAgcG9zaXRpb24KICAgIGxwTmV0U2l6ZUFmdGVyOiBJbnQ7CiAgICBscElzTG9uZzogQm9vbDsKICAgIGxwRW50cnlQcmljZUFmdGVyOiBJbnQ7CiAgICAvLyBscCBsaXF1aWRpdHkKICAgIGxwRnVuZEFmdGVyOiBJbnQ7CiAgICBscExpcXVpZGl0eUFmdGVyOiBJbnQ7CiAgICBscFRyYWRpbmdGZWU6IEludDsKICAgIGxwUmVhbGl6ZWRQbmw6IEludDsKICAgIGxwUmVjZWl2ZWRGdW5kaW5nRmVlOiBJbnQ7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gRnVuZGluZyBGZWUgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KbWVzc2FnZSBVcGRhdGVGdW5kaW5nRmVlRXZlbnQgewogICAgbGVuZ3RoOiBJbnQ7CiAgICBkYXRhczogbWFwPEludCwgVXBkYXRlRnVuZGluZ1JhdGVFdmVudERhdGE+Owp9Cg==","contracts/pool/structs.tact":"Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBDb25maWcgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8Kc3RydWN0IENvbmZpZ0RhdGEgewogICAgaXNFeGVjdXRvcjogQm9vbD87CiAgICBscEdhc0NvbnN1bXB0aW9uOiBJbnQgYXMgY29pbnM7CiAgICBwZXJwR2FzQ29uc3VtcHRpb246IEludCBhcyBjb2luczsKICAgIG1pblRvbnNGb3JTdG9yYWdlOiBJbnQgYXMgY29pbnM7CiAgICBscEFkZEJvbnVzRmFjdG9yOiBJbnQ7CiAgICBscFJlbW92ZUJvbnVzRmFjdG9yOiBJbnQ7CiAgICBscExpcXVpZGl0eUZhY3RvcjogSW50OwogICAgb3JkZXJCb29rOiBBZGRyZXNzOwogICAgY2xhaW1FeGVjdXRvcjogQWRkcmVzczsKICAgIHByb3RvY29sVHJhZGluZ0ZlZTogSW50Owp9CgpzdHJ1Y3QgRXhlY3V0b3JQYXJhbSB7CiAgICBleGVjdXRvcjogQWRkcmVzczsKICAgIGVuYWJsZTogQm9vbDsKfQoKc3RydWN0IFRva2VuQ29uZmlnIHsKICAgIG5hbWU6IFN0cmluZzsKICAgIGVuYWJsZTogQm9vbDsKICAgIC8vID09PT09PT09PT09PT09PT09PT09IFRyYWRlciBQb3NpdGlvbiBDb25maWcgPT09PT09PT09PT09PT09PT09PT0KICAgIG1pblZhbHVlOiBJbnQ7CiAgICBtYXhWYWx1ZTogSW50OwogICAgbWF4TGV2ZXJhZ2U6IEludDsKICAgIGxpcXVpZGF0aW9uRmVlOiBJbnQ7CiAgICBtYWludGVuYW5jZVJhdGU6IEludDsKICAgIGxpcXVpZGl0eVByb3BvcnRpb246IEludDsKICAgIC8vID09PT09PT09PT09PT09PT09PT09IFRyYWRpbmcgRmVlIENvbmZpZyA9PT09PT09PT09PT09PT09PT09PQogICAgdHJhZGluZ0ZlZVJhdGU6IEludDsKICAgIGxwVHJhZGluZ0ZlZVJhdGU6IEludDsKICAgIC8vID09PT09PT09PT09PT09PT09PT09IEZ1bmRpbmcgRmVlIENvbmZpZyA9PT09PT09PT09PT09PT09PT09PQogICAgaW50ZXJlc3RSYXRlOiBJbnQ7CiAgICBtYXhGdW5kaW5nUmF0ZTogSW50Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IExQID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCnN0cnVjdCBMUFBvc2l0aW9uIHsKICAgIHBvc2l0aW9uSWQ6IEludCBhcyB1aW50NjQ7CiAgICBsaXF1aWRpdHk6IEludDsKICAgIGJvbnVzOiBJbnQ7CiAgICByZWFsaXplZEZ1bmRpbmdGZWU6IEludDsKICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aDogSW50OwogICAgb3BlblRpbWU6IEludDsKICAgIHVubG9ja1RpbWU6IEludDsKfQoKc3RydWN0IExQUG9zaXRpb25EYXRhIHsKICAgIGxwUG9zaXRpb246IExQUG9zaXRpb24/OwogICAgZ2xvYmFsTFBGdW5kOiBJbnQ7CiAgICBnbG9iYWxMUExpcXVpZGl0eTogSW50OwogICAgZ2xvYmFsTFBGdW5kaW5nRmVlR3Jvd3RoOiBJbnQ7CiAgICBnbG9iYWxMUFVucmVhbGl6ZWRQbmw6IEludDsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBQZXJwID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCi8vIHBlcnAgcG9zaXRpb24Kc3RydWN0IEFjY291bnRQZXJwUG9zaXRpb24gewogICAgcG9zaXRpb25zOiBtYXA8QWRkcmVzcywgRGlyZWN0aW9uUGVycFBvc2l0aW9uPjsKfQoKc3RydWN0IERpcmVjdGlvblBlcnBQb3NpdGlvbiB7CiAgICBsb25nUG9zaXRpb246IFBlcnBQb3NpdGlvbjsKICAgIHNob3J0UG9zaXRpb246IFBlcnBQb3NpdGlvbjsKfQoKc3RydWN0IFBlcnBQb3NpdGlvbiB7CiAgICBwb3NpdGlvbklkOiBJbnQgYXMgdWludDY0OwogICAgbWFyZ2luOiBJbnQ7CiAgICBzaXplOiBJbnQ7CiAgICBlbnRyeVByaWNlOiBJbnQ7CiAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGg6IEludDsKfQoKc3RydWN0IEdsb2JhbExQUG9zaXRpb24gewogICAgbmV0U2l6ZTogSW50OwogICAgaXNMb25nOiBCb29sOwogICAgZW50cnlQcmljZTogSW50OwogICAgdW5yZWFsaXplZFBubDogSW50Owp9CgpzdHJ1Y3QgUGVycFBvc2l0aW9uRGF0YSB7CiAgICBnbG9iYWxQZXJwTmV0VmFsdWU6IEludDsKICAgIGdsb2JhbFBlcnBTaW5nbGVWYWx1ZTogSW50OwogICAgcGVycFBvc2l0aW9uOiBEaXJlY3Rpb25QZXJwUG9zaXRpb24/OwogICAgZ2xvYmFsTFBQb3NpdGlvbjogR2xvYmFsTFBQb3NpdGlvbj87CiAgICBnbG9iYWxQb3NpdGlvbjogR2xvYmFsUG9zaXRpb24/OwogICAgZ2xvYmFsRnVuZGluZ1JhdGVTYW1wbGU6IEdsb2JhbEZ1bmRpbmdSYXRlU2FtcGxlPzsKICAgIHByZXZQcmVtaXVtUmF0ZTogSW50PzsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBQcmljZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwpzdHJ1Y3QgVXBkYXRlUHJpY2VQYXJhbSB7CiAgICB0b2tlbklkOiBJbnQgYXMgdWludDY0OwogICAgcHJpY2U6IEludDsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBGdW5kaW5nIFJhdGUgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8Kc3RydWN0IEdsb2JhbFBvc2l0aW9uIHsKICAgIGxvbmdNYXJnaW46IEludDsKICAgIHNob3J0TWFyZ2luOiBJbnQ7CiAgICBsb25nU2l6ZTogSW50OwogICAgc2hvcnRTaXplOiBJbnQ7CiAgICBsb25nRnVuZGluZ0ZlZUdyb3d0aDogSW50OwogICAgc2hvcnRGdW5kaW5nRmVlR3Jvd3RoOiBJbnQ7CiAgICBsb25nVmFsdWU6IEludDsKICAgIHNob3J0VmFsdWU6IEludDsKfQoKc3RydWN0IEdsb2JhbEZ1bmRpbmdSYXRlU2FtcGxlIHsKICAgIGxhc3RBZGp1c3RGdW5kaW5nUmF0ZVRpbWU6IEludDsKICAgIHNhbXBsZUNvdW50OiBJbnQ7CiAgICBjdW11bGF0aXZlUHJlbWl1bVJhdGU6IEludDsKfQoKc3RydWN0IFVwZGF0ZUZ1bmRpbmdSYXRlUmVzdWx0IHsKICAgIGxwUmVjZWl2ZWRGdW5kaW5nRmVlRGVsdGE6IEludDsKICAgIGdsb2JhbExQRnVuZGluZ0ZlZUdyb3d0aDogSW50OwogICAgbG9uZ0Z1bmRpbmdGZWVHcm93dGhBZnRlcjogSW50OwogICAgc2hvcnRGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludDsKfQoKc3RydWN0IFVwZGF0ZUZ1bmRpbmdSYXRlRXZlbnREYXRhIHsKICAgIHRyeElkOiBJbnQ7CiAgICB0b2tlbklkOiBJbnQ7CiAgICBwcmljZTogSW50OwogICAgbHBSZWNlaXZlZEZ1bmRpbmdGZWVEZWx0YTogSW50OwogICAgZ2xvYmFsTFBGdW5kaW5nRmVlR3Jvd3RoOiBJbnQ7CiAgICBsb25nRnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBJbnQ7CiAgICBzaG9ydEZ1bmRpbmdGZWVHcm93dGhBZnRlcjogSW50Owp9","contracts/pool/constants.tact":"CmNvbnN0IFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQ6IEludCA9IHBvdygxMCwgOSk7CmNvbnN0IFBSSUNFX0RFQ0lNQUxfRkFDVE9SOiBJbnQgPSBwb3coMTAsIDIwKTsKCmNvbnN0IERBWTogSW50ID0gMjQgKiA2MCAqIDYwOwoKY29uc3QgQURKVVNUX0ZVTkRJTkdfUkFURV9JTlRFUlZBTDogSW50ID0gMzYwMDsgLy8gMSBob3VyCmNvbnN0IFNBTVBMRV9QUkVNSVVNX1JBVEVfSU5URVJWQUw6IEludCA9IDU7IC8vIDUgc2Vjb25kcwpjb25zdCBSRVFVSVJFRF9TQU1QTEVfQ09VTlQ6IEludCA9IDcyMDsKLy8gOCAqICgxKzIrMysuLi4rNzIwKSA9IDggKiAoKDErNzIwKSAqIDcyMCAvIDIpID0gOCAqIDI1OTU2MApjb25zdCBQUkVNSVVNX1JBVEVfQVZHX0RFTk9NSU5BVE9SOiBJbnQgPSA4ICogMjU5NTYwOwovLyAwLjA1JSAvIDggKiBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UCmNvbnN0IFBSRU1JVU1fUkFURV9DTEFNUF9CT1VOREFSWTogSW50ID0gNjI1MDA7Cgpjb25zdCBPUkRFUl9UWVBFX0xQOiBJbnQgPSAxOwpjb25zdCBPUkRFUl9UWVBFX1BFUlA6IEludCA9IDI7Cgpjb25zdCBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFOiBJbnQgPSAxOwpjb25zdCBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFOiBJbnQgPSAyOwpjb25zdCBPUkRFUl9PUF9UWVBFX0xJUVVJREFUSU9OOiBJbnQgPSAzOwpjb25zdCBPUkRFUl9PUF9UWVBFX0FETDogSW50ID0gNDsKCmNvbnN0IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTUFSS0VUOiBJbnQgPSAxMDsKY29uc3QgT1JERVJfT1BfVFlQRV9JTkNSRUFTRV9MSU1JVDogSW50ID0gMTE7CmNvbnN0IE9SREVSX09QX1RZUEVfREVDUkVBU0VfTUFSS0VUOiBJbnQgPSAxMjsKY29uc3QgT1JERVJfT1BfVFlQRV9ERUNSRUFTRV9UUDogSW50ID0gMTM7CmNvbnN0IE9SREVSX09QX1RZUEVfREVDUkVBU0VfU0w6IEludCA9IDE0Ow==","contracts/pool/pool.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CmltcG9ydCAiQHN0ZGxpYi9vd25hYmxlIjsKaW1wb3J0ICIuL21lc3NhZ2VzIjsKaW1wb3J0ICIuL2V2ZW50cyI7CmltcG9ydCAiLi9zdHJ1Y3RzIjsKaW1wb3J0ICIuL2NvbnN0YW50cyI7Cgpjb250cmFjdCBQb29sIHdpdGggRGVwbG95YWJsZSwgT3duYWJsZSB7CgogICAgLy8gY29uZmlnCiAgICBscEdhc0NvbnN1bXB0aW9uOiBJbnQgPSB0b24oIjAuMDQiKTsKICAgIHBlcnBHYXNDb25zdW1wdGlvbjogSW50ID0gdG9uKCIwLjA5Iik7CiAgICBtaW5Ub25zRm9yU3RvcmFnZTogSW50ID0gdG9uKCIwLjAxIik7CgogICAgdG9rZW5Db25maWdzOiBtYXA8SW50LCBUb2tlbkNvbmZpZz47IC8vIHRva2VuSWQgPT4gdG9rZW5Db25maWcKCiAgICBscExvY2tUaW1lOiBJbnQgPSAyNCAqIDYwICogNjA7CiAgICBscEFkZEJvbnVzRmFjdG9yOiBJbnQgPSAxICogcG93KDEwLCA5KTsKICAgIGxwUmVtb3ZlQm9udXNGYWN0b3I6IEludCA9IDEwICogcG93KDEwLCA5KTsKICAgIGxwTGlxdWlkaXR5RmFjdG9yOiBJbnQgPSBwb3coMTAsIDkpOwoKICAgIC8vIGFkbWluCiAgICBvd25lcjogQWRkcmVzczsKICAgIG9yZGVyQm9vazogQWRkcmVzczsKICAgIHByb3RvY29sVHJhZGluZ0ZlZTogSW50ID0gMDsKICAgIGNsYWltRXhlY3V0b3I6IEFkZHJlc3M7CiAgICBleGVjdXRvcnM6IG1hcDxBZGRyZXNzLCBCb29sPjsgLy8gYWNjb3VudCA9PiBlbmFibGVkCgogICAgLy8gTFAKICAgIGxwUG9zaXRpb25zOiBtYXA8QWRkcmVzcywgTFBQb3NpdGlvbj47IC8vIHRyYWRlciA9PiBMUAogICAgbHBQb3NpdGlvbkluZGV4TmV4dDogSW50IGFzIHVpbnQ2NCA9IDE7CgogICAgZ2xvYmFsTFBQb3NpdGlvbnM6IG1hcDxJbnQsIEdsb2JhbExQUG9zaXRpb24+OyAvLyB0b2tlbklkID0+IGdsb2JhbExQCgogICAgZ2xvYmFsTFBGdW5kOiBJbnQgPSAwOwogICAgZ2xvYmFsTFBMaXF1aWRpdHk6IEludCA9IDA7CiAgICBnbG9iYWxMUEZ1bmRpbmdGZWVHcm93dGg6IEludCA9IDA7CiAgICBnbG9iYWxMUFVucmVhbGl6ZWRQbmw6IEludCA9IDA7CgogICAgLy8gUGVycAogICAgcGVycFBvc2l0aW9uczogbWFwPEludCwgQWNjb3VudFBlcnBQb3NpdGlvbj47IC8vIHRva2VuSWQgPT4gdXNlciA9PiBkaXJlY3Rpb24gPT4gcG9zaXRpb24KICAgIHBlcnBQb3NpdGlvbkluZGV4TmV4dDogSW50IGFzIHVpbnQ2NCA9IDE7CiAgICBnbG9iYWxQb3NpdGlvbnMgOiBtYXA8SW50LCBHbG9iYWxQb3NpdGlvbj47IC8vIHRva2VuSWQgPT4gZ2xvYmFsUG9zaXRpb24KCiAgICBnbG9iYWxQZXJwTmV0VmFsdWU6IEludCA9IDA7CiAgICBnbG9iYWxQZXJwU2luZ2xlVmFsdWU6IEludCA9IDA7CgogICAgLy8gZnVuZGluZyByYXRlCiAgICBnbG9iYWxGdW5kaW5nUmF0ZVNhbXBsZXM6IG1hcDxJbnQsIEdsb2JhbEZ1bmRpbmdSYXRlU2FtcGxlPjsgLy8gdG9rZW5JZCA9PiBzYW1wbGUKCiAgICAvLyBwcmljZQogICAgcHJpY2VzOiBtYXA8SW50LCBJbnQ+OyAvLyB0b2tlbklkID0+IHByaWNlCiAgICBwcmV2UHJlbWl1bVJhdGVzOiBtYXA8SW50LCBJbnQ+OyAvLyB0b2tlbklkID0+IHByZW1pdW1SYXRlCgogICAgLyoqCiAgICAgKiBJbml0aWFsaXplcyB0aGUgcG9vbCBjb250cmFjdC4KICAgICAqIEBwYXJhbSBkZXBsb3lJZCBUaGUgZGVwbG95bWVudCBJRC4KICAgICAqLwogICAgaW5pdChkZXBsb3lJZDogSW50KSB7CiAgICAgICAgc2VsZi5vd25lciA9IHNlbmRlcigpOwogICAgICAgIHNlbGYub3JkZXJCb29rID0gbmV3QWRkcmVzcygwLCAwKTsKICAgICAgICBzZWxmLmNsYWltRXhlY3V0b3IgPSBuZXdBZGRyZXNzKDAsIDApOwogICAgICAgIHNlbGYuZXhlY3V0b3JzLnNldChzZW5kZXIoKSwgdHJ1ZSk7CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gQWRtaW4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwogICAgLyoqCiAgICAgKiBAZGV2IFJlY2VpdmUgZnVuY3Rpb24gdG8gdXBkYXRlIHRoZSBjb25maWd1cmF0aW9uIG9mIHRoZSBwb29sIGNvbnRyYWN0LgogICAgICogQHBhcmFtIG1zZyBUaGUgVXBkYXRlQ29uZmlnIHN0cnVjdCBjb250YWluaW5nIHRoZSBuZXcgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzLgogICAgICovCiAgICByZWNlaXZlKG1zZzogVXBkYXRlQ29uZmlnKSB7CiAgICAgICAgc2VsZi5yZXF1aXJlT3duZXIoKTsKCiAgICAgICAgbGV0IGk6IEludCA9IDA7CiAgICAgICAgd2hpbGUgKGkgPCBtc2cuZXhlY3V0b3JMZW5ndGgpIHsKICAgICAgICAgICAgbGV0IGV4ZWN1dG9yOiBFeGVjdXRvclBhcmFtPyA9IG1zZy5leGVjdXRvcnMuZ2V0KGkpOwogICAgICAgICAgICBpZiAoZXhlY3V0b3IgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgc2VsZi5leGVjdXRvcnMuc2V0KChleGVjdXRvciEhKS5leGVjdXRvciwgKGV4ZWN1dG9yISEpLmVuYWJsZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaSArPSAxOwogICAgICAgIH0KCiAgICAgICAgc2VsZi5jbGFpbUV4ZWN1dG9yID0gbXNnLmNsYWltRXhlY3V0b3I7CiAgICAgICAgc2VsZi5scEdhc0NvbnN1bXB0aW9uID0gbXNnLmxwR2FzQ29uc3VtcHRpb247CiAgICAgICAgc2VsZi5wZXJwR2FzQ29uc3VtcHRpb24gPSBtc2cucGVycEdhc0NvbnN1bXB0aW9uOwogICAgICAgIHNlbGYubWluVG9uc0ZvclN0b3JhZ2UgPSBtc2cubWluVG9uc0ZvclN0b3JhZ2U7CiAgICAgICAgc2VsZi5scExvY2tUaW1lID0gbXNnLmxwTG9ja1RpbWU7CiAgICAgICAgc2VsZi5scEFkZEJvbnVzRmFjdG9yID0gbXNnLmxwQWRkQm9udXNGYWN0b3I7CiAgICAgICAgc2VsZi5scFJlbW92ZUJvbnVzRmFjdG9yID0gbXNnLmxwUmVtb3ZlQm9udXNGYWN0b3I7CiAgICAgICAgc2VsZi5scExpcXVpZGl0eUZhY3RvciA9IG1zZy5scExpcXVpZGl0eUZhY3RvcjsKICAgICAgICBzZWxmLm9yZGVyQm9vayA9IG1zZy5vcmRlckJvb2s7CgogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZW5kZXIoKSwKICAgICAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdWYWx1ZQogICAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgICogVXBkYXRlcyB0aGUgdG9rZW4gY29uZmlndXJhdGlvbiBmb3IgYSBzcGVjaWZpYyB0b2tlbiBJRC4KICAgICAqIAogICAgICogQHBhcmFtIG1zZyBUaGUgVXBkYXRlVG9rZW5Db25maWcgbWVzc2FnZSBjb250YWluaW5nIHRoZSBuZXcgdG9rZW4gY29uZmlndXJhdGlvbi4KICAgICAqLwogICAgcmVjZWl2ZShtc2c6IFVwZGF0ZVRva2VuQ29uZmlnKSB7CiAgICAgICAgc2VsZi5yZXF1aXJlT3duZXIoKTsKCiAgICAgICAgbGV0IHRva2VuQ29uZmlnT3B0OiBUb2tlbkNvbmZpZz8gPSBzZWxmLnRva2VuQ29uZmlncy5nZXQobXNnLnRva2VuSWQpOwogICAgICAgIGxldCB0b2tlbkNvbmZpZzogVG9rZW5Db25maWcgPSB0b2tlbkNvbmZpZ09wdCAhPSBudWxsID8gdG9rZW5Db25maWdPcHQhISA6IFRva2VuQ29uZmlnewogICAgICAgICAgICBuYW1lOiAiIiwKICAgICAgICAgICAgZW5hYmxlOiBmYWxzZSwKICAgICAgICAgICAgbWluVmFsdWU6IDEwMCAqIHBvdygxMCwgNiksIC8vIDEwMFUKICAgICAgICAgICAgbWF4VmFsdWU6IDEwXzAwMF8wMDAgKiBwb3coMTAsIDYpLCAvLyAxMF8wMDBfMDAwVQogICAgICAgICAgICBtYXhMZXZlcmFnZTogMTA1LAogICAgICAgICAgICBsaXF1aWRhdGlvbkZlZTogNSAqIHBvdygxMCwgNSksIC8vIDAuNVUKICAgICAgICAgICAgdHJhZGluZ0ZlZVJhdGU6IDFfMDAwXzAwMCwgLy8gMC4xJQogICAgICAgICAgICBscFRyYWRpbmdGZWVSYXRlOiA2MDBfMDAwXzAwMCwgLy8gNjAlCiAgICAgICAgICAgIG1haW50ZW5hbmNlUmF0ZTogMTBfMDAwXzAwMCwgLy8gMSUKICAgICAgICAgICAgbGlxdWlkaXR5UHJvcG9ydGlvbjogMTAwXzAwMF8wMDAsIC8vIDEwJQogICAgICAgICAgICBpbnRlcmVzdFJhdGU6IDAsCiAgICAgICAgICAgIG1heEZ1bmRpbmdSYXRlOiA2Ml81MDAgLy8gMC4wMDYyNSUKICAgICAgICB9OwoKICAgICAgICB0b2tlbkNvbmZpZy5uYW1lID0gbXNnLm5hbWU7CiAgICAgICAgdG9rZW5Db25maWcuZW5hYmxlID0gbXNnLmVuYWJsZTsKCiAgICAgICAgdG9rZW5Db25maWcubWluVmFsdWUgPSBtc2cubWluVmFsdWU7CiAgICAgICAgdG9rZW5Db25maWcubWF4VmFsdWUgPSBtc2cubWF4VmFsdWU7CiAgICAgICAgdG9rZW5Db25maWcubWF4TGV2ZXJhZ2UgPSBtc2cubWF4TGV2ZXJhZ2U7CiAgICAgICAgdG9rZW5Db25maWcubGlxdWlkYXRpb25GZWUgPSBtc2cubGlxdWlkYXRpb25GZWU7CiAgICAgICAgdG9rZW5Db25maWcubWFpbnRlbmFuY2VSYXRlID0gbXNnLm1haW50ZW5hbmNlUmF0ZTsKCiAgICAgICAgdG9rZW5Db25maWcudHJhZGluZ0ZlZVJhdGUgPSBtc2cudHJhZGluZ0ZlZVJhdGU7CiAgICAgICAgdG9rZW5Db25maWcubHBUcmFkaW5nRmVlUmF0ZSA9IG1zZy5scFRyYWRpbmdGZWVSYXRlOwoKICAgICAgICB0b2tlbkNvbmZpZy5pbnRlcmVzdFJhdGUgPSBtc2cuaW50ZXJlc3RSYXRlOwogICAgICAgIHRva2VuQ29uZmlnLm1heEZ1bmRpbmdSYXRlID0gbXNnLm1heEZ1bmRpbmdSYXRlOwogICAgICAgIHRva2VuQ29uZmlnLmxpcXVpZGl0eVByb3BvcnRpb24gPSBtc2cubGlxdWlkaXR5UHJvcG9ydGlvbjsKCiAgICAgICAgc2VsZi50b2tlbkNvbmZpZ3Muc2V0KG1zZy50b2tlbklkLCB0b2tlbkNvbmZpZyk7CgogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZW5kZXIoKSwKICAgICAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdWYWx1ZQogICAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBSZWNlaXZlIGZ1bmN0aW9uIHRvIGNsYWltIHByb3RvY29sIHRyYWRpbmcgZmVlLgogICAgICogQHBhcmFtIG1zZyBUaGUgQ2xhaW1Qcm90b2NvbEZlZSBtZXNzYWdlIGNvbnRhaW5pbmcgdGhlIHRyYW5zYWN0aW9uIElELCBmZWUgcmVjZWl2ZXIsIGFuZCBhbW91bnQuCiAgICAgKi8KICAgIHJlY2VpdmUobXNnOiBDbGFpbVByb3RvY29sRmVlKSB7CiAgICAgICAgcmVxdWlyZShzZW5kZXIoKSA9PSBzZWxmLmNsYWltRXhlY3V0b3IsICJpbnZhbGlkIHNlbmRlciIpOwoKICAgICAgICBpZiAoc2VsZi5wcm90b2NvbFRyYWRpbmdGZWUgPiAwKSB7CiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogc2VsZi5vcmRlckJvb2ssCiAgICAgICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUsCiAgICAgICAgICAgICAgICBib2R5OiBTZW5kUHJvdG9jb2xGZWUgewogICAgICAgICAgICAgICAgICAgIHRyeElkOiBtc2cudHJ4SWQsCiAgICAgICAgICAgICAgICAgICAgZmVlUmVjZWl2ZXI6IG1zZy5mZWVSZWNlaXZlciwKICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IHNlbGYucHJvdG9jb2xUcmFkaW5nRmVlCiAgICAgICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzZWxmLnByb3RvY29sVHJhZGluZ0ZlZSA9IDA7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogcmVjZWl2ZSBUT04gY29pbiB0cmFuc2ZlcnMgdG8gdGhlIGNvbnRyYWN0CiAgICAgKi8KICAgIHJlY2VpdmUoKSB7fQoKICAgIC8qKgogICAgICogUmV0cmlldmVzIHRoZSBjb25maWd1cmF0aW9uIGRhdGEgZm9yIHRoZSBwb29sLgogICAgICogCiAgICAgKiBAcGFyYW0gZXhlY3V0b3IgVGhlIGFkZHJlc3Mgb2YgdGhlIGV4ZWN1dG9yLgogICAgICogQHJldHVybiBUaGUgQ29uZmlnRGF0YSBvYmplY3QgY29udGFpbmluZyB0aGUgcG9vbCBjb25maWd1cmF0aW9uLgogICAgICovCiAgICBnZXQgZnVuIGNvbmZpZ0RhdGEoZXhlY3V0b3I6IEFkZHJlc3M/KTogQ29uZmlnRGF0YSB7CiAgICAgICAgbGV0IGlzRXhlY3V0b3I6IEJvb2w/ID0gbnVsbDsKICAgICAgICBpZiAoZXhlY3V0b3IgIT0gbnVsbCkgewogICAgICAgICAgICBpc0V4ZWN1dG9yID0gc2VsZi5leGVjdXRvcnMuZ2V0KGV4ZWN1dG9yISEpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gQ29uZmlnRGF0YXsKICAgICAgICAgICAgaXNFeGVjdXRvcjogaXNFeGVjdXRvciwKICAgICAgICAgICAgbHBHYXNDb25zdW1wdGlvbjogc2VsZi5scEdhc0NvbnN1bXB0aW9uLAogICAgICAgICAgICBwZXJwR2FzQ29uc3VtcHRpb246IHNlbGYucGVycEdhc0NvbnN1bXB0aW9uLAogICAgICAgICAgICBtaW5Ub25zRm9yU3RvcmFnZTogc2VsZi5taW5Ub25zRm9yU3RvcmFnZSwKICAgICAgICAgICAgbHBBZGRCb251c0ZhY3Rvcjogc2VsZi5scEFkZEJvbnVzRmFjdG9yLAogICAgICAgICAgICBscFJlbW92ZUJvbnVzRmFjdG9yOiBzZWxmLmxwUmVtb3ZlQm9udXNGYWN0b3IsCiAgICAgICAgICAgIGxwTGlxdWlkaXR5RmFjdG9yOiBzZWxmLmxwTGlxdWlkaXR5RmFjdG9yLAogICAgICAgICAgICBvcmRlckJvb2s6IHNlbGYub3JkZXJCb29rLAogICAgICAgICAgICBjbGFpbUV4ZWN1dG9yOiBzZWxmLmNsYWltRXhlY3V0b3IsCiAgICAgICAgICAgIHByb3RvY29sVHJhZGluZ0ZlZTogc2VsZi5wcm90b2NvbFRyYWRpbmdGZWUKICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0cmlldmVzIHRoZSBjb25maWd1cmF0aW9uIG9mIGEgdG9rZW4gYmFzZWQgb24gaXRzIElELgogICAgICogCiAgICAgKiBAcGFyYW0gdG9rZW5JZCBUaGUgSUQgb2YgdGhlIHRva2VuLgogICAgICogQHJldHVybiBUaGUgVG9rZW5Db25maWcgb2JqZWN0IGFzc29jaWF0ZWQgd2l0aCB0aGUgdG9rZW4gSUQsIG9yIG51bGwgaWYgbm90IGZvdW5kLgogICAgICovCiAgICBnZXQgZnVuIHRva2VuQ29uZmlnKHRva2VuSWQ6IEludCk6IFRva2VuQ29uZmlnPyB7CiAgICAgICAgcmV0dXJuIHNlbGYudG9rZW5Db25maWdzLmdldCh0b2tlbklkKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHJpZXZlcyB0aGUgcHJpY2UgZGF0YSBmb3IgYSBnaXZlbiB0b2tlbiBJRC4KICAgICAqIAogICAgICogQHBhcmFtIHRva2VuSWQgVGhlIElEIG9mIHRoZSB0b2tlbi4KICAgICAqIEByZXR1cm4gVGhlIHByaWNlIGRhdGEgYXNzb2NpYXRlZCB3aXRoIHRoZSB0b2tlbiBJRCwgb3IgYG51bGxgIGlmIG5vIHByaWNlIGRhdGEgaXMgZm91bmQuCiAgICAgKi8KICAgIGdldCBmdW4gcHJpY2VEYXRhKHRva2VuSWQ6IEludCk6IEludD8gewogICAgICAgIHJldHVybiBzZWxmLnByaWNlcy5nZXQodG9rZW5JZCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBDYWxjdWxhdGVzIHRoZSBnYXMgZmVlIGZvciBhIGdpdmVuIG9yZGVyIHR5cGUuCiAgICAgKiAKICAgICAqIEBwYXJhbSBvcmRlclR5cGUgVGhlIHR5cGUgb2YgdGhlIG9yZGVyICgwIGZvciBMUCBvcmRlciwgMSBmb3IgcGVycGV0dWFsIG9yZGVyKS4KICAgICAqIEByZXR1cm4gVGhlIGdhcyBmZWUgZm9yIHRoZSBvcmRlci4KICAgICAqLwogICAgZnVuIGV4Y2VlZEdhcyhvcmRlclR5cGU6IEludCk6IEludCB7CiAgICAgICAgbGV0IHRvbkJhbGFuY2VCZWZvcmVNc2c6IEludCA9IG15QmFsYW5jZSgpIC0gY29udGV4dCgpLnZhbHVlOwogICAgICAgIGxldCBzdG9yYWdlRmVlOiBJbnQgPSBzZWxmLm1pblRvbnNGb3JTdG9yYWdlIC0gbWluKHRvbkJhbGFuY2VCZWZvcmVNc2csIHNlbGYubWluVG9uc0ZvclN0b3JhZ2UpOwogICAgICAgIGxldCBleHRyYVZhbHVlOiBJbnQgPSBtYXgoMCwgdG9uQmFsYW5jZUJlZm9yZU1zZyAtIHNlbGYubWluVG9uc0ZvclN0b3JhZ2UpOwogICAgICAgIGxldCBnYXNDb25zdW1wdGlvbjogSW50ID0gb3JkZXJUeXBlID09IE9SREVSX1RZUEVfTFAgPyBzZWxmLmxwR2FzQ29uc3VtcHRpb24gOiBzZWxmLnBlcnBHYXNDb25zdW1wdGlvbjsKICAgICAgICByZXR1cm4gY29udGV4dCgpLnZhbHVlIC0gc3RvcmFnZUZlZSAtIGdhc0NvbnN1bXB0aW9uICsgZXh0cmFWYWx1ZTsKICAgIH0KCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBMUCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCiAgICAvKioKICAgICAqIEBkZXYgUmVjZWl2ZSBmdW5jdGlvbiB0byB1cGRhdGUgTFAgcG9zaXRpb24gYmFzZWQgb24gdGhlIHJlY2VpdmVkIG1lc3NhZ2UuCiAgICAgKiBAcGFyYW0gbXNnIFRoZSBVcGRhdGVMUFBvc2l0aW9uIG1lc3NhZ2UgY29udGFpbmluZyB0aGUgbmVjZXNzYXJ5IGluZm9ybWF0aW9uLgogICAgICovCiAgICByZWNlaXZlKG1zZzogVXBkYXRlTFBQb3NpdGlvbikgewogICAgICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gc2VsZi5vcmRlckJvb2ssICJpbnZhbGlkIHNlbmRlciIpOwoKICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb24KICAgICAgICBpZiAobXNnLmlzSW5jcmVhc2UpIHsKICAgICAgICAgICAgc2VsZi5pbmNyZWFzZUxQUG9zaXRpb24obXNnLnRyeElkLCBtc2cub3JkZXJJZCwgbXNnLmFjY291bnQsIG1zZy5saXF1aWRpdHlEZWx0YSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2VsZi5kZWNyZWFzZUxQUG9zaXRpb24obXNnLnRyeElkLCBtc2cub3JkZXJJZCwgbXNnLmFjY291bnQsIG1zZy5saXF1aWRpdHlEZWx0YSk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogSW5jcmVhc2VzIHRoZSBMUCAoTGlxdWlkaXR5IFByb3ZpZGVyKSBwb3NpdGlvbiBieSBhZGRpbmcgbGlxdWlkaXR5IHRvIHRoZSBwb29sLgogICAgICogCiAgICAgKiBAcGFyYW0gdHJ4SWQgVGhlIHRyYW5zYWN0aW9uIElELgogICAgICogQHBhcmFtIG9yZGVySWQgVGhlIG9yZGVyIElELgogICAgICogQHBhcmFtIGFjY291bnQgVGhlIGFkZHJlc3Mgb2YgdGhlIExQIGFjY291bnQuCiAgICAgKiBAcGFyYW0gbGlxdWlkaXR5RGVsdGEgVGhlIGNoYW5nZSBpbiBsaXF1aWRpdHkgdG8gYmUgYWRkZWQgdG8gdGhlIExQIHBvc2l0aW9uLgogICAgICovCiAgICBmdW4gaW5jcmVhc2VMUFBvc2l0aW9uKHRyeElkOiBJbnQsIG9yZGVySWQ6IEludCwgYWNjb3VudDogQWRkcmVzcywgbGlxdWlkaXR5RGVsdGE6IEludCkgewogICAgICAgIC8vIGdldCBwb3NpdGlvbgogICAgICAgIGxldCBscFBvc2l0aW9uT3B0OiBMUFBvc2l0aW9uPyA9IHNlbGYubHBQb3NpdGlvbnMuZ2V0KGFjY291bnQpOwogICAgICAgIC8vIGluaXQgcG9zaXRpb24gaWYgbm90IGV4aXN0CiAgICAgICAgbGV0IGxwUG9zaXRpb246IExQUG9zaXRpb24gPSBMUFBvc2l0aW9uewogICAgICAgICAgICAgICAgcG9zaXRpb25JZDogMCwKICAgICAgICAgICAgICAgIGxpcXVpZGl0eTogMCwKICAgICAgICAgICAgICAgIGJvbnVzOiAwLAogICAgICAgICAgICAgICAgcmVhbGl6ZWRGdW5kaW5nRmVlOiAwLAogICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiAwLAogICAgICAgICAgICAgICAgb3BlblRpbWU6IDAsCiAgICAgICAgICAgICAgICB1bmxvY2tUaW1lOiAwCiAgICAgICAgICAgIH07CiAgICAgICAgaWYgKGxwUG9zaXRpb25PcHQgIT0gbnVsbCkgewogICAgICAgICAgICBscFBvc2l0aW9uID0gbHBQb3NpdGlvbk9wdCEhOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxwUG9zaXRpb24ucG9zaXRpb25JZCA9IHNlbGYubHBQb3NpdGlvbkluZGV4TmV4dDsKICAgICAgICAgICAgc2VsZi5scFBvc2l0aW9uSW5kZXhOZXh0ID0gc2VsZi5scFBvc2l0aW9uSW5kZXhOZXh0ICsgMTsKICAgICAgICB9CgogICAgICAgIC8vIHVwZGF0ZSBMUAogICAgICAgIC8vIGNhbGN1bGF0ZSBib251cwogICAgICAgIGxldCBnbG9iYWxOZXRMUDogSW50ID0gc2VsZi5nbG9iYWxMUEZ1bmQgKyBzZWxmLmdsb2JhbExQVW5yZWFsaXplZFBubDsKICAgICAgICBpZiAoZ2xvYmFsTmV0TFAgPCAwKSB7CiAgICAgICAgICAgIGdsb2JhbE5ldExQID0gMDsKICAgICAgICB9CiAgICAgICAgbGV0IGJvbnVzOiBJbnQgPSAwOwogICAgICAgIGlmIChnbG9iYWxOZXRMUCA8IHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkpIHsKICAgICAgICAgICAgLy8gYm9udXMgPSBiICsgcyAoMSAtIHgpICogbGlxdWlkaXR5CiAgICAgICAgICAgIGJvbnVzID0gc2VsZi5scEFkZEJvbnVzRmFjdG9yICogKHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkgLSBnbG9iYWxOZXRMUCkgKiBsaXF1aWRpdHlEZWx0YSAvIChzZWxmLmdsb2JhbExQTGlxdWlkaXR5ICogUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCk7CiAgICAgICAgICAgIGxwUG9zaXRpb24uYm9udXMgPSBscFBvc2l0aW9uLmJvbnVzICsgYm9udXM7CiAgICAgICAgfQogICAgICAgIC8vIGZ1bmRpbmcgZmVlCiAgICAgICAgbGV0IHJlYWxpemVkRnVuZGluZ0ZlZTogSW50ID0gMDsKICAgICAgICBpZiAobHBQb3NpdGlvbi5saXF1aWRpdHkgPiAwKSB7CiAgICAgICAgICAgIHJlYWxpemVkRnVuZGluZ0ZlZSA9IChzZWxmLmdsb2JhbExQRnVuZGluZ0ZlZUdyb3d0aCAtIGxwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoKSAqIGxwUG9zaXRpb24ubGlxdWlkaXR5IC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgfQoKICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb24KICAgICAgICBscFBvc2l0aW9uLmxpcXVpZGl0eSA9IGxwUG9zaXRpb24ubGlxdWlkaXR5ICsgbGlxdWlkaXR5RGVsdGE7CiAgICAgICAgbHBQb3NpdGlvbi5yZWFsaXplZEZ1bmRpbmdGZWUgKz0gcmVhbGl6ZWRGdW5kaW5nRmVlOwogICAgICAgIGxwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoID0gc2VsZi5nbG9iYWxMUEZ1bmRpbmdGZWVHcm93dGg7CiAgICAgICAgbHBQb3NpdGlvbi5vcGVuVGltZSA9IG5vdygpOwogICAgICAgIGxwUG9zaXRpb24udW5sb2NrVGltZSA9IG5vdygpICsgc2VsZi5scExvY2tUaW1lOwoKICAgICAgICAvLyBzZXQgcG9zaXRpb24KICAgICAgICBzZWxmLmxwUG9zaXRpb25zLnNldChhY2NvdW50LCBscFBvc2l0aW9uKTsKCiAgICAgICAgLy8gdXBkYXRlIGdsb2JhbCBwb3NpdGlvbgogICAgICAgIHNlbGYuZ2xvYmFsTFBGdW5kID0gc2VsZi5nbG9iYWxMUEZ1bmQgKyBsaXF1aWRpdHlEZWx0YTsKICAgICAgICBzZWxmLmdsb2JhbExQTGlxdWlkaXR5ID0gc2VsZi5nbG9iYWxMUExpcXVpZGl0eSArIGxpcXVpZGl0eURlbHRhOwoKICAgICAgICAvLyBsZWF2ZSBtaW5Ub25zRm9yU3RvcmFnZQogICAgICAgIGxldCBtc2dWYWx1ZTogSW50ID0gc2VsZi5leGNlZWRHYXMoT1JERVJfVFlQRV9MUCk7CgogICAgICAgIC8vIHNlbmQgdXBkYXRlIHN1Y2Nlc3MgbXNnCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbGYub3JkZXJCb29rLAogICAgICAgICAgICB2YWx1ZTogbXNnVmFsdWUsCiAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgIG1vZGU6IFNlbmRQYXlHYXNTZXBhcmF0ZWx5LAogICAgICAgICAgICBib2R5OiBVcGRhdGVMUFBvc2l0aW9uU3VjY2VzcyB7CiAgICAgICAgICAgICAgICBvcmRlcklkOiBvcmRlcklkLAogICAgICAgICAgICAgICAgcmVjZWl2ZTogMCwKICAgICAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CgogICAgICAgIGVtaXQoTFBQb3NpdGlvbkluY3JlYXNlZEV2ZW50ewogICAgICAgICAgICB0cnhJZDogdHJ4SWQsCiAgICAgICAgICAgIG9yZGVySWQ6IG9yZGVySWQsCiAgICAgICAgICAgIG9wVHlwZTogT1JERVJfT1BfVFlQRV9JTkNSRUFTRSwKICAgICAgICAgICAgcG9zaXRpb25JZDogbHBQb3NpdGlvbi5wb3NpdGlvbklkLAogICAgICAgICAgICBhY2NvdW50OiBhY2NvdW50LAogICAgICAgICAgICBsaXF1aWRpdHlEZWx0YTogbGlxdWlkaXR5RGVsdGEsCiAgICAgICAgICAgIGxpcXVpZGl0eUFmdGVyOiBscFBvc2l0aW9uLmxpcXVpZGl0eSwKICAgICAgICAgICAgYm9udXNEZWx0YTogYm9udXMsCiAgICAgICAgICAgIGJvbnVzQWZ0ZXI6IGxwUG9zaXRpb24uYm9udXMsCiAgICAgICAgICAgIHVubG9ja1RpbWVBZnRlcjogbHBQb3NpdGlvbi51bmxvY2tUaW1lLAogICAgICAgICAgICByZWFsaXplZEZ1bmRpbmdGZWVEZWx0YTogcmVhbGl6ZWRGdW5kaW5nRmVlLAogICAgICAgICAgICByZWFsaXplZEZ1bmRpbmdGZWVBZnRlcjogbHBQb3NpdGlvbi5yZWFsaXplZEZ1bmRpbmdGZWUsCiAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBscFBvc2l0aW9uLmVudHJ5RnVuZGluZ0ZlZUdyb3d0aCwKICAgICAgICAgICAgbHBGdW5kQWZ0ZXI6IHNlbGYuZ2xvYmFsTFBGdW5kLAogICAgICAgICAgICBscExpcXVpZGl0eUFmdGVyOiBzZWxmLmdsb2JhbExQTGlxdWlkaXR5CiAgICAgICAgfS50b0NlbGwoKSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBEZWNyZWFzZXMgdGhlIGxpcXVpZGl0eSBwb3NpdGlvbiBvZiBhbiBMUCAoTGlxdWlkaXR5IFByb3ZpZGVyKSBhY2NvdW50LgogICAgICogCiAgICAgKiBAcGFyYW0gdHJ4SWQgVGhlIHRyYW5zYWN0aW9uIElELgogICAgICogQHBhcmFtIG9yZGVySWQgVGhlIG9yZGVyIElELgogICAgICogQHBhcmFtIGFjY291bnQgVGhlIExQIGFjY291bnQgYWRkcmVzcy4KICAgICAqIEBwYXJhbSBsaXF1aWRpdHlEZWx0YSBUaGUgYW1vdW50IG9mIGxpcXVpZGl0eSB0byBkZWNyZWFzZS4KICAgICAqLwogICAgZnVuIGRlY3JlYXNlTFBQb3NpdGlvbih0cnhJZDogSW50LCBvcmRlcklkOiBJbnQsIGFjY291bnQ6IEFkZHJlc3MsIGxpcXVpZGl0eURlbHRhOiBJbnQpIHsKICAgICAgICAvLyBnZXQgcG9zaXRpb24KICAgICAgICBsZXQgbHBQb3NpdGlvbk9wdDogTFBQb3NpdGlvbj8gPSBzZWxmLmxwUG9zaXRpb25zLmdldChhY2NvdW50KTsKICAgICAgICAvLyBjaGVjayBwb3NpdGlvbgogICAgICAgIHJlcXVpcmUobHBQb3NpdGlvbk9wdCAhPSBudWxsLCAicG9zaXRpb24gbm90IGV4aXN0Iik7CiAgICAgICAgbGV0IGxwUG9zaXRpb246IExQUG9zaXRpb24gPSBscFBvc2l0aW9uT3B0ISE7CgogICAgICAgIC8vIGNoZWNrIHVubG9jayB0aW1lCiAgICAgICAgcmVxdWlyZShscFBvc2l0aW9uLnVubG9ja1RpbWUgPD0gbm93KCksICJub3QgcmVhY2ggdW5sb2NrIHRpbWUiKTsKCiAgICAgICAgLy8gZGVjcmVhc2UgbGlxdWlkaXR5IGRlbHRhCiAgICAgICAgaWYgKGxwUG9zaXRpb24ubGlxdWlkaXR5IDwgbGlxdWlkaXR5RGVsdGEpIHsKICAgICAgICAgICAgbGlxdWlkaXR5RGVsdGEgPSBscFBvc2l0aW9uLmxpcXVpZGl0eTsKICAgICAgICB9CgogICAgICAgIC8vIGNhbGN1bGF0ZSBMUCBnbG9iYWwgdW5yZWFsaXplZCBwbmwKICAgICAgICBsZXQgZ2xvYmFsTmV0TFA6IEludCA9IHNlbGYuZ2xvYmFsTFBGdW5kICsgc2VsZi5nbG9iYWxMUFVucmVhbGl6ZWRQbmw7CiAgICAgICAgcmVxdWlyZShnbG9iYWxOZXRMUCA+IDAsICJpbnN1ZmZpY2llbnQgZ2xvYmFsIExQIik7CgogICAgICAgIC8vIGNhbGN1bGF0ZSByZWNlaXZlIGFtb3VudAogICAgICAgIGxldCByZWNlaXZlOiBJbnQgPSAwOwogICAgICAgIGxldCBib251czogSW50ID0gMDsKCiAgICAgICAgaWYgKGdsb2JhbE5ldExQID49IHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkpIHsKICAgICAgICAgICAgbGV0IG46IEludCA9IChub3coKSAtIGxwUG9zaXRpb24ub3BlblRpbWUpIC8gREFZOwoKICAgICAgICAgICAgaWYgKGxwUG9zaXRpb24uYm9udXMgPT0gMCkgewogICAgICAgICAgICAgICAgLy8gYm9udXMgPSBsaXF1aWRpdHkgKiBy77yIeC0x77yJKiBtaW4obu+8jDEwMO+8iSogMC4xJQogICAgICAgICAgICAgICAgYm9udXMgPSBsaXF1aWRpdHlEZWx0YSAqIHNlbGYubHBSZW1vdmVCb251c0ZhY3RvciAqIChnbG9iYWxOZXRMUCAtIHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkpICogbWluKG4sIDEwMCkgLyAoc2VsZi5nbG9iYWxMUExpcXVpZGl0eSAqIDEwMDAgKiBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxldCBib251czE6IEludCA9IGxpcXVpZGl0eURlbHRhICogKGdsb2JhbE5ldExQIC0gc2VsZi5nbG9iYWxMUExpcXVpZGl0eSkgLyBzZWxmLmdsb2JhbExQTGlxdWlkaXR5OwogICAgICAgICAgICAgICAgbGV0IGJvbnVzMjogSW50ID0gbHBQb3NpdGlvbi5ib251czsKICAgICAgICAgICAgICAgIGxldCBib251czM6IEludCA9IGxpcXVpZGl0eURlbHRhICogc2VsZi5scFJlbW92ZUJvbnVzRmFjdG9yICogKGdsb2JhbE5ldExQIC0gc2VsZi5nbG9iYWxMUExpcXVpZGl0eSkgKiBtaW4obiwgMTAwKSAvIChzZWxmLmdsb2JhbExQTGlxdWlkaXR5ICogMTAwMCAqIFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQpOwogICAgICAgICAgICAgICAgYm9udXMgPSBtYXgobWluKGJvbnVzMSwgYm9udXMyKSwgYm9udXMzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZWNlaXZlID0gbGlxdWlkaXR5RGVsdGEgKyBib251czsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZWNlaXZlID0gbGlxdWlkaXR5RGVsdGEgKiBnbG9iYWxOZXRMUCAvIHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHk7CiAgICAgICAgfQogICAgICAgIC8vIHdpdGhkcmF3IGZ1bmRpbmcgZmVlCiAgICAgICAgbGV0IHJlYWxpemVkRnVuZGluZ0ZlZTogSW50ID0gMDsKICAgICAgICBpZiAobHBQb3NpdGlvbi5saXF1aWRpdHkgPiAwKSB7CiAgICAgICAgICAgIHJlYWxpemVkRnVuZGluZ0ZlZSA9IChzZWxmLmdsb2JhbExQRnVuZGluZ0ZlZUdyb3d0aCAtIGxwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoKSAqIGxwUG9zaXRpb24ubGlxdWlkaXR5IC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgfQogICAgICAgIHJlYWxpemVkRnVuZGluZ0ZlZSArPSBscFBvc2l0aW9uLnJlYWxpemVkRnVuZGluZ0ZlZTsKICAgICAgICByZWNlaXZlICs9IHJlYWxpemVkRnVuZGluZ0ZlZTsKCiAgICAgICAgLy8gdXBkYXRlIHBvc2l0aW9uCiAgICAgICAgbHBQb3NpdGlvbi5lbnRyeUZ1bmRpbmdGZWVHcm93dGggPSBzZWxmLmdsb2JhbExQRnVuZGluZ0ZlZUdyb3d0aDsKICAgICAgICBscFBvc2l0aW9uLnJlYWxpemVkRnVuZGluZ0ZlZSA9IDA7CiAgICAgICAgbHBQb3NpdGlvbi5saXF1aWRpdHkgLT0gbGlxdWlkaXR5RGVsdGE7CiAgICAgICAgbHBQb3NpdGlvbi5ib251cyAtPSBtaW4obHBQb3NpdGlvbi5ib251cywgYm9udXMpOwoKICAgICAgICAvLyBzZXQgcG9zaXRpb24KICAgICAgICBpZiAobHBQb3NpdGlvbi5saXF1aWRpdHkgPiAwIHx8IGxwUG9zaXRpb24uYm9udXMgPiAwKSB7CiAgICAgICAgICAgIHNlbGYubHBQb3NpdGlvbnMuc2V0KGFjY291bnQsIGxwUG9zaXRpb24pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNlbGYubHBQb3NpdGlvbnMuc2V0KGFjY291bnQsIG51bGwpOwogICAgICAgIH0KCiAgICAgICAgLy8gdXBkYXRlIGdsb2JhbCBwb3NpdGlvbgogICAgICAgIHNlbGYuZ2xvYmFsTFBGdW5kID0gc2VsZi5nbG9iYWxMUEZ1bmQgLSByZWNlaXZlOwogICAgICAgIHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkgPSBzZWxmLmdsb2JhbExQTGlxdWlkaXR5IC0gbGlxdWlkaXR5RGVsdGE7CiAgICAgICAgaWYgKHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkgPT0gMCkgewogICAgICAgICAgICByZXF1aXJlKHNlbGYuZ2xvYmFsUGVycE5ldFZhbHVlID09IDAgJiYgc2VsZi5nbG9iYWxQZXJwU2luZ2xlVmFsdWUgPT0gMCwgIm11c3QgY2xvc2UgYWxsIHBlcnAgYmVmb3JlIHJlbW92ZSBsYXN0IGxpcXVpZGl0eSIpOwogICAgICAgIH0KCiAgICAgICAgLy8gZXhjZWVkIGdhcwogICAgICAgIGxldCBtc2dWYWx1ZTogSW50ID0gc2VsZi5leGNlZWRHYXMoT1JERVJfVFlQRV9MUCk7CgogICAgICAgIC8vIHNlbmQgdXBkYXRlIHN1Y2Nlc3MgbXNnCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbGYub3JkZXJCb29rLAogICAgICAgICAgICB2YWx1ZTogbXNnVmFsdWUsCiAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgIG1vZGU6IFNlbmRQYXlHYXNTZXBhcmF0ZWx5LAogICAgICAgICAgICBib2R5OiBVcGRhdGVMUFBvc2l0aW9uU3VjY2VzcyB7CiAgICAgICAgICAgICAgICBvcmRlcklkOiBvcmRlcklkLAogICAgICAgICAgICAgICAgcmVjZWl2ZTogcmVjZWl2ZSwKICAgICAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CgogICAgICAgIC8vIGV2ZW50CiAgICAgICAgZW1pdChMUFBvc2l0aW9uRGVjcmVhc2VkRXZlbnR7CiAgICAgICAgICAgIHRyeElkOiB0cnhJZCwKICAgICAgICAgICAgb3JkZXJJZDogb3JkZXJJZCwKICAgICAgICAgICAgb3BUeXBlOiBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFLAogICAgICAgICAgICBwb3NpdGlvbklkOiBscFBvc2l0aW9uLnBvc2l0aW9uSWQsCiAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgICAgICAgIGxpcXVpZGl0eURlbHRhOiBsaXF1aWRpdHlEZWx0YSwKICAgICAgICAgICAgbGlxdWlkaXR5QWZ0ZXI6IGxwUG9zaXRpb24ubGlxdWlkaXR5LAogICAgICAgICAgICBib251c0RlbHRhOiBib251cywKICAgICAgICAgICAgYm9udXNBZnRlcjogbHBQb3NpdGlvbi5ib251cywKICAgICAgICAgICAgZnVuZGluZ0ZlZURlbHRhOiByZWFsaXplZEZ1bmRpbmdGZWUsCiAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBscFBvc2l0aW9uLmVudHJ5RnVuZGluZ0ZlZUdyb3d0aCwKICAgICAgICAgICAgcmVjZWl2ZTogcmVjZWl2ZSwKICAgICAgICAgICAgbHBGdW5kQWZ0ZXI6IHNlbGYuZ2xvYmFsTFBGdW5kLAogICAgICAgICAgICBscExpcXVpZGl0eUFmdGVyOiBzZWxmLmdsb2JhbExQTGlxdWlkaXR5CiAgICAgICAgfS50b0NlbGwoKSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXRyaWV2ZXMgdGhlIExQIHBvc2l0aW9uIGRhdGEgZm9yIGEgZ2l2ZW4gYWNjb3VudC4KICAgICAqIAogICAgICogQHBhcmFtIGFjY291bnQgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQuCiAgICAgKiBAcmV0dXJuIExQUG9zaXRpb25EYXRhIFRoZSBMUCBwb3NpdGlvbiBkYXRhLgogICAgICovCiAgICBnZXQgZnVuIGxwUG9zaXRpb24oYWNjb3VudDogQWRkcmVzcz8pOiBMUFBvc2l0aW9uRGF0YSB7CiAgICAgICAgbGV0IGxwUG9zaXRpb246IExQUG9zaXRpb24/ID0gbnVsbDsKICAgICAgICBpZiAoYWNjb3VudCAhPSBudWxsKSB7CiAgICAgICAgICAgIGxwUG9zaXRpb24gPSBzZWxmLmxwUG9zaXRpb25zLmdldChhY2NvdW50ISEpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gTFBQb3NpdGlvbkRhdGEgewogICAgICAgICAgICBscFBvc2l0aW9uOiBscFBvc2l0aW9uLAogICAgICAgICAgICBnbG9iYWxMUEZ1bmQ6IHNlbGYuZ2xvYmFsTFBGdW5kLAogICAgICAgICAgICBnbG9iYWxMUExpcXVpZGl0eTogc2VsZi5nbG9iYWxMUExpcXVpZGl0eSwKICAgICAgICAgICAgZ2xvYmFsTFBGdW5kaW5nRmVlR3Jvd3RoOiBzZWxmLmdsb2JhbExQRnVuZGluZ0ZlZUdyb3d0aCwKICAgICAgICAgICAgZ2xvYmFsTFBVbnJlYWxpemVkUG5sOiBzZWxmLmdsb2JhbExQVW5yZWFsaXplZFBubAogICAgICAgIH07CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBQZXJwID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCiAgICAvKioKICAgICAqIEBkZXYgVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbiBhIGBVcGRhdGVQZXJwUG9zaXRpb25gIG1lc3NhZ2UgaXMgcmVjZWl2ZWQuCiAgICAgKiBJdCB1cGRhdGVzIHRoZSBwZXJwZXR1YWwgcG9zaXRpb24gYmFzZWQgb24gdGhlIHByb3ZpZGVkIHBhcmFtZXRlcnMuCiAgICAgKiAKICAgICAqIEBwYXJhbSBtc2cgVGhlIGBVcGRhdGVQZXJwUG9zaXRpb25gIG1lc3NhZ2UgY29udGFpbmluZyB0aGUgbmVjZXNzYXJ5IGluZm9ybWF0aW9uLgogICAgICovCiAgICByZWNlaXZlKG1zZzogVXBkYXRlUGVycFBvc2l0aW9uKSB7CiAgICAgICAgcmVxdWlyZShzZW5kZXIoKSA9PSBzZWxmLm9yZGVyQm9vaywgImludmFsaWQgc2VuZGVyIik7CgogICAgICAgIC8vIHRyYWRlIHByaWNlCiAgICAgICAgcmVxdWlyZShhYnMobXNnLnByZW1pdW1SYXRlKSA8IFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQsICJpbnZhbGlkIHByZW1pdW0gcmF0ZSIpOwogICAgICAgIGxldCBwcmV2UHJlbWl1bVJhdGU6IEludCA9IHNlbGYucHJldlByZW1pdW1SYXRlcy5nZXQobXNnLnRva2VuSWQpID09IG51bGwgPyAwIDogc2VsZi5wcmV2UHJlbWl1bVJhdGVzLmdldChtc2cudG9rZW5JZCkhITsKICAgICAgICBsZXQgdHJhZGVQcmljZTogSW50ID0gKFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQgKyAobXNnLnByZW1pdW1SYXRlICsgcHJldlByZW1pdW1SYXRlKSAvIDIpICogbXNnLnByaWNlIC8gUEVSQ0VOVEFHRV9CQVNJU19QT0lOVDsKCiAgICAgICAgLy8gdXBkYXRlIHByaWNlCiAgICAgICAgbGV0IHJlc3VsdDogVXBkYXRlRnVuZGluZ1JhdGVSZXN1bHQgPSBzZWxmLnVwZGF0ZVByaWNlQW5kRnVuZGluZ0ZlZShtc2cudG9rZW5JZCwgdHJhZGVQcmljZSwgZmFsc2UpOwogICAgICAgIHNlbGYucHJldlByZW1pdW1SYXRlcy5zZXQobXNnLnRva2VuSWQsIG1zZy5wcmVtaXVtUmF0ZSk7CgogICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbgogICAgICAgIGlmIChtc2cub3BUeXBlID09IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTUFSS0VUIHx8IG1zZy5vcFR5cGUgPT0gT1JERVJfT1BfVFlQRV9JTkNSRUFTRV9MSU1JVCkgewogICAgICAgICAgICBpZiAobXNnLnRyaWdnZXJBYm92ZSkgewogICAgICAgICAgICAgICAgcmVxdWlyZSh0cmFkZVByaWNlID49IG1zZy50cmlnZ2VyUHJpY2UsICJub3QgcmVhY2ggdHJpZ2dlciBwcmljZSIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmVxdWlyZSh0cmFkZVByaWNlIDw9IG1zZy50cmlnZ2VyUHJpY2UsICJub3QgcmVhY2ggdHJpZ2dlciBwcmljZSIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNlbGYuaW5jcmVhc2VQZXJwUG9zaXRpb24obXNnLnRyeElkLCBtc2cub3JkZXJJZCwgbXNnLm9wVHlwZSwgbXNnLmFjY291bnQsIG1zZy50b2tlbklkLCBtc2cuaXNMb25nLCBtc2cubWFyZ2luRGVsdGEsIG1zZy5zaXplRGVsdGEsIHRyYWRlUHJpY2UsIHJlc3VsdC5scFJlY2VpdmVkRnVuZGluZ0ZlZURlbHRhKTsKICAgICAgICB9IGVsc2UgaWYgKG1zZy5vcFR5cGUgPT0gT1JERVJfT1BfVFlQRV9MSVFVSURBVElPTikgewogICAgICAgICAgICBzZWxmLmxpcXVpZGF0ZVBlcnBQb3NpdGlvbihtc2cudHJ4SWQsIG1zZy5vcmRlcklkLCBtc2cuYWNjb3VudCwgbXNnLnRva2VuSWQsIG1zZy5pc0xvbmcsIHRyYWRlUHJpY2UsIHJlc3VsdC5scFJlY2VpdmVkRnVuZGluZ0ZlZURlbHRhKTsKICAgICAgICB9IGVsc2UgaWYgKG1zZy5vcFR5cGUgPT0gT1JERVJfT1BfVFlQRV9BREwpIHsKICAgICAgICAgICAgc2VsZi5kZWNyZWFzZVBlcnBQb3NpdGlvbihtc2cudHJ4SWQsIG1zZy5vcmRlcklkLCBtc2cub3BUeXBlLCBtc2cuYWNjb3VudCwgbXNnLnRva2VuSWQsIG1zZy5pc0xvbmcsIG1zZy5tYXJnaW5EZWx0YSwgbXNnLnNpemVEZWx0YSwgdHJhZGVQcmljZSwgcmVzdWx0LmxwUmVjZWl2ZWRGdW5kaW5nRmVlRGVsdGEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChtc2cudHJpZ2dlckFib3ZlKSB7CiAgICAgICAgICAgICAgICByZXF1aXJlKHRyYWRlUHJpY2UgPj0gbXNnLnRyaWdnZXJQcmljZSwgIm5vdCByZWFjaCB0cmlnZ2VyIHByaWNlIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXF1aXJlKHRyYWRlUHJpY2UgPD0gbXNnLnRyaWdnZXJQcmljZSwgIm5vdCByZWFjaCB0cmlnZ2VyIHByaWNlIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2VsZi5kZWNyZWFzZVBlcnBQb3NpdGlvbihtc2cudHJ4SWQsIG1zZy5vcmRlcklkLCBtc2cub3BUeXBlLCBtc2cuYWNjb3VudCwgbXNnLnRva2VuSWQsIG1zZy5pc0xvbmcsIG1zZy5tYXJnaW5EZWx0YSwgbXNnLnNpemVEZWx0YSwgdHJhZGVQcmljZSwgcmVzdWx0LmxwUmVjZWl2ZWRGdW5kaW5nRmVlRGVsdGEpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEluY3JlYXNlcyB0aGUgcGVycGV0dWFsIHBvc2l0aW9uIGZvciBhIGdpdmVuIGFjY291bnQgYW5kIHRva2VuLgogICAgICogCiAgICAgKiBAcGFyYW0gdHJ4SWQgVGhlIHRyYW5zYWN0aW9uIElELgogICAgICogQHBhcmFtIG9yZGVySWQgVGhlIG9yZGVyIElELgogICAgICogQHBhcmFtIG9wVHlwZSBUaGUgb3BlcmF0aW9uIHR5cGUuCiAgICAgKiBAcGFyYW0gYWNjb3VudCBUaGUgYWNjb3VudCBhZGRyZXNzLgogICAgICogQHBhcmFtIHRva2VuSWQgVGhlIHRva2VuIElELgogICAgICogQHBhcmFtIGlzTG9uZyBJbmRpY2F0ZXMgd2hldGhlciB0aGUgcG9zaXRpb24gaXMgbG9uZyBvciBzaG9ydC4KICAgICAqIEBwYXJhbSBtYXJnaW5EZWx0YSBUaGUgY2hhbmdlIGluIG1hcmdpbi4KICAgICAqIEBwYXJhbSBzaXplRGVsdGEgVGhlIGNoYW5nZSBpbiBzaXplLgogICAgICogQHBhcmFtIHRyYWRlUHJpY2UgVGhlIHRyYWRlIHByaWNlLgogICAgICogQHBhcmFtIGxwUmVjZWl2ZWRGdW5kaW5nRmVlIFRoZSBmdW5kaW5nIGZlZSByZWNlaXZlZCBieSB0aGUgbGlxdWlkaXR5IHByb3ZpZGVyLgogICAgICovCiAgICBmdW4gaW5jcmVhc2VQZXJwUG9zaXRpb24odHJ4SWQ6IEludCwgb3JkZXJJZDogSW50LCBvcFR5cGU6IEludCwgYWNjb3VudDogQWRkcmVzcywgdG9rZW5JZDogSW50LCBpc0xvbmc6IEJvb2wsIG1hcmdpbkRlbHRhOiBJbnQsIHNpemVEZWx0YTogSW50LCB0cmFkZVByaWNlOiBJbnQsIGxwUmVjZWl2ZWRGdW5kaW5nRmVlOiBJbnQpIHsKICAgICAgICAvLyBnZXQgdG9rZW4gY29uZmlnCiAgICAgICAgbGV0IHRva2VuQ29uZmlnT3B0OiBUb2tlbkNvbmZpZz8gPSBzZWxmLnRva2VuQ29uZmlncy5nZXQodG9rZW5JZCk7CiAgICAgICAgcmVxdWlyZSh0b2tlbkNvbmZpZ09wdCAhPSBudWxsLCAiaW52YWxpZCB0b2tlbiIpOwogICAgICAgIGxldCB0b2tlbkNvbmZpZzogVG9rZW5Db25maWcgPSB0b2tlbkNvbmZpZ09wdCEhOwogICAgICAgIHJlcXVpcmUodG9rZW5Db25maWcuZW5hYmxlLCAiZGlzYWJsZWQgdG9rZW4iKTsKCiAgICAgICAgLy8gY2hlY2sgdmFsdWUKICAgICAgICBpZiAoc2l6ZURlbHRhID4gMCkgewogICAgICAgICAgICBsZXQgdmFsdWVEZWx0YTogSW50ID0gc2l6ZURlbHRhICogdHJhZGVQcmljZSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICByZXF1aXJlKHZhbHVlRGVsdGEgPj0gdG9rZW5Db25maWcubWluVmFsdWUsICJsZXNzIHRoYW4gbWluIHZhbHVlIik7CiAgICAgICAgICAgIHJlcXVpcmUodmFsdWVEZWx0YSA8PSB0b2tlbkNvbmZpZy5tYXhWYWx1ZSwgImdyZWF0ZXIgdGhhbiBtYXggdmFsdWUiKTsKICAgICAgICB9CgogICAgICAgIC8vIGdldCBwb3NpdGlvbgogICAgICAgIGxldCBhY2NvdW50UGVycFBvc2l0aW9uT3B0OiBBY2NvdW50UGVycFBvc2l0aW9uPyA9IHNlbGYucGVycFBvc2l0aW9ucy5nZXQodG9rZW5JZCk7CiAgICAgICAgbGV0IGFjY291bnRQZXJwUG9zaXRpb246IEFjY291bnRQZXJwUG9zaXRpb24gPSBhY2NvdW50UGVycFBvc2l0aW9uT3B0ICE9IG51bGwgPyBhY2NvdW50UGVycFBvc2l0aW9uT3B0ISEgOiBBY2NvdW50UGVycFBvc2l0aW9uewogICAgICAgICAgICBwb3NpdGlvbnM6IGVtcHR5TWFwKCkKICAgICAgICB9OwoKICAgICAgICBsZXQgZGlyZWN0aW9uUGVycFBvc2l0aW9uT3B0OiBEaXJlY3Rpb25QZXJwUG9zaXRpb24/ID0gYWNjb3VudFBlcnBQb3NpdGlvbi5wb3NpdGlvbnMuZ2V0KGFjY291bnQpOwogICAgICAgIGxldCBkaXJlY3Rpb25QZXJwUG9zaXRpb246IERpcmVjdGlvblBlcnBQb3NpdGlvbiA9IGRpcmVjdGlvblBlcnBQb3NpdGlvbk9wdCAhPSBudWxsID8gZGlyZWN0aW9uUGVycFBvc2l0aW9uT3B0ISEgOiBEaXJlY3Rpb25QZXJwUG9zaXRpb257CiAgICAgICAgICAgIGxvbmdQb3NpdGlvbjogUGVycFBvc2l0aW9uIHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uSWQ6IDAsCiAgICAgICAgICAgICAgICBtYXJnaW46IDAsCiAgICAgICAgICAgICAgICBzaXplOiAwLAogICAgICAgICAgICAgICAgZW50cnlQcmljZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aDogMAogICAgICAgICAgICB9LAogICAgICAgICAgICBzaG9ydFBvc2l0aW9uOiBQZXJwUG9zaXRpb24gewogICAgICAgICAgICAgICAgcG9zaXRpb25JZDogMCwKICAgICAgICAgICAgICAgIG1hcmdpbjogMCwKICAgICAgICAgICAgICAgIHNpemU6IDAsCiAgICAgICAgICAgICAgICBlbnRyeVByaWNlOiAwLAogICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiAwCiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBsZXQgcGVycFBvc2l0aW9uOiBQZXJwUG9zaXRpb24gPSBpc0xvbmcgPyBkaXJlY3Rpb25QZXJwUG9zaXRpb24ubG9uZ1Bvc2l0aW9uIDogZGlyZWN0aW9uUGVycFBvc2l0aW9uLnNob3J0UG9zaXRpb247CgogICAgICAgIC8vIGNoZWNrIG1hcmdpbgogICAgICAgIGlmIChwZXJwUG9zaXRpb24uc2l6ZSA9PSAwKSB7CiAgICAgICAgICAgIHBlcnBQb3NpdGlvbi5wb3NpdGlvbklkID0gc2VsZi5wZXJwUG9zaXRpb25JbmRleE5leHQ7CiAgICAgICAgICAgIHNlbGYucGVycFBvc2l0aW9uSW5kZXhOZXh0ICs9IDE7CiAgICAgICAgfQoKICAgICAgICAvLyBnZXQgZ2xvYmFsIHBvc2l0aW9uCiAgICAgICAgbGV0IGdsb2JhbFBvc2l0aW9uT3B0OiBHbG9iYWxQb3NpdGlvbj8gPSBzZWxmLmdsb2JhbFBvc2l0aW9ucy5nZXQodG9rZW5JZCk7CiAgICAgICAgbGV0IGdsb2JhbFBvc2l0aW9uOiBHbG9iYWxQb3NpdGlvbiA9IGdsb2JhbFBvc2l0aW9uT3B0ICE9IG51bGwgPyBnbG9iYWxQb3NpdGlvbk9wdCEhIDogR2xvYmFsUG9zaXRpb257CiAgICAgICAgICAgIGxvbmdNYXJnaW46IDAsCiAgICAgICAgICAgIHNob3J0TWFyZ2luOiAwLAogICAgICAgICAgICBsb25nU2l6ZTogMCwKICAgICAgICAgICAgc2hvcnRTaXplOiAwLAogICAgICAgICAgICBsb25nRnVuZGluZ0ZlZUdyb3d0aDogMCwKICAgICAgICAgICAgc2hvcnRGdW5kaW5nRmVlR3Jvd3RoOiAwLAogICAgICAgICAgICBsb25nVmFsdWU6IDAsCiAgICAgICAgICAgIHNob3J0VmFsdWU6IDAKICAgICAgICB9OwogICAgICAgIGlmIChpc0xvbmcpIHsKICAgICAgICAgICAgZ2xvYmFsUG9zaXRpb24ubG9uZ1NpemUgKz0gc2l6ZURlbHRhOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLnNob3J0U2l6ZSArPSBzaXplRGVsdGE7CiAgICAgICAgfQogICAgICAgIC8vIHVwZGF0ZSBnbG9iYWwgdmFsdWUgYW5kIGNoZWNrIGxpcXVpZGl0eQogICAgICAgIGxldCBzaW5nbGVWYWx1ZUJlZm9yZTogSW50ID0gbWF4KGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSwgZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSk7CiAgICAgICAgbGV0IG5ldFZhbHVlQmVmb3JlOiBJbnQgPSBhYnMoZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlIC0gZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSk7CiAgICAgICAgZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlID0gZ2xvYmFsUG9zaXRpb24ubG9uZ1NpemUgKiB0cmFkZVByaWNlIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSA9IGdsb2JhbFBvc2l0aW9uLnNob3J0U2l6ZSAqIHRyYWRlUHJpY2UgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKCiAgICAgICAgc2VsZi5nbG9iYWxQZXJwU2luZ2xlVmFsdWUgKz0gbWF4KGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSwgZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSkgLSBzaW5nbGVWYWx1ZUJlZm9yZTsKICAgICAgICBzZWxmLmdsb2JhbFBlcnBOZXRWYWx1ZSArPSBhYnMoZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlIC0gZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSkgLSBuZXRWYWx1ZUJlZm9yZTsKCiAgICAgICAgLy8gZ2V0IGdsb2JhbCBscCBwb3NpdGlvbgogICAgICAgIGxldCBnbG9iYWxMUFBvc2l0aW9uT3B0OiBHbG9iYWxMUFBvc2l0aW9uPyA9IHNlbGYuZ2xvYmFsTFBQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgIGxldCBnbG9iYWxMUFBvc2l0aW9uOiBHbG9iYWxMUFBvc2l0aW9uID0gZ2xvYmFsTFBQb3NpdGlvbk9wdCAhPSBudWxsID8gZ2xvYmFsTFBQb3NpdGlvbk9wdCEhIDogR2xvYmFsTFBQb3NpdGlvbiB7CiAgICAgICAgICAgIG5ldFNpemU6IDAsCiAgICAgICAgICAgIGlzTG9uZzogZmFsc2UsCiAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgIHVucmVhbGl6ZWRQbmw6IDAKICAgICAgICB9OwoKICAgICAgICAvLyBscCBwbmwKICAgICAgICBsZXQgbHBSZWFsaXplZFBubDogSW50ID0gMDsKICAgICAgICBsZXQgc2l6ZVJlbWFpbmluZzogSW50ID0gc2l6ZURlbHRhOwogICAgICAgIGlmIChnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgPiAwICYmIChpc0xvbmcgPT0gZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcpKSB7CiAgICAgICAgICAgIGxldCBzaXplVXNlZDogSW50ID0gbWluKGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSwgc2l6ZURlbHRhKTsKICAgICAgICAgICAgaWYgKGlzTG9uZykgewogICAgICAgICAgICAgICAgbHBSZWFsaXplZFBubCA9IHNpemVVc2VkICogKHRyYWRlUHJpY2UgLSBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UpIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBscFJlYWxpemVkUG5sID0gc2l6ZVVzZWQgKiAoZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlIC0gdHJhZGVQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgfQogICAgICAgICAgICBzaXplUmVtYWluaW5nIC09IHNpemVVc2VkOwogICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgLT0gc2l6ZVVzZWQ7CiAgICAgICAgICAgIGlmIChnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgPT0gMCkgewogICAgICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlID0gMDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvLyBlbnRyeSBwcmljZQogICAgICAgIGlmIChzaXplUmVtYWluaW5nID4gMCkgewogICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UgPSAoZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplICogZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlICsgc2l6ZVJlbWFpbmluZyAqIHRyYWRlUHJpY2UpIC8gKGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSArIHNpemVSZW1haW5pbmcpOwogICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgKz0gc2l6ZVJlbWFpbmluZzsKICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcgPSAhaXNMb25nOwogICAgICAgIH0KCiAgICAgICAgLy8gdXBkYXRlIHVucmVhbGl6ZWQgcG5sCiAgICAgICAgbGV0IGxwVW5yZWFsaXplZFBubDogSW50ID0gMDsKICAgICAgICBpZiAoZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcpIHsKICAgICAgICAgICAgbHBVbnJlYWxpemVkUG5sID0gZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplICogKHRyYWRlUHJpY2UgLSBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UpIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbHBVbnJlYWxpemVkUG5sID0gZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplICogKGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSAtIHRyYWRlUHJpY2UpIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgfQogICAgICAgIHNlbGYuZ2xvYmFsTFBVbnJlYWxpemVkUG5sID0gc2VsZi5nbG9iYWxMUFVucmVhbGl6ZWRQbmwgLSBnbG9iYWxMUFBvc2l0aW9uLnVucmVhbGl6ZWRQbmwgKyBscFVucmVhbGl6ZWRQbmw7CiAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi51bnJlYWxpemVkUG5sID0gbHBVbnJlYWxpemVkUG5sOwoKICAgICAgICBsZXQgZ2xvYmFsTmV0TFA6IEludCA9IHNlbGYuZ2xvYmFsTFBGdW5kICsgc2VsZi5nbG9iYWxMUFVucmVhbGl6ZWRQbmw7CiAgICAgICAgcmVxdWlyZShzZWxmLmdsb2JhbFBlcnBTaW5nbGVWYWx1ZSA8PSBnbG9iYWxOZXRMUCAqIHNlbGYubHBMaXF1aWRpdHlGYWN0b3IgLyBQRVJDRU5UQUdFX0JBU0lTX1BPSU5ULCAiaW5zdWZmaWNpZW50IGxpcXVpZGl0eSBmb3Igc2luZ2xlIHZhbHVlIik7CiAgICAgICAgcmVxdWlyZShzZWxmLmdsb2JhbFBlcnBOZXRWYWx1ZSA8PSBnbG9iYWxOZXRMUCwgImluc3VmZmljaWVudCBsaXF1aWRpdHkgZm9yIG5ldCB2YWx1ZSIpOwoKICAgICAgICAvLyB0cmFkaW5nIGZlZQogICAgICAgIGxldCB0cmFkaW5nRmVlOiBJbnQgPSAwOwogICAgICAgIGxldCBscFRyYWRpbmdGZWU6IEludCA9IDA7CiAgICAgICAgaWYgKHNpemVEZWx0YSA+IDApIHsKICAgICAgICAgICAgdHJhZGluZ0ZlZSA9IHNpemVEZWx0YSAqIHRyYWRlUHJpY2UgKiB0b2tlbkNvbmZpZy50cmFkaW5nRmVlUmF0ZSAvIChQRVJDRU5UQUdFX0JBU0lTX1BPSU5UICogUFJJQ0VfREVDSU1BTF9GQUNUT1IpOwogICAgICAgICAgICBscFRyYWRpbmdGZWUgPSB0cmFkaW5nRmVlICogdG9rZW5Db25maWcubHBUcmFkaW5nRmVlUmF0ZSAvIFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQ7CiAgICAgICAgICAgIHNlbGYucHJvdG9jb2xUcmFkaW5nRmVlICs9IHRyYWRpbmdGZWUgLSBscFRyYWRpbmdGZWU7CiAgICAgICAgICAgIHNlbGYuZ2xvYmFsTFBGdW5kICs9IGxwUmVhbGl6ZWRQbmwgKyBscFRyYWRpbmdGZWU7CiAgICAgICAgfQoKICAgICAgICAvLyBmdW5kaW5nIGZlZQogICAgICAgIGxldCBmdW5kaW5nRmVlOiBJbnQgPSAwOwogICAgICAgIGxldCBlbnRyeUZ1bmRpbmdGZWVHcm93dGhBZnRlcjogSW50ID0gMDsKICAgICAgICBpZiAoaXNMb25nKSB7CiAgICAgICAgICAgIGZ1bmRpbmdGZWUgPSAoZ2xvYmFsUG9zaXRpb24ubG9uZ0Z1bmRpbmdGZWVHcm93dGggLSBwZXJwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoKSAqIHBlcnBQb3NpdGlvbi5zaXplIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyID0gZ2xvYmFsUG9zaXRpb24ubG9uZ0Z1bmRpbmdGZWVHcm93dGg7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZnVuZGluZ0ZlZSA9IChnbG9iYWxQb3NpdGlvbi5zaG9ydEZ1bmRpbmdGZWVHcm93dGggLSBwZXJwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoKSAqIHBlcnBQb3NpdGlvbi5zaXplIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyID0gZ2xvYmFsUG9zaXRpb24uc2hvcnRGdW5kaW5nRmVlR3Jvd3RoOwogICAgICAgIH0KCiAgICAgICAgLy8gdXBkYXRlIHBvc2l0aW9uCiAgICAgICAgbGV0IG1hcmdpbkJlZm9yZTogSW50ID0gcGVycFBvc2l0aW9uLm1hcmdpbjsKICAgICAgICBwZXJwUG9zaXRpb24ubWFyZ2luICs9IG1hcmdpbkRlbHRhICsgZnVuZGluZ0ZlZSAtIHRyYWRpbmdGZWU7CiAgICAgICAgbGV0IG1hcmdpbkRlbHRhQWZ0ZXI6IEludCA9IHBlcnBQb3NpdGlvbi5tYXJnaW4gLSBtYXJnaW5CZWZvcmU7CgogICAgICAgIHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlID0gKHBlcnBQb3NpdGlvbi5zaXplICogcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UgKyBzaXplRGVsdGEgKiB0cmFkZVByaWNlKSAvIChwZXJwUG9zaXRpb24uc2l6ZSArIHNpemVEZWx0YSk7CiAgICAgICAgcGVycFBvc2l0aW9uLnNpemUgKz0gc2l6ZURlbHRhOwogICAgICAgIHBlcnBQb3NpdGlvbi5lbnRyeUZ1bmRpbmdGZWVHcm93dGggPSBlbnRyeUZ1bmRpbmdGZWVHcm93dGhBZnRlcjsKCiAgICAgICAgLy8gY2hlY2sgbWFpbnRhaW4gbWFyZ2luCiAgICAgICAgbGV0IHVucmVhbGl6ZWRQbmw6IEludCA9IDA7CiAgICAgICAgaWYgKGlzTG9uZykgewogICAgICAgICAgICB1bnJlYWxpemVkUG5sID0gcGVycFBvc2l0aW9uLnNpemUgKiAodHJhZGVQcmljZSAtIHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlKSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHVucmVhbGl6ZWRQbmwgPSBwZXJwUG9zaXRpb24uc2l6ZSAqIChwZXJwUG9zaXRpb24uZW50cnlQcmljZSAtIHRyYWRlUHJpY2UpIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgfQogICAgICAgIGxldCBtYWludGVuYW5jZU1hcmdpbjogSW50ID0gcGVycFBvc2l0aW9uLnNpemUgKiB0cmFkZVByaWNlICogKHRva2VuQ29uZmlnLnRyYWRpbmdGZWVSYXRlICsgdG9rZW5Db25maWcubWFpbnRlbmFuY2VSYXRlKSAvIChQRVJDRU5UQUdFX0JBU0lTX1BPSU5UICogUFJJQ0VfREVDSU1BTF9GQUNUT1IpICsgdG9rZW5Db25maWcubGlxdWlkYXRpb25GZWU7CiAgICAgICAgcmVxdWlyZShtYWludGVuYW5jZU1hcmdpbiA8IHBlcnBQb3NpdGlvbi5tYXJnaW4gKyB1bnJlYWxpemVkUG5sLCAibWFyZ2luIHJhdGUgdG9vIGhpZ2giKTsKCiAgICAgICAgLy8gY2hlY2sgbGV2ZXJhZ2UKICAgICAgICByZXF1aXJlKHBlcnBQb3NpdGlvbi5tYXJnaW4gKiB0b2tlbkNvbmZpZy5tYXhMZXZlcmFnZSA+PSBwZXJwUG9zaXRpb24uc2l6ZSAqIHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1IsICJsZXZlcmFnZSB0b28gaGlnaCIpOwoKICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb24KICAgICAgICBpZiAoaXNMb25nKSB7CiAgICAgICAgICAgIGRpcmVjdGlvblBlcnBQb3NpdGlvbi5sb25nUG9zaXRpb24gPSBwZXJwUG9zaXRpb247CiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLmxvbmdNYXJnaW4gKz0gbWFyZ2luRGVsdGFBZnRlcjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkaXJlY3Rpb25QZXJwUG9zaXRpb24uc2hvcnRQb3NpdGlvbiA9IHBlcnBQb3NpdGlvbjsKICAgICAgICAgICAgZ2xvYmFsUG9zaXRpb24uc2hvcnRNYXJnaW4gKz0gbWFyZ2luRGVsdGFBZnRlcjsKICAgICAgICB9CiAgICAgICAgYWNjb3VudFBlcnBQb3NpdGlvbi5wb3NpdGlvbnMuc2V0KGFjY291bnQsIGRpcmVjdGlvblBlcnBQb3NpdGlvbik7CiAgICAgICAgc2VsZi5wZXJwUG9zaXRpb25zLnNldCh0b2tlbklkLCBhY2NvdW50UGVycFBvc2l0aW9uKTsKICAgICAgICBzZWxmLmdsb2JhbFBvc2l0aW9ucy5zZXQodG9rZW5JZCwgZ2xvYmFsUG9zaXRpb24pOwogICAgICAgIHNlbGYuZ2xvYmFsTFBQb3NpdGlvbnMuc2V0KHRva2VuSWQsIGdsb2JhbExQUG9zaXRpb24pOwoKICAgICAgICAvLyBleGNlZWQgZ2FzCiAgICAgICAgbGV0IG1zZ1ZhbHVlOiBJbnQgPSBzZWxmLmV4Y2VlZEdhcyhPUkRFUl9UWVBFX1BFUlApOwoKICAgICAgICByZXF1aXJlKG1zZ1ZhbHVlID4gMCwgInNlbmQgZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICAvLyBzZW5kIHVwZGF0ZSBzdWNjZXNzIG1zZwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLm9yZGVyQm9vaywKICAgICAgICAgICAgdmFsdWU6IG1zZ1ZhbHVlLAogICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICBtb2RlOiBTZW5kUGF5R2FzU2VwYXJhdGVseSwKICAgICAgICAgICAgYm9keTogVXBkYXRlUGVycFBvc2l0aW9uU3VjY2VzcyB7CiAgICAgICAgICAgICAgICBvcmRlcklkOiBvcmRlcklkLAogICAgICAgICAgICAgICAgcmVjZWl2ZTogMCwKICAgICAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CgogICAgICAgIC8vIGV2ZW50CiAgICAgICAgZW1pdChQZXJwUG9zaXRpb25JbmNyZWFzZWRFdmVudHsKICAgICAgICAgICAgdHJ4SWQ6IHRyeElkLAogICAgICAgICAgICBvcmRlcklkOiBvcmRlcklkLAogICAgICAgICAgICBvcFR5cGU6IG9wVHlwZSwKICAgICAgICAgICAgcG9zaXRpb25JZDogcGVycFBvc2l0aW9uLnBvc2l0aW9uSWQsCiAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgICAgICAgIHRva2VuSWQ6IHRva2VuSWQsCiAgICAgICAgICAgIGlzTG9uZzogaXNMb25nLAogICAgICAgICAgICBtYXJnaW5EZWx0YTogbWFyZ2luRGVsdGFBZnRlciwKICAgICAgICAgICAgbWFyZ2luQWZ0ZXI6IHBlcnBQb3NpdGlvbi5tYXJnaW4sCiAgICAgICAgICAgIHNpemVEZWx0YTogc2l6ZURlbHRhLAogICAgICAgICAgICBzaXplQWZ0ZXI6IHBlcnBQb3NpdGlvbi5zaXplLAogICAgICAgICAgICB0cmFkZVByaWNlOiB0cmFkZVByaWNlLAogICAgICAgICAgICBlbnRyeVByaWNlOiBwZXJwUG9zaXRpb24uZW50cnlQcmljZSwKICAgICAgICAgICAgdHJhZGluZ0ZlZTogdHJhZGluZ0ZlZSwKICAgICAgICAgICAgZnVuZGluZ0ZlZTogZnVuZGluZ0ZlZSwKICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyLAoKICAgICAgICAgICAgZ2xvYmFsTG9uZ01hcmdpbkFmdGVyOiBnbG9iYWxQb3NpdGlvbi5sb25nTWFyZ2luLAogICAgICAgICAgICBnbG9iYWxTaG9ydE1hcmdpbkFmdGVyOiBnbG9iYWxQb3NpdGlvbi5zaG9ydE1hcmdpbiwKICAgICAgICAgICAgZ2xvYmFsTG9uZ1NpemVBZnRlcjogZ2xvYmFsUG9zaXRpb24ubG9uZ1NpemUsCiAgICAgICAgICAgIGdsb2JhbFNob3J0U2l6ZUFmdGVyOiBnbG9iYWxQb3NpdGlvbi5zaG9ydFNpemUsCiAgICAgICAgICAgIGdsb2JhbExvbmdGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IGdsb2JhbFBvc2l0aW9uLmxvbmdGdW5kaW5nRmVlR3Jvd3RoLAogICAgICAgICAgICBnbG9iYWxTaG9ydEZ1bmRpbmdGZWVHcm93dGhBZnRlcjogZ2xvYmFsUG9zaXRpb24uc2hvcnRGdW5kaW5nRmVlR3Jvd3RoLAogICAgICAgICAgICBnbG9iYWxMUEZ1bmRpbmdGZWVHcm93dGhBZnRlcjogc2VsZi5nbG9iYWxMUEZ1bmRpbmdGZWVHcm93dGgsCgogICAgICAgICAgICBscE5ldFNpemVBZnRlcjogZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplLAogICAgICAgICAgICBscElzTG9uZzogZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcsCiAgICAgICAgICAgIGxwRW50cnlQcmljZUFmdGVyOiBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UsCiAgICAgICAgICAgIGxwRnVuZEFmdGVyOiBzZWxmLmdsb2JhbExQRnVuZCwKICAgICAgICAgICAgbHBMaXF1aWRpdHlBZnRlcjogc2VsZi5nbG9iYWxMUExpcXVpZGl0eSwKICAgICAgICAgICAgbHBUcmFkaW5nRmVlOiBscFRyYWRpbmdGZWUsCiAgICAgICAgICAgIGxwUmVhbGl6ZWRQbmw6IGxwUmVhbGl6ZWRQbmwsCiAgICAgICAgICAgIGxwUmVjZWl2ZWRGdW5kaW5nRmVlOiBscFJlY2VpdmVkRnVuZGluZ0ZlZQogICAgICAgIH0udG9DZWxsKCkpOwogICAgfQoKICAgIC8qKgogICAgICogRGVjcmVhc2VzIHRoZSBwZXJwZXR1YWwgcG9zaXRpb24gZm9yIGEgZ2l2ZW4gYWNjb3VudCBhbmQgdG9rZW4uCiAgICAgKiAKICAgICAqIEBwYXJhbSB0cnhJZCBUaGUgdHJhbnNhY3Rpb24gSUQuCiAgICAgKiBAcGFyYW0gb3JkZXJJZCBUaGUgb3JkZXIgSUQuCiAgICAgKiBAcGFyYW0gb3BUeXBlIFRoZSBvcGVyYXRpb24gdHlwZS4KICAgICAqIEBwYXJhbSBhY2NvdW50IFRoZSBhY2NvdW50IGFkZHJlc3MuCiAgICAgKiBAcGFyYW0gdG9rZW5JZCBUaGUgdG9rZW4gSUQuCiAgICAgKiBAcGFyYW0gaXNMb25nIEluZGljYXRlcyB3aGV0aGVyIHRoZSBwb3NpdGlvbiBpcyBsb25nIG9yIHNob3J0LgogICAgICogQHBhcmFtIG1hcmdpbkRlbHRhIFRoZSBjaGFuZ2UgaW4gbWFyZ2luLgogICAgICogQHBhcmFtIHNpemVEZWx0YSBUaGUgY2hhbmdlIGluIHNpemUuCiAgICAgKiBAcGFyYW0gdHJhZGVQcmljZSBUaGUgdHJhZGUgcHJpY2UuCiAgICAgKiBAcGFyYW0gbHBSZWNlaXZlZEZ1bmRpbmdGZWUgVGhlIExQIHJlY2VpdmVkIGZ1bmRpbmcgZmVlLgogICAgICovCiAgICBmdW4gZGVjcmVhc2VQZXJwUG9zaXRpb24odHJ4SWQ6IEludCwgb3JkZXJJZDogSW50LCBvcFR5cGU6IEludCwgYWNjb3VudDogQWRkcmVzcywgdG9rZW5JZDogSW50LCBpc0xvbmc6IEJvb2wsIG1hcmdpbkRlbHRhOiBJbnQsIHNpemVEZWx0YTogSW50LCB0cmFkZVByaWNlOiBJbnQsIGxwUmVjZWl2ZWRGdW5kaW5nRmVlOiBJbnQpIHsKICAgICAgICAvLyBnZXQgdG9rZW4gY29uZmlnCiAgICAgICAgbGV0IHRva2VuQ29uZmlnT3B0OiBUb2tlbkNvbmZpZz8gPSBzZWxmLnRva2VuQ29uZmlncy5nZXQodG9rZW5JZCk7CiAgICAgICAgcmVxdWlyZSh0b2tlbkNvbmZpZ09wdCAhPSBudWxsLCAiaW52YWxpZCB0b2tlbiIpOwogICAgICAgIGxldCB0b2tlbkNvbmZpZzogVG9rZW5Db25maWcgPSB0b2tlbkNvbmZpZ09wdCEhOwogICAgICAgIHJlcXVpcmUodG9rZW5Db25maWcuZW5hYmxlLCAiZGlzYWJsZWQgdG9rZW4iKTsKCiAgICAgICAgLy8gZ2V0IHBvc2l0aW9uCiAgICAgICAgbGV0IGFjY291bnRQZXJwUG9zaXRpb25PcHQ6IEFjY291bnRQZXJwUG9zaXRpb24/ID0gc2VsZi5wZXJwUG9zaXRpb25zLmdldCh0b2tlbklkKTsKICAgICAgICBsZXQgYWNjb3VudFBlcnBQb3NpdGlvbjogQWNjb3VudFBlcnBQb3NpdGlvbiA9IGFjY291bnRQZXJwUG9zaXRpb25PcHQgIT0gbnVsbCA/IGFjY291bnRQZXJwUG9zaXRpb25PcHQhISA6IEFjY291bnRQZXJwUG9zaXRpb257CiAgICAgICAgICAgIHBvc2l0aW9uczogZW1wdHlNYXAoKQogICAgICAgIH07CgogICAgICAgIGxldCBkaXJlY3Rpb25QZXJwUG9zaXRpb25PcHQ6IERpcmVjdGlvblBlcnBQb3NpdGlvbj8gPSBhY2NvdW50UGVycFBvc2l0aW9uLnBvc2l0aW9ucy5nZXQoYWNjb3VudCk7CiAgICAgICAgbGV0IGRpcmVjdGlvblBlcnBQb3NpdGlvbjogRGlyZWN0aW9uUGVycFBvc2l0aW9uID0gZGlyZWN0aW9uUGVycFBvc2l0aW9uT3B0ICE9IG51bGwgPyBkaXJlY3Rpb25QZXJwUG9zaXRpb25PcHQhISA6IERpcmVjdGlvblBlcnBQb3NpdGlvbnsKICAgICAgICAgICAgbG9uZ1Bvc2l0aW9uOiBQZXJwUG9zaXRpb24gewogICAgICAgICAgICAgICAgcG9zaXRpb25JZDogMCwKICAgICAgICAgICAgICAgIG1hcmdpbjogMCwKICAgICAgICAgICAgICAgIHNpemU6IDAsCiAgICAgICAgICAgICAgICBlbnRyeVByaWNlOiAwLAogICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiAwCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNob3J0UG9zaXRpb246IFBlcnBQb3NpdGlvbiB7CiAgICAgICAgICAgICAgICBwb3NpdGlvbklkOiAwLAogICAgICAgICAgICAgICAgbWFyZ2luOiAwLAogICAgICAgICAgICAgICAgc2l6ZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGg6IDAKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIGxldCBwZXJwUG9zaXRpb246IFBlcnBQb3NpdGlvbiA9IGlzTG9uZyA/IGRpcmVjdGlvblBlcnBQb3NpdGlvbi5sb25nUG9zaXRpb24gOiBkaXJlY3Rpb25QZXJwUG9zaXRpb24uc2hvcnRQb3NpdGlvbjsKICAgICAgICByZXF1aXJlKHBlcnBQb3NpdGlvbi5zaXplID4gMCwgInBvc2l0aW9uIG5vdCBleGlzdCIpOwoKICAgICAgICAvLyBjbGFtcCBkZWx0YQogICAgICAgIGlmIChzaXplRGVsdGEgPiBwZXJwUG9zaXRpb24uc2l6ZSkgewogICAgICAgICAgICBzaXplRGVsdGEgPSBwZXJwUG9zaXRpb24uc2l6ZTsKICAgICAgICB9CgogICAgICAgIC8vIGdldCBnbG9iYWwgcG9zaXRpb24KICAgICAgICBsZXQgZ2xvYmFsUG9zaXRpb25PcHQ6IEdsb2JhbFBvc2l0aW9uPyA9IHNlbGYuZ2xvYmFsUG9zaXRpb25zLmdldCh0b2tlbklkKTsKICAgICAgICBsZXQgZ2xvYmFsUG9zaXRpb246IEdsb2JhbFBvc2l0aW9uID0gZ2xvYmFsUG9zaXRpb25PcHQgIT0gbnVsbCA/IGdsb2JhbFBvc2l0aW9uT3B0ISEgOiBHbG9iYWxQb3NpdGlvbnsKICAgICAgICAgICAgbG9uZ01hcmdpbjogMCwKICAgICAgICAgICAgc2hvcnRNYXJnaW46IDAsCiAgICAgICAgICAgIGxvbmdTaXplOiAwLAogICAgICAgICAgICBzaG9ydFNpemU6IDAsCiAgICAgICAgICAgIGxvbmdGdW5kaW5nRmVlR3Jvd3RoOiAwLAogICAgICAgICAgICBzaG9ydEZ1bmRpbmdGZWVHcm93dGg6IDAsCiAgICAgICAgICAgIGxvbmdWYWx1ZTogMCwKICAgICAgICAgICAgc2hvcnRWYWx1ZTogMAogICAgICAgIH07CgogICAgICAgIC8vIGZ1bmRpbmcgZmVlCiAgICAgICAgbGV0IGZ1bmRpbmdGZWU6IEludCA9IDA7CiAgICAgICAgbGV0IGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBJbnQgPSAwOwogICAgICAgIGlmIChpc0xvbmcpIHsKICAgICAgICAgICAgZnVuZGluZ0ZlZSA9IChnbG9iYWxQb3NpdGlvbi5sb25nRnVuZGluZ0ZlZUdyb3d0aCAtIHBlcnBQb3NpdGlvbi5lbnRyeUZ1bmRpbmdGZWVHcm93dGgpICogcGVycFBvc2l0aW9uLnNpemUgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXIgPSBnbG9iYWxQb3NpdGlvbi5sb25nRnVuZGluZ0ZlZUdyb3d0aDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBmdW5kaW5nRmVlID0gKGdsb2JhbFBvc2l0aW9uLnNob3J0RnVuZGluZ0ZlZUdyb3d0aCAtIHBlcnBQb3NpdGlvbi5lbnRyeUZ1bmRpbmdGZWVHcm93dGgpICogcGVycFBvc2l0aW9uLnNpemUgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXIgPSBnbG9iYWxQb3NpdGlvbi5zaG9ydEZ1bmRpbmdGZWVHcm93dGg7CiAgICAgICAgfQoKICAgICAgICAvLyBnZXQgZ2xvYmFsIHBvc2l0aW9uCiAgICAgICAgbGV0IGdsb2JhbExQUG9zaXRpb25PcHQ6IEdsb2JhbExQUG9zaXRpb24/ID0gc2VsZi5nbG9iYWxMUFBvc2l0aW9ucy5nZXQodG9rZW5JZCk7CiAgICAgICAgbGV0IGdsb2JhbExQUG9zaXRpb246IEdsb2JhbExQUG9zaXRpb24gPSBnbG9iYWxMUFBvc2l0aW9uT3B0ICE9IG51bGwgPyBnbG9iYWxMUFBvc2l0aW9uT3B0ISEgOiBHbG9iYWxMUFBvc2l0aW9uIHsKICAgICAgICAgICAgbmV0U2l6ZTogMCwKICAgICAgICAgICAgaXNMb25nOiBmYWxzZSwKICAgICAgICAgICAgZW50cnlQcmljZTogMCwKICAgICAgICAgICAgdW5yZWFsaXplZFBubDogMAogICAgICAgIH07CgogICAgICAgIC8vIGxwIHBubAogICAgICAgIGxldCBscFJlYWxpemVkUG5sOiBJbnQgPSAwOwogICAgICAgIGxldCBzaXplUmVtYWluaW5nOiBJbnQgPSBzaXplRGVsdGE7CiAgICAgICAgaWYgKGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSA+IDAgJiYgKGlzTG9uZyAhPSBnbG9iYWxMUFBvc2l0aW9uLmlzTG9uZykpIHsKICAgICAgICAgICAgbGV0IHNpemVVc2VkOiBJbnQgPSBtaW4oZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplLCBzaXplRGVsdGEpOwogICAgICAgICAgICBpZiAoIWlzTG9uZykgewogICAgICAgICAgICAgICAgbHBSZWFsaXplZFBubCA9IHNpemVVc2VkICogKHRyYWRlUHJpY2UgLSBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UpIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBscFJlYWxpemVkUG5sID0gc2l6ZVVzZWQgKiAoZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlIC0gdHJhZGVQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgfQogICAgICAgICAgICBzaXplUmVtYWluaW5nIC09IHNpemVVc2VkOwogICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgLT0gc2l6ZVVzZWQ7CiAgICAgICAgICAgIGlmIChnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgPT0gMCkgewogICAgICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlID0gMDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvLyBscCBlbnRyeSBwcmljZQogICAgICAgIGlmIChzaXplUmVtYWluaW5nID4gMCkgewogICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UgPSAoZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplICogZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlICsgc2l6ZVJlbWFpbmluZyAqIHRyYWRlUHJpY2UpIC8gKGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSArIHNpemVSZW1haW5pbmcpOwogICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgKz0gc2l6ZVJlbWFpbmluZzsKICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcgPSBpc0xvbmc7CiAgICAgICAgfQoKICAgICAgICAvLyB0cmFkaW5nIGZlZQogICAgICAgIGxldCB0cmFkaW5nRmVlOiBJbnQgPSAwOwogICAgICAgIGxldCBscFRyYWRpbmdGZWU6IEludCA9IDA7CiAgICAgICAgaWYgKHNpemVEZWx0YSA+IDApIHsKICAgICAgICAgICAgdHJhZGluZ0ZlZSA9IHNpemVEZWx0YSAqIHRyYWRlUHJpY2UgKiB0b2tlbkNvbmZpZy50cmFkaW5nRmVlUmF0ZSAvIChQRVJDRU5UQUdFX0JBU0lTX1BPSU5UICogUFJJQ0VfREVDSU1BTF9GQUNUT1IpOwogICAgICAgICAgICBscFRyYWRpbmdGZWUgPSB0cmFkaW5nRmVlICogdG9rZW5Db25maWcubHBUcmFkaW5nRmVlUmF0ZSAvIFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQ7CgogICAgICAgICAgICBzZWxmLnByb3RvY29sVHJhZGluZ0ZlZSArPSB0cmFkaW5nRmVlIC0gbHBUcmFkaW5nRmVlOwogICAgICAgICAgICBzZWxmLmdsb2JhbExQRnVuZCArPSBscFJlYWxpemVkUG5sICsgbHBUcmFkaW5nRmVlOwogICAgICAgIH0KICAgICAgICBsZXQgcG9zaXRpb25JZDogSW50ID0gcGVycFBvc2l0aW9uLnBvc2l0aW9uSWQ7CiAgICAgICAgbGV0IHJlY2VpdmU6IEludCA9IDA7CiAgICAgICAgbGV0IHJlYWxpemVkUG5sOiBJbnQgPSAwOwogICAgICAgIC8vIHBvc2l0aW9uIHBubAogICAgICAgIGlmIChpc0xvbmcpIHsKICAgICAgICAgICAgcmVhbGl6ZWRQbmwgPSBzaXplRGVsdGEgKiAodHJhZGVQcmljZSAtIHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlKSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlYWxpemVkUG5sID0gc2l6ZURlbHRhICogKHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlIC0gdHJhZGVQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICB9CgogICAgICAgIC8vIG1hcmdpbgogICAgICAgIGxldCBtYXJnaW5CZWZvcmU6IEludCA9IHBlcnBQb3NpdGlvbi5tYXJnaW47CiAgICAgICAgcGVycFBvc2l0aW9uLm1hcmdpbiArPSByZWFsaXplZFBubCArIGZ1bmRpbmdGZWUgLSB0cmFkaW5nRmVlOwoKICAgICAgICByZXF1aXJlKHBlcnBQb3NpdGlvbi5tYXJnaW4gPj0gMCwgImluc3VmZmljaWVudCBtYXJnaW4iKTsKICAgICAgICBpZiAobWFyZ2luRGVsdGEgPiBwZXJwUG9zaXRpb24ubWFyZ2luKSB7CiAgICAgICAgICAgIG1hcmdpbkRlbHRhID0gcGVycFBvc2l0aW9uLm1hcmdpbjsKICAgICAgICB9CiAgICAgICAgcGVycFBvc2l0aW9uLm1hcmdpbiAtPSBtYXJnaW5EZWx0YTsKICAgICAgICBwZXJwUG9zaXRpb24uc2l6ZSAtPSBzaXplRGVsdGE7CiAgICAgICAgcGVycFBvc2l0aW9uLmVudHJ5RnVuZGluZ0ZlZUdyb3d0aCA9IGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOwogICAgICAgIGxldCBtYXJnaW5EZWx0YUFmdGVyOiBJbnQgPSBtYXJnaW5CZWZvcmUgLSBwZXJwUG9zaXRpb24ubWFyZ2luOwoKICAgICAgICBpZiAocGVycFBvc2l0aW9uLnNpemUgPiAwKSB7CiAgICAgICAgICAgIC8vIGNoZWNrIG1haW50YWluIG1hcmdpbgogICAgICAgICAgICBsZXQgdW5yZWFsaXplZFBubDogSW50ID0gMDsKICAgICAgICAgICAgaWYgKGlzTG9uZykgewogICAgICAgICAgICAgICAgdW5yZWFsaXplZFBubCA9IHBlcnBQb3NpdGlvbi5zaXplICogKHRyYWRlUHJpY2UgLSBwZXJwUG9zaXRpb24uZW50cnlQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHVucmVhbGl6ZWRQbmwgPSBwZXJwUG9zaXRpb24uc2l6ZSAqIChwZXJwUG9zaXRpb24uZW50cnlQcmljZSAtIHRyYWRlUHJpY2UpIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbGV0IG1haW50ZW5hbmNlTWFyZ2luOiBJbnQgPSBwZXJwUG9zaXRpb24uc2l6ZSAqIHRyYWRlUHJpY2UgKiAodG9rZW5Db25maWcudHJhZGluZ0ZlZVJhdGUgKyB0b2tlbkNvbmZpZy5tYWludGVuYW5jZVJhdGUpIC8gKFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQgKiBQUklDRV9ERUNJTUFMX0ZBQ1RPUikgKyB0b2tlbkNvbmZpZy5saXF1aWRhdGlvbkZlZTsKICAgICAgICAgICAgcmVxdWlyZShtYWludGVuYW5jZU1hcmdpbiA8IHBlcnBQb3NpdGlvbi5tYXJnaW4gKyB1bnJlYWxpemVkUG5sLCAibWFyZ2luIHJhdGUgdG9vIGhpZ2giKTsKCiAgICAgICAgICAgIC8vIGNoZWNrIGxldmVyYWdlCiAgICAgICAgICAgIHJlcXVpcmUocGVycFBvc2l0aW9uLm1hcmdpbiAqIHRva2VuQ29uZmlnLm1heExldmVyYWdlID49IHBlcnBQb3NpdGlvbi5zaXplICogcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUiwgImxldmVyYWdlIHRvbyBoaWdoIik7CgogICAgICAgICAgICByZWNlaXZlID0gbWFyZ2luRGVsdGE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gY2xvc2UgcG9zaXRpb24KICAgICAgICAgICAgLy8gd2l0aGRyYXcgYWxsIG1hcmdpbgogICAgICAgICAgICBtYXJnaW5EZWx0YUFmdGVyICs9IHBlcnBQb3NpdGlvbi5tYXJnaW47CiAgICAgICAgICAgIHJlY2VpdmUgPSBtYXJnaW5EZWx0YSArIHBlcnBQb3NpdGlvbi5tYXJnaW47CiAgICAgICAgICAgIHBlcnBQb3NpdGlvbiA9IFBlcnBQb3NpdGlvbiB7CiAgICAgICAgICAgICAgICBwb3NpdGlvbklkOiAwLAogICAgICAgICAgICAgICAgbWFyZ2luOiAwLAogICAgICAgICAgICAgICAgc2l6ZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGg6IDAKICAgICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbgogICAgICAgIGlmIChpc0xvbmcpIHsKICAgICAgICAgICAgZGlyZWN0aW9uUGVycFBvc2l0aW9uLmxvbmdQb3NpdGlvbiA9IHBlcnBQb3NpdGlvbjsKICAgICAgICAgICAgZ2xvYmFsUG9zaXRpb24ubG9uZ01hcmdpbiAtPSBtYXJnaW5EZWx0YUFmdGVyOwogICAgICAgICAgICBnbG9iYWxQb3NpdGlvbi5sb25nU2l6ZSAtPSBzaXplRGVsdGE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGlyZWN0aW9uUGVycFBvc2l0aW9uLnNob3J0UG9zaXRpb24gPSBwZXJwUG9zaXRpb247CiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLnNob3J0TWFyZ2luIC09IG1hcmdpbkRlbHRhQWZ0ZXI7CiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLnNob3J0U2l6ZSAtPSBzaXplRGVsdGE7CiAgICAgICAgfQoKICAgICAgICAvLyB1cGRhdGUgdW5yZWFsaXplZCBwbmwKICAgICAgICBsZXQgbHBVbnJlYWxpemVkUG5sOiBJbnQgPSAwOwogICAgICAgIGlmIChnbG9iYWxMUFBvc2l0aW9uLmlzTG9uZykgewogICAgICAgICAgICBscFVucmVhbGl6ZWRQbmwgPSBnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgKiAodHJhZGVQcmljZSAtIGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBscFVucmVhbGl6ZWRQbmwgPSBnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgKiAoZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlIC0gdHJhZGVQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICB9CiAgICAgICAgc2VsZi5nbG9iYWxMUFVucmVhbGl6ZWRQbmwgPSBzZWxmLmdsb2JhbExQVW5yZWFsaXplZFBubCAtIGdsb2JhbExQUG9zaXRpb24udW5yZWFsaXplZFBubCArIGxwVW5yZWFsaXplZFBubDsKICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLnVucmVhbGl6ZWRQbmwgPSBscFVucmVhbGl6ZWRQbmw7CgogICAgICAgIC8vIHVwZGF0ZSBnbG9iYWwgdmFsdWUKICAgICAgICBsZXQgc2luZ2xlVmFsdWVCZWZvcmU6IEludCA9IG1heChnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUsIGdsb2JhbFBvc2l0aW9uLnNob3J0VmFsdWUpOwogICAgICAgIGxldCBuZXRWYWx1ZUJlZm9yZTogSW50ID0gYWJzKGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSAtIGdsb2JhbFBvc2l0aW9uLnNob3J0VmFsdWUpOwogICAgICAgIGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSA9IGdsb2JhbFBvc2l0aW9uLmxvbmdTaXplICogdHJhZGVQcmljZSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgIGdsb2JhbFBvc2l0aW9uLnNob3J0VmFsdWUgPSBnbG9iYWxQb3NpdGlvbi5zaG9ydFNpemUgKiB0cmFkZVByaWNlIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgc2VsZi5nbG9iYWxQZXJwU2luZ2xlVmFsdWUgKz0gbWF4KGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSwgZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSkgLSBzaW5nbGVWYWx1ZUJlZm9yZTsKICAgICAgICBzZWxmLmdsb2JhbFBlcnBOZXRWYWx1ZSArPSBhYnMoZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlIC0gZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSkgLSBuZXRWYWx1ZUJlZm9yZTsKCiAgICAgICAgYWNjb3VudFBlcnBQb3NpdGlvbi5wb3NpdGlvbnMuc2V0KGFjY291bnQsIGRpcmVjdGlvblBlcnBQb3NpdGlvbik7CiAgICAgICAgc2VsZi5wZXJwUG9zaXRpb25zLnNldCh0b2tlbklkLCBhY2NvdW50UGVycFBvc2l0aW9uKTsKICAgICAgICBzZWxmLmdsb2JhbFBvc2l0aW9ucy5zZXQodG9rZW5JZCwgZ2xvYmFsUG9zaXRpb24pOwogICAgICAgIHNlbGYuZ2xvYmFsTFBQb3NpdGlvbnMuc2V0KHRva2VuSWQsIGdsb2JhbExQUG9zaXRpb24pOwoKICAgICAgICAvLyBleGNlZWQgZ2FzCiAgICAgICAgbGV0IG1zZ1ZhbHVlOiBJbnQgPSBzZWxmLmV4Y2VlZEdhcyhPUkRFUl9UWVBFX1BFUlApOwoKICAgICAgICByZXF1aXJlKG1zZ1ZhbHVlID4gMCwgInNlbmQgZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICAvLyBzZW5kIHVwZGF0ZSBzdWNjZXNzIG1zZwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLm9yZGVyQm9vaywKICAgICAgICAgICAgdmFsdWU6IG1zZ1ZhbHVlLAogICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICBtb2RlOiBTZW5kUGF5R2FzU2VwYXJhdGVseSwKICAgICAgICAgICAgYm9keTogVXBkYXRlUGVycFBvc2l0aW9uU3VjY2VzcyB7CiAgICAgICAgICAgICAgICBvcmRlcklkOiBvcmRlcklkLAogICAgICAgICAgICAgICAgcmVjZWl2ZTogcmVjZWl2ZSwKICAgICAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CgogICAgICAgIC8vIGV2ZW50CiAgICAgICAgZW1pdChQZXJwUG9zaXRpb25EZWNyZWFzZWRFdmVudHsKICAgICAgICAgICAgdHJ4SWQ6IHRyeElkLAogICAgICAgICAgICBvcmRlcklkOiBvcmRlcklkLAogICAgICAgICAgICBvcFR5cGU6IG9wVHlwZSwKICAgICAgICAgICAgcG9zaXRpb25JZDogcG9zaXRpb25JZCwKICAgICAgICAgICAgYWNjb3VudDogYWNjb3VudCwKICAgICAgICAgICAgdG9rZW5JZDogdG9rZW5JZCwKICAgICAgICAgICAgaXNMb25nOiBpc0xvbmcsCiAgICAgICAgICAgIG1hcmdpbkRlbHRhOiBtYXJnaW5EZWx0YUFmdGVyLAogICAgICAgICAgICBtYXJnaW5BZnRlcjogcGVycFBvc2l0aW9uLm1hcmdpbiwKICAgICAgICAgICAgc2l6ZURlbHRhOiBzaXplRGVsdGEsCiAgICAgICAgICAgIHNpemVBZnRlcjogcGVycFBvc2l0aW9uLnNpemUsCiAgICAgICAgICAgIHRyYWRlUHJpY2U6IHRyYWRlUHJpY2UsCiAgICAgICAgICAgIGVudHJ5UHJpY2U6IHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlLAogICAgICAgICAgICByZWFsaXplZFBuTERlbHRhOiByZWFsaXplZFBubCwKICAgICAgICAgICAgdHJhZGluZ0ZlZTogdHJhZGluZ0ZlZSwKICAgICAgICAgICAgZnVuZGluZ0ZlZTogZnVuZGluZ0ZlZSwKICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyLAogICAgICAgICAgICByZWNlaXZlOiByZWNlaXZlLAoKICAgICAgICAgICAgZ2xvYmFsTG9uZ01hcmdpbkFmdGVyOiBnbG9iYWxQb3NpdGlvbi5sb25nTWFyZ2luLAogICAgICAgICAgICBnbG9iYWxTaG9ydE1hcmdpbkFmdGVyOiBnbG9iYWxQb3NpdGlvbi5zaG9ydE1hcmdpbiwKICAgICAgICAgICAgZ2xvYmFsTG9uZ1NpemVBZnRlcjogZ2xvYmFsUG9zaXRpb24ubG9uZ1NpemUsCiAgICAgICAgICAgIGdsb2JhbFNob3J0U2l6ZUFmdGVyOiBnbG9iYWxQb3NpdGlvbi5zaG9ydFNpemUsCiAgICAgICAgICAgIGdsb2JhbExvbmdGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IGdsb2JhbFBvc2l0aW9uLmxvbmdGdW5kaW5nRmVlR3Jvd3RoLAogICAgICAgICAgICBnbG9iYWxTaG9ydEZ1bmRpbmdGZWVHcm93dGhBZnRlcjogZ2xvYmFsUG9zaXRpb24uc2hvcnRGdW5kaW5nRmVlR3Jvd3RoLAogICAgICAgICAgICBnbG9iYWxMUEZ1bmRpbmdGZWVHcm93dGhBZnRlcjogc2VsZi5nbG9iYWxMUEZ1bmRpbmdGZWVHcm93dGgsCgogICAgICAgICAgICBscE5ldFNpemVBZnRlcjogZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplLAogICAgICAgICAgICBscElzTG9uZzogZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcsCiAgICAgICAgICAgIGxwRW50cnlQcmljZUFmdGVyOiBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UsCiAgICAgICAgICAgIGxwRnVuZEFmdGVyOiBzZWxmLmdsb2JhbExQRnVuZCwKICAgICAgICAgICAgbHBMaXF1aWRpdHlBZnRlcjogc2VsZi5nbG9iYWxMUExpcXVpZGl0eSwKICAgICAgICAgICAgbHBUcmFkaW5nRmVlOiBscFRyYWRpbmdGZWUsCiAgICAgICAgICAgIGxwUmVhbGl6ZWRQbmw6IGxwUmVhbGl6ZWRQbmwsCiAgICAgICAgICAgIGxwUmVjZWl2ZWRGdW5kaW5nRmVlOiBscFJlY2VpdmVkRnVuZGluZ0ZlZQogICAgICAgIH0udG9DZWxsKCkpOwogICAgfQoKICAgIC8qKgogICAgICogTGlxdWlkYXRlcyBhIHBlcnBldHVhbCBwb3NpdGlvbi4KICAgICAqIAogICAgICogQHBhcmFtIHRyeElkIFRoZSB0cmFuc2FjdGlvbiBJRC4KICAgICAqIEBwYXJhbSBvcmRlcklkIFRoZSBvcmRlciBJRC4KICAgICAqIEBwYXJhbSBhY2NvdW50IFRoZSBhY2NvdW50IGFkZHJlc3MuCiAgICAgKiBAcGFyYW0gdG9rZW5JZCBUaGUgdG9rZW4gSUQuCiAgICAgKiBAcGFyYW0gaXNMb25nIEluZGljYXRlcyBpZiB0aGUgcG9zaXRpb24gaXMgbG9uZy4KICAgICAqIEBwYXJhbSB0cmFkZVByaWNlIFRoZSB0cmFkZSBwcmljZS4KICAgICAqIEBwYXJhbSBscFJlY2VpdmVkRnVuZGluZ0ZlZSBUaGUgZnVuZGluZyBmZWUgcmVjZWl2ZWQgYnkgdGhlIGxpcXVpZGl0eSBwcm92aWRlci4KICAgICAqLwogICAgZnVuIGxpcXVpZGF0ZVBlcnBQb3NpdGlvbih0cnhJZDogSW50LCBvcmRlcklkOiBJbnQsIGFjY291bnQ6IEFkZHJlc3MsIHRva2VuSWQ6IEludCwgaXNMb25nOiBCb29sLCB0cmFkZVByaWNlOiBJbnQsIGxwUmVjZWl2ZWRGdW5kaW5nRmVlOiBJbnQpIHsKICAgICAgICAvLyBnZXQgdG9rZW4gY29uZmlnCiAgICAgICAgbGV0IHRva2VuQ29uZmlnT3B0OiBUb2tlbkNvbmZpZz8gPSBzZWxmLnRva2VuQ29uZmlncy5nZXQodG9rZW5JZCk7CiAgICAgICAgcmVxdWlyZSh0b2tlbkNvbmZpZ09wdCAhPSBudWxsLCAiaW52YWxpZCB0b2tlbiIpOwogICAgICAgIGxldCB0b2tlbkNvbmZpZzogVG9rZW5Db25maWcgPSB0b2tlbkNvbmZpZ09wdCEhOwogICAgICAgIHJlcXVpcmUodG9rZW5Db25maWcuZW5hYmxlLCAiZGlzYWJsZWQgdG9rZW4iKTsKCiAgICAgICAgLy8gZ2V0IHBvc2l0aW9uCiAgICAgICAgbGV0IGFjY291bnRQZXJwUG9zaXRpb25PcHQ6IEFjY291bnRQZXJwUG9zaXRpb24/ID0gc2VsZi5wZXJwUG9zaXRpb25zLmdldCh0b2tlbklkKTsKICAgICAgICBsZXQgYWNjb3VudFBlcnBQb3NpdGlvbjogQWNjb3VudFBlcnBQb3NpdGlvbiA9IGFjY291bnRQZXJwUG9zaXRpb25PcHQgIT0gbnVsbCA/IGFjY291bnRQZXJwUG9zaXRpb25PcHQhISA6IEFjY291bnRQZXJwUG9zaXRpb257CiAgICAgICAgICAgIHBvc2l0aW9uczogZW1wdHlNYXAoKQogICAgICAgIH07CgogICAgICAgIGxldCBkaXJlY3Rpb25QZXJwUG9zaXRpb25PcHQ6IERpcmVjdGlvblBlcnBQb3NpdGlvbj8gPSBhY2NvdW50UGVycFBvc2l0aW9uLnBvc2l0aW9ucy5nZXQoYWNjb3VudCk7CiAgICAgICAgbGV0IGRpcmVjdGlvblBlcnBQb3NpdGlvbjogRGlyZWN0aW9uUGVycFBvc2l0aW9uID0gZGlyZWN0aW9uUGVycFBvc2l0aW9uT3B0ICE9IG51bGwgPyBkaXJlY3Rpb25QZXJwUG9zaXRpb25PcHQhISA6IERpcmVjdGlvblBlcnBQb3NpdGlvbnsKICAgICAgICAgICAgbG9uZ1Bvc2l0aW9uOiBQZXJwUG9zaXRpb24gewogICAgICAgICAgICAgICAgcG9zaXRpb25JZDogMCwKICAgICAgICAgICAgICAgIG1hcmdpbjogMCwKICAgICAgICAgICAgICAgIHNpemU6IDAsCiAgICAgICAgICAgICAgICBlbnRyeVByaWNlOiAwLAogICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiAwCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNob3J0UG9zaXRpb246IFBlcnBQb3NpdGlvbiB7CiAgICAgICAgICAgICAgICBwb3NpdGlvbklkOiAwLAogICAgICAgICAgICAgICAgbWFyZ2luOiAwLAogICAgICAgICAgICAgICAgc2l6ZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGg6IDAKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIGxldCBwZXJwUG9zaXRpb246IFBlcnBQb3NpdGlvbiA9IGlzTG9uZyA/IGRpcmVjdGlvblBlcnBQb3NpdGlvbi5sb25nUG9zaXRpb24gOiBkaXJlY3Rpb25QZXJwUG9zaXRpb24uc2hvcnRQb3NpdGlvbjsKICAgICAgICByZXF1aXJlKHBlcnBQb3NpdGlvbi5zaXplID4gMCwgInBvc2l0aW9uIG5vdCBleGlzdCIpOwoKICAgICAgICAvLyBkZWx0YQogICAgICAgIGxldCBtYXJnaW5EZWx0YTogSW50ID0gcGVycFBvc2l0aW9uLm1hcmdpbjsKICAgICAgICBsZXQgc2l6ZURlbHRhOiBJbnQgPSBwZXJwUG9zaXRpb24uc2l6ZTsKCiAgICAgICAgLy8gZ2V0IGdsb2JhbCBwb3NpdGlvbgogICAgICAgIGxldCBnbG9iYWxQb3NpdGlvbk9wdDogR2xvYmFsUG9zaXRpb24/ID0gc2VsZi5nbG9iYWxQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgIGxldCBnbG9iYWxQb3NpdGlvbjogR2xvYmFsUG9zaXRpb24gPSBnbG9iYWxQb3NpdGlvbk9wdCAhPSBudWxsID8gZ2xvYmFsUG9zaXRpb25PcHQhISA6IEdsb2JhbFBvc2l0aW9uewogICAgICAgICAgICBsb25nTWFyZ2luOiAwLAogICAgICAgICAgICBzaG9ydE1hcmdpbjogMCwKICAgICAgICAgICAgbG9uZ1NpemU6IDAsCiAgICAgICAgICAgIHNob3J0U2l6ZTogMCwKICAgICAgICAgICAgbG9uZ0Z1bmRpbmdGZWVHcm93dGg6IDAsCiAgICAgICAgICAgIHNob3J0RnVuZGluZ0ZlZUdyb3d0aDogMCwKICAgICAgICAgICAgbG9uZ1ZhbHVlOiAwLAogICAgICAgICAgICBzaG9ydFZhbHVlOiAwCiAgICAgICAgfTsKCiAgICAgICAgLy8gZnVuZGluZyBmZWUKICAgICAgICBsZXQgZnVuZGluZ0ZlZTogSW50ID0gMDsKICAgICAgICBsZXQgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludCA9IDA7CiAgICAgICAgaWYgKGlzTG9uZykgewogICAgICAgICAgICBmdW5kaW5nRmVlID0gKGdsb2JhbFBvc2l0aW9uLmxvbmdGdW5kaW5nRmVlR3Jvd3RoIC0gcGVycFBvc2l0aW9uLmVudHJ5RnVuZGluZ0ZlZUdyb3d0aCkgKiBwZXJwUG9zaXRpb24uc2l6ZSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGhBZnRlciA9IGdsb2JhbFBvc2l0aW9uLmxvbmdGdW5kaW5nRmVlR3Jvd3RoOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZ1bmRpbmdGZWUgPSAoZ2xvYmFsUG9zaXRpb24uc2hvcnRGdW5kaW5nRmVlR3Jvd3RoIC0gcGVycFBvc2l0aW9uLmVudHJ5RnVuZGluZ0ZlZUdyb3d0aCkgKiBwZXJwUG9zaXRpb24uc2l6ZSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGhBZnRlciA9IGdsb2JhbFBvc2l0aW9uLnNob3J0RnVuZGluZ0ZlZUdyb3d0aDsKICAgICAgICB9CgogICAgICAgIC8vIGNoZWNrIG1haW50YWluIG1hcmdpbgogICAgICAgIGxldCB1bnJlYWxpemVkUG5sOiBJbnQgPSAwOwogICAgICAgIGlmIChpc0xvbmcpIHsKICAgICAgICAgICAgdW5yZWFsaXplZFBubCA9IHBlcnBQb3NpdGlvbi5zaXplICogKHRyYWRlUHJpY2UgLSBwZXJwUG9zaXRpb24uZW50cnlQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB1bnJlYWxpemVkUG5sID0gcGVycFBvc2l0aW9uLnNpemUgKiAocGVycFBvc2l0aW9uLmVudHJ5UHJpY2UgLSB0cmFkZVByaWNlKSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgIH0KICAgICAgICBsZXQgbWFpbnRlbmFuY2VNYXJnaW46IEludCA9IHBlcnBQb3NpdGlvbi5zaXplICogdHJhZGVQcmljZSAqICh0b2tlbkNvbmZpZy50cmFkaW5nRmVlUmF0ZSArIHRva2VuQ29uZmlnLm1haW50ZW5hbmNlUmF0ZSkgLyAoUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCAqIFBSSUNFX0RFQ0lNQUxfRkFDVE9SKSArIHRva2VuQ29uZmlnLmxpcXVpZGF0aW9uRmVlOwogICAgICAgIHJlcXVpcmUobWFpbnRlbmFuY2VNYXJnaW4gPj0gcGVycFBvc2l0aW9uLm1hcmdpbiArIGZ1bmRpbmdGZWUgKyB1bnJlYWxpemVkUG5sLCAibWFyZ2luIHJhdGUgdG9vIGxvdyIpOwoKICAgICAgICAvLyBsaXF1aWRhdGUgcHJpY2UKICAgICAgICBsZXQgbGlxdWlkYXRlUHJpY2U6IEludCA9ICgocGVycFBvc2l0aW9uLm1hcmdpbiArIGZ1bmRpbmdGZWUgLSB0b2tlbkNvbmZpZy5saXF1aWRhdGlvbkZlZSkgKiBQUklDRV9ERUNJTUFMX0ZBQ1RPUiArIChpc0xvbmcgPyAtcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UgKiBwZXJwUG9zaXRpb24uc2l6ZSA6IHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlICogcGVycFBvc2l0aW9uLnNpemUpKQogICAgICAgICAgICAvIChwZXJwUG9zaXRpb24uc2l6ZSAqICh0b2tlbkNvbmZpZy50cmFkaW5nRmVlUmF0ZSArIHRva2VuQ29uZmlnLm1haW50ZW5hbmNlUmF0ZSArIChpc0xvbmcgPyAtIFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQgOiBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UKSkgLyBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UKTsKICAgICAgICAvLyByZXF1aXJlKGlzTG9uZyA/IGxpcXVpZGF0ZVByaWNlIDwgcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UgOiBsaXF1aWRhdGVQcmljZSA+IHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlLCAibm90IHJlYWNoIGxpcXVpZGF0ZSBwcmljZSIpOwogICAgICAgIHRyYWRlUHJpY2UgPSBsaXF1aWRhdGVQcmljZTsKCiAgICAgICAgLy8gZ2V0IGdsb2JhbCBwb3NpdGlvbgogICAgICAgIGxldCBnbG9iYWxMUFBvc2l0aW9uT3B0OiBHbG9iYWxMUFBvc2l0aW9uPyA9IHNlbGYuZ2xvYmFsTFBQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgIGxldCBnbG9iYWxMUFBvc2l0aW9uOiBHbG9iYWxMUFBvc2l0aW9uID0gZ2xvYmFsTFBQb3NpdGlvbk9wdCAhPSBudWxsID8gZ2xvYmFsTFBQb3NpdGlvbk9wdCEhIDogR2xvYmFsTFBQb3NpdGlvbiB7CiAgICAgICAgICAgIG5ldFNpemU6IDAsCiAgICAgICAgICAgIGlzTG9uZzogZmFsc2UsCiAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgIHVucmVhbGl6ZWRQbmw6IDAKICAgICAgICB9OwoKICAgICAgICAvLyBscCBwbmwKICAgICAgICBsZXQgbHBSZWFsaXplZFBubDogSW50ID0gMDsKICAgICAgICBsZXQgc2l6ZVJlbWFpbmluZzogSW50ID0gc2l6ZURlbHRhOwogICAgICAgIGlmIChnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgPiAwICYmIChpc0xvbmcgIT0gZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcpKSB7CiAgICAgICAgICAgIGxldCBzaXplVXNlZDogSW50ID0gbWluKGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSwgc2l6ZURlbHRhKTsKICAgICAgICAgICAgaWYgKCFpc0xvbmcpIHsKICAgICAgICAgICAgICAgIGxwUmVhbGl6ZWRQbmwgPSBzaXplVXNlZCAqICh0cmFkZVByaWNlIC0gZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlKSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbHBSZWFsaXplZFBubCA9IHNpemVVc2VkICogKGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSAtIHRyYWRlUHJpY2UpIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2l6ZVJlbWFpbmluZyAtPSBzaXplVXNlZDsKICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplIC09IHNpemVVc2VkOwogICAgICAgICAgICBpZiAoZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplID09IDApIHsKICAgICAgICAgICAgICAgIGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSA9IDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLy8gbHAgZW50cnkgcHJpY2UKICAgICAgICBpZiAoc2l6ZVJlbWFpbmluZyA+IDApIHsKICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlID0gKGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSAqIGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSArIHNpemVSZW1haW5pbmcgKiB0cmFkZVByaWNlKSAvIChnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgKyBzaXplUmVtYWluaW5nKTsKICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplICs9IHNpemVSZW1haW5pbmc7CiAgICAgICAgICAgIGdsb2JhbExQUG9zaXRpb24uaXNMb25nID0gaXNMb25nOwogICAgICAgIH0KCiAgICAgICAgLy8gdHJhZGluZyBmZWUKICAgICAgICBsZXQgdHJhZGluZ0ZlZTogSW50ID0gc2l6ZURlbHRhICogdHJhZGVQcmljZSAqIHRva2VuQ29uZmlnLnRyYWRpbmdGZWVSYXRlIC8gKFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQgKiBQUklDRV9ERUNJTUFMX0ZBQ1RPUik7CiAgICAgICAgbGV0IGxwVHJhZGluZ0ZlZTogSW50ID0gdHJhZGluZ0ZlZSAqIHRva2VuQ29uZmlnLmxwVHJhZGluZ0ZlZVJhdGUgLyBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UOwogICAgICAgIGxldCBwcm90b2NvbFRyYWRpbmdGZWU6IEludCA9IHRyYWRpbmdGZWUgLSBscFRyYWRpbmdGZWU7CgogICAgICAgIHNlbGYucHJvdG9jb2xUcmFkaW5nRmVlICs9IHByb3RvY29sVHJhZGluZ0ZlZTsKICAgICAgICBzZWxmLmdsb2JhbExQRnVuZCArPSBscFJlYWxpemVkUG5sICsgbHBUcmFkaW5nRmVlOwoKICAgICAgICBsZXQgcG9zaXRpb25JZDogSW50ID0gcGVycFBvc2l0aW9uLnBvc2l0aW9uSWQ7CiAgICAgICAgbGV0IHJlY2VpdmU6IEludCA9IHRva2VuQ29uZmlnLmxpcXVpZGF0aW9uRmVlOwogICAgICAgIGxldCByZWFsaXplZFBubDogSW50ID0gLShtYXJnaW5EZWx0YSAtIHRyYWRpbmdGZWUgKyBmdW5kaW5nRmVlKTsKCiAgICAgICAgLy8gY2xvc2UgcG9zaXRpb24KICAgICAgICBwZXJwUG9zaXRpb24gPSBQZXJwUG9zaXRpb24gewogICAgICAgICAgICBwb3NpdGlvbklkOiAwLAogICAgICAgICAgICBtYXJnaW46IDAsCiAgICAgICAgICAgIHNpemU6IDAsCiAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aDogMAogICAgICAgIH07CgogICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbgogICAgICAgIGlmIChpc0xvbmcpIHsKICAgICAgICAgICAgZGlyZWN0aW9uUGVycFBvc2l0aW9uLmxvbmdQb3NpdGlvbiA9IHBlcnBQb3NpdGlvbjsKICAgICAgICAgICAgZ2xvYmFsUG9zaXRpb24ubG9uZ01hcmdpbiAtPSBtYXJnaW5EZWx0YTsKICAgICAgICAgICAgZ2xvYmFsUG9zaXRpb24ubG9uZ1NpemUgLT0gc2l6ZURlbHRhOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRpcmVjdGlvblBlcnBQb3NpdGlvbi5zaG9ydFBvc2l0aW9uID0gcGVycFBvc2l0aW9uOwogICAgICAgICAgICBnbG9iYWxQb3NpdGlvbi5zaG9ydE1hcmdpbiAtPSBtYXJnaW5EZWx0YTsKICAgICAgICAgICAgZ2xvYmFsUG9zaXRpb24uc2hvcnRTaXplIC09IHNpemVEZWx0YTsKICAgICAgICB9CiAgICAgICAgLy8gdXBkYXRlIHVucmVhbGl6ZWQgcG5sCiAgICAgICAgbGV0IGxwVW5yZWFsaXplZFBubDogSW50ID0gMDsKICAgICAgICBpZiAoZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcpIHsKICAgICAgICAgICAgbHBVbnJlYWxpemVkUG5sID0gZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplICogKHRyYWRlUHJpY2UgLSBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UpIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbHBVbnJlYWxpemVkUG5sID0gZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplICogKGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSAtIHRyYWRlUHJpY2UpIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgfQogICAgICAgIHNlbGYuZ2xvYmFsTFBVbnJlYWxpemVkUG5sID0gc2VsZi5nbG9iYWxMUFVucmVhbGl6ZWRQbmwgLSBnbG9iYWxMUFBvc2l0aW9uLnVucmVhbGl6ZWRQbmwgKyBscFVucmVhbGl6ZWRQbmw7CiAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi51bnJlYWxpemVkUG5sID0gbHBVbnJlYWxpemVkUG5sOwoKICAgICAgICAvLyB1cGRhdGUgZ2xvYmFsIHZhbHVlCiAgICAgICAgbGV0IHNpbmdsZVZhbHVlQmVmb3JlOiBJbnQgPSBtYXgoZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlLCBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlKTsKICAgICAgICBsZXQgbmV0VmFsdWVCZWZvcmU6IEludCA9IGFicyhnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUgLSBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlKTsKICAgICAgICBnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUgPSBnbG9iYWxQb3NpdGlvbi5sb25nU2l6ZSAqIHRyYWRlUHJpY2UgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlID0gZ2xvYmFsUG9zaXRpb24uc2hvcnRTaXplICogdHJhZGVQcmljZSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgIHNlbGYuZ2xvYmFsUGVycFNpbmdsZVZhbHVlICs9IG1heChnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUsIGdsb2JhbFBvc2l0aW9uLnNob3J0VmFsdWUpIC0gc2luZ2xlVmFsdWVCZWZvcmU7CiAgICAgICAgc2VsZi5nbG9iYWxQZXJwTmV0VmFsdWUgKz0gYWJzKGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSAtIGdsb2JhbFBvc2l0aW9uLnNob3J0VmFsdWUpIC0gbmV0VmFsdWVCZWZvcmU7CgogICAgICAgIGFjY291bnRQZXJwUG9zaXRpb24ucG9zaXRpb25zLnNldChhY2NvdW50LCBkaXJlY3Rpb25QZXJwUG9zaXRpb24pOwogICAgICAgIHNlbGYucGVycFBvc2l0aW9ucy5zZXQodG9rZW5JZCwgYWNjb3VudFBlcnBQb3NpdGlvbik7CiAgICAgICAgc2VsZi5nbG9iYWxQb3NpdGlvbnMuc2V0KHRva2VuSWQsIGdsb2JhbFBvc2l0aW9uKTsKICAgICAgICBzZWxmLmdsb2JhbExQUG9zaXRpb25zLnNldCh0b2tlbklkLCBnbG9iYWxMUFBvc2l0aW9uKTsKCiAgICAgICAgLy8gZXhjZWVkIGdhcwogICAgICAgIGxldCBtc2dWYWx1ZTogSW50ID0gc2VsZi5leGNlZWRHYXMoT1JERVJfVFlQRV9QRVJQKTsKCiAgICAgICAgcmVxdWlyZShtc2dWYWx1ZSA+IDAsICJzZW5kIGdhcyBub3QgZW5vdWdoIik7CiAgICAgICAgLy8gc2VuZCB1cGRhdGUgc3VjY2VzcyBtc2cKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogc2VsZi5vcmRlckJvb2ssCiAgICAgICAgICAgIHZhbHVlOiBtc2dWYWx1ZSwKICAgICAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICAgICAgbW9kZTogU2VuZFBheUdhc1NlcGFyYXRlbHksCiAgICAgICAgICAgIGJvZHk6IFVwZGF0ZVBlcnBQb3NpdGlvblN1Y2Nlc3MgewogICAgICAgICAgICAgICAgb3JkZXJJZDogb3JkZXJJZCwKICAgICAgICAgICAgICAgIHJlY2VpdmU6IHJlY2VpdmUsCiAgICAgICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgIH0pOwoKICAgICAgICAvLyBldmVudAogICAgICAgIGVtaXQoUGVycFBvc2l0aW9uRGVjcmVhc2VkRXZlbnR7CiAgICAgICAgICAgIHRyeElkOiB0cnhJZCwKICAgICAgICAgICAgb3JkZXJJZDogb3JkZXJJZCwKICAgICAgICAgICAgb3BUeXBlOiBPUkRFUl9PUF9UWVBFX0xJUVVJREFUSU9OLAogICAgICAgICAgICBwb3NpdGlvbklkOiBwb3NpdGlvbklkLAogICAgICAgICAgICBhY2NvdW50OiBhY2NvdW50LAogICAgICAgICAgICB0b2tlbklkOiB0b2tlbklkLAogICAgICAgICAgICBpc0xvbmc6IGlzTG9uZywKICAgICAgICAgICAgbWFyZ2luRGVsdGE6IG1hcmdpbkRlbHRhLAogICAgICAgICAgICBtYXJnaW5BZnRlcjogcGVycFBvc2l0aW9uLm1hcmdpbiwKICAgICAgICAgICAgc2l6ZURlbHRhOiBzaXplRGVsdGEsCiAgICAgICAgICAgIHNpemVBZnRlcjogcGVycFBvc2l0aW9uLnNpemUsCiAgICAgICAgICAgIHRyYWRlUHJpY2U6IHRyYWRlUHJpY2UsCiAgICAgICAgICAgIGVudHJ5UHJpY2U6IHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlLAogICAgICAgICAgICByZWFsaXplZFBuTERlbHRhOiByZWFsaXplZFBubCwKICAgICAgICAgICAgdHJhZGluZ0ZlZTogdHJhZGluZ0ZlZSwKICAgICAgICAgICAgZnVuZGluZ0ZlZTogZnVuZGluZ0ZlZSwKICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyLAogICAgICAgICAgICByZWNlaXZlOiByZWNlaXZlLAoKICAgICAgICAgICAgZ2xvYmFsTG9uZ01hcmdpbkFmdGVyOiBnbG9iYWxQb3NpdGlvbi5sb25nTWFyZ2luLAogICAgICAgICAgICBnbG9iYWxTaG9ydE1hcmdpbkFmdGVyOiBnbG9iYWxQb3NpdGlvbi5zaG9ydE1hcmdpbiwKICAgICAgICAgICAgZ2xvYmFsTG9uZ1NpemVBZnRlcjogZ2xvYmFsUG9zaXRpb24ubG9uZ1NpemUsCiAgICAgICAgICAgIGdsb2JhbFNob3J0U2l6ZUFmdGVyOiBnbG9iYWxQb3NpdGlvbi5zaG9ydFNpemUsCiAgICAgICAgICAgIGdsb2JhbExvbmdGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IGdsb2JhbFBvc2l0aW9uLmxvbmdGdW5kaW5nRmVlR3Jvd3RoLAogICAgICAgICAgICBnbG9iYWxTaG9ydEZ1bmRpbmdGZWVHcm93dGhBZnRlcjogZ2xvYmFsUG9zaXRpb24uc2hvcnRGdW5kaW5nRmVlR3Jvd3RoLAogICAgICAgICAgICBnbG9iYWxMUEZ1bmRpbmdGZWVHcm93dGhBZnRlcjogc2VsZi5nbG9iYWxMUEZ1bmRpbmdGZWVHcm93dGgsCgogICAgICAgICAgICBscE5ldFNpemVBZnRlcjogZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplLAogICAgICAgICAgICBscElzTG9uZzogZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcsCiAgICAgICAgICAgIGxwRW50cnlQcmljZUFmdGVyOiBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UsCiAgICAgICAgICAgIGxwRnVuZEFmdGVyOiBzZWxmLmdsb2JhbExQRnVuZCwKICAgICAgICAgICAgbHBMaXF1aWRpdHlBZnRlcjogc2VsZi5nbG9iYWxMUExpcXVpZGl0eSwKICAgICAgICAgICAgbHBUcmFkaW5nRmVlOiBscFRyYWRpbmdGZWUsCiAgICAgICAgICAgIGxwUmVhbGl6ZWRQbmw6IGxwUmVhbGl6ZWRQbmwsCiAgICAgICAgICAgIGxwUmVjZWl2ZWRGdW5kaW5nRmVlOiBscFJlY2VpdmVkRnVuZGluZ0ZlZQogICAgICAgIH0udG9DZWxsKCkpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0cmlldmVzIHRoZSBwZXJwZXR1YWwgcG9zaXRpb24gZGF0YSBmb3IgYSBnaXZlbiB0b2tlbiBJRCBhbmQgYWNjb3VudC4KICAgICAqIAogICAgICogQHBhcmFtIHRva2VuSWQgVGhlIElEIG9mIHRoZSB0b2tlbi4KICAgICAqIEBwYXJhbSBhY2NvdW50IFRoZSBhY2NvdW50IGFkZHJlc3MuIElmIG51bGwsIHRoZSBnbG9iYWwgcG9zaXRpb24gZGF0YSB3aWxsIGJlIHJldHVybmVkLgogICAgICogQHJldHVybiBUaGUgcGVycGV0dWFsIHBvc2l0aW9uIGRhdGEsIGluY2x1ZGluZyBnbG9iYWwgdmFsdWVzIGFuZCBzcGVjaWZpYyBwb3NpdGlvbiBkYXRhLgogICAgICovCiAgICBnZXQgZnVuIHBlcnBQb3NpdGlvbih0b2tlbklkOiBJbnQsIGFjY291bnQ6IEFkZHJlc3M/KTogUGVycFBvc2l0aW9uRGF0YSB7CiAgICAgICAgLy8gZ2V0IHBvc2l0aW9uCiAgICAgICAgbGV0IHBlcnBQb3NpdGlvbjogRGlyZWN0aW9uUGVycFBvc2l0aW9uPyA9IG51bGw7CiAgICAgICAgaWYgKGFjY291bnQgIT0gbnVsbCkgewogICAgICAgICAgICBsZXQgYWNjb3VudFBlcnBQb3NpdGlvbk9wdDogQWNjb3VudFBlcnBQb3NpdGlvbj8gPSBzZWxmLnBlcnBQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgICAgICBpZiAoYWNjb3VudFBlcnBQb3NpdGlvbk9wdCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBwZXJwUG9zaXRpb24gPSAoYWNjb3VudFBlcnBQb3NpdGlvbk9wdCEhKS5wb3NpdGlvbnMuZ2V0KGFjY291bnQhISk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIFBlcnBQb3NpdGlvbkRhdGF7CiAgICAgICAgICAgIGdsb2JhbFBlcnBOZXRWYWx1ZTogc2VsZi5nbG9iYWxQZXJwTmV0VmFsdWUsCiAgICAgICAgICAgIGdsb2JhbFBlcnBTaW5nbGVWYWx1ZTogc2VsZi5nbG9iYWxQZXJwU2luZ2xlVmFsdWUsCiAgICAgICAgICAgIHBlcnBQb3NpdGlvbjogcGVycFBvc2l0aW9uLAogICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uOiBzZWxmLmdsb2JhbExQUG9zaXRpb25zLmdldCh0b2tlbklkKSwKICAgICAgICAgICAgZ2xvYmFsUG9zaXRpb246IHNlbGYuZ2xvYmFsUG9zaXRpb25zLmdldCh0b2tlbklkKSwKICAgICAgICAgICAgZ2xvYmFsRnVuZGluZ1JhdGVTYW1wbGU6IHNlbGYuZ2xvYmFsRnVuZGluZ1JhdGVTYW1wbGVzLmdldCh0b2tlbklkKSwKICAgICAgICAgICAgcHJldlByZW1pdW1SYXRlOiBzZWxmLnByZXZQcmVtaXVtUmF0ZXMuZ2V0KHRva2VuSWQpCiAgICAgICAgfTsKICAgIH0KCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFByaWNlICYgRnVuZGluZyBmZWUgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KICAgIC8qKgogICAgICogQGRldiBSZWNlaXZlIGZ1bmN0aW9uIHRvIHVwZGF0ZSB0aGUgcHJpY2UgYW5kIHBlcmZvcm0gZnVuZGluZyBmZWUgY2FsY3VsYXRpb25zIGZvciBtdWx0aXBsZSB0b2tlbnMuCiAgICAgKiBAcGFyYW0gbXNnIFRoZSBVcGRhdGVQcmljZSBtZXNzYWdlIGNvbnRhaW5pbmcgdGhlIHByaWNlcyBmb3IgdGhlIHRva2Vucy4KICAgICAqLwogICAgcmVjZWl2ZShtc2c6IFVwZGF0ZVByaWNlKSB7CiAgICAgICAgLy8gY2hlY2sgc2VuZGVyCiAgICAgICAgbGV0IGlzRXhlY3V0b3I6IEJvb2wgPSBmYWxzZTsKICAgICAgICBsZXQgaXNFeGVjdXRvck9wdDogQm9vbD8gPSBzZWxmLmV4ZWN1dG9ycy5nZXQoc2VuZGVyKCkpOwogICAgICAgIGlmIChpc0V4ZWN1dG9yT3B0ICE9IG51bGwpIHsKICAgICAgICAgICAgaXNFeGVjdXRvciA9IGlzRXhlY3V0b3JPcHQhITsKICAgICAgICB9CiAgICAgICAgcmVxdWlyZShpc0V4ZWN1dG9yLCAiaW52YWxpZCBzZW5kZXIiKTsKCiAgICAgICAgaWYgKG1zZy5wcmljZXNMZW5ndGggPD0gMCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGxldCBpOiBJbnQgPSAwOwogICAgICAgIGxldCB0b3RhbEdsb2JhbFVucmVhbGl6ZWRQbmw6IEludCA9IHNlbGYuZ2xvYmFsTFBVbnJlYWxpemVkUG5sOwoKICAgICAgICBsZXQgcmVzdWx0RGF0YXM6IG1hcDxJbnQsIFVwZGF0ZUZ1bmRpbmdSYXRlRXZlbnREYXRhPiA9IGVtcHR5TWFwKCk7CiAgICAgICAgd2hpbGUoaSA8IG1zZy5wcmljZXNMZW5ndGgpIHsKICAgICAgICAgICAgbGV0IHVwZGF0ZVByaWNlOiBVcGRhdGVQcmljZVBhcmFtPyA9IG1zZy5wcmljZXMuZ2V0KGkpOwogICAgICAgICAgICBpZiAodXBkYXRlUHJpY2UgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgLy8gdXBkYXRlIHByaWNlCiAgICAgICAgICAgICAgICBsZXQgdG9rZW5JZDogSW50ID0gKHVwZGF0ZVByaWNlISEpLnRva2VuSWQ7CgogICAgICAgICAgICAgICAgbGV0IHByZXZQcmVtaXVtUmF0ZTogSW50ID0gc2VsZi5wcmV2UHJlbWl1bVJhdGVzLmdldCh0b2tlbklkKSA9PSBudWxsID8gMCA6IHNlbGYucHJldlByZW1pdW1SYXRlcy5nZXQodG9rZW5JZCkhITsKICAgICAgICAgICAgICAgIGxldCB0cmFkZVByaWNlOiBJbnQgPSAoUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCArIHByZXZQcmVtaXVtUmF0ZSkgKiAodXBkYXRlUHJpY2UhISkucHJpY2UgLyBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UOwoKICAgICAgICAgICAgICAgIGxldCByZXN1bHQ6IFVwZGF0ZUZ1bmRpbmdSYXRlUmVzdWx0ID0gc2VsZi51cGRhdGVQcmljZUFuZEZ1bmRpbmdGZWUodG9rZW5JZCwgdHJhZGVQcmljZSwgdHJ1ZSk7CiAgICAgICAgICAgICAgICByZXN1bHREYXRhcy5zZXQoaSwgVXBkYXRlRnVuZGluZ1JhdGVFdmVudERhdGF7CiAgICAgICAgICAgICAgICAgICAgdHJ4SWQ6IG1zZy50cnhJZCwKICAgICAgICAgICAgICAgICAgICB0b2tlbklkOiB0b2tlbklkLAogICAgICAgICAgICAgICAgICAgIHByaWNlOiAodXBkYXRlUHJpY2UhISkucHJpY2UsCiAgICAgICAgICAgICAgICAgICAgbHBSZWNlaXZlZEZ1bmRpbmdGZWVEZWx0YTogcmVzdWx0LmxwUmVjZWl2ZWRGdW5kaW5nRmVlRGVsdGEsCiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsTFBGdW5kaW5nRmVlR3Jvd3RoOiByZXN1bHQuZ2xvYmFsTFBGdW5kaW5nRmVlR3Jvd3RoLAogICAgICAgICAgICAgICAgICAgIGxvbmdGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IHJlc3VsdC5sb25nRnVuZGluZ0ZlZUdyb3d0aEFmdGVyLAogICAgICAgICAgICAgICAgICAgIHNob3J0RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiByZXN1bHQuc2hvcnRGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGkgKz0gMTsKICAgICAgICB9CgogICAgICAgIGVtaXQoVXBkYXRlRnVuZGluZ0ZlZUV2ZW50ewogICAgICAgICAgICBsZW5ndGg6IG1zZy5wcmljZXNMZW5ndGgsCiAgICAgICAgICAgIGRhdGFzOiByZXN1bHREYXRhcwogICAgICAgIH0udG9DZWxsKCkpOwoKICAgICAgICAvLyBleGNlZWQgZ2FzCiAgICAgICAgbGV0IG1zZ1ZhbHVlOiBJbnQgPSBzZWxmLmV4Y2VlZEdhcyhPUkRFUl9UWVBFX1BFUlApOwoKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogc2VuZGVyKCksCiAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgdmFsdWU6IG1zZ1ZhbHVlLAogICAgICAgICAgICBtb2RlOiBTZW5kSWdub3JlRXJyb3JzCiAgICAgICAgfSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBVcGRhdGVzIHRoZSBwcmljZSBhbmQgZnVuZGluZyBmZWUgZm9yIGEgZ2l2ZW4gdG9rZW4uCiAgICAgKiAKICAgICAqIEBwYXJhbSB0b2tlbklkIFRoZSBJRCBvZiB0aGUgdG9rZW4uCiAgICAgKiBAcGFyYW0gcHJpY2UgVGhlIG5ldyBwcmljZSBvZiB0aGUgdG9rZW4uCiAgICAgKiBAcGFyYW0gdXBkYXRlVmFsdWUgV2hldGhlciB0byB1cGRhdGUgdGhlIHZhbHVlIG9mIHRoZSB0b2tlbi4KICAgICAqIEByZXR1cm4gVGhlIHJlc3VsdCBvZiB1cGRhdGluZyB0aGUgZnVuZGluZyByYXRlLgogICAgICovICAgIAogICAgZnVuIHVwZGF0ZVByaWNlQW5kRnVuZGluZ0ZlZSh0b2tlbklkOiBJbnQsIHByaWNlOiBJbnQsIHVwZGF0ZVZhbHVlOiBCb29sKTogVXBkYXRlRnVuZGluZ1JhdGVSZXN1bHQgewogICAgICAgIHJlcXVpcmUocHJpY2UgPiAwLCAicHJpY2UgbXVzdCBub3QgemVybyIpOwogICAgICAgIHNlbGYucHJpY2VzLnNldCh0b2tlbklkLCBwcmljZSk7CgogICAgICAgIGxldCBnbG9iYWxQb3NpdGlvbk9wdDogR2xvYmFsUG9zaXRpb24/ID0gc2VsZi5nbG9iYWxQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgIGxldCBnbG9iYWxQb3NpdGlvbjogR2xvYmFsUG9zaXRpb24gPSBnbG9iYWxQb3NpdGlvbk9wdCAhPSBudWxsID8gZ2xvYmFsUG9zaXRpb25PcHQhISA6IEdsb2JhbFBvc2l0aW9uewogICAgICAgICAgICBsb25nTWFyZ2luOiAwLAogICAgICAgICAgICBzaG9ydE1hcmdpbjogMCwKICAgICAgICAgICAgbG9uZ1NpemU6IDAsCiAgICAgICAgICAgIHNob3J0U2l6ZTogMCwKICAgICAgICAgICAgbG9uZ0Z1bmRpbmdGZWVHcm93dGg6IDAsCiAgICAgICAgICAgIHNob3J0RnVuZGluZ0ZlZUdyb3d0aDogMCwKICAgICAgICAgICAgbG9uZ1ZhbHVlOiAwLAogICAgICAgICAgICBzaG9ydFZhbHVlOiAwCiAgICAgICAgfTsKCiAgICAgICAgaWYgKHVwZGF0ZVZhbHVlKSB7CiAgICAgICAgICAgIC8vIHVwZGF0ZSBscCBwbmwKICAgICAgICAgICAgbGV0IGdsb2JhbExQUG9zaXRpb25PcHQ6IEdsb2JhbExQUG9zaXRpb24/ID0gc2VsZi5nbG9iYWxMUFBvc2l0aW9ucy5nZXQodG9rZW5JZCk7CiAgICAgICAgICAgIGlmIChnbG9iYWxMUFBvc2l0aW9uT3B0ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGxldCBnbG9iYWxMUFBvc2l0aW9uOiBHbG9iYWxMUFBvc2l0aW9uID0gZ2xvYmFsTFBQb3NpdGlvbk9wdCEhOwogICAgICAgICAgICAgICAgLy8gdW5yZWFsaXplZCBwbmwKICAgICAgICAgICAgICAgIGxldCB1bnJlYWxpemVkUG5sOiBJbnQgPSAwOwogICAgICAgICAgICAgICAgaWYgKGdsb2JhbExQUG9zaXRpb24uaXNMb25nKSB7CiAgICAgICAgICAgICAgICAgICAgdW5yZWFsaXplZFBubCA9IGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSAqIChwcmljZSAtIGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdW5yZWFsaXplZFBubCA9IGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSAqIChnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UgLSBwcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHNlbGYuZ2xvYmFsTFBVbnJlYWxpemVkUG5sID0gc2VsZi5nbG9iYWxMUFVucmVhbGl6ZWRQbmwgLSBnbG9iYWxMUFBvc2l0aW9uLnVucmVhbGl6ZWRQbmwgKyB1bnJlYWxpemVkUG5sOwogICAgICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi51bnJlYWxpemVkUG5sID0gdW5yZWFsaXplZFBubDsKICAgICAgICAgICAgICAgIHNlbGYuZ2xvYmFsTFBQb3NpdGlvbnMuc2V0KHRva2VuSWQsIGdsb2JhbExQUG9zaXRpb24pOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyB1cGRhdGUgZ2xvYmFsIHZhbHVlCgogICAgICAgICAgICBsZXQgc2luZ2xlVmFsdWVCZWZvcmU6IEludCA9IG1heChnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUsIGdsb2JhbFBvc2l0aW9uLnNob3J0VmFsdWUpOwogICAgICAgICAgICBsZXQgbmV0VmFsdWVCZWZvcmU6IEludCA9IGFicyhnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUgLSBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlKTsKICAgICAgICAgICAgZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlID0gZ2xvYmFsUG9zaXRpb24ubG9uZ1NpemUgKiBwcmljZSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlID0gZ2xvYmFsUG9zaXRpb24uc2hvcnRTaXplICogcHJpY2UgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgc2VsZi5nbG9iYWxQZXJwU2luZ2xlVmFsdWUgKz0gbWF4KGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSwgZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSkgLSBzaW5nbGVWYWx1ZUJlZm9yZTsKICAgICAgICAgICAgc2VsZi5nbG9iYWxQZXJwTmV0VmFsdWUgKz0gYWJzKGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSAtIGdsb2JhbFBvc2l0aW9uLnNob3J0VmFsdWUpIC0gbmV0VmFsdWVCZWZvcmU7CiAgICAgICAgICAgIHNlbGYuZ2xvYmFsUG9zaXRpb25zLnNldCh0b2tlbklkLCBnbG9iYWxQb3NpdGlvbik7CiAgICAgICAgfQoKICAgICAgICAvLyB1cGRhdGUgZnVuZGluZyBmZWUKICAgICAgICAvLyA9PT0+CiAgICAgICAgbGV0IHRva2VuQ29uZmlnT3B0OiBUb2tlbkNvbmZpZz8gPSBzZWxmLnRva2VuQ29uZmlncy5nZXQodG9rZW5JZCk7CiAgICAgICAgcmVxdWlyZSh0b2tlbkNvbmZpZ09wdCAhPSBudWxsLCAidG9rZW4gY29uZmlnIG5vdCBleGlzdCIpOwogICAgICAgIGxldCB0b2tlbkNvbmZpZzogVG9rZW5Db25maWcgPSB0b2tlbkNvbmZpZ09wdCEhOwoKICAgICAgICAvLyA9PT09PT09PT09PSBjYWxjdWxhdGUgc2FtcGxlID09PT09PT09PT09IC8vCiAgICAgICAgLy8gZ2V0IGZ1bmRpbmcgcmF0ZSBzYW1wbGUKICAgICAgICBsZXQgc2FtcGxlT3B0OiBHbG9iYWxGdW5kaW5nUmF0ZVNhbXBsZT8gPSBzZWxmLmdsb2JhbEZ1bmRpbmdSYXRlU2FtcGxlcy5nZXQodG9rZW5JZCk7CiAgICAgICAgbGV0IHNhbXBsZTogR2xvYmFsRnVuZGluZ1JhdGVTYW1wbGUgPSBzYW1wbGVPcHQgIT0gbnVsbCA/IHNhbXBsZU9wdCEhIDogR2xvYmFsRnVuZGluZ1JhdGVTYW1wbGV7CiAgICAgICAgICAgIGxhc3RBZGp1c3RGdW5kaW5nUmF0ZVRpbWU6IG5vdygpIC0gKG5vdygpICUgQURKVVNUX0ZVTkRJTkdfUkFURV9JTlRFUlZBTCksCiAgICAgICAgICAgIHNhbXBsZUNvdW50OiAwLAogICAgICAgICAgICBjdW11bGF0aXZlUHJlbWl1bVJhdGU6IDAKICAgICAgICB9OwoKICAgICAgICBsZXQgbGFzdEFkanVzdEZ1bmRpbmdSYXRlVGltZTogSW50ID0gc2FtcGxlLmxhc3RBZGp1c3RGdW5kaW5nUmF0ZVRpbWU7CiAgICAgICAgLy8gYXQgbW9zdCAxIGhvdXIgb2YgcHJlbWl1bSByYXRlIHNhbXBsaW5nCiAgICAgICAgbGV0IG1heFNhbXBsaW5nVGltZTogSW50ID0gbGFzdEFkanVzdEZ1bmRpbmdSYXRlVGltZSArIEFESlVTVF9GVU5ESU5HX1JBVEVfSU5URVJWQUw7CiAgICAgICAgbGV0IHRpbWVzdGFtcDogSW50ID0gbm93KCk7CiAgICAgICAgaWYgKG1heFNhbXBsaW5nVGltZSA8IHRpbWVzdGFtcCkgewogICAgICAgICAgICB0aW1lc3RhbXAgPSBtYXhTYW1wbGluZ1RpbWU7CiAgICAgICAgfQoKICAgICAgICBsZXQgbGFzdFNhbXBsaW5nVGltZTogSW50ID0gbGFzdEFkanVzdEZ1bmRpbmdSYXRlVGltZSArIHNhbXBsZS5zYW1wbGVDb3VudCAqIFNBTVBMRV9QUkVNSVVNX1JBVEVfSU5URVJWQUw7CiAgICAgICAgbGV0IHRpbWVEZWx0YTogSW50ID0gdGltZXN0YW1wIC0gbGFzdFNhbXBsaW5nVGltZTsKICAgICAgICBpZiAodGltZURlbHRhIDwgU0FNUExFX1BSRU1JVU1fUkFURV9JTlRFUlZBTCkgewogICAgICAgICAgICAvLyBubyBuZWVkIHRvIHVwZGF0ZQogICAgICAgICAgICByZXR1cm4gVXBkYXRlRnVuZGluZ1JhdGVSZXN1bHR7CiAgICAgICAgICAgICAgICBscFJlY2VpdmVkRnVuZGluZ0ZlZURlbHRhOiAwLAogICAgICAgICAgICAgICAgZ2xvYmFsTFBGdW5kaW5nRmVlR3Jvd3RoOiBzZWxmLmdsb2JhbExQRnVuZGluZ0ZlZUdyb3d0aCwKICAgICAgICAgICAgICAgIGxvbmdGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IGdsb2JhbFBvc2l0aW9uLmxvbmdGdW5kaW5nRmVlR3Jvd3RoLAogICAgICAgICAgICAgICAgc2hvcnRGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IGdsb2JhbFBvc2l0aW9uLnNob3J0RnVuZGluZ0ZlZUdyb3d0aAogICAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgLy8gY3VtdWxhdGl2ZSBzYW1wbGUgY291bnQKICAgICAgICBsZXQgc2FtcGxlQ291bnREZWx0YTogSW50ID0gdGltZURlbHRhIC8gU0FNUExFX1BSRU1JVU1fUkFURV9JTlRFUlZBTDsKICAgICAgICBsZXQgc2FtcGxlQ291bnRBZnRlcjogSW50ID0gc2FtcGxlLnNhbXBsZUNvdW50ICsgc2FtcGxlQ291bnREZWx0YTsKCiAgICAgICAgLy8gY3VtdWxhdGl2ZSBQUgogICAgICAgIGxldCBwcmV2UHJlbWl1bVJhdGU6IEludCA9IHNlbGYucHJldlByZW1pdW1SYXRlcy5nZXQodG9rZW5JZCkgPT0gbnVsbCA/IDAgOiBzZWxmLnByZXZQcmVtaXVtUmF0ZXMuZ2V0KHRva2VuSWQpISE7CiAgICAgICAgbGV0IGN1bXVsYXRpdmVQcmVtaXVtUmF0ZTogSW50ID0gcHJldlByZW1pdW1SYXRlICogKChzYW1wbGUuc2FtcGxlQ291bnQgKyAxICsgc2FtcGxlQ291bnRBZnRlcikgKiBzYW1wbGVDb3VudERlbHRhIC8gMiApOwoKICAgICAgICBjdW11bGF0aXZlUHJlbWl1bVJhdGUgPSBzYW1wbGUuY3VtdWxhdGl2ZVByZW1pdW1SYXRlICsgY3VtdWxhdGl2ZVByZW1pdW1SYXRlOwoKICAgICAgICAvLyBzYW1wbGUgY291bnQgPCA3MjAsIG5vIG5lZWQgdXBkYXRlIGZ1bmRpbmcgcmF0ZQogICAgICAgIGlmIChzYW1wbGVDb3VudEFmdGVyIDwgUkVRVUlSRURfU0FNUExFX0NPVU5UKSB7CiAgICAgICAgICAgIHNhbXBsZS5jdW11bGF0aXZlUHJlbWl1bVJhdGUgPSBjdW11bGF0aXZlUHJlbWl1bVJhdGU7CiAgICAgICAgICAgIHNhbXBsZS5zYW1wbGVDb3VudCA9IHNhbXBsZUNvdW50QWZ0ZXI7CiAgICAgICAgICAgIHNlbGYuZ2xvYmFsRnVuZGluZ1JhdGVTYW1wbGVzLnNldCh0b2tlbklkLCBzYW1wbGUpOwogICAgICAgICAgICByZXR1cm4gVXBkYXRlRnVuZGluZ1JhdGVSZXN1bHR7CiAgICAgICAgICAgICAgICBscFJlY2VpdmVkRnVuZGluZ0ZlZURlbHRhOiAwLAogICAgICAgICAgICAgICAgZ2xvYmFsTFBGdW5kaW5nRmVlR3Jvd3RoOiBzZWxmLmdsb2JhbExQRnVuZGluZ0ZlZUdyb3d0aCwKICAgICAgICAgICAgICAgIGxvbmdGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IGdsb2JhbFBvc2l0aW9uLmxvbmdGdW5kaW5nRmVlR3Jvd3RoLAogICAgICAgICAgICAgICAgc2hvcnRGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IGdsb2JhbFBvc2l0aW9uLnNob3J0RnVuZGluZ0ZlZUdyb3d0aAogICAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgLy8gYXZlcmFnZSBQUgogICAgICAgIGxldCBwcmVtaXVtUmF0ZUF2ZzogSW50ID0gY3VtdWxhdGl2ZVByZW1pdW1SYXRlIC8gUFJFTUlVTV9SQVRFX0FWR19ERU5PTUlOQVRPUjsKCiAgICAgICAgLy8gY2xhbXAgKElSIC0gYXZnUFIpIDogLTAuMDUlLzggPD0gKElSIC0gYXZnUFIpIDw9IDAuMDUlLzgKICAgICAgICBsZXQgcmF0ZURlbHRhOiBJbnQgPSB0b2tlbkNvbmZpZy5pbnRlcmVzdFJhdGUgLSBwcmVtaXVtUmF0ZUF2ZzsKICAgICAgICBsZXQgY2xhbXBlZFJhdGVEZWx0YTogSW50ID0gMDsKICAgICAgICBpZiAocmF0ZURlbHRhID4gUFJFTUlVTV9SQVRFX0NMQU1QX0JPVU5EQVJZKSB7CiAgICAgICAgICAgIGNsYW1wZWRSYXRlRGVsdGEgPSBQUkVNSVVNX1JBVEVfQ0xBTVBfQk9VTkRBUlk7CiAgICAgICAgfSBlbHNlIGlmIChyYXRlRGVsdGEgPCAtUFJFTUlVTV9SQVRFX0NMQU1QX0JPVU5EQVJZKSB7CiAgICAgICAgICAgIGNsYW1wZWRSYXRlRGVsdGEgPSAtUFJFTUlVTV9SQVRFX0NMQU1QX0JPVU5EQVJZOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNsYW1wZWRSYXRlRGVsdGEgPSByYXRlRGVsdGE7CiAgICAgICAgfQogICAgICAgIGxldCBmdW5kaW5nUmF0ZURlbHRhOiBJbnQgPSBwcmVtaXVtUmF0ZUF2ZyArIGNsYW1wZWRSYXRlRGVsdGE7CgogICAgICAgIC8vIGNsYW1wIGZ1bmRpbmdSYXRlOiAtbWF4RnVuZGluZ1JhdGUgPD0gZnVuZGluZ1JhdGUgPD0gbWF4RnVuZGluZ1JhdGUKICAgICAgICBsZXQgY2xhbXBlZEZ1bmRpbmdSYXRlRGVsdGE6IEludCA9IDA7CiAgICAgICAgaWYgKGZ1bmRpbmdSYXRlRGVsdGEgPiB0b2tlbkNvbmZpZy5tYXhGdW5kaW5nUmF0ZSkgewogICAgICAgICAgICBjbGFtcGVkRnVuZGluZ1JhdGVEZWx0YSA9IHRva2VuQ29uZmlnLm1heEZ1bmRpbmdSYXRlOwogICAgICAgIH0gZWxzZSBpZiAoZnVuZGluZ1JhdGVEZWx0YSA8IC10b2tlbkNvbmZpZy5tYXhGdW5kaW5nUmF0ZSkgewogICAgICAgICAgICBjbGFtcGVkRnVuZGluZ1JhdGVEZWx0YSA9IC10b2tlbkNvbmZpZy5tYXhGdW5kaW5nUmF0ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjbGFtcGVkRnVuZGluZ1JhdGVEZWx0YSA9IGZ1bmRpbmdSYXRlRGVsdGE7CiAgICAgICAgfQoKICAgICAgICBzYW1wbGUubGFzdEFkanVzdEZ1bmRpbmdSYXRlVGltZSA9IG1heFNhbXBsaW5nVGltZTsKICAgICAgICBzYW1wbGUuY3VtdWxhdGl2ZVByZW1pdW1SYXRlID0gMDsKICAgICAgICBzYW1wbGUuc2FtcGxlQ291bnQgPSAwOwogICAgICAgIHNlbGYuZ2xvYmFsRnVuZGluZ1JhdGVTYW1wbGVzLnNldCh0b2tlbklkLCBzYW1wbGUpOwoKICAgICAgICAvLyA9PT09PT09PT09PSB1cGRhdGUgZnVuZGluZyByYXRlID09PT09PT09PT09IC8vCiAgICAgICAgLy8gZ2V0IHBhaWRTaXplIGFuZCByZWNlaXZlZFNpemUKICAgICAgICBsZXQgcGFpZFNpemU6IEludCA9IDA7CiAgICAgICAgbGV0IHJlY2VpdmVkU2l6ZTogSW50ID0gMDsKICAgICAgICBpZiAoY2xhbXBlZEZ1bmRpbmdSYXRlRGVsdGEgPj0gMCkgewogICAgICAgICAgICBwYWlkU2l6ZSA9IGdsb2JhbFBvc2l0aW9uLmxvbmdTaXplOwogICAgICAgICAgICByZWNlaXZlZFNpemUgPSBnbG9iYWxQb3NpdGlvbi5zaG9ydFNpemU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcGFpZFNpemUgPSBnbG9iYWxQb3NpdGlvbi5zaG9ydFNpemU7CiAgICAgICAgICAgIHJlY2VpdmVkU2l6ZSA9IGdsb2JhbFBvc2l0aW9uLmxvbmdTaXplOwogICAgICAgIH0KCiAgICAgICAgLy8gY2FsY3VsYXRlIGZ1bmRpbmcgcmF0ZSBncm93dGgKICAgICAgICAvLyBwYWlkRnVuZGluZ0ZlZUdyb3d0aERlbHRhID0gKHBhaWRTaXplICogcHJpY2UgKiBmdW5kaW5nUmF0ZSkgLyBwYWlkU2l6ZSA9IHByaWNlICogZnVuZGluZ1JhdGUKICAgICAgICBsZXQgcGFpZEZ1bmRpbmdGZWVHcm93dGhEZWx0YTogSW50ID0gcHJpY2UgKiBhYnMoY2xhbXBlZEZ1bmRpbmdSYXRlRGVsdGEpIC8gUEVSQ0VOVEFHRV9CQVNJU19QT0lOVDsKCiAgICAgICAgbGV0IHJlY2VpdmVkRnVuZGluZ0ZlZUdyb3d0aERlbHRhOiBJbnQgPSAwOwogICAgICAgIGxldCBscFJlY2VpdmVkRnVuZGluZ0ZlZTogSW50ID0gMDsKICAgICAgICBpZiAocGFpZEZ1bmRpbmdGZWVHcm93dGhEZWx0YSA+IDApIHsKICAgICAgICAgICAgaWYgKHBhaWRTaXplID4gcmVjZWl2ZWRTaXplKSB7CiAgICAgICAgICAgICAgICBpZiAocmVjZWl2ZWRTaXplID4gMCkgewogICAgICAgICAgICAgICAgICAgIHJlY2VpdmVkRnVuZGluZ0ZlZUdyb3d0aERlbHRhID0gcGFpZEZ1bmRpbmdGZWVHcm93dGhEZWx0YTsKICAgICAgICAgICAgICAgICAgICBscFJlY2VpdmVkRnVuZGluZ0ZlZSA9IHJlY2VpdmVkRnVuZGluZ0ZlZUdyb3d0aERlbHRhICogKHBhaWRTaXplIC0gcmVjZWl2ZWRTaXplKTsKICAgICAgICAgICAgICAgICAgICBzZWxmLmdsb2JhbExQRnVuZGluZ0ZlZUdyb3d0aCArPSBscFJlY2VpdmVkRnVuZGluZ0ZlZSAvIHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGxwUmVjZWl2ZWRGdW5kaW5nRmVlID0gcGFpZEZ1bmRpbmdGZWVHcm93dGhEZWx0YSAqIHBhaWRTaXplOwogICAgICAgICAgICAgICAgICAgIHNlbGYuZ2xvYmFsTFBGdW5kaW5nRmVlR3Jvd3RoICs9IGxwUmVjZWl2ZWRGdW5kaW5nRmVlIC8gc2VsZi5nbG9iYWxMUExpcXVpZGl0eTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGlmIChyZWNlaXZlZFNpemUgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZWRGdW5kaW5nRmVlR3Jvd3RoRGVsdGEgPSBwYWlkRnVuZGluZ0ZlZUdyb3d0aERlbHRhICogcGFpZFNpemUgLyByZWNlaXZlZFNpemU7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGxwUmVjZWl2ZWRGdW5kaW5nRmVlID0gcGFpZEZ1bmRpbmdGZWVHcm93dGhEZWx0YSAqIHBhaWRTaXplOwogICAgICAgICAgICAgICAgICAgIHNlbGYuZ2xvYmFsTFBGdW5kaW5nRmVlR3Jvd3RoICs9IGxwUmVjZWl2ZWRGdW5kaW5nRmVlIC8gc2VsZi5nbG9iYWxMUExpcXVpZGl0eTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gZnVuZGluZyByYXRlID4gMCwgbG9uZyBwYXkgZm9yIHNob3J0IGFuZCBMUAogICAgICAgIGlmIChjbGFtcGVkRnVuZGluZ1JhdGVEZWx0YSA+PSAwKSB7CiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLmxvbmdGdW5kaW5nRmVlR3Jvd3RoIC09IHBhaWRGdW5kaW5nRmVlR3Jvd3RoRGVsdGE7CiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLnNob3J0RnVuZGluZ0ZlZUdyb3d0aCArPSByZWNlaXZlZEZ1bmRpbmdGZWVHcm93dGhEZWx0YTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBnbG9iYWxQb3NpdGlvbi5sb25nRnVuZGluZ0ZlZUdyb3d0aCArPSByZWNlaXZlZEZ1bmRpbmdGZWVHcm93dGhEZWx0YTsKICAgICAgICAgICAgZ2xvYmFsUG9zaXRpb24uc2hvcnRGdW5kaW5nRmVlR3Jvd3RoIC09IHBhaWRGdW5kaW5nRmVlR3Jvd3RoRGVsdGE7CiAgICAgICAgfQoKICAgICAgICBzZWxmLmdsb2JhbFBvc2l0aW9ucy5zZXQodG9rZW5JZCwgZ2xvYmFsUG9zaXRpb24pOwogICAgICAgIHJldHVybiBVcGRhdGVGdW5kaW5nUmF0ZVJlc3VsdHsKICAgICAgICAgICAgbHBSZWNlaXZlZEZ1bmRpbmdGZWVEZWx0YTogbHBSZWNlaXZlZEZ1bmRpbmdGZWUgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUiwKICAgICAgICAgICAgZ2xvYmFsTFBGdW5kaW5nRmVlR3Jvd3RoOiBzZWxmLmdsb2JhbExQRnVuZGluZ0ZlZUdyb3d0aCwKICAgICAgICAgICAgbG9uZ0Z1bmRpbmdGZWVHcm93dGhBZnRlcjogZ2xvYmFsUG9zaXRpb24ubG9uZ0Z1bmRpbmdGZWVHcm93dGgsCiAgICAgICAgICAgIHNob3J0RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBnbG9iYWxQb3NpdGlvbi5zaG9ydEZ1bmRpbmdGZWVHcm93dGgKICAgICAgICB9OwogICAgfQoKfQo="},"compiler":{"name":"tact","version":"1.2.0","parameters":"{\"entrypoint\":\"contracts/pool/pool.tact\",\"options\":{}}"}}