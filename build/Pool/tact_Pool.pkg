{"name":"Pool","code":"te6ccgECnAEAMPQAART/APSkE/S88sgLAQIBYgIDAvDQAdDTAwFxsKMB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFRQUwNvBPhhAvhi2zwRHREfER0RHBEeERwRGxEdERsRGhEcERoRGREbERkRGBEaERgRFxEZERcRFhEYERYRFREXERURFBEWERQRExEVEROVBAIBIHx9Ap4REhEUERIRERETEREREBESERAPEREPDhEQDlUd2zzy4ILI+EMBzH8BygARHhEdERwRGxEaERkRGBEXERYRFREUERMREhERERBV4Ns8ye1UBQYEbgGSMH/gcCHXScIflTAg1wsf3iCCEGXvmv26jwgw2zxsGds8f+AgghA4IV65uuMCIIIQ6JzUX7oHCAkKAegBER0BER6BAQHPAAERGwGBAQHPAAERGQH0AAERFwGBAQHPABEVyIEBAc8AAREUAYEBAc8AARESAYEBAc8AERDIgQEBzwAfgQEBzwAdgQEBzwDIUAwg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxZQChcAwtMfAYIQZe+a/bry4IGBAQHXAIEBAdcAgQEB1wDUAdCBAQHXAIEBAdcAgQEB1wDUMNCBAQHXAIEBAdcA+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiDEQaRBoEGcB8BEdESYRHREcESURHBEbESQRGxEaESMRGhEZESIRGREYESERGBEXESARFxEWER8RFhEVER4RFREUESYRFBETESURExESESQREhERESMREREQESIREA8RIQ8OESAODREfDQwRHgwLESYLChElCgkRJAkIESMIBxEiBwsCEDDbPGwb2zx/DQ4EOo8IMNs8bBfbPH/gIIIQ/qNrcbrjAiCCEP9X5Ve6ExQVFgP+BhEhBgURIAUEER8EAxEeAwIRJgIBESUBESTbPFcSVxNXE1cTVxNXE1cTVxVXFfhCcHCAQBAjbW1t2zwRGhEdERoRGREcERkREhEbERIREREaERERGBEZERgRFxEYERcRFhEXERYRFREWERUREREVEREREREUEREKERMKCBERCBBiDAAoBxEQBxBvEF4QTRA8S6kXFhUUQzAAotMfAYIQOCFeubry4IGBAQHXANQB0AHSAIEBAdcAgQEB1wDUAdCBAQHXAIEBAdcAgQEB1wDUMNCBAQHXAIEBAdcAgQEB1wAwEGsQahBpEGgQZwHwER0RKBEdERwRJxEcERsRJhEbERoRJREaERkRJBEZERgRIxEYERcRIhEXERYRIREWERURIBEVERQRHxEUERMRHhETERIRKBESERERJxERERARJhEQDxElDw4RJA4NESMNDBEiDAsRIQsKESAKCREfCQgRHggHESgHDwT8BhEnBgURJgUEESUEAxEkAwIRIwIBESIBESHbPFYgVhu+l1caVh+kERreCBEfCAcRHgcGESgGBREnBQQRJgQDESUDAhEkAgERIwERIoEBAREiyFWQ2zzJAxETAwIRGQIBERgBIG6VMFn0WjCUQTP0FeL4QnBwgEAQI21tbds8EBFiEgAU+EJWFAHHBfLghACGyFAKzxbJUArMF8oAFYEBAc8AE4EBAc8AgQEBzwAByIEBAc8AEoEBAc8AEoEBAc8AA8iBAQHPABKBAQHPAMlYzMkBzACcERIRHRESERERHBERERsPERoPDhEZDg0RGA0MERcMCxEWCwoRFQoJERQJCBETCAcREgcGEREGBREQBRBPED5NwBBbEFoQWRBYEFcQVlUwAILTHwGCEOic1F+68uCB0gDTP/pAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgBgQEB1wDTP4EBAdcA9ARVYAHyggCg9/hCVhsBxwXy9BEfESQRHxEeESMRHhEdESIRHREcESERHBEbESARGxEaESQRGhEZESMRGREYESIRGBEXESERFxEWESARFhEVESQRFREUESMRFBETESIRExESESEREhERESAREREQESQREA8RIw8OESIODREhDRkCEDDbPGwY2zx/KisDfI8IMNs8bBzbPH/gghCUapi2uo6n0x8BghCUapi2uvLggdM/ATHIAYIQr/kPV1jLH8s/yfhCAXBt2zx/4DBwREVGAf4g10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYY9AAWyz/IQFQCgQEBzwCBAQHPAPQAyz/IRBRQV1A0gQEBzwCBAQHPAIEBAc8AAciBAQHPAMkBzBT0AAXIgQEBzwAWgQEBzwAXgQEBzwAX9AAXyz8X9AAHyIEBAc8AyVAHGAAqzMlQBczJWMzJAczJUAPMyVjMyQHMBIwMESAMCxEkCwoRIwoJESIJCBEhCAcRIAcGESQGBREj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wAHjD/hBbyQTXwNWHqoAoVYdofhBbyRILS4vAfxXIxEdESARHREcER8RHBEbER4RGxEaER0RGhEZERwRGREYERsRGBEXERoRFxEWERkRFhEVERgRFREUERcRFBETERYRExESERUREhERERQREREQERMREA8REg8OEREODREQDRDPEL4QrRCcEIsQehBpEFgQRxA2RRMRIUAEViEwA/4wESLAAo7uERwRIBEcERsRHxEbERoRHhEaERkRHREZERgRHBEYERcRGxEXERYRGhEWERURGREVERQRGBEUERMRFxETERIRFhESERERFRERERARFBEQDxETDw4REg4NERENDBEQDFU7AxEhAwJwAhEiAVYi2zzjDhEfER4RHREcOjc4A/TbPKGBJNUhwgDy9BEhcBEhcREhyFUgghBJicfBUATLHxKBAQHPAIEBAc8Ayz/JVhMEAxEiAwIRIQIRIAEQJBAjbW3bPBEaER0RGhEZERwRGREYERsRGBEXERoRFxEWERkRFhEVERgRFREUERcRFBETERYRExESERUREmBiYQEE2zwxA+ZWEYEBCyVZ9AtvoZIwbd8gbpIwbY4o0IEBAdcAgQEB1wCBAQHXANQB0IEBAdcAgQEB1wAwECUQJBAjbBVvBeJwVHAAIDQkbrOZXwQgbvLQgG8lmTRWFKQRFUFEA+JwUwPAAOMPUSagU96BAQsnVEYwVEVQMjM0ADRsIjMmggDzySFWIr7y9IIApoohViGoKL7y9ACQW1LSoSKoUuKhIqhRM6AhoCegL1YZoFYUqCOpBHAhwQCSMKORMeKCAOy6IlYhoVYgqIIID0JAqQRYvPL0ggCmiiFWIagovvL0Au7IVUBQRYEBAc8AEoEBAc8AgQEBzwAByIEBAc8AEoEBAc8AyQHMyQIRGAJSoCBulTBZ9FkwlEEz9BPiERQnoBETJqAQRxBoEEUQJBA4AhEWAlCIVhbIVYDbPMnIgljAAAAAAAAAAAAAAAABActnzMlw+wBUWwAREDU2AMKCEM/a5FlQCssfGIEBAc8AUAYg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYUgQEBzwACyIEBAc8AgQEBzwASgQEBzwACyIEBAc8AE4EBAc8AE4EBAc8AyVjMyQHMAHTIVSCCEFo8v8xQBMsfEoEBAc8AgQEBzwCBAQHPAMnIgljA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AQGBAQHPAMkiEDkBIG6VMFn0WjCUQTP0FeKOH4EBASLIAQGBAQHPAMkiEDkBIG6VMFn0WjCUQTP0FeLiLIEBAShMAWRZ9A1voZIwbd8gbpIwbY4Y0IEBAdcA0gCBAQHXAIEBAdcAVTBsFG8E4iBus5MwNjDjDU0AziBu8tCAbyQijhNRUaFSMKiCOAVrx14tYxAAAKkEjhNSFqFSMKiCOAVrx14tYxAAAKkE4lFloVAGoAWBAQEFyFUwUDSBAQHPAMoAgQEBzwCBAQHPAMkQPRcgbpUwWfRaMJRBM/QV4goB/lcfVx9XH1cff3AgERwRJBEcERsRIxEbERoRIhEaERkRIREZERgRIBEYERcRHxEXERYRHhEWERURHREVERQRHBEUERMRGxETERIRGhESERERGRERERARGBEQDxEXDw4RFg4NERUNDBEUDAsREwsKERIKCRERCQgREAgQfxBuEF1kAf4RH5lWJQERIL7y5myZViUBESC78uZs4hEbESMRGxEaESIRGhEZESERGREYESARGBEXER8RFxEWER4RFhEVER0RFREUERwRFBETERsRExESERoREhERERkREREQERgREA8RFw8OERYODREVDQwRFAwLERMLChESCgkREQkIERAIZQH+VygRIJlWHwERIb7y5myZVh8BESG78uZs4hEcESMRHBEbESIRGxEaESERGhEZESARGREYER8RGBEXER4RFxEWER0RFhEVERwRFREUERsRFBETERoRExESERkREhERERgREREQERcREA8RFg8OERUODREUDQwREwwLERILChERClID9Ns8oYEk1SHCAPL0ESFwESFxESHIVSCCEO8BwrRQBMsfEoEBAc8AgQEBzwDLP8lWEwQDESIDAhEhAhEgARAkECNtbds8ERoRHREaERkRHBEZERgRGxEYERcRGhEXERYRGREWERURGBEVERQRFxEUERMRFhETERIRFRESYGJhATgJERAJEI8QflVmIRBHUFYEESUEAxElAwIRJds8UwLiViKBAQEmWfQNb6GSMG3fIG6SMG2Oh9DbPGwabwrigWyWIW6z8vQgbvLQgG8qWzeCAI9uUAby9FYQgQEBLFn0DW+hkjBt3yBukjBtl9D0BAExbwHiIG6zlyBu8tCAbyGSMG3iIIEBCy5Z9AtvoZIwbd+UVAL+IG6SMG2OVNCB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","abi":"{\"name\":\"Pool\",\"types\":[{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounced\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"Deploy\",\"header\":2490013878,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"DeployOk\",\"header\":2952335191,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"FactoryDeploy\",\"header\":1829761339,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"cashback\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwner\",\"header\":2174598809,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwnerOk\",\"header\":846932810,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"UpdateConfig\",\"header\":1710201597,\"fields\":[{\"name\":\"gasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"minTonsForStorage\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"rbfLockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusFactor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"minLPMargin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxLPLeverage\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpLiquidationFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpMaxRiskRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"orderBook\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"UpdateTokenConfig\",\"header\":941711033,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"name\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"enable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"minMargin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxLeverage\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidationFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpTradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"protocalTradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"interestRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxFundingRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"UpdateRBFPosition\",\"header\":3902592095,\"fields\":[{\"name\":\"isIncrease\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"pricesLength\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"prices\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UpdatePrice\",\"valueFormat\":\"ref\"}}]},{\"name\":\"UpdateRBFPositionSuccess\",\"header\":485543809,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"UpdateLPPosition\",\"header\":4272122737,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"pricesLength\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"prices\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UpdatePrice\",\"valueFormat\":\"ref\"}}]},{\"name\":\"UpdateLPPositionSuccess\",\"header\":1233766337,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"UpdatePerpPosition\",\"header\":4283950423,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerAbove\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"pricesLength\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"prices\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UpdatePrice\",\"valueFormat\":\"ref\"}}]},{\"name\":\"UpdatePerpPositionSuccess\",\"header\":4009870004,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"RBFPositionIncreasedEvent\",\"header\":4037720789,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"unlockTimeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"RBFPositionDecreasedEvent\",\"header\":2882242104,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalRBFChangedEvent\",\"header\":3450643003,\"fields\":[{\"name\":\"riskBufferFundAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidation\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LPPositionIncreasedEvent\",\"header\":3487229017,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"marginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LPPositionDecreasedEvent\",\"header\":2843728201,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"marginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedLoss\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LPPositionLiquidatedEvent\",\"header\":3220731385,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"margin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidity\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidationFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalLPLiquidityChangedEvent\",\"header\":1513930700,\"fields\":[{\"name\":\"marginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalLPPositionChangedEvent\",\"header\":2125986710,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"netSizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"entryPriceAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PerpPositionIncreasedEvent\",\"header\":126890049,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"marginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradePrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PerpPositionDecreasedEvent\",\"header\":743380229,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"marginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradePrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedPnLDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PerpPositionLiquidatedEvent\",\"header\":3838903472,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidatePrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidationFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"UpdatePriceEvent\",\"header\":1737737193,\"fields\":[{\"name\":\"pricesLength\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"prices\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UpdatePrice\",\"valueFormat\":\"ref\"}}]},{\"name\":\"ConfigData\",\"header\":null,\"fields\":[{\"name\":\"rbfLockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusFactor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"minLPMargin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxLPLeverage\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpLiquidationFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpMaxRiskRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"orderBook\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"TokenConfig\",\"header\":null,\"fields\":[{\"name\":\"name\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"enable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"minMargin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxLeverage\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidationFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpTradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"protocalTradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"interestRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxFundingRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"TokenConfigData\",\"header\":null,\"fields\":[{\"name\":\"tokenIdNext\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tokenConfig\",\"type\":{\"kind\":\"simple\",\"type\":\"TokenConfig\",\"optional\":true}}]},{\"name\":\"RBFPosition\",\"header\":null,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidity\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonus\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"unlockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalRBFPosition\",\"header\":null,\"fields\":[{\"name\":\"riskBufferFund\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidity\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"RBFPositionData\",\"header\":null,\"fields\":[{\"name\":\"rbfPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"RBFPosition\",\"optional\":true}},{\"name\":\"globalRBFPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"GlobalRBFPosition\",\"optional\":false}}]},{\"name\":\"IncreaseLPPositionOrder\",\"header\":null,\"fields\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"blockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"DecreaseLPPositionOrder\",\"header\":null,\"fields\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executionFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"blockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LPPosition\",\"header\":null,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"margin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidity\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryTradingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalLPLiquidity\",\"header\":null,\"fields\":[{\"name\":\"margin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidity\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LPPositionData\",\"header\":null,\"fields\":[{\"name\":\"lpPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"LPPosition\",\"optional\":true}},{\"name\":\"globalLPLiquidity\",\"type\":{\"kind\":\"simple\",\"type\":\"GlobalLPLiquidity\",\"optional\":false}}]},{\"name\":\"AccountPerpPosition\",\"header\":null,\"fields\":[{\"name\":\"positions\",\"type\":{\"kind\":\"dict\",\"key\":\"address\",\"value\":\"DirectionPerpPosition\",\"valueFormat\":\"ref\"}}]},{\"name\":\"DirectionPerpPosition\",\"header\":null,\"fields\":[{\"name\":\"longPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"PerpPosition\",\"optional\":false}},{\"name\":\"shortPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"PerpPosition\",\"optional\":false}}]},{\"name\":\"PerpPosition\",\"header\":null,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"margin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"size\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalLPPosition\",\"header\":null,\"fields\":[{\"name\":\"netSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"entryPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"unrealizedPnl\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PerpPositionData\",\"header\":null,\"fields\":[{\"name\":\"perpPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"DirectionPerpPosition\",\"optional\":true}},{\"name\":\"globalLPPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"GlobalLPPosition\",\"optional\":true}}]},{\"name\":\"PriceData\",\"header\":null,\"fields\":[{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"UpdatePrice\",\"header\":null,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateConfig\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateTokenConfig\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateRBFPosition\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateLPPosition\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdatePerpPosition\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Deploy\"}}],\"getters\":[{\"name\":\"configData\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"ConfigData\",\"optional\":false}},{\"name\":\"tokenConfig\",\"arguments\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"TokenConfigData\",\"optional\":false}},{\"name\":\"rbfPosition\",\"arguments\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"RBFPositionData\",\"optional\":true}},{\"name\":\"lpPosition\",\"arguments\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"LPPositionData\",\"optional\":true}},{\"name\":\"perpPosition\",\"arguments\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"PerpPositionData\",\"optional\":true}},{\"name\":\"owner\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}],\"errors\":{\"2\":{\"message\":\"Stack undeflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"13\":{\"message\":\"Out of gas error\"},\"32\":{\"message\":\"Method ID not found\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"37\":{\"message\":\"Not enough TON\"},\"38\":{\"message\":\"Not enough extra-currencies\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid address\"},\"137\":{\"message\":\"Masterchain support is not enabled for this contract\"},\"1644\":{\"message\":\"not reach trigger price\"},\"5238\":{\"message\":\"position not exist\"},\"9429\":{\"message\":\"send gas not enough\"},\"18995\":{\"message\":\"margin rate too low\"},\"22749\":{\"message\":\"risk rate too hig\"},\"23236\":{\"message\":\"insufficient global RBF\"},\"27798\":{\"message\":\"invalid token\"},\"28603\":{\"message\":\"margin rate too high\"},\"31425\":{\"message\":\"not reach unlock time\"},\"36718\":{\"message\":\"disabled token\"},\"41207\":{\"message\":\"invalid sender\"},\"42634\":{\"message\":\"legerage too high\"},\"55429\":{\"message\":\"not reach liquidate price\"},\"58161\":{\"message\":\"insufficient liquidity\"},\"60602\":{\"message\":\"risk rate too high\"},\"61867\":{\"message\":\"insuficient global net RBF\"},\"62259\":{\"message\":\"insufficient global liquidity\"},\"62409\":{\"message\":\"insufficient margin\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\",\"org.ton.debug.v0\",\"org.ton.chain.workchain.v0\",\"org.ton.ownable\"]}","init":{"kind":"direct","args":[{"name":"deployId","type":{"kind":"simple","type":"int","optional":false,"format":257}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":"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IIEE/7ry0ImDCbry4IjPFhj0ABbLP8hAVAKBAQHPAIEBAc8A9ADLP8hEFFBXUDSBAQHPAIEBAc8AgQEBzwAByIEBAc8AyQHMFPQABciBAQHPABaBAQHPABeBAQHPABf0ABfLPxf0AAfIgQEBzwDJUAcjACrMyVAFzMlYzMkBzMlQA8zJWMzJAcwEbgGSMH/gcCHXScIflTAg1wsf3iCCEGXvmv26jwgw2zxsGds8f+AgghA4IV65uuMCIIIQ6JzUX7qYkowlBDqPCDDbPGwX2zx/4CCCEP6ja3G64wIgghD/V+VXuot0WCYDfI8IMNs8bBzbPH/gghCUapi2uo6n0x8BghCUapi2uvLggdM/ATHIAYIQr/kPV1jLH8s/yfhCAXBt2zx/4DBwVygnATptbSJus5lbIG7y0IBvIgGRMuIQJHADBIBCUCPbPJUB8oIAoPf4QlYgAccF8vQRHxEpER8RHhEoER4RHREnER0RHBEmERwRGxElERsRGhEkERoRGREjERkRGBEiERgRFxEhERcRFhEgERYRFREpERURFBEoERQRExEnERMREhEmERIRERElEREREBEkERAPESMPDhEiDg0RIQ0pA34MESAMCxEpCwoRKAoJEScJCBEmCAcRJQcGESQGBREjBQQRIgQDESEDAhEgAts8ViXbPHBWKMAKkX+UVijAC+KHVioEgI8pMBEnwAPjDxEfER4RHREcERsRGhEZERgRFxEWERURFBETERIREREQVeDjDfhBbyQTXwNWHqoAoVYdofhBbyQ9OywrA/TbPKGBJNUhwgDy9BEhcBEhcREhyFUgghDvAcK0UATLHxKBAQHPAIEBAc8Ayz/JVhMEAxEiAwIRIQIRIAEQJBAjbW3bPBEaER0RGhEZERwRGREYERsRGBEXERoRFxEWERkRFhEVERgRFREUERcRFBETERYRExESERUREniVXAH+VygRIJlWHwERIb7y5myZVh8BESG78uZs4hEcESMRHBEbESIRGxEaESERGhEZESARGREYER8RGBEXER4RFxEWER0RFhEVERwRFREUERsRFBETERoRExESERkREhERERgREREQERcREA8RFg8OERUODREUDQwREwwLERILChERCi0BOAkREAkQjxB+VWYhEEdQVgQRJQQDESUDAhEl2zwuAuJWIoEBASZZ9A1voZIwbd8g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AQHXAPpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB0gCBAQHXANQB0IEBAdcAgQEB1wDSANM/gQEB1wD0BDAQbBBrEGoQaRBoEGcCEDDbPGwY2zx/c1kB8oIAoPf4QlYcAccF8vQRHxElER8RHhEkER4RHREjER0RHBEiERwRGxEhERsRGhEgERoRGRElERkRGBEkERgRFxEjERcRFhEiERYRFREhERURFBEgERQRExElERMREhEkERIREREjEREREBEiERAPESEPDhEgDg0RJQ1aBJAMESQMCxEjCwoRIgoJESEJCBEgCAcRJQcGESQGBREjBQQRIgQDESEDAhEgAts8cFYjwAHjD/hBbyQTXwNWHqoAoVYdofhBbySHa11bA/TbPKGBJNUhwgDy9BEhcBEhcREhyFUgghBJicfBUATLHxKBAQHPAIEBAc8Ayz/JVhMEAxEiAwIRIQIRIAEQJBAjbW3bPBEaER0RGhEZERwRGREYERsRGBEXERoRFxEWERkRFhEVERgRFREUERcRFBETERYRExESERUREniVXAA0ERERFBERERARExEQDxESDw4REQ4NERANVSwD/jARIsACju4RHBEgERwRGxEfERsRGhEeERoRGREdERkRGBEcERgRFxEbERcRFhEaERYRFREZERURFBEYERQRExEXERMREhEWERIREREVEREREBEUERAPERMPDhESDg0REQ0MERAMVTsDESEDAnACESIBViLbPOMOER8RHhEdERxhX14ANBEbERoRGREYERcRFhEVERQRExESEREREFXgAf5XHlcef3AgER0RIREdERwRIBEcERsRHxEbERoRHhEaERkRHREZERgRHBEYERcRGxEXERYRGhEWERURGREVERQRGBEUERMRFxETERIRFhESERERFRERERARFBEQDxETDw4REg4NERENDBEQDBC/EK4QnRCMEHsQahBZEEheMxA1YAEQBBEiBFYi2zxhAfRWEoEBCyZZ9AtvoZIwbd8gbpIwbY4o0IEBAdcAgQEB1wCBAQHXANQB0IEBAdcAgQEB1wAwECUQJBAjbBVvBeKBFHYhbrPy9CBu8tCAbyVS4qEiqFLyoSKoUzCgIqApkjcijhBTc7yTNyIH3lMIuZI4J94H4lF4oVM3oWICuFYSVhygVhioJakEcCHBAJMwIKPeDOMP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NjDjDYoAziBu8tCAbyQijhNRUaFSMKiCOAVrx14tYxAAAKkEjhNSFqFSMKiCOAVrx14tYxAAAKkE4lFloVAGoAWBAQEFyFUwUDSBAQHPAMoAgQEBzwCBAQHPAMkQPRcgbpUwWfRaMJRBM/QV4goAgtMfAYIQ6JzUX7ry4IHSANM/+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAGBAQHXANM/gQEB1wD0BFVgAhAw2zxsG9s8f5GNAfARHREoER0RHBEnERwRGxEmERsRGhElERoRGREkERkRGBEjERgRFxEiERcRFhEhERYRFREgERURFBEfERQRExEeERMREhEoERIREREnEREREBEmERAPESUPDhEkDg0RIw0MESIMCxEhCwoRIAoJER8JCBEeCAcRKAeOBPwGEScGBREmBQQRJQQDESQDAhEjAgERIgERIds8ViBWG76XVxpWH6QRGt4IER8IBxEeBwYRKAYFEScFBBEmBAMRJQMCESQCAREjAREigQEBESLIVZDbPMkDERMDAhEZAgERGAEgbpUwWfRaMJRBM/QV4vhCcHCAQBAjbW1t2zyXkJWPAJwREhEdERIREREcERERGw8RGg8OERkODREYDQwRFwwLERYLChEVCgkRFAkIERMIBxESBwYREQYFERAFEE8QPk3AEFsQWhBZEFgQVxBWVTAAhshQCs8WyVAKzBfKABWBAQHPABOBAQHPAIEBAc8AAciBAQHPABKBAQHPABKBAQHPAAPIgQEBzwASgQEBzwDJWMzJAcwAotMfAYIQOCFeubry4IGBAQHXANQB0AHSAIEBAdcAgQEB1wDUAdCBAQHXAIEBAdcAgQEB1wDUMNCBAQHXAIEBAdcAgQEB1wAwEGsQahBpEGgQZwHwER0RJhEdERwRJREcERsRJBEbERoRIxEaERkRIhEZERgRIREYERcRIBEXERYRHxEWERURHhEVERQRJhEUERMRJRETERIRJBESERERIxERERARIhEQDxEhDw4RIA4NER8NDBEeDAsRJgsKESUKCREkCQgRIwgHESIHkwP+BhEhBgURIAUEER8EAxEeAwIRJgIBESUBESTbPFcSVxNXE1cTVxNXE1cTVxVXFfhCcHCAQBAjbW1t2zwRGhEdERoRGREcERkREhEbERIREREaERERGBEZERgRFxEYERcRFhEXERYRFREWERUREREVEREREREUEREKERMKCBERCJeVlAAoBxEQBxBvEF4QTRA8S6kXFhUUQzAByshxAcoBUAcBygBwAcoCUAUg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxZQA/oCcAHKaCNus5F/kyRus+KXMzMBcAHKAOMNIW6znH8BygABIG7y0IABzJUxcAHKAOLJAfsAlgCYfwHKAMhwAcoAcAHKACRus51/AcoABCBu8tCAUATMljQDcAHKAOIkbrOdfwHKAAQgbvLQgFAEzJY0A3ABygDicAHKAAJ/AcoAAslYzAAU+EJWFAHHBfLghADC0x8BghBl75r9uvLggYEBAdcAgQEB1wCBAQHXANQB0IEBAdcAgQEB1wCBAQHXANQw0IEBAdcAgQEB1wD6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIMRBpEGgQZwL07UTQ1AH4Y9IAAY7Y2zxXHhEcER0RHBEbERwRGxEaERsRGhEZERoRGREYERkRGBEXERgRFxEWERcRFhEVERYRFREUERURFBETERQRExESERMREhERERIREREQEREREA8REA9VDuD4KNcLCoMJuvLgiYEBAdcAAQHR2zycmgH2MIIK+vCAggnJw4BtcYEBLCGCCJiWgIBkggMNQIIID0JAbSVtIW1wUwBtJW0j+EJTEchyAcsBcAHLABLKB8v/ydAg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIUyJUdEQgBxETBwYREgYHEREHBhEQBhBfEE4QfRBsmwAQEDtKmBBXEEYB9IEBAdcAgQEB1wD0BIEBAdcA1AHQgQEB1wCBAQHXAIEBAdcA1DDQgQEB1wCBAQHXAIEBAdcA1DDQ+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAH6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAfQEnQDu0z/UMNCBAQHXAIEBAdcAWQL0BNM/1DDQgQEB1wCBAQHXAIEBAdcA1AHQgQEB1wAwFEMwBPQE1DDQgQEB1wCBAQHXAIEBAdcA9ATTP/QE1DDQgQEB1wAwERoRHhEaERoRHREaERoRHBEaERoRGxEaEO8QqxCaEIkFClSE"}},"sources":{"contracts/core/messages.tact":"aW1wb3J0ICIuL3N0cnVjdHMiOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBhZG1pbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwptZXNzYWdlIFVwZGF0ZUNvbmZpZyB7CiAgICBnYXNDb25zdW1wdGlvbjogSW50OwogICAgbWluVG9uc0ZvclN0b3JhZ2U6IEludDsKICAgIHJiZkxvY2tUaW1lOiBJbnQ7CiAgICBib251c0ZhY3RvcjogSW50OwogICAgbWluTFBNYXJnaW46IEludDsKICAgIG1heExQTGV2ZXJhZ2U6IEludDsKICAgIGxwTGlxdWlkYXRpb25GZWU6IEludDsKICAgIGxwTWF4Umlza1JhdGU6IEludDsKICAgIG9yZGVyQm9vazogQWRkcmVzczsKfQoKbWVzc2FnZSBVcGRhdGVUb2tlbkNvbmZpZyB7CiAgICB0b2tlbklkOiBJbnQ7CiAgICBuYW1lOiBTdHJpbmc7CiAgICBlbmFibGU6IEJvb2w7CiAgICBtaW5NYXJnaW46IEludDsKICAgIG1heExldmVyYWdlOiBJbnQ7CiAgICBsaXF1aWRhdGlvbkZlZTogSW50OwogICAgdHJhZGluZ0ZlZVJhdGU6IEludDsKICAgIGxwVHJhZGluZ0ZlZVJhdGU6IEludDsKICAgIHByb3RvY2FsVHJhZGluZ0ZlZVJhdGU6IEludDsKICAgIGludGVyZXN0UmF0ZTogSW50OwogICAgbWF4RnVuZGluZ1JhdGU6IEludDsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBSQkYgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KbWVzc2FnZSgweGU4OWNkNDVmKSBVcGRhdGVSQkZQb3NpdGlvbiB7CiAgICBpc0luY3JlYXNlOiBCb29sOwogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICBsaXF1aWRpdHlEZWx0YTogSW50OwogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7CiAgICBwcmljZXNMZW5ndGg6IEludDsKICAgIHByaWNlczogbWFwPEludCwgVXBkYXRlUHJpY2U+Owp9CgptZXNzYWdlKDB4MWNmMGNmODEpIFVwZGF0ZVJCRlBvc2l0aW9uU3VjY2VzcyB7CiAgICBvcmRlcklkOiBJbnQ7CiAgICByZWNlaXZlOiBJbnQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBMUCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwptZXNzYWdlKDB4ZmVhMzZiNzEpIFVwZGF0ZUxQUG9zaXRpb24gewogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIG9wVHlwZTogSW50IGFzIHVpbnQ4OwogICAgYWNjb3VudDogQWRkcmVzczsKICAgIG1hcmdpbkRlbHRhOiBJbnQ7CiAgICBsaXF1aWRpdHlEZWx0YTogSW50OwogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7CiAgICBwcmljZXNMZW5ndGg6IEludDsKICAgIHByaWNlczogbWFwPEludCwgVXBkYXRlUHJpY2U+Owp9CgptZXNzYWdlKDB4NDk4OWM3YzEpIFVwZGF0ZUxQUG9zaXRpb25TdWNjZXNzIHsKICAgIG9yZGVySWQ6IEludDsKICAgIHJlY2VpdmU6IEludDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFBlcnAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KbWVzc2FnZSgweGZmNTdlNTU3KSBVcGRhdGVQZXJwUG9zaXRpb24gewogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIG9wVHlwZTogSW50IGFzIHVpbnQ4OwogICAgdG9rZW5JZDogSW50OwogICAgYWNjb3VudDogQWRkcmVzczsKICAgIGlzTG9uZzogQm9vbDsKICAgIG1hcmdpbkRlbHRhOiBJbnQ7CiAgICBzaXplRGVsdGE6IEludDsKICAgIHRyaWdnZXJQcmljZTogSW50OwogICAgdHJpZ2dlckFib3ZlOiBCb29sOwogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7CiAgICBwcmljZXNMZW5ndGg6IEludDsKICAgIHByaWNlczogbWFwPEludCwgVXBkYXRlUHJpY2U+Owp9CgptZXNzYWdlKDB4ZWYwMWMyYjQpIFVwZGF0ZVBlcnBQb3NpdGlvblN1Y2Nlc3MgewogICAgb3JkZXJJZDogSW50OwogICAgcmVjZWl2ZTogSW50OwogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7Cn0=","contracts/core/events.tact":"aW1wb3J0ICIuL3N0cnVjdHMiOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBSQkYgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KLy8gaW5jcmVhc2UgUkJGCm1lc3NhZ2UgUkJGUG9zaXRpb25JbmNyZWFzZWRFdmVudCB7CiAgICBwb3NpdGlvbklkOiBJbnQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgbGlxdWlkaXR5RGVsdGE6IEludDsKICAgIGxpcXVpZGl0eUFmdGVyOiBJbnQ7CiAgICBib251c0RlbHRhOiBJbnQ7CiAgICBib251c0FmdGVyOiBJbnQ7CiAgICB1bmxvY2tUaW1lQWZ0ZXI6IEludDsKICAgIHRyeElkOiBJbnQ7Cn0KCi8vIGRlY3JlYXNlIFJCRgptZXNzYWdlIFJCRlBvc2l0aW9uRGVjcmVhc2VkRXZlbnQgewogICAgcG9zaXRpb25JZDogSW50OwogICAgYWNjb3VudDogQWRkcmVzczsKICAgIGxpcXVpZGl0eURlbHRhOiBJbnQ7IC8vIGRlY3JlYXNlIGxpcXVpZHR5CiAgICBsaXF1aWRpdHlBZnRlcjogSW50OwogICAgYm9udXNEZWx0YTogSW50OwogICAgYm9udXNBZnRlcjogSW50OwogICAgcmVjZWl2ZTogSW50OyAvLyByZWFsaXplZFBubCA9IHJlY2VpdmUgLSBsaXF1aWRpdHlEZWx0YQogICAgdHJ4SWQ6IEludDsKfQoKLy8gZ2xvYmFsIFJCRgptZXNzYWdlIEdsb2JhbFJCRkNoYW5nZWRFdmVudCB7CiAgICByaXNrQnVmZmVyRnVuZEFmdGVyOiBJbnQ7CiAgICBsaXF1aWRpdHlBZnRlcjogSW50OwogICAgdHJhZGluZ0ZlZTogSW50OwogICAgbGlxdWlkYXRpb246IEludDsKICAgIHRyeElkOiBJbnQ7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gTFAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KLy8gaW5jcmVhc2UgTFAKbWVzc2FnZSBMUFBvc2l0aW9uSW5jcmVhc2VkRXZlbnQgewogICAgcG9zaXRpb25JZDogSW50OwogICAgYWNjb3VudDogQWRkcmVzczsKICAgIG1hcmdpbkRlbHRhOiBJbnQ7CiAgICBtYXJnaW5BZnRlcjogSW50OwogICAgbGlxdWlkaXR5RGVsdGE6IEludDsKICAgIGxpcXVpZGl0eUFmdGVyOiBJbnQ7CiAgICB0cmFkaW5nRmVlOiBJbnQ7CiAgICBmdW5kaW5nRmVlOiBJbnQ7CiAgICB0cnhJZDogSW50Owp9CgovLyBkZWNyZWFzZSBMUAptZXNzYWdlIExQUG9zaXRpb25EZWNyZWFzZWRFdmVudCB7CiAgICBwb3NpdGlvbklkOiBJbnQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIG1hcmdpbkFmdGVyOiBJbnQ7CiAgICBsaXF1aWRpdHlEZWx0YTogSW50OwogICAgbGlxdWlkaXR5QWZ0ZXI6IEludDsKICAgIHRyYWRpbmdGZWU6IEludDsKICAgIGZ1bmRpbmdGZWU6IEludDsKICAgIHJlYWxpemVkTG9zczogSW50OwogICAgcmVjZWl2ZTogSW50OwogICAgdHJ4SWQ6IEludDsKfQoKLy8gbGlxdWlkYXRlIExQCm1lc3NhZ2UgTFBQb3NpdGlvbkxpcXVpZGF0ZWRFdmVudCB7CiAgICBwb3NpdGlvbklkOiBJbnQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgbWFyZ2luOiBJbnQ7CiAgICBsaXF1aWRpdHk6IEludDsKICAgIHRyYWRpbmdGZWU6IEludDsKICAgIGZ1bmRpbmdGZWU6IEludDsKICAgIGxpcXVpZGF0aW9uRmVlOiBJbnQ7CiAgICB0cnhJZDogSW50Owp9CgovLyBnbG9iYWwgTFAKbWVzc2FnZSBHbG9iYWxMUExpcXVpZGl0eUNoYW5nZWRFdmVudCB7CiAgICBtYXJnaW5BZnRlcjogSW50OwogICAgbGlxdWlkaXR5QWZ0ZXI6IEludDsKICAgIHRyeElkOiBJbnQ7Cn0KbWVzc2FnZSBHbG9iYWxMUFBvc2l0aW9uQ2hhbmdlZEV2ZW50IHsKICAgIHRva2VuSWQ6IEludDsKICAgIG5ldFNpemVBZnRlcjogSW50OwogICAgaXNMb25nOiBCb29sOwogICAgZW50cnlQcmljZUFmdGVyOiBJbnQ7CiAgICB0cnhJZDogSW50Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFBlcnAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KbWVzc2FnZSBQZXJwUG9zaXRpb25JbmNyZWFzZWRFdmVudCB7CiAgICBwb3NpdGlvbklkOiBJbnQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgdG9rZW5JZDogSW50OwogICAgaXNMb25nOiBCb29sOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIG1hcmdpbkFmdGVyOiBJbnQ7CiAgICBzaXplRGVsdGE6IEludDsKICAgIHNpemVBZnRlcjogSW50OwogICAgdHJhZGVQcmljZTogSW50OwogICAgZW50cnlQcmljZTogSW50OwogICAgZnVuZGluZ0ZlZTogSW50OwogICAgdHJhZGluZ0ZlZTogSW50OwogICAgdHJ4SWQ6IEludDsKfQoKbWVzc2FnZSBQZXJwUG9zaXRpb25EZWNyZWFzZWRFdmVudCB7CiAgICBwb3NpdGlvbklkOiBJbnQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgdG9rZW5JZDogSW50OwogICAgaXNMb25nOiBCb29sOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIG1hcmdpbkFmdGVyOiBJbnQ7CiAgICBzaXplRGVsdGE6IEludDsKICAgIHNpemVBZnRlcjogSW50OwogICAgdHJhZGVQcmljZTogSW50OwogICAgcmVhbGl6ZWRQbkxEZWx0YTogSW50OwogICAgZnVuZGluZ0ZlZTogSW50OwogICAgdHJhZGluZ0ZlZTogSW50OwogICAgcmVjZWl2ZTogSW50OwogICAgdHJ4SWQ6IEludDsKfQoKbWVzc2FnZSBQZXJwUG9zaXRpb25MaXF1aWRhdGVkRXZlbnQgewogICAgcG9zaXRpb25JZDogSW50OwogICAgYWNjb3VudDogQWRkcmVzczsKICAgIHRva2VuSWQ6IEludDsKICAgIGlzTG9uZzogQm9vbDsKICAgIG1hcmdpbkRlbHRhOiBJbnQ7CiAgICBzaXplRGVsdGE6IEludDsKICAgIGxpcXVpZGF0ZVByaWNlOiBJbnQ7CiAgICBmdW5kaW5nRmVlOiBJbnQ7CiAgICB0cmFkaW5nRmVlOiBJbnQ7CiAgICBsaXF1aWRhdGlvbkZlZTogSW50OwogICAgdHJ4SWQ6IEludDsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBQcmljZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwptZXNzYWdlIFVwZGF0ZVByaWNlRXZlbnQgewogICAgcHJpY2VzTGVuZ3RoOiBJbnQ7CiAgICBwcmljZXM6IG1hcDxJbnQsIFVwZGF0ZVByaWNlPjsKfQ==","contracts/core/structs.tact":"Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBDb25maWcgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8Kc3RydWN0IENvbmZpZ0RhdGEgewogICAgcmJmTG9ja1RpbWU6IEludDsKICAgIGJvbnVzRmFjdG9yOiBJbnQ7CiAgICBtaW5MUE1hcmdpbjogSW50OwogICAgbWF4TFBMZXZlcmFnZTogSW50OwogICAgbHBMaXF1aWRhdGlvbkZlZTogSW50OwogICAgbHBNYXhSaXNrUmF0ZTogSW50OwogICAgb3JkZXJCb29rOiBBZGRyZXNzOwp9CgpzdHJ1Y3QgVG9rZW5Db25maWcgewogICAgbmFtZTogU3RyaW5nOwogICAgZW5hYmxlOiBCb29sOwogICAgLy8gPT09PT09PT09PT09PT09PT09PT0gVHJhZGVyIFBvc2l0aW9uIENvbmZpZ3VyYXRpb24gPT09PT09PT09PT09PT09PT09CiAgICBtaW5NYXJnaW46IEludDsKICAgIG1heExldmVyYWdlOiBJbnQ7CiAgICBsaXF1aWRhdGlvbkZlZTogSW50OwogICAgLy8gPT09PT09PT09PT09PT09PT09PT0gVHJhZGluZyBGZWUgQ29uZmlndXJhdGlvbiA9PT09PT09PT09PT09PT09PT0KICAgIHRyYWRpbmdGZWVSYXRlOiBJbnQ7CiAgICBscFRyYWRpbmdGZWVSYXRlOiBJbnQ7CiAgICBwcm90b2NhbFRyYWRpbmdGZWVSYXRlOiBJbnQ7CiAgICAvLyA9PT09PT09PT09PT09PT09PT09PSBPdGhlciBDb25maWd1cmF0aW9uID09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICBpbnRlcmVzdFJhdGU6IEludDsKICAgIG1heEZ1bmRpbmdSYXRlOiBJbnQ7Cn0KCnN0cnVjdCBUb2tlbkNvbmZpZ0RhdGEgewogICAgdG9rZW5JZE5leHQ6IEludDsKICAgIHRva2VuQ29uZmlnOiBUb2tlbkNvbmZpZz87Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUkJGID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCnN0cnVjdCBSQkZQb3NpdGlvbiB7CiAgICBwb3NpdGlvbklkOiBJbnQ7CiAgICBsaXF1aWRpdHk6IEludDsKICAgIGJvbnVzOiBJbnQ7CiAgICB1bmxvY2tUaW1lOiBJbnQ7Cn0KCnN0cnVjdCBHbG9iYWxSQkZQb3NpdGlvbiB7CiAgICByaXNrQnVmZmVyRnVuZDogSW50OwogICAgbGlxdWlkaXR5OiBJbnQ7Cn0KCnN0cnVjdCBSQkZQb3NpdGlvbkRhdGEgewogICAgcmJmUG9zaXRpb246IFJCRlBvc2l0aW9uPzsKICAgIGdsb2JhbFJCRlBvc2l0aW9uOiBHbG9iYWxSQkZQb3NpdGlvbjsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBMUCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwpzdHJ1Y3QgSW5jcmVhc2VMUFBvc2l0aW9uT3JkZXIgewogICAgYWNjb3VudDogQWRkcmVzczsKICAgIG1hcmdpbkRlbHRhOiBJbnQ7CiAgICBsaXF1aWRpdHlEZWx0YTogSW50OwogICAgZXhlY3V0aW9uRmVlOiBJbnQ7CiAgICBibG9ja1RpbWU6IEludDsKfQoKc3RydWN0IERlY3JlYXNlTFBQb3NpdGlvbk9yZGVyIHsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICBtYXJnaW5EZWx0YTogSW50OwogICAgbGlxdWlkaXR5RGVsdGE6IEludDsKICAgIGV4ZWN1dGlvbkZlZTogSW50OwogICAgYmxvY2tUaW1lOiBJbnQ7Cn0KCnN0cnVjdCBMUFBvc2l0aW9uIHsKICAgIHBvc2l0aW9uSWQ6IEludDsKICAgIG1hcmdpbjogSW50OwogICAgbGlxdWlkaXR5OiBJbnQ7CiAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGg6IEludDsKICAgIGVudHJ5VHJhZGluZ0ZlZUdyb3d0aDogSW50Owp9CgpzdHJ1Y3QgR2xvYmFsTFBMaXF1aWRpdHkgewogICAgbWFyZ2luOiBJbnQ7CiAgICBsaXF1aWRpdHk6IEludDsKICAgIGZ1bmRpbmdGZWVHcm93dGg6IEludDsKICAgIHRyYWRpbmdGZWVHcm93dGg6IEludDsKfQoKc3RydWN0IExQUG9zaXRpb25EYXRhIHsKICAgIGxwUG9zaXRpb246IExQUG9zaXRpb24/OwogICAgZ2xvYmFsTFBMaXF1aWRpdHk6IEdsb2JhbExQTGlxdWlkaXR5Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFBlcnAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KLy8gcGVycCBwb3NpdGlvbgpzdHJ1Y3QgQWNjb3VudFBlcnBQb3NpdGlvbiB7CiAgICBwb3NpdGlvbnM6IG1hcDxBZGRyZXNzLCBEaXJlY3Rpb25QZXJwUG9zaXRpb24+Owp9CgpzdHJ1Y3QgRGlyZWN0aW9uUGVycFBvc2l0aW9uIHsKICAgIGxvbmdQb3NpdGlvbjogUGVycFBvc2l0aW9uOwogICAgc2hvcnRQb3NpdGlvbjogUGVycFBvc2l0aW9uOwp9CgpzdHJ1Y3QgUGVycFBvc2l0aW9uIHsKICAgIHBvc2l0aW9uSWQ6IEludDsKICAgIG1hcmdpbjogSW50OwogICAgc2l6ZTogSW50OwogICAgZW50cnlQcmljZTogSW50OwogICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiBJbnQ7Cn0KCnN0cnVjdCBHbG9iYWxMUFBvc2l0aW9uIHsKICAgIG5ldFNpemU6IEludDsKICAgIGlzTG9uZzogQm9vbDsKICAgIGVudHJ5UHJpY2U6IEludDsKICAgIHVucmVhbGl6ZWRQbmw6IEludDsKfQoKc3RydWN0IFBlcnBQb3NpdGlvbkRhdGEgewogICAgcGVycFBvc2l0aW9uOiBEaXJlY3Rpb25QZXJwUG9zaXRpb24/OwogICAgZ2xvYmFsTFBQb3NpdGlvbjogR2xvYmFsTFBQb3NpdGlvbj87Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUHJpY2UgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8Kc3RydWN0IFByaWNlRGF0YSB7CiAgICBwcmljZTogSW50Owp9CgpzdHJ1Y3QgVXBkYXRlUHJpY2UgewogICAgdG9rZW5JZDogSW50OwogICAgcHJpY2U6IEludDsKfQo=","contracts/core/constants.tact":"Y29uc3QgT1BfQ1JFQVRFX0lOQ1JFQVNFX1JCRl9QT1NJVElPTjogSW50ID0gMTsKY29uc3QgT1BfQ1JFQVRFX0lOQ1JFQVNFX0xQX1BPU0lUSU9OOiBJbnQgPSAyOwpjb25zdCBPUF9DUkVBVEVfSU5DUkVBU0VfUE9TSVRJT246IEludCA9IDM7Cgpjb25zdCBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UOiBJbnQgPSAxXzAwMF8wMDA7IC8vIDEwXzAwMCBmb3IgMSUKY29uc3QgREVDSU1BTF9GQUNUT1I6IEludCA9IHBvdygxMCwgMjApOwoKY29uc3QgREFZOiBJbnQgPSAyNCAqIDYwICogNjA7CgoKY29uc3QgQURKVVNUX0ZVTkRJTkdfUkFURV9JTlRFUlZBTDogSW50ID0gMzYwMDsgLy8gMSBob3VyCmNvbnN0IFNBTVBMRV9QUkVNSVVNX1JBVEVfSU5URVJWQUw6IEludCA9IDU7IC8vIDUgc2Vjb25kcwpjb25zdCBSRVFVSVJFRF9TQU1QTEVfQ09VTlQ6IEludCA9IDcyMDsKLy8gQGRldiA4ICogKDErMiszKy4uLis3MjApID0gOCAqICgoMSs3MjApICogNzIwIC8gMikgPSA4ICogMjU5NTYwCmNvbnN0IFBSRU1JVU1fUkFURV9BVkdfREVOT01JTkFUT1I6IEludCA9IDggKiAyNTk1NjA7CmNvbnN0IFBSRU1JVU1fUkFURV9DTEFNUF9CT1VOREFSWV9YOTY6IEludCA9IDQ5NTE3NjAxNTcxNDE1MjEwOTk1OTY0OTc7CmNvbnN0IFE2NDogSW50ID0gMSA8PCA2NDsKY29uc3QgUTk2OiBJbnQgPSAxIDw8IDk2Owpjb25zdCBCQVNJU19QT0lOVFNfRElWSVNPUjogSW50ID0gMTAwMDAwMDAwOwoKY29uc3QgT1JERVJfT1BfVFlQRV9JTkNSRUFTRTogSW50ID0gMTsKY29uc3QgT1JERVJfT1BfVFlQRV9ERUNSRUFTRTogSW50ID0gMjsKY29uc3QgT1JERVJfT1BfVFlQRV9MSVFVSURBVElPTjogSW50ID0gMzsKY29uc3QgT1JERVJfT1BfVFlQRV9BREw6IEludCA9IDQ7Cgpjb25zdCBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFX01BUktFVDogSW50ID0gMTA7CmNvbnN0IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTElNSVQ6IEludCA9IDExOwpjb25zdCBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFX01BUktFVDogSW50ID0gMTI7CmNvbnN0IE9SREVSX09QX1RZUEVfREVDUkVBU0VfVFA6IEludCA9IDEzOwpjb25zdCBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFX1NMOiBJbnQgPSAxNDs=","contracts/core/pool.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CmltcG9ydCAiQHN0ZGxpYi9vd25hYmxlIjsKaW1wb3J0ICIuL21lc3NhZ2VzIjsKaW1wb3J0ICIuL2V2ZW50cyI7CmltcG9ydCAiLi9zdHJ1Y3RzIjsKaW1wb3J0ICIuL2NvbnN0YW50cyI7Cgpjb250cmFjdCBQb29sIHdpdGggRGVwbG95YWJsZSwgT3duYWJsZSB7CgogICAgLy8gY29uZmlnCiAgICBnYXNDb25zdW1wdGlvbjogSW50ID0gdG9uKCIwLjA1Iik7CiAgICBtaW5Ub25zRm9yU3RvcmFnZTogSW50ID0gdG9uKCIwLjAzIik7CgogICAgdG9rZW5Db25maWdzOiBtYXA8SW50LCBUb2tlbkNvbmZpZz47IC8vIHRva2VuSWQgPT4gdG9rZW5Db25maWcKICAgIHRva2VuSWROZXh0OiBJbnQgPSAxOwoKICAgIC8vIHJiZkxvY2tUaW1lOiBJbnQgPSAxMCAqIDI0ICogNjAgKiA2MDsgLy8gbG9jayAxMCBkYXlzCiAgICByYmZMb2NrVGltZTogSW50ID0gNSAqIDYwOyAvLyBUT0RPIGxvY2sgNSBtaW4gZm9yIHRlc3QKICAgIGJvbnVzRmFjdG9yOiBJbnQgPSAxOwoKICAgIG1pbkxQTWFyZ2luOiBJbnQgPSAxMCAqIHBvdygxMCwgNik7CiAgICBtYXhMUExldmVyYWdlOiBJbnQgPSAxMDA7CiAgICBscExpcXVpZGF0aW9uRmVlOiBJbnQgPSAyICogcG93KDEwLCA1KTsgLy8gMC4ydQogICAgbHBNYXhSaXNrUmF0ZTogSW50ID0gcG93KDEwLCA2KTsKCiAgICAvLyBhZG1pbgogICAgb3duZXI6IEFkZHJlc3M7CiAgICBvcmRlckJvb2s6IEFkZHJlc3M7CgogICAgLy8gUkJGCiAgICByYmZQb3NpdGlvbnM6IG1hcDxBZGRyZXNzLCBSQkZQb3NpdGlvbj47IC8vIHRyYWRlciA9PiBSQkYKICAgIHJiZlBvc2l0aW9uSW5kZXhOZXh0OiBJbnQgYXMgdWludDY0ID0gMTsKICAgIGdsb2JhbFJCRlBvc2l0aW9uOiBHbG9iYWxSQkZQb3NpdGlvbjsKCiAgICAvLyBMUAogICAgbHBQb3NpdGlvbnM6IG1hcDxBZGRyZXNzLCBMUFBvc2l0aW9uPjsgLy8gdHJhZGVyID0+IExQCiAgICBscFBvc2l0aW9uSW5kZXhOZXh0OiBJbnQgYXMgdWludDY0ID0gMTsKICAgIGdsb2JhbExQTGlxdWlkaXR5OiBHbG9iYWxMUExpcXVpZGl0eTsKICAgIGdsb2JhbExQUG9zaXRpb25zOiBtYXA8SW50LCBHbG9iYWxMUFBvc2l0aW9uPjsgLy8gdG9rZW5JZCA9PiBnbG9iYWxMUAogICAgdG90YWxHbG9iYWxVbnJlYWxpemVkUG5sOiBJbnQgPSAwOwoKICAgIGxwVHJhZGluZ0ZlZUdyb3d0aDogSW50ID0gMDsKICAgIGxwRnVuZGluZ0ZlZUdyb3d0aDogSW50ID0gMDsKCiAgICAvLyBQZXJwCiAgICBwZXJwUG9zaXRpb25zOiBtYXA8SW50LCBBY2NvdW50UGVycFBvc2l0aW9uPjsgLy8gdG9rZW5JZCA9PiB1c2VyID0+IGRpcmVjdGlvbiA9PiBwb3NpdGlvbgogICAgcGVycFBvc2l0aW9uSW5kZXhOZXh0OiBJbnQgYXMgdWludDY0ID0gMTsKCiAgICAvLyBwcmljZQogICAgcHJpY2VzOiBtYXA8SW50LCBQcmljZURhdGE+OyAvLyB0b2tlbklkID0+IHByaWNlRGF0YQoKICAgIHByb3RvY2FsVHJhZGluZ0ZlZTogSW50ID0gMDsKCiAgICBpbml0KGRlcGxveUlkOiBJbnQpIHsKICAgICAgICBzZWxmLm93bmVyID0gc2VuZGVyKCk7CiAgICAgICAgc2VsZi5vcmRlckJvb2sgPSBuZXdBZGRyZXNzKDAsIDApOwogICAgICAgIHNlbGYuZ2xvYmFsUkJGUG9zaXRpb24gPSBHbG9iYWxSQkZQb3NpdGlvbntyaXNrQnVmZmVyRnVuZDogMCwgbGlxdWlkaXR5OiAwfTsKICAgICAgICBzZWxmLmdsb2JhbExQTGlxdWlkaXR5ID0gR2xvYmFsTFBMaXF1aWRpdHl7bWFyZ2luOiAwLCBsaXF1aWRpdHk6IDAsIGZ1bmRpbmdGZWVHcm93dGg6IDAsIHRyYWRpbmdGZWVHcm93dGg6IDB9OwogICAgfQoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IEFkbWluID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KICAgIHJlY2VpdmUobXNnOiBVcGRhdGVDb25maWcpIHsKICAgICAgICBzZWxmLnJlcXVpcmVPd25lcigpOwoKICAgICAgICBzZWxmLmdhc0NvbnN1bXB0aW9uID0gbXNnLmdhc0NvbnN1bXB0aW9uOwogICAgICAgIHNlbGYubWluVG9uc0ZvclN0b3JhZ2UgPSBtc2cubWluVG9uc0ZvclN0b3JhZ2U7CiAgICAgICAgc2VsZi5yYmZMb2NrVGltZSA9IG1zZy5yYmZMb2NrVGltZTsKICAgICAgICBzZWxmLmJvbnVzRmFjdG9yID0gbXNnLmJvbnVzRmFjdG9yOwogICAgICAgIHNlbGYubWluTFBNYXJnaW4gPSBtc2cubWluTFBNYXJnaW47CiAgICAgICAgc2VsZi5tYXhMUExldmVyYWdlID0gbXNnLm1heExQTGV2ZXJhZ2U7CiAgICAgICAgc2VsZi5scExpcXVpZGF0aW9uRmVlID0gbXNnLmxwTGlxdWlkYXRpb25GZWU7CiAgICAgICAgc2VsZi5scE1heFJpc2tSYXRlID0gbXNnLmxwTWF4Umlza1JhdGU7CiAgICAgICAgc2VsZi5vcmRlckJvb2sgPSBtc2cub3JkZXJCb29rOwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZW5kZXIoKSwKICAgICAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdWYWx1ZQogICAgICAgIH0pOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBVcGRhdGVUb2tlbkNvbmZpZykgewogICAgICAgIHNlbGYucmVxdWlyZU93bmVyKCk7CgogICAgICAgIGxldCB0b2tlbkNvbmZpZ09wdDogVG9rZW5Db25maWc/ID0gc2VsZi50b2tlbkNvbmZpZ3MuZ2V0KG1zZy50b2tlbklkKTsKICAgICAgICBsZXQgdG9rZW5Db25maWc6IFRva2VuQ29uZmlnID0gVG9rZW5Db25maWd7CiAgICAgICAgICAgIG5hbWU6ICIiLAogICAgICAgICAgICBlbmFibGU6IGZhbHNlLAogICAgICAgICAgICBtaW5NYXJnaW46IDEwICogcG93KDEwLCA2KSwgLy8gMTBVCiAgICAgICAgICAgIG1heExldmVyYWdlOiA1MCwKICAgICAgICAgICAgbGlxdWlkYXRpb25GZWU6IDIgKiBwb3coMTAsIDUpLCAvLyAwLjJVCiAgICAgICAgICAgIHRyYWRpbmdGZWVSYXRlOiAxXzAwMCwgLy8gMC4xJQogICAgICAgICAgICBscFRyYWRpbmdGZWVSYXRlOiAzMDBfMDAwLCAvLyAzMCUKICAgICAgICAgICAgcHJvdG9jYWxUcmFkaW5nRmVlUmF0ZTogMzAwXzAwMCwgLy8gMzAlCiAgICAgICAgICAgIGludGVyZXN0UmF0ZTogMCwKICAgICAgICAgICAgbWF4RnVuZGluZ1JhdGU6IDAKICAgICAgICB9OwogICAgICAgIC8vIGlmICh0b2tlbkNvbmZpZ09wdCAhPSBudWxsKSB7CiAgICAgICAgICAgIC8vIHRva2VuQ29uZmlnID0gdG9rZW5Db25maWdPcHQhITsKICAgICAgICAvLyB9CgogICAgICAgIC8vIGlmIChtc2cubmFtZSAhPSBudWxsKXsKICAgICAgICAgICAgdG9rZW5Db25maWcubmFtZSA9IG1zZy5uYW1lOwogICAgICAgIC8vIH0KICAgICAgICAvLyBpZiAobXNnLmVuYWJsZSAhPSBudWxsKXsKICAgICAgICAgICAgdG9rZW5Db25maWcuZW5hYmxlID0gbXNnLmVuYWJsZTsKICAgICAgICAvLyB9CiAgICAgICAgLy8gaWYgKG1zZy5taW5NYXJnaW4gIT0gbnVsbCl7CiAgICAgICAgICAgIHRva2VuQ29uZmlnLm1pbk1hcmdpbiA9IG1zZy5taW5NYXJnaW47CiAgICAgICAgLy8gfQogICAgICAgIC8vIGlmIChtc2cubWF4TGV2ZXJhZ2UgIT0gbnVsbCl7CiAgICAgICAgICAgIHRva2VuQ29uZmlnLm1heExldmVyYWdlID0gbXNnLm1heExldmVyYWdlOwogICAgICAgIC8vIH0KICAgICAgICAvLyBpZiAobXNnLmxpcXVpZGF0aW9uRmVlICE9IG51bGwpewogICAgICAgICAgICB0b2tlbkNvbmZpZy5saXF1aWRhdGlvbkZlZSA9IG1zZy5saXF1aWRhdGlvbkZlZTsKICAgICAgICAvLyB9CiAgICAgICAgLy8gaWYgKG1zZy5pbnRlcmVzdFJhdGUgIT0gbnVsbCl7CiAgICAgICAgICAgIHRva2VuQ29uZmlnLmludGVyZXN0UmF0ZSA9IG1zZy5pbnRlcmVzdFJhdGU7CiAgICAgICAgLy8gfQogICAgICAgIC8vIGlmIChtc2cudHJhZGluZ0ZlZVJhdGUgIT0gbnVsbCl7CiAgICAgICAgICAgIHRva2VuQ29uZmlnLnRyYWRpbmdGZWVSYXRlID0gbXNnLnRyYWRpbmdGZWVSYXRlOwogICAgICAgIC8vIH0KICAgICAgICAvLyBpZiAobXNnLmxwVHJhZGluZ0ZlZVJhdGUgIT0gbnVsbCl7CiAgICAgICAgICAgIHRva2VuQ29uZmlnLmxwVHJhZGluZ0ZlZVJhdGUgPSBtc2cubHBUcmFkaW5nRmVlUmF0ZTsKICAgICAgICAvLyB9CiAgICAgICAgLy8gaWYgKG1zZy5wcm90b2NhbFRyYWRpbmdGZWVSYXRlICE9IG51bGwpewogICAgICAgICAgICB0b2tlbkNvbmZpZy5wcm90b2NhbFRyYWRpbmdGZWVSYXRlID0gbXNnLnByb3RvY2FsVHJhZGluZ0ZlZVJhdGU7CiAgICAgICAgLy8gfQogICAgICAgIC8vIGlmIChtc2cubWF4RnVuZGluZ1JhdGUgIT0gbnVsbCl7CiAgICAgICAgICAgIHRva2VuQ29uZmlnLm1heEZ1bmRpbmdSYXRlID0gbXNnLm1heEZ1bmRpbmdSYXRlOwogICAgICAgIC8vIH0KICAgICAgICBpZiAobXNnLnRva2VuSWQgPj0gc2VsZi50b2tlbklkTmV4dCkgewogICAgICAgICAgICBzZWxmLnRva2VuSWROZXh0ID0gbXNnLnRva2VuSWQgKyAxOwogICAgICAgIH0KCiAgICAgICAgc2VsZi50b2tlbkNvbmZpZ3Muc2V0KG1zZy50b2tlbklkLCB0b2tlbkNvbmZpZyk7CiAgICAgICAgCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbmRlcigpLAogICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ1ZhbHVlCiAgICAgICAgfSk7CiAgICB9CgogICAgZ2V0IGZ1biBjb25maWdEYXRhKCk6IENvbmZpZ0RhdGEgewogICAgICAgIHJldHVybiBDb25maWdEYXRhewogICAgICAgICAgICByYmZMb2NrVGltZTogc2VsZi5yYmZMb2NrVGltZSwKICAgICAgICAgICAgYm9udXNGYWN0b3I6IHNlbGYuYm9udXNGYWN0b3IsCiAgICAgICAgICAgIG1pbkxQTWFyZ2luOiBzZWxmLm1pbkxQTWFyZ2luLAogICAgICAgICAgICBtYXhMUExldmVyYWdlOiBzZWxmLm1heExQTGV2ZXJhZ2UsCiAgICAgICAgICAgIGxwTGlxdWlkYXRpb25GZWU6IHNlbGYubHBMaXF1aWRhdGlvbkZlZSwKICAgICAgICAgICAgbHBNYXhSaXNrUmF0ZTogc2VsZi5scE1heFJpc2tSYXRlLAogICAgICAgICAgICBvcmRlckJvb2s6IHNlbGYub3JkZXJCb29rCiAgICAgICAgfTsKICAgIH0KCiAgICBnZXQgZnVuIHRva2VuQ29uZmlnKHRva2VuSWQ6IEludCk6IFRva2VuQ29uZmlnRGF0YSB7CiAgICAgICAgcmV0dXJuIFRva2VuQ29uZmlnRGF0YXsKICAgICAgICAgICAgdG9rZW5JZE5leHQ6IHNlbGYudG9rZW5JZE5leHQsCiAgICAgICAgICAgIHRva2VuQ29uZmlnOiBzZWxmLnRva2VuQ29uZmlncy5nZXQodG9rZW5JZCkKICAgICAgICB9OwogICAgfQoKICAgIC8vIGdldCBmdW4gcHJpY2VEYXRhKHRva2VuSWQ6IEludCk6IFByaWNlRGF0YT8gewogICAgLy8gICAgIHJldHVybiBzZWxmLnByaWNlcy5nZXQodG9rZW5JZCk7CiAgICAvLyB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUkJGID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KICAgIHJlY2VpdmUobXNnOiBVcGRhdGVSQkZQb3NpdGlvbikgewogICAgICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gc2VsZi5vcmRlckJvb2ssICJpbnZhbGlkIHNlbmRlciIpOwoKICAgICAgICAvLyB1cGRhdGUgcHJpY2UKICAgICAgICBzZWxmLnNldFByaWNlKG1zZy5wcmljZXNMZW5ndGgsIG1zZy5wcmljZXMpOwoKICAgICAgICAvLyBUT0RPIHVwZGF0ZSBmdW5kaW5nIHJhdGUKCiAgICAgICAgLy8gdXBkYXRlIHBvc2l0aW9uCiAgICAgICAgbGV0IHJlY2VpdmU6IEludCA9IDA7CiAgICAgICAgaWYgKG1zZy5pc0luY3JlYXNlKSB7CiAgICAgICAgICAgIHNlbGYuaW5jcmVhc2VSQkZQb3NpdGlvbihtc2cuYWNjb3VudCwgbXNnLmxpcXVpZGl0eURlbHRhLCBtc2cudHJ4SWQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlY2VpdmUgPSBzZWxmLmRlY3JlYXNlUkJGUG9zaXRpb24obXNnLmFjY291bnQsIG1zZy5saXF1aWRpdHlEZWx0YSwgbXNnLnRyeElkKTsKICAgICAgICB9CgogICAgICAgIGxldCBtc2dWYWx1ZTogSW50ID0gY29udGV4dCgpLnZhbHVlIC0gc2VsZi5nYXNDb25zdW1wdGlvbiAqIDIgLSBzZWxmLm1pblRvbnNGb3JTdG9yYWdlIC0gY29udGV4dCgpLnJlYWRGb3J3YXJkRmVlKCk7CiAgICAgICAgcmVxdWlyZShtc2dWYWx1ZSA+IDAsICJzZW5kIGdhcyBub3QgZW5vdWdoIik7CiAgICAgICAgLy8gc2VuZCB1cGRhdGUgc3VjY2VzcyBtc2cKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogc2VsZi5vcmRlckJvb2ssCiAgICAgICAgICAgIHZhbHVlOiBtc2dWYWx1ZSwKICAgICAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICAgICAgbW9kZTogU2VuZFBheUdhc1NlcGFyYXRlbHksCiAgICAgICAgICAgIGJvZHk6IFVwZGF0ZVJCRlBvc2l0aW9uU3VjY2VzcyB7CiAgICAgICAgICAgICAgICBvcmRlcklkOiBtc2cub3JkZXJJZCwKICAgICAgICAgICAgICAgIHJlY2VpdmU6IHJlY2VpdmUsCiAgICAgICAgICAgICAgICB0cnhJZDogbXNnLnRyeElkCiAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICB9KTsKICAgIH0KCiAgICBmdW4gaW5jcmVhc2VSQkZQb3NpdGlvbihhY2NvdW50OiBBZGRyZXNzLCBsaXF1aWRpdHlEZWx0YTogSW50LCB0cnhJZDogSW50KSB7CiAgICAgICAgLy8gZ2V0IHBvc2l0aW9uCiAgICAgICAgbGV0IGxwUG9zaXRpb25PcHQ6IFJCRlBvc2l0aW9uPyA9IHNlbGYucmJmUG9zaXRpb25zLmdldChhY2NvdW50KTsKICAgICAgICAvLyBpbml0IHBvc2l0aW9uIGlmIG5vdCBleGlzdAogICAgICAgIGxldCByYmZQb3NpdGlvbjogUkJGUG9zaXRpb24gPSBSQkZQb3NpdGlvbnsKICAgICAgICAgICAgICAgIHBvc2l0aW9uSWQ6IDAsCiAgICAgICAgICAgICAgICBsaXF1aWRpdHk6IDAsCiAgICAgICAgICAgICAgICBib251czogMCwKICAgICAgICAgICAgICAgIHVubG9ja1RpbWU6IDAKICAgICAgICAgICAgfTsKICAgICAgICBpZiAobHBQb3NpdGlvbk9wdCAhPSBudWxsKSB7CiAgICAgICAgICAgIHJiZlBvc2l0aW9uID0gbHBQb3NpdGlvbk9wdCEhOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJiZlBvc2l0aW9uLnBvc2l0aW9uSWQgPSBzZWxmLnJiZlBvc2l0aW9uSW5kZXhOZXh0OwogICAgICAgICAgICBzZWxmLnJiZlBvc2l0aW9uSW5kZXhOZXh0ID0gc2VsZi5yYmZQb3NpdGlvbkluZGV4TmV4dCArIDE7CiAgICAgICAgfQoKICAgICAgICAvLyB1cGRhdGUgUkJGCiAgICAgICAgLy8gY2FsY3VsYXRlIGJvbnVzCiAgICAgICAgbGV0IGdsb2JhbE5ldFJCRjogSW50ID0gc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5yaXNrQnVmZmVyRnVuZCArIHNlbGYudG90YWxHbG9iYWxVbnJlYWxpemVkUG5sOwogICAgICAgIGlmIChnbG9iYWxOZXRSQkYgPCAwKSB7CiAgICAgICAgICAgIGdsb2JhbE5ldFJCRiA9IDA7CiAgICAgICAgfQogICAgICAgIGxldCBib251czogSW50ID0gMDsKICAgICAgICBpZiAoZ2xvYmFsTmV0UkJGIDwgc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5saXF1aWRpdHkpIHsKICAgICAgICAgICAgLy8gYm9udXMgPSBiICsgcyAoMSAtIHgpICogbGlxdWlkaXR5CiAgICAgICAgICAgIGJvbnVzID0gc2VsZi5ib251c0ZhY3RvciAqIChzZWxmLmdsb2JhbFJCRlBvc2l0aW9uLmxpcXVpZGl0eSAtIGdsb2JhbE5ldFJCRikKICAgICAgICAgICAgICAgICAqIGxpcXVpZGl0eURlbHRhIC8gc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5saXF1aWRpdHk7CiAgICAgICAgICAgIHJiZlBvc2l0aW9uLmJvbnVzID0gcmJmUG9zaXRpb24uYm9udXMgKyBib251czsKICAgICAgICB9CgogICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbgogICAgICAgIHJiZlBvc2l0aW9uLmxpcXVpZGl0eSA9IHJiZlBvc2l0aW9uLmxpcXVpZGl0eSArIGxpcXVpZGl0eURlbHRhOwogICAgICAgIHJiZlBvc2l0aW9uLnVubG9ja1RpbWUgPSBub3coKSArIHNlbGYucmJmTG9ja1RpbWU7CgogICAgICAgIC8vIHNldCBwb3NpdGlvbgogICAgICAgIHNlbGYucmJmUG9zaXRpb25zLnNldChhY2NvdW50LCByYmZQb3NpdGlvbik7CgogICAgICAgIC8vIHVwZGF0ZSBnbG9iYWwgcG9zaXRpb24KICAgICAgICBzZWxmLmdsb2JhbFJCRlBvc2l0aW9uLnJpc2tCdWZmZXJGdW5kID0gc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5yaXNrQnVmZmVyRnVuZCArIGxpcXVpZGl0eURlbHRhOwogICAgICAgIHNlbGYuZ2xvYmFsUkJGUG9zaXRpb24ubGlxdWlkaXR5ID0gc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5saXF1aWRpdHkgKyBsaXF1aWRpdHlEZWx0YTsKCiAgICAgICAgZW1pdChSQkZQb3NpdGlvbkluY3JlYXNlZEV2ZW50ewogICAgICAgICAgICBwb3NpdGlvbklkOiByYmZQb3NpdGlvbi5wb3NpdGlvbklkLAogICAgICAgICAgICBhY2NvdW50OiBhY2NvdW50LAogICAgICAgICAgICBsaXF1aWRpdHlEZWx0YTogbGlxdWlkaXR5RGVsdGEsCiAgICAgICAgICAgIGxpcXVpZGl0eUFmdGVyOiByYmZQb3NpdGlvbi5saXF1aWRpdHksCiAgICAgICAgICAgIGJvbnVzRGVsdGE6IGJvbnVzLAogICAgICAgICAgICBib251c0FmdGVyOiByYmZQb3NpdGlvbi5ib251cywKICAgICAgICAgICAgdW5sb2NrVGltZUFmdGVyOiByYmZQb3NpdGlvbi51bmxvY2tUaW1lLAogICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICBlbWl0KEdsb2JhbFJCRkNoYW5nZWRFdmVudHsKICAgICAgICAgICAgcmlza0J1ZmZlckZ1bmRBZnRlcjogc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5yaXNrQnVmZmVyRnVuZCwKICAgICAgICAgICAgbGlxdWlkaXR5QWZ0ZXI6IHNlbGYuZ2xvYmFsUkJGUG9zaXRpb24ubGlxdWlkaXR5LAogICAgICAgICAgICB0cmFkaW5nRmVlOiAwLAogICAgICAgICAgICBsaXF1aWRhdGlvbjogMCwKICAgICAgICAgICAgdHJ4SWQ6IHRyeElkCiAgICAgICAgfS50b0NlbGwoKSk7CiAgICB9CgogICAgZnVuIGRlY3JlYXNlUkJGUG9zaXRpb24oYWNjb3VudDogQWRkcmVzcywgbGlxdWlkaXR5RGVsdGE6IEludCwgdHJ4SWQ6IEludCk6IEludCB7CiAgICAgICAgLy8gZ2V0IHBvc2l0aW9uCiAgICAgICAgbGV0IHJiZlBvc2l0aW9uT3B0OiBSQkZQb3NpdGlvbj8gPSBzZWxmLnJiZlBvc2l0aW9ucy5nZXQoYWNjb3VudCk7CiAgICAgICAgLy8gY2hlY2sgcG9zaXRpb24KICAgICAgICByZXF1aXJlKHJiZlBvc2l0aW9uT3B0ICE9IG51bGwsICJwb3NpdGlvbiBub3QgZXhpc3QiKTsKICAgICAgICBsZXQgcmJmUG9zaXRpb246IFJCRlBvc2l0aW9uID0gcmJmUG9zaXRpb25PcHQhITsKCiAgICAgICAgLy8gY2hlY2sgdW5sb2NrIHRpbWUKICAgICAgICByZXF1aXJlKHJiZlBvc2l0aW9uLnVubG9ja1RpbWUgPD0gbm93KCksICJub3QgcmVhY2ggdW5sb2NrIHRpbWUiKTsKCiAgICAgICAgLy8gZGVjcmVhc2UgbGlxdWlkaXR5IGRlbHRhCiAgICAgICAgaWYgKHJiZlBvc2l0aW9uLmxpcXVpZGl0eSA8IGxpcXVpZGl0eURlbHRhKSB7CiAgICAgICAgICAgIGxpcXVpZGl0eURlbHRhID0gcmJmUG9zaXRpb24ubGlxdWlkaXR5OwogICAgICAgIH0KCiAgICAgICAgLy8gY2FsY3VsYXRlIExQIGdsb2JhbCB1bnJlYWxpemVkIHBubAogICAgICAgIGxldCB0b3RhbEdsb2JhbFVucmVhbGl6ZWRQbmw6IEludCA9IHNlbGYudG90YWxHbG9iYWxVbnJlYWxpemVkUG5sOwogICAgICAgIHJlcXVpcmUoc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5yaXNrQnVmZmVyRnVuZCArIHRvdGFsR2xvYmFsVW5yZWFsaXplZFBubCA+IDAsICJpbnN1ZmZpY2llbnQgZ2xvYmFsIFJCRiIpOwoKICAgICAgICAvLyBjYWxjdWxhdGUgcmVjZWl2ZSBhbW91bnQKICAgICAgICBsZXQgZ2xvYmFsTmV0UkJGOiBJbnQgPSBzZWxmLmdsb2JhbFJCRlBvc2l0aW9uLnJpc2tCdWZmZXJGdW5kICsgdG90YWxHbG9iYWxVbnJlYWxpemVkUG5sOwogICAgICAgIGlmIChnbG9iYWxOZXRSQkYgPCAwKSB7CiAgICAgICAgICAgIGdsb2JhbE5ldFJCRiA9IDA7CiAgICAgICAgfQogICAgICAgIHJlcXVpcmUoZ2xvYmFsTmV0UkJGID4gMCwgImluc3VmaWNpZW50IGdsb2JhbCBuZXQgUkJGIik7CgogICAgICAgIGxldCByZWNlaXZlOiBJbnQgPSAwOwogICAgICAgIGxldCBib251czogSW50ID0gMDsKCiAgICAgICAgaWYgKGdsb2JhbE5ldFJCRiA+PSBzZWxmLmdsb2JhbFJCRlBvc2l0aW9uLmxpcXVpZGl0eSkgewogICAgICAgICAgICBsZXQgbjogSW50ID0gKChub3coKSAtIHJiZlBvc2l0aW9uLnVubG9ja1RpbWUpICArIHNlbGYucmJmTG9ja1RpbWUpIC8gREFZOwoKICAgICAgICAgICAgaWYgKHJiZlBvc2l0aW9uLmJvbnVzID09IDApIHsKICAgICAgICAgICAgICAgIC8vIGJvbnVzID0gbGlxdWlkaXR5ICogcu+8iHgtMe+8iSogbWluKG7vvIwxMDDvvIkqIDAuMSUKICAgICAgICAgICAgICAgIGJvbnVzID0gbGlxdWlkaXR5RGVsdGEgKiBzZWxmLmJvbnVzRmFjdG9yICogKGdsb2JhbE5ldFJCRiAtIHNlbGYuZ2xvYmFsUkJGUG9zaXRpb24ubGlxdWlkaXR5KSAqIG1pbihuLCAxMDApIC8gKGdsb2JhbE5ldFJCRiAqIDEwMDApOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbGV0IGJvbnVzMTogSW50ID0gbGlxdWlkaXR5RGVsdGEgKiAoZ2xvYmFsTmV0UkJGIC0gc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5saXF1aWRpdHkpIC8gZ2xvYmFsTmV0UkJGOwogICAgICAgICAgICAgICAgbGV0IGJvbnVzMjogSW50ID0gcmJmUG9zaXRpb24uYm9udXM7CiAgICAgICAgICAgICAgICBsZXQgYm9udXMzOiBJbnQgPSBsaXF1aWRpdHlEZWx0YSAqIHNlbGYuYm9udXNGYWN0b3IgKiAoZ2xvYmFsTmV0UkJGIC0gc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5saXF1aWRpdHkpICogbWluKG4sIDEwMCkgLyAoZ2xvYmFsTmV0UkJGICogMTAwMCk7CiAgICAgICAgICAgICAgICBib251cyA9IG1heChtaW4oYm9udXMxLCBib251czIpLCBib251czMpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlY2VpdmUgPSBsaXF1aWRpdHlEZWx0YSArIGJvbnVzOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlY2VpdmUgPSBsaXF1aWRpdHlEZWx0YSAqIGdsb2JhbE5ldFJCRiAvIHNlbGYuZ2xvYmFsUkJGUG9zaXRpb24ubGlxdWlkaXR5OwogICAgICAgIH0KICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb24KICAgICAgICByYmZQb3NpdGlvbi5saXF1aWRpdHkgPSByYmZQb3NpdGlvbi5saXF1aWRpdHkgLSBsaXF1aWRpdHlEZWx0YTsKICAgICAgICByYmZQb3NpdGlvbi5ib251cyA9IHJiZlBvc2l0aW9uLmJvbnVzIC0gYm9udXM7CgogICAgICAgIC8vIHNldCBwb3NpdGlvbgogICAgICAgIGlmIChyYmZQb3NpdGlvbi5saXF1aWRpdHkgPiAwIHx8IHJiZlBvc2l0aW9uLmJvbnVzID4gMCkgewogICAgICAgICAgICBzZWxmLnJiZlBvc2l0aW9ucy5zZXQoYWNjb3VudCwgcmJmUG9zaXRpb24pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNlbGYucmJmUG9zaXRpb25zLnNldChhY2NvdW50LCBudWxsKTsKICAgICAgICB9CgogICAgICAgIC8vIHVwZGF0ZSBnbG9iYWwgcG9zaXRpb24KICAgICAgICBzZWxmLmdsb2JhbFJCRlBvc2l0aW9uLnJpc2tCdWZmZXJGdW5kID0gc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5yaXNrQnVmZmVyRnVuZCAtIHJlY2VpdmU7CiAgICAgICAgc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5saXF1aWRpdHkgPSBzZWxmLmdsb2JhbFJCRlBvc2l0aW9uLmxpcXVpZGl0eSAtIGxpcXVpZGl0eURlbHRhOwoKICAgICAgICAvLyBldmVudAogICAgICAgIGVtaXQoUkJGUG9zaXRpb25EZWNyZWFzZWRFdmVudHsKICAgICAgICAgICAgcG9zaXRpb25JZDogcmJmUG9zaXRpb24ucG9zaXRpb25JZCwKICAgICAgICAgICAgYWNjb3VudDogYWNjb3VudCwKICAgICAgICAgICAgbGlxdWlkaXR5RGVsdGE6IGxpcXVpZGl0eURlbHRhLAogICAgICAgICAgICBsaXF1aWRpdHlBZnRlcjogcmJmUG9zaXRpb24ubGlxdWlkaXR5LAogICAgICAgICAgICBib251c0RlbHRhOiBib251cywKICAgICAgICAgICAgYm9udXNBZnRlcjogcmJmUG9zaXRpb24uYm9udXMsCiAgICAgICAgICAgIHJlY2VpdmU6IHJlY2VpdmUsCiAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwogICAgICAgIGVtaXQoR2xvYmFsUkJGQ2hhbmdlZEV2ZW50ewogICAgICAgICAgICByaXNrQnVmZmVyRnVuZEFmdGVyOiBzZWxmLmdsb2JhbFJCRlBvc2l0aW9uLnJpc2tCdWZmZXJGdW5kLAogICAgICAgICAgICBsaXF1aWRpdHlBZnRlcjogc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5saXF1aWRpdHksCiAgICAgICAgICAgIHRyYWRpbmdGZWU6IDAsCiAgICAgICAgICAgIGxpcXVpZGF0aW9uOiAwLAogICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICByZXR1cm4gcmVjZWl2ZTsKICAgIH0KCiAgICBnZXQgZnVuIHJiZlBvc2l0aW9uKGFjY291bnQ6IEFkZHJlc3M/KTogUkJGUG9zaXRpb25EYXRhPyB7CiAgICAgICAgbGV0IHJiZlBvc2l0aW9uOiBSQkZQb3NpdGlvbj8gPSBudWxsOyAKICAgICAgICBpZiAoYWNjb3VudCAhPSBudWxsKSB7CiAgICAgICAgICAgIHJiZlBvc2l0aW9uID0gc2VsZi5yYmZQb3NpdGlvbnMuZ2V0KGFjY291bnQhISk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBSQkZQb3NpdGlvbkRhdGEgewogICAgICAgICAgICByYmZQb3NpdGlvbjogcmJmUG9zaXRpb24sCiAgICAgICAgICAgIGdsb2JhbFJCRlBvc2l0aW9uOiBzZWxmLmdsb2JhbFJCRlBvc2l0aW9uCiAgICAgICAgfTsKICAgIH0KCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IExQID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCiAgICByZWNlaXZlKG1zZzogVXBkYXRlTFBQb3NpdGlvbikgewogICAgICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gc2VsZi5vcmRlckJvb2ssICJpbnZhbGlkIHNlbmRlciIpOwoKICAgICAgICAvLyB1cGRhdGUgcHJpY2UKICAgICAgICBzZWxmLnNldFByaWNlKG1zZy5wcmljZXNMZW5ndGgsIG1zZy5wcmljZXMpOwoKICAgICAgICAvLyBUT0RPIHVwZGF0ZSBmdW5kaW5nIHJhdGUKCiAgICAgICAgLy8gdXBkYXRlIHBvc2l0aW9uCiAgICAgICAgbGV0IHJlY2VpdmU6IEludCA9IDA7CiAgICAgICAgaWYgKG1zZy5vcFR5cGUgPT0gT1JERVJfT1BfVFlQRV9JTkNSRUFTRSkgewogICAgICAgICAgICBzZWxmLmluY3JlYXNlTFBQb3NpdGlvbihtc2cuYWNjb3VudCwgbXNnLm1hcmdpbkRlbHRhLCBtc2cubGlxdWlkaXR5RGVsdGEsIG1zZy50cnhJZCk7CiAgICAgICAgfSBlbHNlIGlmIChtc2cub3BUeXBlID09IE9SREVSX09QX1RZUEVfREVDUkVBU0UpIHsKICAgICAgICAgICAgcmVjZWl2ZSA9IHNlbGYuZGVjcmVhc2VMUFBvc2l0aW9uKG1zZy5hY2NvdW50LCBmYWxzZSwgbXNnLm1hcmdpbkRlbHRhLCBtc2cubGlxdWlkaXR5RGVsdGEsIG1zZy50cnhJZCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVjZWl2ZSA9IHNlbGYuZGVjcmVhc2VMUFBvc2l0aW9uKG1zZy5hY2NvdW50LCB0cnVlLCAwLCAwLCBtc2cudHJ4SWQpOwogICAgICAgIH0KCiAgICAgICAgbGV0IG1zZ1ZhbHVlOiBJbnQgPSBjb250ZXh0KCkudmFsdWUgLSBzZWxmLmdhc0NvbnN1bXB0aW9uICogMiAtIHNlbGYubWluVG9uc0ZvclN0b3JhZ2UgLSBjb250ZXh0KCkucmVhZEZvcndhcmRGZWUoKTsKICAgICAgICByZXF1aXJlKG1zZ1ZhbHVlID4gMCwgInNlbmQgZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICAvLyBzZW5kIHVwZGF0ZSBzdWNjZXNzIG1zZwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLm9yZGVyQm9vaywKICAgICAgICAgICAgdmFsdWU6IG1zZ1ZhbHVlLAogICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICBtb2RlOiBTZW5kUGF5R2FzU2VwYXJhdGVseSwKICAgICAgICAgICAgYm9keTogVXBkYXRlTFBQb3NpdGlvblN1Y2Nlc3MgewogICAgICAgICAgICAgICAgb3JkZXJJZDogbXNnLm9yZGVySWQsCiAgICAgICAgICAgICAgICByZWNlaXZlOiByZWNlaXZlLAogICAgICAgICAgICAgICAgdHJ4SWQ6IG1zZy50cnhJZAogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CiAgICB9CgogICAgZnVuIGluY3JlYXNlTFBQb3NpdGlvbihhY2NvdW50OiBBZGRyZXNzLCBtYXJnaW5EZWx0YTogSW50LCBsaXF1aWRpdHlEZWx0YTogSW50LCB0cnhJZDogSW50KSB7CiAgICAgICAgLy8gZ2V0IHBvc2l0aW9uCiAgICAgICAgbGV0IGxwUG9zaXRpb25PcHQ6IExQUG9zaXRpb24/ID0gc2VsZi5scFBvc2l0aW9ucy5nZXQoYWNjb3VudCk7CiAgICAgICAgLy8gaW5pdCBwb3NpdGlvbiBpZiBub3QgZXhpc3QKICAgICAgICBsZXQgbHBQb3NpdGlvbjogTFBQb3NpdGlvbiA9IExQUG9zaXRpb257CiAgICAgICAgICAgIHBvc2l0aW9uSWQ6IDAsCiAgICAgICAgICAgIG1hcmdpbjogMCwKICAgICAgICAgICAgbGlxdWlkaXR5OiAwLAogICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGg6IDAsCiAgICAgICAgICAgIGVudHJ5VHJhZGluZ0ZlZUdyb3d0aDogMAogICAgICAgIH07CiAgICAgICAgaWYgKGxwUG9zaXRpb25PcHQgIT0gbnVsbCkgewogICAgICAgICAgICBscFBvc2l0aW9uID0gbHBQb3NpdGlvbk9wdCEhOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxwUG9zaXRpb24ucG9zaXRpb25JZCA9IHNlbGYubHBQb3NpdGlvbkluZGV4TmV4dDsKICAgICAgICAgICAgc2VsZi5scFBvc2l0aW9uSW5kZXhOZXh0ID0gc2VsZi5scFBvc2l0aW9uSW5kZXhOZXh0ICsgMTsKICAgICAgICB9CgogICAgICAgIGxldCBtYXJnaW5BZnRlcjogSW50ID0gMDsKICAgICAgICBsZXQgZnVuZGluZ0ZlZTogSW50ID0gMDsKICAgICAgICBsZXQgdHJhZGluZ0ZlZTogSW50ID0gMDsKICAgICAgICBpZiAobHBQb3NpdGlvbi5saXF1aWRpdHkgPT0gMCkgewogICAgICAgICAgICBtYXJnaW5BZnRlciA9IG1hcmdpbkRlbHRhOwogICAgICAgICAgICAvLyBjaGVjayBtYXJnaW4gYW5kIGxldmVyYWdlCiAgICAgICAgICAgIHJlcXVpcmUobWFyZ2luQWZ0ZXIgPj0gc2VsZi5taW5MUE1hcmdpbiwgImluc3VmZmljaWVudCBtYXJnaW4iKTsKICAgICAgICAgICAgcmVxdWlyZShtYXJnaW5BZnRlciAqIHNlbGYubWF4TFBMZXZlcmFnZSA+PSBsaXF1aWRpdHlEZWx0YSwgImxlZ2VyYWdlIHRvbyBoaWdoIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gY2FsY3VsYXRlIGZ1bmRpbmcgZmVlCiAgICAgICAgICAgIGZ1bmRpbmdGZWUgPSAoc2VsZi5scEZ1bmRpbmdGZWVHcm93dGggLSBscFBvc2l0aW9uLmVudHJ5RnVuZGluZ0ZlZUdyb3d0aCkgKiBscFBvc2l0aW9uLmxpcXVpZGl0eTsKICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHRyYWRpbmcgZmVlCiAgICAgICAgICAgIHRyYWRpbmdGZWUgPSAoc2VsZi5scFRyYWRpbmdGZWVHcm93dGggLSBscFBvc2l0aW9uLmVudHJ5VHJhZGluZ0ZlZUdyb3d0aCkgKiBscFBvc2l0aW9uLmxpcXVpZGl0eTsKICAgICAgICAgICAgbWFyZ2luQWZ0ZXIgPSBscFBvc2l0aW9uLm1hcmdpbiArIHRyYWRpbmdGZWUgKyBmdW5kaW5nRmVlICsgbWFyZ2luRGVsdGE7CiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBwbmwKICAgICAgICAgICAgbGV0IGdsb2JhbFVucmVhbGl6ZWRQbmw6IEludCA9IHNlbGYudG90YWxHbG9iYWxVbnJlYWxpemVkUG5sOwogICAgICAgICAgICBsZXQgdW5yZWFsaXplZFBubDogSW50ID0gKGdsb2JhbFVucmVhbGl6ZWRQbmwgKyBzZWxmLmdsb2JhbFJCRlBvc2l0aW9uLnJpc2tCdWZmZXJGdW5kKSAqIHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkubGlxdWlkaXR5IC8gbHBQb3NpdGlvbi5saXF1aWRpdHk7CiAgICAgICAgICAgIGxldCB1bnJlYWxpemVkTG9zczogSW50ID0gMDsKICAgICAgICAgICAgaWYgKHVucmVhbGl6ZWRQbmwgPCAwKSB7CiAgICAgICAgICAgICAgICB1bnJlYWxpemVkTG9zcyA9IC11bnJlYWxpemVkUG5sOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIGNoZWNrIHJpc2sgcmF0ZQogICAgICAgICAgICByZXF1aXJlKChtYXJnaW5BZnRlciAtIHNlbGYubHBMaXF1aWRhdGlvbkZlZSkgKiBzZWxmLmxwTWF4Umlza1JhdGUgLyBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UID4gdW5yZWFsaXplZExvc3MsICJyaXNrIHJhdGUgdG9vIGhpZ2giKTsKICAgICAgICAgICAgLy8gY2hlY2sgbGV2ZXJhZ2UKICAgICAgICAgICAgcmVxdWlyZShtYXJnaW5BZnRlciAqIHNlbGYubWF4TFBMZXZlcmFnZSA+PSBsaXF1aWRpdHlEZWx0YSwgImxlZ2VyYWdlIHRvbyBoaWdoIik7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbgogICAgICAgIGxwUG9zaXRpb24ubWFyZ2luID0gbWFyZ2luQWZ0ZXI7CiAgICAgICAgbHBQb3NpdGlvbi5saXF1aWRpdHkgPSBscFBvc2l0aW9uLmxpcXVpZGl0eSArIGxpcXVpZGl0eURlbHRhOwogICAgICAgIGxwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoID0gc2VsZi5scEZ1bmRpbmdGZWVHcm93dGg7CiAgICAgICAgbHBQb3NpdGlvbi5lbnRyeVRyYWRpbmdGZWVHcm93dGggPSBzZWxmLmxwVHJhZGluZ0ZlZUdyb3d0aDsKCiAgICAgICAgLy8gc2V0IHBvc2l0aW9uCiAgICAgICAgc2VsZi5scFBvc2l0aW9ucy5zZXQoYWNjb3VudCwgbHBQb3NpdGlvbik7CgogICAgICAgIC8vIHVwZGF0ZSBnbG9iYWwgcG9zaXRpb24KICAgICAgICBzZWxmLmdsb2JhbExQTGlxdWlkaXR5Lm1hcmdpbiA9IHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkubWFyZ2luICsgbWFyZ2luRGVsdGE7CiAgICAgICAgc2VsZi5nbG9iYWxMUExpcXVpZGl0eS5saXF1aWRpdHkgPSBzZWxmLmdsb2JhbExQTGlxdWlkaXR5LmxpcXVpZGl0eSArIGxpcXVpZGl0eURlbHRhOwoKICAgICAgICAvLyBldmVudAogICAgICAgIGVtaXQoTFBQb3NpdGlvbkluY3JlYXNlZEV2ZW50ewogICAgICAgICAgICBwb3NpdGlvbklkOiBscFBvc2l0aW9uLnBvc2l0aW9uSWQsCiAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgICAgICAgIG1hcmdpbkRlbHRhOiBtYXJnaW5EZWx0YSwKICAgICAgICAgICAgbWFyZ2luQWZ0ZXI6IGxwUG9zaXRpb24ubWFyZ2luLAogICAgICAgICAgICBsaXF1aWRpdHlEZWx0YTogbGlxdWlkaXR5RGVsdGEsCiAgICAgICAgICAgIGxpcXVpZGl0eUFmdGVyOiBscFBvc2l0aW9uLmxpcXVpZGl0eSwKICAgICAgICAgICAgdHJhZGluZ0ZlZTogdHJhZGluZ0ZlZSwKICAgICAgICAgICAgZnVuZGluZ0ZlZTogZnVuZGluZ0ZlZSwKICAgICAgICAgICAgdHJ4SWQ6IHRyeElkCiAgICAgICAgfS50b0NlbGwoKSk7CiAgICAgICAgZW1pdChHbG9iYWxMUExpcXVpZGl0eUNoYW5nZWRFdmVudHsKICAgICAgICAgICAgbWFyZ2luQWZ0ZXI6IHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkubWFyZ2luLAogICAgICAgICAgICBsaXF1aWRpdHlBZnRlcjogc2VsZi5nbG9iYWxMUExpcXVpZGl0eS5saXF1aWRpdHksCiAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwogICAgfQoKICAgIGZ1biBkZWNyZWFzZUxQUG9zaXRpb24oYWNjb3VudDogQWRkcmVzcywgaXNMaXF1aWRhdGU6IEJvb2wsIG1hcmdpbkRlbHRhOiBJbnQsIGxpcXVpZGl0eURlbHRhOiBJbnQsIHRyeElkOiBJbnQpOiBJbnQgewogICAgICAgIC8vIGdldCBwb3NpdGlvbgogICAgICAgIGxldCBscFBvc2l0aW9uT3B0OiBMUFBvc2l0aW9uPyA9IHNlbGYubHBQb3NpdGlvbnMuZ2V0KGFjY291bnQpOwogICAgICAgIHJlcXVpcmUobHBQb3NpdGlvbk9wdCAhPSBudWxsLCAicG9zaXRpb24gbm90IGV4aXN0Iik7CgogICAgICAgIGxldCBscFBvc2l0aW9uOiBMUFBvc2l0aW9uID0gbHBQb3NpdGlvbk9wdCEhOwoKICAgICAgICAvLyBjYWxjdWxhdGUgZnVuZGluZyBmZWUKICAgICAgICBsZXQgZnVuZGluZ0ZlZTogSW50ID0gKHNlbGYubHBGdW5kaW5nRmVlR3Jvd3RoIC0gbHBQb3NpdGlvbi5lbnRyeUZ1bmRpbmdGZWVHcm93dGgpICogbHBQb3NpdGlvbi5saXF1aWRpdHk7CiAgICAgICAgLy8gY2FsY3VsYXRlIHRyYWRpbmcgZmVlCiAgICAgICAgbGV0IHRyYWRpbmdGZWU6IEludCA9IChzZWxmLmxwVHJhZGluZ0ZlZUdyb3d0aCAtIGxwUG9zaXRpb24uZW50cnlUcmFkaW5nRmVlR3Jvd3RoKSAqIGxwUG9zaXRpb24ubGlxdWlkaXR5OwogICAgICAgIGxldCBtYXJnaW5BZnRlcjogSW50ID0gbHBQb3NpdGlvbi5tYXJnaW4gKyB0cmFkaW5nRmVlICsgZnVuZGluZ0ZlZTsKCiAgICAgICAgLy8gY2xhbXAgZGVsdGEKICAgICAgICBpZiAoaXNMaXF1aWRhdGUpIHsKICAgICAgICAgICAgbGlxdWlkaXR5RGVsdGEgPSBscFBvc2l0aW9uLmxpcXVpZGl0eTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAobGlxdWlkaXR5RGVsdGEgPiBscFBvc2l0aW9uLmxpcXVpZGl0eSkgewogICAgICAgICAgICAgICAgbGlxdWlkaXR5RGVsdGEgPSBscFBvc2l0aW9uLmxpcXVpZGl0eTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobWFyZ2luQWZ0ZXIgPCBtYXJnaW5EZWx0YSkgewogICAgICAgICAgICAgICAgbWFyZ2luRGVsdGEgPSBtYXJnaW5BZnRlcjsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBtYXJnaW5BZnRlciAtPSBtYXJnaW5EZWx0YTsKICAgICAgICBsZXQgbGlxdWlkaXR5QWZ0ZXI6IEludCA9IGxwUG9zaXRpb24ubGlxdWlkaXR5IC0gbGlxdWlkaXR5RGVsdGE7CgogICAgICAgIC8vIGNhbGN1bGF0ZSBwbmwKICAgICAgICBsZXQgZ2xvYmFsVW5yZWFsaXplZFBubDogSW50ID0gc2VsZi50b3RhbEdsb2JhbFVucmVhbGl6ZWRQbmw7CiAgICAgICAgbGV0IHVucmVhbGl6ZWRQbmw6IEludCA9IChnbG9iYWxVbnJlYWxpemVkUG5sICsgc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5yaXNrQnVmZmVyRnVuZCkgKiBzZWxmLmdsb2JhbExQTGlxdWlkaXR5Lm1hcmdpbiAvIGxwUG9zaXRpb24ubGlxdWlkaXR5OwogICAgICAgIGxldCB1bnJlYWxpemVkTG9zczogSW50ID0gMDsKICAgICAgICBpZiAodW5yZWFsaXplZFBubCA8IDApIHsKICAgICAgICAgICAgdW5yZWFsaXplZExvc3MgPSAtdW5yZWFsaXplZFBubDsKICAgICAgICB9CgogICAgICAgIGxldCByZWNlaXZlOiBJbnQgPSAwOwogICAgICAgIGlmIChpc0xpcXVpZGF0ZSkgewogICAgICAgICAgICAvLyBjaGVjayByaXNrIHJhdGUKICAgICAgICAgICAgcmVxdWlyZSgobWFyZ2luQWZ0ZXIgLSBzZWxmLmxwTGlxdWlkYXRpb25GZWUpICogc2VsZi5scE1heFJpc2tSYXRlIC8gUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCA8PSB1bnJlYWxpemVkTG9zcywgInJpc2sgcmF0ZSB0b28gaGlnaCIpOwogICAgICAgICAgICAvLyBsaXF1aWRhdGlvbiBmZWUKICAgICAgICAgICAgbGV0IGxpcXVpZGF0aW9uRmVlOiBJbnQgPSBzZWxmLmxwTGlxdWlkYXRpb25GZWU7CiAgICAgICAgICAgIGlmIChtYXJnaW5BZnRlciA8IHNlbGYubHBMaXF1aWRhdGlvbkZlZSkgewogICAgICAgICAgICAgICAgbGlxdWlkYXRpb25GZWUgPSBtYXJnaW5BZnRlcjsKICAgICAgICAgICAgICAgIG1hcmdpbkFmdGVyID0gMDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIG1hcmdpbkFmdGVyID0gbWFyZ2luQWZ0ZXIgLSBzZWxmLmxwTGlxdWlkYXRpb25GZWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmVjZWl2ZSA9IHNlbGYubHBMaXF1aWRhdGlvbkZlZTsKICAgICAgICAgICAgLy8gcmVtYWluZWQgbWFyZ2luIGFkZCB0byBSQkYKICAgICAgICAgICAgc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5yaXNrQnVmZmVyRnVuZCA9IHNlbGYuZ2xvYmFsUkJGUG9zaXRpb24ucmlza0J1ZmZlckZ1bmQgKyBtYXJnaW5BZnRlcjsKCiAgICAgICAgICAgIC8vIGRlbGV0ZSBwb3NpdGlvbgogICAgICAgICAgICBzZWxmLmxwUG9zaXRpb25zLnNldChhY2NvdW50LCBudWxsKTsKCiAgICAgICAgICAgIGVtaXQoTFBQb3NpdGlvbkxpcXVpZGF0ZWRFdmVudHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uSWQ6IGxwUG9zaXRpb24ucG9zaXRpb25JZCwKICAgICAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgICAgICAgICAgICBtYXJnaW46IGxwUG9zaXRpb24ubWFyZ2luLAogICAgICAgICAgICAgICAgbGlxdWlkaXR5OiBscFBvc2l0aW9uLmxpcXVpZGl0eSwKICAgICAgICAgICAgICAgIHRyYWRpbmdGZWU6IHRyYWRpbmdGZWUsCiAgICAgICAgICAgICAgICBmdW5kaW5nRmVlOiBmdW5kaW5nRmVlLAogICAgICAgICAgICAgICAgbGlxdWlkYXRpb25GZWU6IGxpcXVpZGF0aW9uRmVlLAogICAgICAgICAgICAgICAgdHJ4SWQ6IHRyeElkCiAgICAgICAgICAgIH0udG9DZWxsKCkpOwogICAgICAgICAgICBlbWl0KEdsb2JhbFJCRkNoYW5nZWRFdmVudHsKICAgICAgICAgICAgICAgIHJpc2tCdWZmZXJGdW5kQWZ0ZXI6IHNlbGYuZ2xvYmFsUkJGUG9zaXRpb24ucmlza0J1ZmZlckZ1bmQsCiAgICAgICAgICAgICAgICBsaXF1aWRpdHlBZnRlcjogc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5saXF1aWRpdHksCiAgICAgICAgICAgICAgICB0cmFkaW5nRmVlOiAwLAogICAgICAgICAgICAgICAgbGlxdWlkYXRpb246IDAsCiAgICAgICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICAgICAgfS50b0NlbGwoKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gY2hlY2sgZ2xvYmFsIGxpcXVpZGl0eQogICAgICAgICAgICByZXF1aXJlKHNlbGYuZ2xvYmFsUkJGUG9zaXRpb24ucmlza0J1ZmZlckZ1bmQgKyBzZWxmLmdsb2JhbExQTGlxdWlkaXR5LmxpcXVpZGl0eSArIHVucmVhbGl6ZWRQbmwgPj0gbGlxdWlkaXR5RGVsdGEsICJpbnN1ZmZpY2llbnQgZ2xvYmFsIGxpcXVpZGl0eSIpOwoKICAgICAgICAgICAgbGV0IHJlYWxpemVkTG9zczogSW50ID0gMDsKICAgICAgICAgICAgaWYgKGxpcXVpZGl0eUFmdGVyID4gMCkgewogICAgICAgICAgICAgICAgcmVhbGl6ZWRMb3NzID0gdW5yZWFsaXplZExvc3MgKiBsaXF1aWRpdHlEZWx0YSAvIGxwUG9zaXRpb24ubGlxdWlkaXR5OwogICAgICAgICAgICAgICAgaWYgKHJlYWxpemVkTG9zcyA8PSBtYXJnaW5EZWx0YSkgewogICAgICAgICAgICAgICAgICAgIHJlY2VpdmUgPSBtYXJnaW5EZWx0YSAtIHJlYWxpemVkTG9zczsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZSA9IDA7CiAgICAgICAgICAgICAgICAgICAgbWFyZ2luQWZ0ZXIgPSBtYXJnaW5BZnRlciArIG1hcmdpbkRlbHRhIC0gcmVhbGl6ZWRMb3NzOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gY2hlY2sgcmlzayByYXRlCiAgICAgICAgICAgICAgICByZXF1aXJlKChtYXJnaW5BZnRlciAtIHNlbGYubHBMaXF1aWRhdGlvbkZlZSkgKiBzZWxmLmxwTWF4Umlza1JhdGUgLyBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UID4gdW5yZWFsaXplZExvc3MsICJyaXNrIHJhdGUgdG9vIGhpZyIpOwogICAgICAgICAgICAgICAgLy8gY2hlY2sgbGV2ZXJhZ2UKICAgICAgICAgICAgICAgIHJlcXVpcmUobWFyZ2luQWZ0ZXIgKiBzZWxmLm1heExQTGV2ZXJhZ2UgPj0gbGlxdWlkaXR5RGVsdGEsICJsZWdlcmFnZSB0b28gaGlnaCIpOwoKICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbgogICAgICAgICAgICAgICAgbHBQb3NpdGlvbi5tYXJnaW4gPSBtYXJnaW5BZnRlcjsKICAgICAgICAgICAgICAgIGxwUG9zaXRpb24ubGlxdWlkaXR5ID0gbGlxdWlkaXR5QWZ0ZXI7CiAgICAgICAgICAgICAgICBscFBvc2l0aW9uLmVudHJ5RnVuZGluZ0ZlZUdyb3d0aCA9IHNlbGYubHBGdW5kaW5nRmVlR3Jvd3RoOwogICAgICAgICAgICAgICAgbHBQb3NpdGlvbi5lbnRyeVRyYWRpbmdGZWVHcm93dGggPSBzZWxmLmxwVHJhZGluZ0ZlZUdyb3d0aDsKICAgICAgICAgICAgICAgIHNlbGYubHBQb3NpdGlvbnMuc2V0KGFjY291bnQsIGxwUG9zaXRpb24pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy8gY2xvc2UgcG9zaXRpb24KICAgICAgICAgICAgICAgIHJlYWxpemVkTG9zcyA9IHVucmVhbGl6ZWRMb3NzOwogICAgICAgICAgICAgICAgbWFyZ2luQWZ0ZXIgPSBtYXJnaW5BZnRlciAtIHJlYWxpemVkTG9zczsKICAgICAgICAgICAgICAgIHJlY2VpdmUgPSBtYXJnaW5BZnRlcjsKICAgICAgICAgICAgICAgIGxwUG9zaXRpb24ubWFyZ2luID0gMDsKICAgICAgICAgICAgICAgIGxwUG9zaXRpb24ubGlxdWlkaXR5ID0gMDsKICAgICAgICAgICAgICAgIHNlbGYubHBQb3NpdGlvbnMuc2V0KGFjY291bnQsIG51bGwpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBldmVudAogICAgICAgICAgICBlbWl0KExQUG9zaXRpb25EZWNyZWFzZWRFdmVudHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uSWQ6IGxwUG9zaXRpb24ucG9zaXRpb25JZCwKICAgICAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgICAgICAgICAgICBtYXJnaW5EZWx0YTogbWFyZ2luRGVsdGEsCiAgICAgICAgICAgICAgICBtYXJnaW5BZnRlcjogbHBQb3NpdGlvbi5tYXJnaW4sCiAgICAgICAgICAgICAgICBsaXF1aWRpdHlEZWx0YTogbGlxdWlkaXR5RGVsdGEsCiAgICAgICAgICAgICAgICBsaXF1aWRpdHlBZnRlcjogbHBQb3NpdGlvbi5saXF1aWRpdHksCiAgICAgICAgICAgICAgICB0cmFkaW5nRmVlOiB0cmFkaW5nRmVlLAogICAgICAgICAgICAgICAgZnVuZGluZ0ZlZTogZnVuZGluZ0ZlZSwKICAgICAgICAgICAgICAgIHJlYWxpemVkTG9zczogcmVhbGl6ZWRMb3NzLAogICAgICAgICAgICAgICAgcmVjZWl2ZTogcmVjZWl2ZSwKICAgICAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gdXBkYXRlIGdsb2JhbCBwb3NpdGlvbgogICAgICAgIHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkubWFyZ2luID0gc2VsZi5nbG9iYWxMUExpcXVpZGl0eS5tYXJnaW4gLSBtYXJnaW5EZWx0YTsKICAgICAgICBzZWxmLmdsb2JhbExQTGlxdWlkaXR5LmxpcXVpZGl0eSA9IHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkubGlxdWlkaXR5IC0gbGlxdWlkaXR5RGVsdGE7CgogICAgICAgIGVtaXQoR2xvYmFsTFBMaXF1aWRpdHlDaGFuZ2VkRXZlbnR7CiAgICAgICAgICAgIG1hcmdpbkFmdGVyOiBzZWxmLmdsb2JhbExQTGlxdWlkaXR5Lm1hcmdpbiwKICAgICAgICAgICAgbGlxdWlkaXR5QWZ0ZXI6IHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkubGlxdWlkaXR5LAogICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICByZXR1cm4gcmVjZWl2ZTsKICAgIH0KCiAgICBnZXQgZnVuIGxwUG9zaXRpb24oYWNjb3VudDogQWRkcmVzcz8pOiBMUFBvc2l0aW9uRGF0YT8gewogICAgICAgIGxldCBscFBvc2l0aW9uOiBMUFBvc2l0aW9uPyA9IG51bGw7CiAgICAgICAgaWYgKGFjY291bnQgIT0gbnVsbCkgewogICAgICAgICAgICBscFBvc2l0aW9uID0gc2VsZi5scFBvc2l0aW9ucy5nZXQoYWNjb3VudCEhKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIExQUG9zaXRpb25EYXRhIHsKICAgICAgICAgICAgbHBQb3NpdGlvbjogbHBQb3NpdGlvbiwKICAgICAgICAgICAgZ2xvYmFsTFBMaXF1aWRpdHk6IHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkKICAgICAgICB9OwogICAgfQoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUGVycCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwogICAgcmVjZWl2ZShtc2c6IFVwZGF0ZVBlcnBQb3NpdGlvbikgewogICAgICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gc2VsZi5vcmRlckJvb2ssICJpbnZhbGlkIHNlbmRlciIpOwoKICAgICAgICAvLyB1cGRhdGUgcHJpY2UKICAgICAgICBzZWxmLnNldFByaWNlKG1zZy5wcmljZXNMZW5ndGgsIG1zZy5wcmljZXMpOwoKICAgICAgICAvLyBUT0RPIHVwZGF0ZSBmdW5kaW5nIHJhdGUKCiAgICAgICAgLy8gVE9ETyBnZXQgdHJhZGUgcHJpY2UKICAgICAgICBsZXQgdHJhZGVQcmljZTogSW50ID0gc2VsZi5nZXRQcmljZShtc2cudG9rZW5JZCk7CgogICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbgogICAgICAgIGxldCByZWNlaXZlOiBJbnQgPSAwOwogICAgICAgIGlmIChtc2cub3BUeXBlID09IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTUFSS0VUIHx8IG1zZy5vcFR5cGUgPT0gT1JERVJfT1BfVFlQRV9JTkNSRUFTRV9MSU1JVCkgewogICAgICAgICAgICBpZiAobXNnLnRyaWdnZXJBYm92ZSkgewogICAgICAgICAgICAgICAgcmVxdWlyZSh0cmFkZVByaWNlID49IG1zZy50cmlnZ2VyUHJpY2UsICJub3QgcmVhY2ggdHJpZ2dlciBwcmljZSIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmVxdWlyZSh0cmFkZVByaWNlIDw9IG1zZy50cmlnZ2VyUHJpY2UsICJub3QgcmVhY2ggdHJpZ2dlciBwcmljZSIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNlbGYuaW5jcmVhc2VQZXJwUG9zaXRpb24obXNnLnRyeElkLCBtc2cuYWNjb3VudCwgbXNnLnRva2VuSWQsIG1zZy5pc0xvbmcsIG1zZy5tYXJnaW5EZWx0YSwgbXNnLnNpemVEZWx0YSwgdHJhZGVQcmljZSk7CiAgICAgICAgfSAKICAgICAgICBlbHNlIGlmIChtc2cub3BUeXBlID09IE9SREVSX09QX1RZUEVfTElRVUlEQVRJT04pIHsKICAgICAgICAgICAgcmVjZWl2ZSA9IHNlbGYuZGVjcmVhc2VQZXJwUG9zaXRpb24obXNnLnRyeElkLCB0cnVlLCBtc2cuYWNjb3VudCwgbXNnLnRva2VuSWQsIG1zZy5pc0xvbmcsIDAsIDAsIHRyYWRlUHJpY2UpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgaWYgKG1zZy50cmlnZ2VyQWJvdmUpIHsKICAgICAgICAgICAgICAgIHJlcXVpcmUodHJhZGVQcmljZSA+PSBtc2cudHJpZ2dlclByaWNlLCAibm90IHJlYWNoIHRyaWdnZXIgcHJpY2UiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJlcXVpcmUodHJhZGVQcmljZSA8PSBtc2cudHJpZ2dlclByaWNlLCAibm90IHJlYWNoIHRyaWdnZXIgcHJpY2UiKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZWNlaXZlID0gc2VsZi5kZWNyZWFzZVBlcnBQb3NpdGlvbihtc2cudHJ4SWQsIGZhbHNlLCBtc2cuYWNjb3VudCwgbXNnLnRva2VuSWQsIG1zZy5pc0xvbmcsIG1zZy5tYXJnaW5EZWx0YSwgbXNnLnNpemVEZWx0YSwgdHJhZGVQcmljZSk7CiAgICAgICAgfSAKICAgICAgICAKCiAgICAgICAgbGV0IG1zZ1ZhbHVlOiBJbnQgPSBjb250ZXh0KCkudmFsdWUgLSBzZWxmLmdhc0NvbnN1bXB0aW9uICogMiAtIHNlbGYubWluVG9uc0ZvclN0b3JhZ2UgLSBjb250ZXh0KCkucmVhZEZvcndhcmRGZWUoKTsKICAgICAgICByZXF1aXJlKG1zZ1ZhbHVlID4gMCwgInNlbmQgZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICAvLyBzZW5kIHVwZGF0ZSBzdWNjZXNzIG1zZwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLm9yZGVyQm9vaywKICAgICAgICAgICAgdmFsdWU6IG1zZ1ZhbHVlLAogICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICBtb2RlOiBTZW5kUGF5R2FzU2VwYXJhdGVseSwKICAgICAgICAgICAgYm9keTogVXBkYXRlUGVycFBvc2l0aW9uU3VjY2VzcyB7CiAgICAgICAgICAgICAgICBvcmRlcklkOiBtc2cub3JkZXJJZCwKICAgICAgICAgICAgICAgIHJlY2VpdmU6IHJlY2VpdmUsCiAgICAgICAgICAgICAgICB0cnhJZDogbXNnLnRyeElkCiAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICB9KTsKICAgIH0KCiAgICBmdW4gaW5jcmVhc2VQZXJwUG9zaXRpb24odHJ4SWQ6IEludCwgYWNjb3VudDogQWRkcmVzcywgdG9rZW5JZDogSW50LCBpc0xvbmc6IEJvb2wsIG1hcmdpbkRlbHRhOiBJbnQsIHNpemVEZWx0YTogSW50LCB0cmFkZVByaWNlOiBJbnQpIHsKICAgICAgICAvLyBnZXQgdG9rZW4gY29uZmlnCiAgICAgICAgbGV0IHRva2VuQ29uZmlnT3B0OiBUb2tlbkNvbmZpZz8gPSBzZWxmLnRva2VuQ29uZmlncy5nZXQodG9rZW5JZCk7CiAgICAgICAgcmVxdWlyZSh0b2tlbkNvbmZpZ09wdCAhPSBudWxsLCAiaW52YWxpZCB0b2tlbiIpOwogICAgICAgIGxldCB0b2tlbkNvbmZpZzogVG9rZW5Db25maWcgPSB0b2tlbkNvbmZpZ09wdCEhOwogICAgICAgIHJlcXVpcmUodG9rZW5Db25maWcuZW5hYmxlLCAiZGlzYWJsZWQgdG9rZW4iKTsKICAgICAgICAKICAgICAgICAvLyBnZXQgcG9zaXRpb24KICAgICAgICBsZXQgYWNjb3VudFBlcnBQb3NpdGlvbk9wdDogQWNjb3VudFBlcnBQb3NpdGlvbj8gPSBzZWxmLnBlcnBQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgIGxldCBhY2NvdW50UGVycFBvc2l0aW9uOiBBY2NvdW50UGVycFBvc2l0aW9uID0gYWNjb3VudFBlcnBQb3NpdGlvbk9wdCAhPSBudWxsID8gYWNjb3VudFBlcnBQb3NpdGlvbk9wdCEhIDogQWNjb3VudFBlcnBQb3NpdGlvbnsKICAgICAgICAgICAgcG9zaXRpb25zOiBlbXB0eU1hcCgpCiAgICAgICAgfTsKCiAgICAgICAgbGV0IGRpcmVjdGlvblBlcnBQb3NpdGlvbk9wdDogRGlyZWN0aW9uUGVycFBvc2l0aW9uPyA9IGFjY291bnRQZXJwUG9zaXRpb24ucG9zaXRpb25zLmdldChhY2NvdW50KTsKICAgICAgICBsZXQgZGlyZWN0aW9uUGVycFBvc2l0aW9uOiBEaXJlY3Rpb25QZXJwUG9zaXRpb24gPSBkaXJlY3Rpb25QZXJwUG9zaXRpb25PcHQgIT0gbnVsbCA/IGRpcmVjdGlvblBlcnBQb3NpdGlvbk9wdCEhIDogRGlyZWN0aW9uUGVycFBvc2l0aW9uewogICAgICAgICAgICBsb25nUG9zaXRpb246IFBlcnBQb3NpdGlvbiB7CiAgICAgICAgICAgICAgICBwb3NpdGlvbklkOiAwLAogICAgICAgICAgICAgICAgbWFyZ2luOiAwLAogICAgICAgICAgICAgICAgc2l6ZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGg6IDAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2hvcnRQb3NpdGlvbjogUGVycFBvc2l0aW9uIHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uSWQ6IDAsCiAgICAgICAgICAgICAgICBtYXJnaW46IDAsCiAgICAgICAgICAgICAgICBzaXplOiAwLAogICAgICAgICAgICAgICAgZW50cnlQcmljZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aDogMAogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgbGV0IHBlcnBQb3NpdGlvbjogUGVycFBvc2l0aW9uID0gaXNMb25nID8gZGlyZWN0aW9uUGVycFBvc2l0aW9uLmxvbmdQb3NpdGlvbiA6IGRpcmVjdGlvblBlcnBQb3NpdGlvbi5zaG9ydFBvc2l0aW9uOwogICAgICAgIAogICAgICAgIC8vIGNoZWNrIG1hcmdpbgogICAgICAgIGlmIChwZXJwUG9zaXRpb24uc2l6ZSA9PSAwKSB7CiAgICAgICAgICAgIHJlcXVpcmUobWFyZ2luRGVsdGEgPj0gdG9rZW5Db25maWcubWluTWFyZ2luLCAiaW5zdWZmaWNpZW50IG1hcmdpbiIpOwogICAgICAgICAgICBwZXJwUG9zaXRpb24ucG9zaXRpb25JZCA9IHNlbGYucGVycFBvc2l0aW9uSW5kZXhOZXh0OwogICAgICAgICAgICBzZWxmLnBlcnBQb3NpdGlvbkluZGV4TmV4dCArPSAxOwogICAgICAgIH0KCiAgICAgICAgLy8gZ2V0IGdsb2JhbCBwb3NpdGlvbgogICAgICAgIGxldCBnbG9iYWxMcFBvc2l0aW9uT3B0OiBHbG9iYWxMUFBvc2l0aW9uPyA9IHNlbGYuZ2xvYmFsTFBQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgIGxldCBnbG9iYWxMcFBvc2l0aW9uOiBHbG9iYWxMUFBvc2l0aW9uID0gZ2xvYmFsTHBQb3NpdGlvbk9wdCAhPSBudWxsID8gZ2xvYmFsTHBQb3NpdGlvbk9wdCEhIDogR2xvYmFsTFBQb3NpdGlvbiB7CiAgICAgICAgICAgIG5ldFNpemU6IDAsCiAgICAgICAgICAgIGlzTG9uZzogZmFsc2UsCiAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgIHVucmVhbGl6ZWRQbmw6IDAKICAgICAgICB9OwoKICAgICAgICAvLyBscCBwbmwKICAgICAgICBsZXQgbHBSZWFsaXplZFBubDogSW50ID0gMDsKICAgICAgICBsZXQgc2l6ZVJlbWFpbmluZzogSW50ID0gc2l6ZURlbHRhOwogICAgICAgIGlmIChnbG9iYWxMcFBvc2l0aW9uLm5ldFNpemUgPiAwICYmIChpc0xvbmcgPT0gZ2xvYmFsTHBQb3NpdGlvbi5pc0xvbmcpKSB7CiAgICAgICAgICAgIGxldCBzaXplVXNlZDogSW50ID0gc2l6ZURlbHRhID4gZ2xvYmFsTHBQb3NpdGlvbi5uZXRTaXplID8gZ2xvYmFsTHBQb3NpdGlvbi5uZXRTaXplIDogc2l6ZURlbHRhOwogICAgICAgICAgICBpZiAoaXNMb25nKSB7CiAgICAgICAgICAgICAgICBscFJlYWxpemVkUG5sID0gc2l6ZVVzZWQgKiAodHJhZGVQcmljZSAtIGdsb2JhbExwUG9zaXRpb24uZW50cnlQcmljZSkgLyBERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxwUmVhbGl6ZWRQbmwgPSBzaXplVXNlZCAqIChnbG9iYWxMcFBvc2l0aW9uLmVudHJ5UHJpY2UgLSB0cmFkZVByaWNlKSAvIERFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNpemVSZW1haW5pbmcgLT0gc2l6ZVVzZWQ7CiAgICAgICAgICAgIGdsb2JhbExwUG9zaXRpb24ubmV0U2l6ZSAtPSBzaXplVXNlZDsKICAgICAgICAgICAgaWYgKGdsb2JhbExwUG9zaXRpb24ubmV0U2l6ZSA9PSAwKSB7CiAgICAgICAgICAgICAgICBnbG9iYWxMcFBvc2l0aW9uLmVudHJ5UHJpY2UgPSAwOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8vIGVudHJ5IHByaWNlCiAgICAgICAgaWYgKHNpemVSZW1haW5pbmcgPiAwKSB7CiAgICAgICAgICAgIGdsb2JhbExwUG9zaXRpb24uZW50cnlQcmljZSA9IChnbG9iYWxMcFBvc2l0aW9uLm5ldFNpemUgKiBnbG9iYWxMcFBvc2l0aW9uLmVudHJ5UHJpY2UgKyBzaXplUmVtYWluaW5nICogdHJhZGVQcmljZSkgLyAoZ2xvYmFsTHBQb3NpdGlvbi5uZXRTaXplICsgc2l6ZVJlbWFpbmluZyk7CiAgICAgICAgICAgIGdsb2JhbExwUG9zaXRpb24ubmV0U2l6ZSArPSBzaXplUmVtYWluaW5nOwogICAgICAgICAgICBnbG9iYWxMcFBvc2l0aW9uLmlzTG9uZyA9ICFpc0xvbmc7CiAgICAgICAgfQoKICAgICAgICAvLyB0cmFkaW5nIGZlZQogICAgICAgIGxldCB0cmFkaW5nRmVlOiBJbnQgPSBzaXplRGVsdGEgKiB0cmFkZVByaWNlICogdG9rZW5Db25maWcudHJhZGluZ0ZlZVJhdGUgLyAoUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCAqIERFQ0lNQUxfRkFDVE9SKTsKICAgICAgICBsZXQgbHBUcmFkaW5nRmVlOiBJbnQgPSB0cmFkaW5nRmVlICogdG9rZW5Db25maWcubHBUcmFkaW5nRmVlUmF0ZSAvIFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQ7CiAgICAgICAgbGV0IHByb3RvY2FsVHJhZGluZ0ZlZTogSW50ID0gdHJhZGluZ0ZlZSAqIHRva2VuQ29uZmlnLnByb3RvY2FsVHJhZGluZ0ZlZVJhdGUgLyBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UOwogICAgICAgIGxldCByYmZUcmFkaW5nRmVlOiBJbnQgPSB0cmFkaW5nRmVlIC0gbHBUcmFkaW5nRmVlIC0gcHJvdG9jYWxUcmFkaW5nRmVlOwogICAgICAgIGlmIChzZWxmLmdsb2JhbExQTGlxdWlkaXR5LmxpcXVpZGl0eSAhPSAwKSB7CiAgICAgICAgICAgIHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkudHJhZGluZ0ZlZUdyb3d0aCArPSBscFRyYWRpbmdGZWUgKiBERUNJTUFMX0ZBQ1RPUiAvIHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkubGlxdWlkaXR5OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHByb3RvY2FsVHJhZGluZ0ZlZSArPSBscFRyYWRpbmdGZWU7CiAgICAgICAgfQogICAgICAgIHNlbGYucHJvdG9jYWxUcmFkaW5nRmVlICs9IHByb3RvY2FsVHJhZGluZ0ZlZTsKICAgICAgICBzZWxmLmdsb2JhbFJCRlBvc2l0aW9uLnJpc2tCdWZmZXJGdW5kICs9IGxwUmVhbGl6ZWRQbmwgKyByYmZUcmFkaW5nRmVlOwoKICAgICAgICAvLyBjaGVjayBsaXF1aWRpdHkKICAgICAgICByZXF1aXJlKGdsb2JhbExwUG9zaXRpb24ubmV0U2l6ZSA8PSBzZWxmLmdsb2JhbFJCRlBvc2l0aW9uLnJpc2tCdWZmZXJGdW5kICsgc2VsZi50b3RhbEdsb2JhbFVucmVhbGl6ZWRQbmwgKyBzZWxmLmdsb2JhbExQTGlxdWlkaXR5LmxpcXVpZGl0eSwgCiAgICAgICAgICAgICJpbnN1ZmZpY2llbnQgbGlxdWlkaXR5Iik7CgogICAgICAgIC8vIFRPRE8gZnVuZGluZyBmZWUKICAgICAgICBsZXQgZnVuZGluZ0ZlZTogSW50ID0gMDsKCiAgICAgICAgLy8gdXBkYXRlIHBvc2l0aW9uCiAgICAgICAgcGVycFBvc2l0aW9uLm1hcmdpbiArPSBtYXJnaW5EZWx0YSArIGZ1bmRpbmdGZWUgLSB0cmFkaW5nRmVlOwogICAgICAgIHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlID0gKHBlcnBQb3NpdGlvbi5zaXplICogcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UgKyBzaXplRGVsdGEgKiB0cmFkZVByaWNlKSAvIChwZXJwUG9zaXRpb24uc2l6ZSArIHNpemVEZWx0YSk7CiAgICAgICAgcGVycFBvc2l0aW9uLnNpemUgKz0gc2l6ZURlbHRhOwoKICAgICAgICAvLyBjaGVjayBtYWludGFpbiBtYXJnaW4KICAgICAgICBsZXQgdW5yZWFsaXplZFBubDogSW50ID0gMDsKICAgICAgICBpZiAoaXNMb25nKSB7CiAgICAgICAgICAgIHVucmVhbGl6ZWRQbmwgPSBwZXJwUG9zaXRpb24uc2l6ZSAqICh0cmFkZVByaWNlIC0gcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UpIC8gREVDSU1BTF9GQUNUT1I7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdW5yZWFsaXplZFBubCA9IHBlcnBQb3NpdGlvbi5zaXplICogKHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlIC0gdHJhZGVQcmljZSkgLyBERUNJTUFMX0ZBQ1RPUjsKICAgICAgICB9CiAgICAgICAgbGV0IG1haW50ZW5hbmNlTWFyZ2luOiBJbnQgPSBwZXJwUG9zaXRpb24uc2l6ZSAqIHRyYWRlUHJpY2UgKiB0b2tlbkNvbmZpZy50cmFkaW5nRmVlUmF0ZSAvIChQRVJDRU5UQUdFX0JBU0lTX1BPSU5UICogREVDSU1BTF9GQUNUT1IpICsgdG9rZW5Db25maWcubGlxdWlkYXRpb25GZWU7CiAgICAgICAgcmVxdWlyZShtYWludGVuYW5jZU1hcmdpbiA8IHBlcnBQb3NpdGlvbi5tYXJnaW4gKyB1bnJlYWxpemVkUG5sLCAibWFyZ2luIHJhdGUgdG9vIGhpZ2giKTsKCiAgICAgICAgLy8gY2hlY2sgbGV2ZXJhZ2UKICAgICAgICByZXF1aXJlKHBlcnBQb3NpdGlvbi5tYXJnaW4gKiB0b2tlbkNvbmZpZy5tYXhMZXZlcmFnZSA+PSBwZXJwUG9zaXRpb24uc2l6ZSAqIHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlIC8gREVDSU1BTF9GQUNUT1IsICJsZWdlcmFnZSB0b28gaGlnaCIpOwoKICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb24KICAgICAgICBpZiAoaXNMb25nKSB7CiAgICAgICAgICAgIGRpcmVjdGlvblBlcnBQb3NpdGlvbi5sb25nUG9zaXRpb24gPSBwZXJwUG9zaXRpb247CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGlyZWN0aW9uUGVycFBvc2l0aW9uLnNob3J0UG9zaXRpb24gPSBwZXJwUG9zaXRpb247CiAgICAgICAgfQogICAgICAgIGFjY291bnRQZXJwUG9zaXRpb24ucG9zaXRpb25zLnNldChhY2NvdW50LCBkaXJlY3Rpb25QZXJwUG9zaXRpb24pOwogICAgICAgIHNlbGYucGVycFBvc2l0aW9ucy5zZXQodG9rZW5JZCwgYWNjb3VudFBlcnBQb3NpdGlvbik7CgogICAgICAgIHNlbGYuZ2xvYmFsTFBQb3NpdGlvbnMuc2V0KHRva2VuSWQsIGdsb2JhbExwUG9zaXRpb24pOwoKICAgICAgICAvLyBldmVudAogICAgICAgIGVtaXQoUGVycFBvc2l0aW9uSW5jcmVhc2VkRXZlbnR7CiAgICAgICAgICAgIHBvc2l0aW9uSWQ6IHBlcnBQb3NpdGlvbi5wb3NpdGlvbklkLAogICAgICAgICAgICBhY2NvdW50OiBhY2NvdW50LAogICAgICAgICAgICB0b2tlbklkOiB0b2tlbklkLAogICAgICAgICAgICBpc0xvbmc6IGlzTG9uZywKICAgICAgICAgICAgbWFyZ2luRGVsdGE6IG1hcmdpbkRlbHRhLAogICAgICAgICAgICBtYXJnaW5BZnRlcjogcGVycFBvc2l0aW9uLm1hcmdpbiwKICAgICAgICAgICAgc2l6ZURlbHRhOiBzaXplRGVsdGEsCiAgICAgICAgICAgIHNpemVBZnRlcjogcGVycFBvc2l0aW9uLnNpemUsCiAgICAgICAgICAgIHRyYWRlUHJpY2U6IHRyYWRlUHJpY2UsCiAgICAgICAgICAgIGVudHJ5UHJpY2U6IHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlLAogICAgICAgICAgICB0cmFkaW5nRmVlOiB0cmFkaW5nRmVlLAogICAgICAgICAgICBmdW5kaW5nRmVlOiBmdW5kaW5nRmVlLAogICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICBlbWl0KEdsb2JhbExQUG9zaXRpb25DaGFuZ2VkRXZlbnR7CiAgICAgICAgICAgIHRva2VuSWQ6IHRva2VuSWQsCiAgICAgICAgICAgIG5ldFNpemVBZnRlcjogZ2xvYmFsTHBQb3NpdGlvbi5uZXRTaXplLAogICAgICAgICAgICBpc0xvbmc6IGdsb2JhbExwUG9zaXRpb24uaXNMb25nLAogICAgICAgICAgICBlbnRyeVByaWNlQWZ0ZXI6IGdsb2JhbExwUG9zaXRpb24uZW50cnlQcmljZSwKICAgICAgICAgICAgdHJ4SWQ6IHRyeElkCiAgICAgICAgfS50b0NlbGwoKSk7CiAgICAgICAgZW1pdChHbG9iYWxSQkZDaGFuZ2VkRXZlbnR7CiAgICAgICAgICAgIHJpc2tCdWZmZXJGdW5kQWZ0ZXI6IHNlbGYuZ2xvYmFsUkJGUG9zaXRpb24ucmlza0J1ZmZlckZ1bmQsCiAgICAgICAgICAgIGxpcXVpZGl0eUFmdGVyOiBzZWxmLmdsb2JhbFJCRlBvc2l0aW9uLmxpcXVpZGl0eSwKICAgICAgICAgICAgdHJhZGluZ0ZlZTogcmJmVHJhZGluZ0ZlZSwKICAgICAgICAgICAgbGlxdWlkYXRpb246IDAsCiAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwogICAgfQoKICAgIGZ1biBkZWNyZWFzZVBlcnBQb3NpdGlvbih0cnhJZDogSW50LCBpc0xpcXVpZGF0ZTogQm9vbCwgYWNjb3VudDogQWRkcmVzcywgdG9rZW5JZDogSW50LCBpc0xvbmc6IEJvb2wsIG1hcmdpbkRlbHRhOiBJbnQsIHNpemVEZWx0YTogSW50LCB0cmFkZVByaWNlOiBJbnQpOiBJbnQgewogICAgICAgIC8vIGdldCB0b2tlbiBjb25maWcKICAgICAgICBsZXQgdG9rZW5Db25maWdPcHQ6IFRva2VuQ29uZmlnPyA9IHNlbGYudG9rZW5Db25maWdzLmdldCh0b2tlbklkKTsKICAgICAgICByZXF1aXJlKHRva2VuQ29uZmlnT3B0ICE9IG51bGwsICJpbnZhbGlkIHRva2VuIik7CiAgICAgICAgbGV0IHRva2VuQ29uZmlnOiBUb2tlbkNvbmZpZyA9IHRva2VuQ29uZmlnT3B0ISE7CiAgICAgICAgcmVxdWlyZSh0b2tlbkNvbmZpZy5lbmFibGUsICJkaXNhYmxlZCB0b2tlbiIpOwogICAgICAgIAogICAgICAgIC8vIGdldCBwb3NpdGlvbgogICAgICAgIGxldCBhY2NvdW50UGVycFBvc2l0aW9uT3B0OiBBY2NvdW50UGVycFBvc2l0aW9uPyA9IHNlbGYucGVycFBvc2l0aW9ucy5nZXQodG9rZW5JZCk7CiAgICAgICAgbGV0IGFjY291bnRQZXJwUG9zaXRpb246IEFjY291bnRQZXJwUG9zaXRpb24gPSBhY2NvdW50UGVycFBvc2l0aW9uT3B0ICE9IG51bGwgPyBhY2NvdW50UGVycFBvc2l0aW9uT3B0ISEgOiBBY2NvdW50UGVycFBvc2l0aW9uewogICAgICAgICAgICBwb3NpdGlvbnM6IGVtcHR5TWFwKCkKICAgICAgICB9OwoKICAgICAgICBsZXQgZGlyZWN0aW9uUGVycFBvc2l0aW9uT3B0OiBEaXJlY3Rpb25QZXJwUG9zaXRpb24/ID0gYWNjb3VudFBlcnBQb3NpdGlvbi5wb3NpdGlvbnMuZ2V0KGFjY291bnQpOwogICAgICAgIGxldCBkaXJlY3Rpb25QZXJwUG9zaXRpb246IERpcmVjdGlvblBlcnBQb3NpdGlvbiA9IGRpcmVjdGlvblBlcnBQb3NpdGlvbk9wdCAhPSBudWxsID8gZGlyZWN0aW9uUGVycFBvc2l0aW9uT3B0ISEgOiBEaXJlY3Rpb25QZXJwUG9zaXRpb257CiAgICAgICAgICAgIGxvbmdQb3NpdGlvbjogUGVycFBvc2l0aW9uIHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uSWQ6IDAsCiAgICAgICAgICAgICAgICBtYXJnaW46IDAsCiAgICAgICAgICAgICAgICBzaXplOiAwLAogICAgICAgICAgICAgICAgZW50cnlQcmljZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aDogMAogICAgICAgICAgICB9LAogICAgICAgICAgICBzaG9ydFBvc2l0aW9uOiBQZXJwUG9zaXRpb24gewogICAgICAgICAgICAgICAgcG9zaXRpb25JZDogMCwKICAgICAgICAgICAgICAgIG1hcmdpbjogMCwKICAgICAgICAgICAgICAgIHNpemU6IDAsCiAgICAgICAgICAgICAgICBlbnRyeVByaWNlOiAwLAogICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiAwCiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBsZXQgcGVycFBvc2l0aW9uOiBQZXJwUG9zaXRpb24gPSBpc0xvbmcgPyBkaXJlY3Rpb25QZXJwUG9zaXRpb24ubG9uZ1Bvc2l0aW9uIDogZGlyZWN0aW9uUGVycFBvc2l0aW9uLnNob3J0UG9zaXRpb247CiAgICAgICAgLy8gY2xhbXAgZGVsdGEKICAgICAgICBpZiAoaXNMaXF1aWRhdGUpIHsKICAgICAgICAgICAgbWFyZ2luRGVsdGEgPSBwZXJwUG9zaXRpb24ubWFyZ2luOwogICAgICAgICAgICBzaXplRGVsdGEgPSBwZXJwUG9zaXRpb24uc2l6ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoc2l6ZURlbHRhID4gcGVycFBvc2l0aW9uLnNpemUpIHsKICAgICAgICAgICAgICAgIHNpemVEZWx0YSA9IHBlcnBQb3NpdGlvbi5zaXplOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBUT0RPIGZ1bmRpbmcgZmVlCiAgICAgICAgbGV0IGZ1bmRpbmdGZWU6IEludCA9IDA7CgogICAgICAgIC8vIGNoZWNrIGxpcXVpZGF0ZQogICAgICAgIGlmIChpc0xpcXVpZGF0ZSkgewogICAgICAgICAgICAvLyBjaGVjayBtYWludGFpbiBtYXJnaW4KICAgICAgICAgICAgbGV0IHVucmVhbGl6ZWRQbmw6IEludCA9IDA7CiAgICAgICAgICAgIGlmIChpc0xvbmcpIHsKICAgICAgICAgICAgICAgIHVucmVhbGl6ZWRQbmwgPSBwZXJwUG9zaXRpb24uc2l6ZSAqICh0cmFkZVByaWNlIC0gcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UpIC8gREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB1bnJlYWxpemVkUG5sID0gcGVycFBvc2l0aW9uLnNpemUgKiAocGVycFBvc2l0aW9uLmVudHJ5UHJpY2UgLSB0cmFkZVByaWNlKSAvIERFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBtYWludGVuYW5jZU1hcmdpbjogSW50ID0gcGVycFBvc2l0aW9uLnNpemUgKiB0cmFkZVByaWNlICogdG9rZW5Db25maWcudHJhZGluZ0ZlZVJhdGUgLyAoUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCAqIERFQ0lNQUxfRkFDVE9SKSArIHRva2VuQ29uZmlnLmxpcXVpZGF0aW9uRmVlOwogICAgICAgICAgICByZXF1aXJlKG1haW50ZW5hbmNlTWFyZ2luID49IHBlcnBQb3NpdGlvbi5tYXJnaW4gKyB1bnJlYWxpemVkUG5sLCAibWFyZ2luIHJhdGUgdG9vIGxvdyIpOwoKICAgICAgICAgICAgLy8gbGlxdWlkYXRlIHByaWNlCiAgICAgICAgICAgIGxldCBsaXF1aWRhdGVQcmljZTogSW50ID0gKChwZXJwUG9zaXRpb24ubWFyZ2luICsgZnVuZGluZ0ZlZSAtIHRva2VuQ29uZmlnLmxpcXVpZGF0aW9uRmVlKSAqIERFQ0lNQUxfRkFDVE9SICsgKGlzTG9uZyA/IC1wZXJwUG9zaXRpb24uZW50cnlQcmljZSAqIHBlcnBQb3NpdGlvbi5zaXplIDogcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UgKiBwZXJwUG9zaXRpb24uc2l6ZSkpIAogICAgICAgICAgICAgICAgLyAocGVycFBvc2l0aW9uLnNpemUgKiAodG9rZW5Db25maWcudHJhZGluZ0ZlZVJhdGUgKyAoaXNMb25nID8gLSBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UIDogUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCkpKTsKICAgICAgICAgICAgcmVxdWlyZShpc0xvbmcgPyBsaXF1aWRhdGVQcmljZSA8IHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlIDogbGlxdWlkYXRlUHJpY2UgPiBwZXJwUG9zaXRpb24uZW50cnlQcmljZSwgIm5vdCByZWFjaCBsaXF1aWRhdGUgcHJpY2UiKTsKICAgICAgICAgICAgdHJhZGVQcmljZSA9IGxpcXVpZGF0ZVByaWNlOwogICAgICAgIH0KCiAgICAgICAgLy8gZ2V0IGdsb2JhbCBwb3NpdGlvbgogICAgICAgIGxldCBnbG9iYWxMcFBvc2l0aW9uT3B0OiBHbG9iYWxMUFBvc2l0aW9uPyA9IHNlbGYuZ2xvYmFsTFBQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgIGxldCBnbG9iYWxMcFBvc2l0aW9uOiBHbG9iYWxMUFBvc2l0aW9uID0gZ2xvYmFsTHBQb3NpdGlvbk9wdCAhPSBudWxsID8gZ2xvYmFsTHBQb3NpdGlvbk9wdCEhIDogR2xvYmFsTFBQb3NpdGlvbiB7CiAgICAgICAgICAgIG5ldFNpemU6IDAsCiAgICAgICAgICAgIGlzTG9uZzogZmFsc2UsCiAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgIHVucmVhbGl6ZWRQbmw6IDAKICAgICAgICB9OwoKICAgICAgICAvLyBscCBwbmwKICAgICAgICBsZXQgbHBSZWFsaXplZFBubDogSW50ID0gMDsKICAgICAgICBsZXQgc2l6ZVJlbWFpbmluZzogSW50ID0gc2l6ZURlbHRhOwogICAgICAgIGlmIChnbG9iYWxMcFBvc2l0aW9uLm5ldFNpemUgPiAwICYmIChpc0xvbmcgIT0gZ2xvYmFsTHBQb3NpdGlvbi5pc0xvbmcpKSB7CiAgICAgICAgICAgIGxldCBzaXplVXNlZDogSW50ID0gc2l6ZURlbHRhID4gZ2xvYmFsTHBQb3NpdGlvbi5uZXRTaXplID8gZ2xvYmFsTHBQb3NpdGlvbi5uZXRTaXplIDogc2l6ZURlbHRhOwogICAgICAgICAgICBpZiAoaXNMb25nKSB7CiAgICAgICAgICAgICAgICBscFJlYWxpemVkUG5sID0gc2l6ZVVzZWQgKiAodHJhZGVQcmljZSAtIGdsb2JhbExwUG9zaXRpb24uZW50cnlQcmljZSkgLyBERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxwUmVhbGl6ZWRQbmwgPSBzaXplVXNlZCAqIChnbG9iYWxMcFBvc2l0aW9uLmVudHJ5UHJpY2UgLSB0cmFkZVByaWNlKSAvIERFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNpemVSZW1haW5pbmcgLT0gc2l6ZVVzZWQ7CiAgICAgICAgICAgIGdsb2JhbExwUG9zaXRpb24ubmV0U2l6ZSAtPSBzaXplVXNlZDsKICAgICAgICAgICAgaWYgKGdsb2JhbExwUG9zaXRpb24ubmV0U2l6ZSA9PSAwKSB7CiAgICAgICAgICAgICAgICBnbG9iYWxMcFBvc2l0aW9uLmVudHJ5UHJpY2UgPSAwOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8vIGxwIGVudHJ5IHByaWNlCiAgICAgICAgaWYgKHNpemVSZW1haW5pbmcgPiAwKSB7CiAgICAgICAgICAgIGdsb2JhbExwUG9zaXRpb24uZW50cnlQcmljZSA9IChnbG9iYWxMcFBvc2l0aW9uLm5ldFNpemUgKiBnbG9iYWxMcFBvc2l0aW9uLmVudHJ5UHJpY2UgKyBzaXplUmVtYWluaW5nICogdHJhZGVQcmljZSkgLyAoZ2xvYmFsTHBQb3NpdGlvbi5uZXRTaXplICsgc2l6ZVJlbWFpbmluZyk7CiAgICAgICAgICAgIGdsb2JhbExwUG9zaXRpb24ubmV0U2l6ZSArPSBzaXplUmVtYWluaW5nOwogICAgICAgICAgICBnbG9iYWxMcFBvc2l0aW9uLmlzTG9uZyA9ICFpc0xvbmc7CiAgICAgICAgfQoKICAgICAgICAvLyB0cmFkaW5nIGZlZQogICAgICAgIGxldCB0cmFkaW5nRmVlOiBJbnQgPSBzaXplRGVsdGEgKiB0cmFkZVByaWNlICogdG9rZW5Db25maWcudHJhZGluZ0ZlZVJhdGUgLyAoUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCAqIERFQ0lNQUxfRkFDVE9SKTsKICAgICAgICBsZXQgbHBUcmFkaW5nRmVlOiBJbnQgPSB0cmFkaW5nRmVlICogdG9rZW5Db25maWcubHBUcmFkaW5nRmVlUmF0ZSAvIFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQ7CiAgICAgICAgbGV0IHByb3RvY2FsVHJhZGluZ0ZlZTogSW50ID0gdHJhZGluZ0ZlZSAqIHRva2VuQ29uZmlnLnByb3RvY2FsVHJhZGluZ0ZlZVJhdGUgLyBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UOwogICAgICAgIGxldCByYmZUcmFkaW5nRmVlOiBJbnQgPSB0cmFkaW5nRmVlIC0gbHBUcmFkaW5nRmVlIC0gcHJvdG9jYWxUcmFkaW5nRmVlOwoKICAgICAgICBpZiAoc2VsZi5nbG9iYWxMUExpcXVpZGl0eS5saXF1aWRpdHkgIT0gMCkgewogICAgICAgICAgICBzZWxmLmdsb2JhbExQTGlxdWlkaXR5LnRyYWRpbmdGZWVHcm93dGggKz0gbHBUcmFkaW5nRmVlICogREVDSU1BTF9GQUNUT1IgLyBzZWxmLmdsb2JhbExQTGlxdWlkaXR5LmxpcXVpZGl0eTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwcm90b2NhbFRyYWRpbmdGZWUgKz0gbHBUcmFkaW5nRmVlOwogICAgICAgIH0KICAgICAgICBzZWxmLnByb3RvY2FsVHJhZGluZ0ZlZSArPSBwcm90b2NhbFRyYWRpbmdGZWU7CiAgICAgICAgc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5yaXNrQnVmZmVyRnVuZCArPSBscFJlYWxpemVkUG5sICsgcmJmVHJhZGluZ0ZlZTsKCiAgICAgICAgbGV0IHBvc2l0aW9uSWQ6IEludCA9IHBlcnBQb3NpdGlvbi5wb3NpdGlvbklkOwogICAgICAgIGxldCByZWNlaXZlOiBJbnQgPSAwOwogICAgICAgIGlmIChpc0xpcXVpZGF0ZSkgewogICAgICAgICAgICAvLyBjbG9zZSBwb3NpdGlvbgogICAgICAgICAgICByZWNlaXZlID0gdG9rZW5Db25maWcubGlxdWlkYXRpb25GZWU7CiAgICAgICAgICAgIHBlcnBQb3NpdGlvbiA9IFBlcnBQb3NpdGlvbiB7CiAgICAgICAgICAgICAgICBwb3NpdGlvbklkOiAwLAogICAgICAgICAgICAgICAgbWFyZ2luOiAwLAogICAgICAgICAgICAgICAgc2l6ZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGg6IDAKICAgICAgICAgICAgfTsKICAgICAgICAgICAgZW1pdChQZXJwUG9zaXRpb25MaXF1aWRhdGVkRXZlbnR7CiAgICAgICAgICAgICAgICBwb3NpdGlvbklkOiBwb3NpdGlvbklkLAogICAgICAgICAgICAgICAgYWNjb3VudDogYWNjb3VudCwKICAgICAgICAgICAgICAgIHRva2VuSWQ6IHRva2VuSWQsCiAgICAgICAgICAgICAgICBpc0xvbmc6IGlzTG9uZywKICAgICAgICAgICAgICAgIG1hcmdpbkRlbHRhOiBtYXJnaW5EZWx0YSwKICAgICAgICAgICAgICAgIHNpemVEZWx0YTogc2l6ZURlbHRhLAogICAgICAgICAgICAgICAgbGlxdWlkYXRlUHJpY2U6IHRyYWRlUHJpY2UsCiAgICAgICAgICAgICAgICB0cmFkaW5nRmVlOiB0cmFkaW5nRmVlLAogICAgICAgICAgICAgICAgZnVuZGluZ0ZlZTogZnVuZGluZ0ZlZSwKICAgICAgICAgICAgICAgIGxpcXVpZGF0aW9uRmVlOiByZWNlaXZlLAogICAgICAgICAgICAgICAgdHJ4SWQ6IHRyeElkCiAgICAgICAgICAgIH0udG9DZWxsKCkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIHBvc2l0aW9uIHBubAogICAgICAgICAgICBsZXQgcmVhbGl6ZWRQbmw6IEludCA9IDA7CiAgICAgICAgICAgIGlmIChpc0xvbmcpIHsKICAgICAgICAgICAgICAgIHJlYWxpemVkUG5sID0gc2l6ZURlbHRhICogKHRyYWRlUHJpY2UgLSBwZXJwUG9zaXRpb24uZW50cnlQcmljZSkgLyBERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJlYWxpemVkUG5sID0gc2l6ZURlbHRhICogKHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlIC0gdHJhZGVQcmljZSkgLyBERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBjaGVjayBsaXF1aWRpdHkKICAgICAgICAgICAgcmVxdWlyZShnbG9iYWxMcFBvc2l0aW9uLm5ldFNpemUgPD0gc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5yaXNrQnVmZmVyRnVuZCArIHNlbGYudG90YWxHbG9iYWxVbnJlYWxpemVkUG5sICsgc2VsZi5nbG9iYWxMUExpcXVpZGl0eS5saXF1aWRpdHksIAogICAgICAgICAgICAgICAgImluc3VmZmljaWVudCBsaXF1aWRpdHkiKTsKCiAgICAgICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbgogICAgICAgICAgICBwZXJwUG9zaXRpb24ubWFyZ2luICs9IHJlYWxpemVkUG5sICsgZnVuZGluZ0ZlZSAtIHRyYWRpbmdGZWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICByZXF1aXJlKHBlcnBQb3NpdGlvbi5tYXJnaW4gPj0gMCwgImluc3VmZmljaWVudCBtYXJnaW4iKTsKICAgICAgICAgICAgaWYgKG1hcmdpbkRlbHRhID4gcGVycFBvc2l0aW9uLm1hcmdpbikgewogICAgICAgICAgICAgICAgbWFyZ2luRGVsdGEgPSBwZXJwUG9zaXRpb24ubWFyZ2luOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHBlcnBQb3NpdGlvbi5tYXJnaW4gLT0gbWFyZ2luRGVsdGE7CiAgICAgICAgICAgIHBlcnBQb3NpdGlvbi5zaXplIC09IHNpemVEZWx0YTsKCiAgICAgICAgICAgIGlmIChwZXJwUG9zaXRpb24uc2l6ZSA+IDApIHsKICAgICAgICAgICAgICAgIC8vIGNoZWNrIG1haW50YWluIG1hcmdpbgogICAgICAgICAgICAgICAgbGV0IHVucmVhbGl6ZWRQbmw6IEludCA9IDA7CiAgICAgICAgICAgICAgICBpZiAoaXNMb25nKSB7CiAgICAgICAgICAgICAgICAgICAgdW5yZWFsaXplZFBubCA9IHBlcnBQb3NpdGlvbi5zaXplICogKHRyYWRlUHJpY2UgLSBwZXJwUG9zaXRpb24uZW50cnlQcmljZSkgLyBERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdW5yZWFsaXplZFBubCA9IHBlcnBQb3NpdGlvbi5zaXplICogKHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlIC0gdHJhZGVQcmljZSkgLyBERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGxldCBtYWludGVuYW5jZU1hcmdpbjogSW50ID0gcGVycFBvc2l0aW9uLnNpemUgKiB0cmFkZVByaWNlICogdG9rZW5Db25maWcudHJhZGluZ0ZlZVJhdGUgLyAoUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCAqIERFQ0lNQUxfRkFDVE9SKSArIHRva2VuQ29uZmlnLmxpcXVpZGF0aW9uRmVlOwogICAgICAgICAgICAgICAgcmVxdWlyZShtYWludGVuYW5jZU1hcmdpbiA8IHBlcnBQb3NpdGlvbi5tYXJnaW4gKyB1bnJlYWxpemVkUG5sLCAibWFyZ2luIHJhdGUgdG9vIGhpZ2giKTsKCiAgICAgICAgICAgICAgICAvLyBjaGVjayBsZXZlcmFnZQogICAgICAgICAgICAgICAgcmVxdWlyZShwZXJwUG9zaXRpb24ubWFyZ2luICogdG9rZW5Db25maWcubWF4TGV2ZXJhZ2UgPj0gcGVycFBvc2l0aW9uLnNpemUsICJsZWdlcmFnZSB0b28gaGlnaCIpOwogICAgICAgICAgICAgICAgcmVjZWl2ZSA9IG1hcmdpbkRlbHRhOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy8gY2xvc2UgcG9zaXRpb24KICAgICAgICAgICAgICAgIHJlY2VpdmUgPSBwZXJwUG9zaXRpb24ubWFyZ2luOwogICAgICAgICAgICAgICAgcGVycFBvc2l0aW9uID0gUGVycFBvc2l0aW9uIHsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbklkOiAwLAogICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMCwKICAgICAgICAgICAgICAgICAgICBzaXplOiAwLAogICAgICAgICAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiAwCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBldmVudAogICAgICAgICAgICBlbWl0KFBlcnBQb3NpdGlvbkRlY3JlYXNlZEV2ZW50ewogICAgICAgICAgICAgICAgcG9zaXRpb25JZDogcGVycFBvc2l0aW9uLnBvc2l0aW9uSWQsCiAgICAgICAgICAgICAgICBhY2NvdW50OiBhY2NvdW50LAogICAgICAgICAgICAgICAgdG9rZW5JZDogdG9rZW5JZCwKICAgICAgICAgICAgICAgIGlzTG9uZzogaXNMb25nLAogICAgICAgICAgICAgICAgbWFyZ2luRGVsdGE6IG1hcmdpbkRlbHRhLAogICAgICAgICAgICAgICAgbWFyZ2luQWZ0ZXI6IHBlcnBQb3NpdGlvbi5tYXJnaW4sCiAgICAgICAgICAgICAgICBzaXplRGVsdGE6IHNpemVEZWx0YSwKICAgICAgICAgICAgICAgIHNpemVBZnRlcjogcGVycFBvc2l0aW9uLnNpemUsCiAgICAgICAgICAgICAgICB0cmFkZVByaWNlOiB0cmFkZVByaWNlLAogICAgICAgICAgICAgICAgcmVhbGl6ZWRQbkxEZWx0YTogcmVhbGl6ZWRQbmwsCiAgICAgICAgICAgICAgICB0cmFkaW5nRmVlOiB0cmFkaW5nRmVlLAogICAgICAgICAgICAgICAgZnVuZGluZ0ZlZTogZnVuZGluZ0ZlZSwKICAgICAgICAgICAgICAgIHJlY2VpdmU6IHJlY2VpdmUsCiAgICAgICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICAgICAgfS50b0NlbGwoKSk7CiAgICAgICAgfQoKICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb24KICAgICAgICBpZiAoaXNMb25nKSB7CiAgICAgICAgICAgIGRpcmVjdGlvblBlcnBQb3NpdGlvbi5sb25nUG9zaXRpb24gPSBwZXJwUG9zaXRpb247CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGlyZWN0aW9uUGVycFBvc2l0aW9uLnNob3J0UG9zaXRpb24gPSBwZXJwUG9zaXRpb247CiAgICAgICAgfQogICAgICAgIGFjY291bnRQZXJwUG9zaXRpb24ucG9zaXRpb25zLnNldChhY2NvdW50LCBkaXJlY3Rpb25QZXJwUG9zaXRpb24pOwogICAgICAgIHNlbGYucGVycFBvc2l0aW9ucy5zZXQodG9rZW5JZCwgYWNjb3VudFBlcnBQb3NpdGlvbik7CiAgICAgICAgc2VsZi5nbG9iYWxMUFBvc2l0aW9ucy5zZXQodG9rZW5JZCwgZ2xvYmFsTHBQb3NpdGlvbik7CgogICAgICAgIGVtaXQoR2xvYmFsTFBQb3NpdGlvbkNoYW5nZWRFdmVudHsKICAgICAgICAgICAgdG9rZW5JZDogdG9rZW5JZCwKICAgICAgICAgICAgbmV0U2l6ZUFmdGVyOiBnbG9iYWxMcFBvc2l0aW9uLm5ldFNpemUsCiAgICAgICAgICAgIGlzTG9uZzogZ2xvYmFsTHBQb3NpdGlvbi5pc0xvbmcsCiAgICAgICAgICAgIGVudHJ5UHJpY2VBZnRlcjogZ2xvYmFsTHBQb3NpdGlvbi5lbnRyeVByaWNlLAogICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICBlbWl0KEdsb2JhbFJCRkNoYW5nZWRFdmVudHsKICAgICAgICAgICAgcmlza0J1ZmZlckZ1bmRBZnRlcjogc2VsZi5nbG9iYWxSQkZQb3NpdGlvbi5yaXNrQnVmZmVyRnVuZCwKICAgICAgICAgICAgbGlxdWlkaXR5QWZ0ZXI6IHNlbGYuZ2xvYmFsUkJGUG9zaXRpb24ubGlxdWlkaXR5LAogICAgICAgICAgICB0cmFkaW5nRmVlOiByYmZUcmFkaW5nRmVlLAogICAgICAgICAgICBsaXF1aWRhdGlvbjogMCwKICAgICAgICAgICAgdHJ4SWQ6IHRyeElkCiAgICAgICAgfS50b0NlbGwoKSk7CiAgICAgICAgcmV0dXJuIHJlY2VpdmU7CiAgICB9CgogICAgZ2V0IGZ1biBwZXJwUG9zaXRpb24odG9rZW5JZDogSW50LCBhY2NvdW50OiBBZGRyZXNzPyk6IFBlcnBQb3NpdGlvbkRhdGE/IHsKICAgICAgICAvLyBnZXQgcG9zaXRpb24KICAgICAgICBsZXQgcGVycFBvc2l0aW9uOiBEaXJlY3Rpb25QZXJwUG9zaXRpb24/ID0gbnVsbDsKICAgICAgICBpZiAoYWNjb3VudCAhPSBudWxsKSB7CiAgICAgICAgICAgIGxldCBhY2NvdW50UGVycFBvc2l0aW9uT3B0OiBBY2NvdW50UGVycFBvc2l0aW9uPyA9IHNlbGYucGVycFBvc2l0aW9ucy5nZXQodG9rZW5JZCk7CiAgICAgICAgICAgIGlmIChhY2NvdW50UGVycFBvc2l0aW9uT3B0ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIHBlcnBQb3NpdGlvbiA9IChhY2NvdW50UGVycFBvc2l0aW9uT3B0ISEpLnBvc2l0aW9ucy5nZXQoYWNjb3VudCEhKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gUGVycFBvc2l0aW9uRGF0YXsKICAgICAgICAgICAgcGVycFBvc2l0aW9uOiBwZXJwUG9zaXRpb24sCiAgICAgICAgICAgIGdsb2JhbExQUG9zaXRpb246IHNlbGYuZ2xvYmFsTFBQb3NpdGlvbnMuZ2V0KHRva2VuSWQpCiAgICAgICAgfTsKICAgIH0KCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IHByaXZhdGUgZnVuY3Rpb24gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KICAgIC8vIFRPRE8gdXBkYXRlIHRva2VuIHBubCBpbiB0cngsIHNhdmUgZ2FzCiAgICAvLyBmdW4gY2FsY3VsYXRlVG90YWxHbG9iYWxVbnJlYWxpemVkUG5sKCk6IEludCB7CiAgICAvLyAgICAgbGV0IHRvdGFsR2xvYmFsVW5yZWFsaXplZFBubDogSW50ID0gMDsKICAgIC8vICAgICBsZXQgaTogSW50ID0gMTsKICAgIC8vICAgICB3aGlsZShpIDwgc2VsZi50b2tlbklkTmV4dCkgewogICAgLy8gICAgICAgICBsZXQgdG9rZW5FbmFibGVkOiBCb29sID0gZmFsc2U7CiAgICAvLyAgICAgICAgIGxldCB0b2tlbkNvbmZpZ09wdDogVG9rZW5Db25maWc/ID0gc2VsZi50b2tlbkNvbmZpZ3MuZ2V0KGkpOwogICAgLy8gICAgICAgICBpZiAodG9rZW5Db25maWdPcHQgPT0gbnVsbCkgewogICAgLy8gICAgICAgICAgICAgdG9rZW5FbmFibGVkID0gZmFsc2U7CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgICAgdG9rZW5FbmFibGVkID0gKHRva2VuQ29uZmlnT3B0ISEpLmVuYWJsZTsKICAgIC8vICAgICAgICAgaWYgKHRva2VuRW5hYmxlZCkgewogICAgLy8gICAgICAgICAgICAgbGV0IGdsb2JhbExQUG9zaXRpb25PcHQ6IEdsb2JhbExQUG9zaXRpb24/ID0gc2VsZi5nbG9iYWxMUFBvc2l0aW9ucy5nZXQoaSk7CiAgICAvLyAgICAgICAgICAgICBpZiAoZ2xvYmFsTFBQb3NpdGlvbk9wdCAhPSBudWxsKSB7CiAgICAvLyAgICAgICAgICAgICAgICAgbGV0IGdsb2JhbExQUG9zaXRpb246IEdsb2JhbExQUG9zaXRpb24gPSBnbG9iYWxMUFBvc2l0aW9uT3B0ISE7CiAgICAvLyAgICAgICAgICAgICAgICAgLy8gVE9ETyBnZXQgaW5kZXggcHJpY2UKICAgIC8vICAgICAgICAgICAgICAgICBsZXQgaW5kZXhQcmljZTogSW50ID0gc2VsZi5nZXRQcmljZShpKTsKICAgIC8vICAgICAgICAgICAgICAgICAvLyB1bnJlYWxpemVkIHBubAogICAgLy8gICAgICAgICAgICAgICAgIGxldCB1bnJlYWxpemVkUG5sOiBJbnQgPSBzZWxmLmNhbGN1bGF0ZVVucmVhbGl6ZWRQbkwoZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcsIGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSwgCiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSwgaW5kZXhQcmljZSk7CiAgICAvLyAgICAgICAgICAgICAgICAgdG90YWxHbG9iYWxVbnJlYWxpemVkUG5sID0gdG90YWxHbG9iYWxVbnJlYWxpemVkUG5sICsgdW5yZWFsaXplZFBubDsKICAgIC8vICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgICBpID0gaSArIDE7CiAgICAvLyAgICAgfQogICAgLy8gICAgIHJldHVybiB0b3RhbEdsb2JhbFVucmVhbGl6ZWRQbmw7CiAgICAvLyB9CgogICAgLy8gZnVuIHRva2VuRW5hYmxlZCh0b2tlbkluZGV4OiBJbnQpOiBCb29sIHsKICAgIC8vICAgICBsZXQgdG9rZW5Db25maWdPcHQ6IFRva2VuQ29uZmlnPyA9IHNlbGYudG9rZW5Db25maWdzLmdldCh0b2tlbkluZGV4KTsKICAgIC8vICAgICBpZiAodG9rZW5Db25maWdPcHQgPT0gbnVsbCkgewogICAgLy8gICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAvLyAgICAgfQogICAgLy8gICAgIHJldHVybiAodG9rZW5Db25maWdPcHQhISkuZW5hYmxlOwogICAgLy8gfQoKICAgIC8vIGZ1biBjYWxjdWxhdGVVbnJlYWxpemVkUG5MKGlzTG9uZzogQm9vbCwgc2l6ZTogSW50LCBlbnRyeVByaWNlOiBJbnQsIHByaWNlOiBJbnQpOiBJbnQgewogICAgLy8gICAgIGlmIChpc0xvbmcpIHsKICAgIC8vICAgICAgICAgcmV0dXJuIHNpemUgKiAocHJpY2UgLSBlbnRyeVByaWNlKSAvIERFQ0lNQUxfRkFDVE9SOwogICAgLy8gICAgIH0gZWxzZSB7CiAgICAvLyAgICAgICAgIHJldHVybiBzaXplICogKGVudHJ5UHJpY2UgLSBwcmljZSkgLyBERUNJTUFMX0ZBQ1RPUjsKICAgIC8vICAgICB9CiAgICAvLyB9CgogICAgLy8gZnVuIGNhbGN1bGF0ZUVudHJ5UHJpY2Uoc2l6ZUJlZm9yZTogSW50LCBlbnRyeVByaWNlOiBJbnQsIHNpemVEZWx0YTogSW50LCB0cmFkZVByaWNlOiBJbnQpOiBJbnQgewogICAgLy8gICAgIGlmIChzaXplQmVmb3JlID09IDAgJiYgc2l6ZURlbHRhID09IDApIHsKICAgIC8vICAgICAgICAgcmV0dXJuIDA7CiAgICAvLyAgICAgfQogICAgLy8gICAgIGlmIChzaXplQmVmb3JlID09IDApIHsKICAgIC8vICAgICAgICAgcmV0dXJuIHRyYWRlUHJpY2U7CiAgICAvLyAgICAgfQogICAgLy8gICAgIGlmIChzaXplRGVsdGEgPT0gMCkgewogICAgLy8gICAgICAgICByZXR1cm4gZW50cnlQcmljZTsKICAgIC8vICAgICB9CiAgICAvLyAgICAgbGV0IGxpcXVpZGl0eTogSW50ID0gc2l6ZUJlZm9yZSAqIGVudHJ5UHJpY2UgKyBzaXplRGVsdGEgKiB0cmFkZVByaWNlOwogICAgLy8gICAgIGxldCBzaXplQWZ0ZXI6IEludCA9IHNpemVCZWZvcmUgKyBzaXplRGVsdGE7CiAgICAvLyAgICAgcmV0dXJuIGxpcXVpZGl0eSAvIHNpemVBZnRlcjsKICAgIC8vIH0KCiAgICBmdW4gc2V0UHJpY2UocHJpY2VzTGVuZ3RoOiBJbnQsIHByaWNlczogbWFwPEludCwgVXBkYXRlUHJpY2U+KSB7CiAgICAgICAgaWYgKHByaWNlc0xlbmd0aCA8PSAwKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgbGV0IGk6IEludCA9IDA7CiAgICAgICAgbGV0IHRvdGFsR2xvYmFsVW5yZWFsaXplZFBubDogSW50ID0gMDsKICAgICAgICB3aGlsZShpIDwgcHJpY2VzTGVuZ3RoKSB7CiAgICAgICAgICAgIGxldCB1cGRhdGVQcmljZTogVXBkYXRlUHJpY2U/ID0gcHJpY2VzLmdldChpKTsKICAgICAgICAgICAgaWYgKHVwZGF0ZVByaWNlICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIC8vIFRPRE8gY2hlY2sgcHJpY2Ugb2Zmc2V0CiAgICAgICAgICAgICAgICBsZXQgcHJpY2U6IEludCA9ICh1cGRhdGVQcmljZSEhKS5wcmljZTsKICAgICAgICAgICAgICAgIGxldCB0b2tlbklkOiBJbnQgPSAodXBkYXRlUHJpY2UhISkudG9rZW5JZDsKCiAgICAgICAgICAgICAgICBsZXQgcHJpY2VEYXRhT3B0OiBQcmljZURhdGE/ID0gc2VsZi5wcmljZXMuZ2V0KHRva2VuSWQpOwogICAgICAgICAgICAgICAgaWYgKHByaWNlRGF0YU9wdCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHByaWNlRGF0YTogUHJpY2VEYXRhID0gcHJpY2VEYXRhT3B0ISE7CiAgICAgICAgICAgICAgICAgICAgcHJpY2VEYXRhLnByaWNlID0gcHJpY2U7CiAgICAgICAgICAgICAgICAgICAgc2VsZi5wcmljZXMuc2V0KHRva2VuSWQsIHByaWNlRGF0YSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHNlbGYucHJpY2VzLnNldCh0b2tlbklkLCBQcmljZURhdGF7CiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBscCBwbmwKICAgICAgICAgICAgICAgIGxldCBnbG9iYWxMUFBvc2l0aW9uT3B0OiBHbG9iYWxMUFBvc2l0aW9uPyA9IHNlbGYuZ2xvYmFsTFBQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgICAgICAgICAgaWYgKGdsb2JhbExQUG9zaXRpb25PcHQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIGxldCBnbG9iYWxMUFBvc2l0aW9uOiBHbG9iYWxMUFBvc2l0aW9uID0gZ2xvYmFsTFBQb3NpdGlvbk9wdCEhOwogICAgICAgICAgICAgICAgICAgIC8vIHVucmVhbGl6ZWQgcG5sCiAgICAgICAgICAgICAgICAgICAgbGV0IHVucmVhbGl6ZWRQbmw6IEludCA9IDA7CiAgICAgICAgICAgICAgICAgICAgaWYgKGdsb2JhbExQUG9zaXRpb24uaXNMb25nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHVucmVhbGl6ZWRQbmwgPSBnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgKiAocHJpY2UgLSBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UpIC8gREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdW5yZWFsaXplZFBubCA9IGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSAqIChnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UgLSBwcmljZSkgLyBERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdG90YWxHbG9iYWxVbnJlYWxpemVkUG5sID0gdG90YWxHbG9iYWxVbnJlYWxpemVkUG5sIC0gZ2xvYmFsTFBQb3NpdGlvbi51bnJlYWxpemVkUG5sICsgdW5yZWFsaXplZFBubDsKICAgICAgICAgICAgICAgICAgICBzZWxmLmdsb2JhbExQUG9zaXRpb25zLnNldCh0b2tlbklkLCBnbG9iYWxMUFBvc2l0aW9uKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpID0gaSArIDE7CiAgICAgICAgfQogICAgICAgIHNlbGYudG90YWxHbG9iYWxVbnJlYWxpemVkUG5sID0gdG90YWxHbG9iYWxVbnJlYWxpemVkUG5sOwogICAgICAgIGVtaXQoVXBkYXRlUHJpY2VFdmVudHsKICAgICAgICAgICAgcHJpY2VzTGVuZ3RoOiBwcmljZXNMZW5ndGgsCiAgICAgICAgICAgIHByaWNlczogcHJpY2VzCiAgICAgICAgfS50b0NlbGwoKSk7CiAgICB9CgogICAgLy8gVE9ETwogICAgZnVuIGdldFByaWNlKHRva2VuSWQ6IEludCk6IEludCB7CiAgICAgICAgbGV0IHByaWNlRGF0YTogUHJpY2VEYXRhPyA9IHNlbGYucHJpY2VzLmdldCh0b2tlbklkKTsKICAgICAgICBsZXQgcHJpY2U6IEludCA9IDA7CiAgICAgICAgaWYgKHByaWNlRGF0YSAhPSBudWxsKSB7CiAgICAgICAgICAgIHByaWNlID0gKHByaWNlRGF0YSEhKS5wcmljZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHByaWNlOwogICAgfQoKfQo="},"compiler":{"name":"tact","version":"1.2.0","parameters":"{\"entrypoint\":\"contracts/core/pool.tact\",\"options\":{\"debug\":true}}"}}