{"name":"Pool","code":"te6ccgECoAEAM8IAART/APSkE/S88sgLAQIBYgIDA/TQAdDTAwFxsKMB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFRQUwNvBPhhAvhi2zwRGBEaERgRFxEZERcRFhEYERYRFREXERURFBEWERQRExEVERMREhEUERIRERETEREREBESERAPEREPDhEQDhDfVRzbPJkEBQIBIH+ABG4BkjB/4HAh10nCH5UwINcLH94gghBl0Rdhuo8IMNs8bBjbPH/gIIIQ/t+w77rjAiCCEP6yp2a6BgcICQFO8uCCyPhDAcx/AcoAERkRGBEXERYRFREUERMREhERERBV4Ns8ye1UIgHi0x8BghBl0RdhuvLggYEBAdcA9AT6QCHXCwHDAI4dASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IiSMW3iAdIAAZL6AJJtAeLSAAGS+gCSbQHi1AHQ0gABlYEBAdcAkm0B4tIAAZWBAQHXAJJtAeIKBPYRGBEgERgRFxEfERcRFhEeERYRFREdERURFBEcERQRExEbERMREhEaERIREREZEREREBEgERAPER8PDhEeDg0RHQ0MERwMCxEbCwoRGgoJERkJCBEgCAcRHwcGER4GBREdBQQRHAQDERsDAhEaAgERGQERINs8cIqK6DATCwwNAhAw2zxsG9s8fxARBKKOsjDTHwGCEP6yp2a68uCB0z/6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIEmwS4CCCEOic1F+64wIgghD/V+VXuuMCIIIQHciVjLocHR4fAGz6QCHXCwHDAI4dASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IiSMW3iMRA4EDcQNhA1EDQACCBWIbkA7lYfgQEBIln0DW+hkjBt3yBukjBtjijQ+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAHSAFlsEm8C4iBus44vgQELISBu8tCAbyIwAiBu8tCAbyIxAxETAxJxIW6VW1n0WTCYyAHPAEEz9EHiERCRMOKkAvhXHlceVhtus5s+ERogbvLQgA0RGpJXG+JWGW6znVcVERggbvLQgBEUERiSVxniVhdus51XExEWIG7y0IAREhEWklcX4lYVbrOcVxARFCBu8tCADxEUklcV4lYTbrObPhESIG7y0IANERKS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","abi":"{\"name\":\"Pool\",\"types\":[{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounced\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"Deploy\",\"header\":2490013878,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"DeployOk\",\"header\":2952335191,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"FactoryDeploy\",\"header\":1829761339,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"cashback\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwner\",\"header\":2174598809,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwnerOk\",\"header\":846932810,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"UpdateConfig\",\"header\":1708201825,\"fields\":[{\"name\":\"executorLength\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"executors\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"ExecutorParam\",\"valueFormat\":\"ref\"}},{\"name\":\"claimExecutor\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"gasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":true,\"format\":\"coins\"}},{\"name\":\"minTonsForStorage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":true,\"format\":\"coins\"}},{\"name\":\"lpBonusFactor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"lpLiquidityFactor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"orderBook\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}]},{\"name\":\"UpdateTokenConfig\",\"header\":4276072687,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"name\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":true}},{\"name\":\"enable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":true}},{\"name\":\"minValue\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"maxLeverage\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"liquidationFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"liquidityProportion\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"tradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"lpTradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"interestRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"maxFundingRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}}]},{\"name\":\"ClaimProtocolFee\",\"header\":4273121126,\"fields\":[{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"feeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"SendProtocolFee\",\"header\":1574274145,\"fields\":[{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"feeReceiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"UpdateLPPosition\",\"header\":3902592095,\"fields\":[{\"name\":\"isIncrease\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"UpdateLPPositionSuccess\",\"header\":485543809,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"UpdatePerpPosition\",\"header\":4283950423,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerAbove\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"premiumRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"UpdatePerpPositionSuccess\",\"header\":4009870004,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"UpdatePrice\",\"header\":499684748,\"fields\":[{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"pricesLength\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"prices\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UpdatePriceParam\",\"valueFormat\":\"ref\"}}]},{\"name\":\"LPPositionIncreasedEvent\",\"header\":866046695,\"fields\":[{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"unlockTimeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedFundingFeeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedFundingFeeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpFundAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpLiquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LPPositionDecreasedEvent\",\"header\":4192904720,\"fields\":[{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFeeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpFundAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpLiquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PerpPositionIncreasedEvent\",\"header\":1234761795,\"fields\":[{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"marginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradePrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLongMarginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalShortMarginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLongSizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalShortSizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLongFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalShortFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpNetSizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpIsLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"lpEntryPriceAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpFundAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpLiquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpTradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpRealizedPnl\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpReceivedFundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PerpPositionDecreasedEvent\",\"header\":361946389,\"fields\":[{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"marginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradePrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedPnLDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLongMarginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalShortMarginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLongSizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalShortSizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLongFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalShortFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpNetSizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpIsLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"lpEntryPriceAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpFundAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpLiquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpTradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpRealizedPnl\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpReceivedFundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"UpdateFundingFeeEvent\",\"header\":3900186253,\"fields\":[{\"name\":\"length\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"datas\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UpdateFundingRateEventData\",\"valueFormat\":\"ref\"}}]},{\"name\":\"ConfigData\",\"header\":null,\"fields\":[{\"name\":\"isExecutor\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":true}},{\"name\":\"gasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"minTonsForStorage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"lpBonusFactor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpLiquidityFactor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"orderBook\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ExecutorParam\",\"header\":null,\"fields\":[{\"name\":\"executor\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"enable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"TokenConfig\",\"header\":null,\"fields\":[{\"name\":\"name\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"enable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"minValue\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxLeverage\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidationFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maintenanceRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityProportion\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpTradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"interestRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxFundingRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LPPosition\",\"header\":null,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"liquidity\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonus\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedFundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"unlockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LPPositionData\",\"header\":null,\"fields\":[{\"name\":\"lpPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"LPPosition\",\"optional\":true}},{\"name\":\"globalLPFund\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLPLiquidity\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLPFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLPUnrealizedPnl\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"AccountPerpPosition\",\"header\":null,\"fields\":[{\"name\":\"positions\",\"type\":{\"kind\":\"dict\",\"key\":\"address\",\"value\":\"DirectionPerpPosition\",\"valueFormat\":\"ref\"}}]},{\"name\":\"DirectionPerpPosition\",\"header\":null,\"fields\":[{\"name\":\"longPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"PerpPosition\",\"optional\":false}},{\"name\":\"shortPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"PerpPosition\",\"optional\":false}}]},{\"name\":\"PerpPosition\",\"header\":null,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"margin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"size\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalLPPosition\",\"header\":null,\"fields\":[{\"name\":\"netSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"entryPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"unrealizedPnl\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PerpPositionData\",\"header\":null,\"fields\":[{\"name\":\"globalPerpNetValue\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalPerpSingleValue\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"perpPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"DirectionPerpPosition\",\"optional\":true}},{\"name\":\"globalLPPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"GlobalLPPosition\",\"optional\":true}},{\"name\":\"globalPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"GlobalPosition\",\"optional\":true}},{\"name\":\"globalFundingRateSample\",\"type\":{\"kind\":\"simple\",\"type\":\"GlobalFundingRateSample\",\"optional\":true}},{\"name\":\"prevPremiumRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"UpdatePriceParam\",\"header\":null,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalPosition\",\"header\":null,\"fields\":[{\"name\":\"longMargin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortMargin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"longSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"longFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"longValue\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortValue\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalFundingRateSample\",\"header\":null,\"fields\":[{\"name\":\"lastAdjustFundingRateTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sampleCount\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"cumulativePremiumRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"UpdateFundingRateResult\",\"header\":null,\"fields\":[{\"name\":\"lpReceivedFundingFeeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"longFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"UpdateFundingRateEventData\",\"header\":null,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpReceivedFundingFeeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"longFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateConfig\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateTokenConfig\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ClaimProtocolFee\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateLPPosition\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdatePerpPosition\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdatePrice\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Deploy\"}}],\"getters\":[{\"name\":\"configData\",\"arguments\":[{\"name\":\"executor\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"ConfigData\",\"optional\":false}},{\"name\":\"tokenConfig\",\"arguments\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"TokenConfig\",\"optional\":true}},{\"name\":\"priceData\",\"arguments\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"lpPosition\",\"arguments\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"LPPositionData\",\"optional\":false}},{\"name\":\"perpPosition\",\"arguments\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"PerpPositionData\",\"optional\":false}},{\"name\":\"owner\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}],\"errors\":{\"2\":{\"message\":\"Stack undeflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"13\":{\"message\":\"Out of gas error\"},\"32\":{\"message\":\"Method ID not found\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"37\":{\"message\":\"Not enough TON\"},\"38\":{\"message\":\"Not enough extra-currencies\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid address\"},\"137\":{\"message\":\"Masterchain support is not enabled for this contract\"},\"1644\":{\"message\":\"not reach trigger price\"},\"5238\":{\"message\":\"position not exist\"},\"9429\":{\"message\":\"send gas not enough\"},\"17312\":{\"message\":\"leverage too high\"},\"18995\":{\"message\":\"margin rate too low\"},\"23314\":{\"message\":\"insufficient liquidity for single value\"},\"27798\":{\"message\":\"invalid token\"},\"28603\":{\"message\":\"margin rate too high\"},\"31332\":{\"message\":\"less than min value\"},\"31425\":{\"message\":\"not reach unlock time\"},\"36718\":{\"message\":\"disabled token\"},\"39251\":{\"message\":\"insufficient global LP\"},\"41207\":{\"message\":\"invalid sender\"},\"54040\":{\"message\":\"insufficient global net LP\"},\"55429\":{\"message\":\"not reach liquidate price\"},\"55754\":{\"message\":\"insufficient liquidity for net value\"},\"59588\":{\"message\":\"token config not exist\"},\"62409\":{\"message\":\"insufficient margin\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\",\"org.ton.debug.v0\",\"org.ton.chain.workchain.v0\",\"org.ton.ownable\"]}","init":{"kind":"direct","args":[{"name":"deployId","type":{"kind":"simple","type":"int","optional":false,"format":257}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":"te6cckECogEAM8wAAQHAAQEFoOi/AgEU/wD0pBP0vPLICwMCAWIeBAIBIBYFAgEgDwYCASAJBwK9tQObZ4IjAiMiIwIi4iMCIuIiwiLiIsIioiLCIqIigiKiIoIiYiKCImIiQiJiIkIiIiJCIiIiAiIiIgHiIgHqodtniuIL4e2SJA3SRg2zJA3eWhAN5W3hfEQN0kYNu9CdCAE8gQEBVhgCWfQNb6GSMG3fIG6SMG2Oh9DbPGwbbwvijwIBIA4KAgEgDAsAdazdxoatLgzOZ0Xl6i2sKclKrk4OTi5JSyZnLqxuKo9M7a8ORsztymiKLmjGSy0urG5Jb04nLc1sLdBAAvmufZA3SRg2xw4Qa6TAgIXdeXBEEGuFhRBAgn/deWhEwYTdeXBEcW2eCIwIjIiMCIuIjAiLiIsIi4iLCIqIiwiKiIoIioiKCImIigiJiIkIiYiJCIiIiQiIiIgIiIiIB4iIB6qHbZ42erZSghA3SRg2zJA3eWhAN5M3g3ECQJ0NAWRtIW6zjqUwgQELASBu8tCAVhBZWfQLb6GSMG3fIG6SMG2Oh9DbPGwWbwbikTHiVHy6LIMAEbCvu1E0NIAAYAIBIBEQAN23ejBOC52Hq6WVz2PQnYc6yVCjbNBOE7rGpaVsj5ZkWnXlv74sRzBOBAq4A3AM7HKZywdVyOS2WHBOA3qTvfKost446np7wKs4ZNBOE7Lpy1Zp2W5nQdLNsozdFJBOCBnOrTzivzpKFgOsLcTI9lAD4bdRBA3SRg2xw4Qa6TAgIXdeXBEEGuFhRBAgn/deWhEwYTdeXBEcW2eCIwIjQiMCIuIjIiLiIsIjAiLCIqIi4iKiIoIiwiKCImIioiJiIkIigiJCIiIiYiIiIgIiQiIB4iIh4cIiAcIb6qObZ42c7ZbwnRMSAJ4EIG6SMG2OESBu8tCAbypVRG8FVUBvBW8C4gMgbpIwbZkgbvLQgG8kbwTiAiBukjBtmSBu8tCAbyhvCOIBIG6SMG2ZIG7y0IBvI28D4lUDA/ZtIW6zjqQqgQEBJFn0DW+hkjBt3yBukjBtl9D0BAExbwHiIG6zkjAx4w2RMeIugQEBI1n0DW+hkjBt3yBukjBtjhjQgQEB1wDSAIEBAdcAgQEB1wBVMGwUbwTiKIEBASRZ9A1voZIwbd8gbpIwbY6H0Ns8bBhvCOKBAQEVchQAYlRHFVn0DW+hkjBt3yBukjBtjhbQgQEB1wCBAQHXAIEBAdcAVSBsE28D4ihRSARDEyYA2jEgbvLQgG8hgQELAiBu8tCAEln0C2+hkjBt3yBukjBtjkrQ0z+BAQHXAIEBAdcAgQEB1wDUAdCBAQHXADAVFEMwBdQB0NM/gQEB1wCBAQHXAIEBAdcA1AHQgQEB1wAwFRRDMDUQWlUDbBpvCuICASAcFwIBxxoYAhipHds82zxXEF8PbJGdGQAEVhMC1KrhIG6SMG2OHCDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4Iji2zwRGBEZERgRFxEYERcRFhEXERYRFREWERURFBEVERQRExEUERMREhETERIRERESEREREBERERAPERAPVQ7bPGzGbNadGwBgbSFus44dMIEBCwEgbvLQgFYRWXFBM/QKb6GUAdcAMJJbbeKRMeJWGVYZVhhWGFYXApG5f42zwRGBEZERgRFxEYERcRFhEXERYRFREWERURFBEVERQRExEUERMREhETERIRERESEREREBERERAPERAPVQ7bPFcQXw9skYnR0ALIEBAVMDUDNBM/QMb6GUAdcAMJJbbeID9NAB0NMDAXGwowH6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIVFBTA28E+GEC+GLbPBEYERoRGBEXERkRFxEWERgRFhEVERcRFREUERYRFBETERURExESERQREhERERMREREQERIREA8REQ8OERAOEN9VHNs8nSIfAU7y4ILI+EMBzH8BygARGREYERcRFhEVERQRExESEREREFXg2zzJ7VQgAegBERgBERmBAQHPAAERFgGBAQHPAAERFAH0AAEREgGBAQHPABEQyIEBAc8AUA8g10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxZQDSDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFgvIgQEBzwBQCiEA5CDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFhj0ABb0ABTLPxL0AIEBAc8AAciBAQHPABKBAQHPABKBAQHPABL0ABPLPxP0AATIgQEBzwAVgQEBzwAV9AAV9AAVgQEBzwDJUATMyVADzMlYzMkBzARuAZIwf+BwIddJwh+VMCDXCx/eIIIQZdEXYbqPCDDbPGwY2zx/4CCCEP7fsO+6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"}},"sources":{"contracts/pool/messages.tact":"aW1wb3J0ICIuL3N0cnVjdHMiOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBhZG1pbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwptZXNzYWdlIFVwZGF0ZUNvbmZpZyB7CiAgICBleGVjdXRvckxlbmd0aDogSW50OwogICAgZXhlY3V0b3JzOiBtYXA8SW50LCBFeGVjdXRvclBhcmFtPjsKICAgIGNsYWltRXhlY3V0b3I6IEFkZHJlc3M/OwogICAgZ2FzQ29uc3VtcHRpb246IEludD8gYXMgY29pbnM7CiAgICBtaW5Ub25zRm9yU3RvcmFnZTogSW50PyBhcyBjb2luczsKICAgIGxwQm9udXNGYWN0b3I6IEludD87CiAgICBscExpcXVpZGl0eUZhY3RvcjogSW50PzsKICAgIG9yZGVyQm9vazogQWRkcmVzcz87Cn0KCm1lc3NhZ2UgVXBkYXRlVG9rZW5Db25maWcgewogICAgdG9rZW5JZDogSW50IGFzIHVpbnQ2NDsKICAgIG5hbWU6IFN0cmluZz87CiAgICBlbmFibGU6IEJvb2w/OwogICAgbWluVmFsdWU6IEludD87CiAgICBtYXhMZXZlcmFnZTogSW50PzsKICAgIGxpcXVpZGF0aW9uRmVlOiBJbnQ/OwogICAgbGlxdWlkaXR5UHJvcG9ydGlvbjogSW50PzsKICAgIHRyYWRpbmdGZWVSYXRlOiBJbnQ/OwogICAgbHBUcmFkaW5nRmVlUmF0ZTogSW50PzsKICAgIGludGVyZXN0UmF0ZTogSW50PzsKICAgIG1heEZ1bmRpbmdSYXRlOiBJbnQ/Owp9CgptZXNzYWdlIENsYWltUHJvdG9jb2xGZWUgewogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7CiAgICBmZWVSZWNlaXZlcjogQWRkcmVzczsKfQoKbWVzc2FnZSBTZW5kUHJvdG9jb2xGZWUgewogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7CiAgICBmZWVSZWNlaXZlcjogQWRkcmVzczsKICAgIGFtb3VudDogSW50Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IExQID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCm1lc3NhZ2UoMHhlODljZDQ1ZikgVXBkYXRlTFBQb3NpdGlvbiB7CiAgICBpc0luY3JlYXNlOiBCb29sOwogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICBsaXF1aWRpdHlEZWx0YTogSW50OwogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7Cn0KCm1lc3NhZ2UoMHgxY2YwY2Y4MSkgVXBkYXRlTFBQb3NpdGlvblN1Y2Nlc3MgewogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIHJlY2VpdmU6IEludDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFBlcnAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KbWVzc2FnZSgweGZmNTdlNTU3KSBVcGRhdGVQZXJwUG9zaXRpb24gewogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIG9wVHlwZTogSW50IGFzIHVpbnQ4OwogICAgdG9rZW5JZDogSW50IGFzIHVpbnQ2NDsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICBpc0xvbmc6IEJvb2w7CiAgICBtYXJnaW5EZWx0YTogSW50OwogICAgc2l6ZURlbHRhOiBJbnQ7CiAgICB0cmlnZ2VyUHJpY2U6IEludDsKICAgIHRyaWdnZXJBYm92ZTogQm9vbDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0OwogICAgcHJpY2U6IEludDsKICAgIHByZW1pdW1SYXRlOiBJbnQ7Cn0KCm1lc3NhZ2UoMHhlZjAxYzJiNCkgVXBkYXRlUGVycFBvc2l0aW9uU3VjY2VzcyB7CiAgICBvcmRlcklkOiBJbnQgYXMgdWludDY0OwogICAgcmVjZWl2ZTogSW50OwogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUHJpY2UgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KbWVzc2FnZSBVcGRhdGVQcmljZSB7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKICAgIHByaWNlc0xlbmd0aDogSW50IGFzIHVpbnQ2NDsKICAgIHByaWNlczogbWFwPEludCwgVXBkYXRlUHJpY2VQYXJhbT47Cn0=","contracts/pool/events.tact":"aW1wb3J0ICIuL3N0cnVjdHMiOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBMUCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwovLyBpbmNyZWFzZSBMUAptZXNzYWdlIExQUG9zaXRpb25JbmNyZWFzZWRFdmVudCB7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKICAgIG9yZGVySWQ6IEludCBhcyB1aW50NjQ7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIHBvc2l0aW9uSWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgbGlxdWlkaXR5RGVsdGE6IEludDsKICAgIGxpcXVpZGl0eUFmdGVyOiBJbnQ7CiAgICBib251c0RlbHRhOiBJbnQ7CiAgICBib251c0FmdGVyOiBJbnQ7CiAgICB1bmxvY2tUaW1lQWZ0ZXI6IEludDsKICAgIHJlYWxpemVkRnVuZGluZ0ZlZURlbHRhOiBJbnQ7CiAgICByZWFsaXplZEZ1bmRpbmdGZWVBZnRlcjogSW50OwogICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludDsKICAgIGxwRnVuZEFmdGVyOiBJbnQ7CiAgICBscExpcXVpZGl0eUFmdGVyOiBJbnQ7Cn0KCi8vIGRlY3JlYXNlIExQCm1lc3NhZ2UgTFBQb3NpdGlvbkRlY3JlYXNlZEV2ZW50IHsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0OwogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIG9wVHlwZTogSW50IGFzIHVpbnQ4OwogICAgcG9zaXRpb25JZDogSW50IGFzIHVpbnQ2NDsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICBsaXF1aWRpdHlEZWx0YTogSW50OyAvLyBkZWNyZWFzZSBsaXF1aWR0eQogICAgbGlxdWlkaXR5QWZ0ZXI6IEludDsKICAgIGJvbnVzRGVsdGE6IEludDsKICAgIGJvbnVzQWZ0ZXI6IEludDsKICAgIGZ1bmRpbmdGZWVEZWx0YTogSW50OwogICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludDsKICAgIHJlY2VpdmU6IEludDsgLy8gcmVhbGl6ZWRQbmwgPSByZWNlaXZlIC0gbGlxdWlkaXR5RGVsdGEKICAgIGxwRnVuZEFmdGVyOiBJbnQ7CiAgICBscExpcXVpZGl0eUFmdGVyOiBJbnQ7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUGVycCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwptZXNzYWdlIFBlcnBQb3NpdGlvbkluY3JlYXNlZEV2ZW50IHsKICAgIC8vIHBlcnAgcG9zaXRpb24KICAgIHRyeElkOiBJbnQgYXMgdWludDY0OwogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIG9wVHlwZTogSW50IGFzIHVpbnQ4OwogICAgcG9zaXRpb25JZDogSW50IGFzIHVpbnQ2NDsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICB0b2tlbklkOiBJbnQgYXMgdWludDY0OwogICAgaXNMb25nOiBCb29sOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIG1hcmdpbkFmdGVyOiBJbnQ7CiAgICBzaXplRGVsdGE6IEludDsKICAgIHNpemVBZnRlcjogSW50OwogICAgdHJhZGVQcmljZTogSW50OwogICAgZW50cnlQcmljZTogSW50OwogICAgZnVuZGluZ0ZlZTogSW50OwogICAgdHJhZGluZ0ZlZTogSW50OwogICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludDsKICAgIC8vIGdsb2JhbCBwb3NpdGlvbgogICAgZ2xvYmFsTG9uZ01hcmdpbkFmdGVyOiBJbnQ7CiAgICBnbG9iYWxTaG9ydE1hcmdpbkFmdGVyOiBJbnQ7CiAgICBnbG9iYWxMb25nU2l6ZUFmdGVyOiBJbnQ7CiAgICBnbG9iYWxTaG9ydFNpemVBZnRlcjogSW50OwogICAgZ2xvYmFsTG9uZ0Z1bmRpbmdGZWVHcm93dGhBZnRlcjogSW50OwogICAgZ2xvYmFsU2hvcnRGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludDsKICAgIC8vIGxwIHBvc2l0aW9uCiAgICBscE5ldFNpemVBZnRlcjogSW50OwogICAgbHBJc0xvbmc6IEJvb2w7CiAgICBscEVudHJ5UHJpY2VBZnRlcjogSW50OwogICAgLy8gbHAgbGlxdWlkaXR5CiAgICBscEZ1bmRBZnRlcjogSW50OwogICAgbHBMaXF1aWRpdHlBZnRlcjogSW50OwogICAgbHBUcmFkaW5nRmVlOiBJbnQ7CiAgICBscFJlYWxpemVkUG5sOiBJbnQ7CiAgICBscFJlY2VpdmVkRnVuZGluZ0ZlZTogSW50Owp9CgptZXNzYWdlIFBlcnBQb3NpdGlvbkRlY3JlYXNlZEV2ZW50IHsKICAgIC8vIHBlcnAgcG9zaXRpb24KICAgIHRyeElkOiBJbnQgYXMgdWludDY0OwogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIG9wVHlwZTogSW50IGFzIHVpbnQ4OwogICAgcG9zaXRpb25JZDogSW50IGFzIHVpbnQ2NDsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICB0b2tlbklkOiBJbnQgYXMgdWludDY0OwogICAgaXNMb25nOiBCb29sOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIG1hcmdpbkFmdGVyOiBJbnQ7CiAgICBzaXplRGVsdGE6IEludDsKICAgIHNpemVBZnRlcjogSW50OwogICAgdHJhZGVQcmljZTogSW50OwogICAgcmVhbGl6ZWRQbkxEZWx0YTogSW50OwogICAgZnVuZGluZ0ZlZTogSW50OwogICAgdHJhZGluZ0ZlZTogSW50OwogICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludDsKICAgIHJlY2VpdmU6IEludDsKICAgIC8vIGdsb2JhbCBwb3NpdGlvbgogICAgZ2xvYmFsTG9uZ01hcmdpbkFmdGVyOiBJbnQ7CiAgICBnbG9iYWxTaG9ydE1hcmdpbkFmdGVyOiBJbnQ7CiAgICBnbG9iYWxMb25nU2l6ZUFmdGVyOiBJbnQ7CiAgICBnbG9iYWxTaG9ydFNpemVBZnRlcjogSW50OwogICAgZ2xvYmFsTG9uZ0Z1bmRpbmdGZWVHcm93dGhBZnRlcjogSW50OwogICAgZ2xvYmFsU2hvcnRGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludDsKICAgIC8vIGxwIHBvc2l0aW9uCiAgICBscE5ldFNpemVBZnRlcjogSW50OwogICAgbHBJc0xvbmc6IEJvb2w7CiAgICBscEVudHJ5UHJpY2VBZnRlcjogSW50OwogICAgLy8gbHAgbGlxdWlkaXR5CiAgICBscEZ1bmRBZnRlcjogSW50OwogICAgbHBMaXF1aWRpdHlBZnRlcjogSW50OwogICAgbHBUcmFkaW5nRmVlOiBJbnQ7CiAgICBscFJlYWxpemVkUG5sOiBJbnQ7CiAgICBscFJlY2VpdmVkRnVuZGluZ0ZlZTogSW50Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IEZ1bmRpbmcgRmVlID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCm1lc3NhZ2UgVXBkYXRlRnVuZGluZ0ZlZUV2ZW50IHsKICAgIGxlbmd0aDogSW50OwogICAgZGF0YXM6IG1hcDxJbnQsIFVwZGF0ZUZ1bmRpbmdSYXRlRXZlbnREYXRhPjsKfQo=","contracts/pool/structs.tact":"Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBDb25maWcgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8Kc3RydWN0IENvbmZpZ0RhdGEgewogICAgaXNFeGVjdXRvcjogQm9vbD87CiAgICBnYXNDb25zdW1wdGlvbjogSW50IGFzIGNvaW5zOwogICAgbWluVG9uc0ZvclN0b3JhZ2U6IEludCBhcyBjb2luczsKICAgIGxwQm9udXNGYWN0b3I6IEludDsKICAgIGxwTGlxdWlkaXR5RmFjdG9yOiBJbnQ7CiAgICBvcmRlckJvb2s6IEFkZHJlc3M7Cn0KCnN0cnVjdCBFeGVjdXRvclBhcmFtIHsKICAgIGV4ZWN1dG9yOiBBZGRyZXNzOwogICAgZW5hYmxlOiBCb29sOwp9CgpzdHJ1Y3QgVG9rZW5Db25maWcgewogICAgbmFtZTogU3RyaW5nOwogICAgZW5hYmxlOiBCb29sOwogICAgLy8gPT09PT09PT09PT09PT09PT09PT0gVHJhZGVyIFBvc2l0aW9uIENvbmZpZyA9PT09PT09PT09PT09PT09PT09PQogICAgbWluVmFsdWU6IEludDsKICAgIG1heExldmVyYWdlOiBJbnQ7CiAgICBsaXF1aWRhdGlvbkZlZTogSW50OwogICAgbWFpbnRlbmFuY2VSYXRlOiBJbnQ7CiAgICBsaXF1aWRpdHlQcm9wb3J0aW9uOiBJbnQ7CiAgICAvLyA9PT09PT09PT09PT09PT09PT09PSBUcmFkaW5nIEZlZSBDb25maWcgPT09PT09PT09PT09PT09PT09PT0KICAgIHRyYWRpbmdGZWVSYXRlOiBJbnQ7CiAgICBscFRyYWRpbmdGZWVSYXRlOiBJbnQ7CiAgICAvLyA9PT09PT09PT09PT09PT09PT09PSBGdW5kaW5nIEZlZSBDb25maWcgPT09PT09PT09PT09PT09PT09PT0KICAgIGludGVyZXN0UmF0ZTogSW50OwogICAgbWF4RnVuZGluZ1JhdGU6IEludDsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBMUCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwpzdHJ1Y3QgTFBQb3NpdGlvbiB7CiAgICBwb3NpdGlvbklkOiBJbnQgYXMgdWludDY0OwogICAgbGlxdWlkaXR5OiBJbnQ7CiAgICBib251czogSW50OwogICAgcmVhbGl6ZWRGdW5kaW5nRmVlOiBJbnQ7CiAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGg6IEludDsKICAgIHVubG9ja1RpbWU6IEludDsKfQoKc3RydWN0IExQUG9zaXRpb25EYXRhIHsKICAgIGxwUG9zaXRpb246IExQUG9zaXRpb24/OwogICAgZ2xvYmFsTFBGdW5kOiBJbnQ7CiAgICBnbG9iYWxMUExpcXVpZGl0eTogSW50OwogICAgZ2xvYmFsTFBGdW5kaW5nRmVlR3Jvd3RoOiBJbnQ7CiAgICBnbG9iYWxMUFVucmVhbGl6ZWRQbmw6IEludDsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBQZXJwID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCi8vIHBlcnAgcG9zaXRpb24Kc3RydWN0IEFjY291bnRQZXJwUG9zaXRpb24gewogICAgcG9zaXRpb25zOiBtYXA8QWRkcmVzcywgRGlyZWN0aW9uUGVycFBvc2l0aW9uPjsKfQoKc3RydWN0IERpcmVjdGlvblBlcnBQb3NpdGlvbiB7CiAgICBsb25nUG9zaXRpb246IFBlcnBQb3NpdGlvbjsKICAgIHNob3J0UG9zaXRpb246IFBlcnBQb3NpdGlvbjsKfQoKc3RydWN0IFBlcnBQb3NpdGlvbiB7CiAgICBwb3NpdGlvbklkOiBJbnQgYXMgdWludDY0OwogICAgbWFyZ2luOiBJbnQ7CiAgICBzaXplOiBJbnQ7CiAgICBlbnRyeVByaWNlOiBJbnQ7CiAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGg6IEludDsKfQoKc3RydWN0IEdsb2JhbExQUG9zaXRpb24gewogICAgbmV0U2l6ZTogSW50OwogICAgaXNMb25nOiBCb29sOwogICAgZW50cnlQcmljZTogSW50OwogICAgdW5yZWFsaXplZFBubDogSW50Owp9CgpzdHJ1Y3QgUGVycFBvc2l0aW9uRGF0YSB7CiAgICBnbG9iYWxQZXJwTmV0VmFsdWU6IEludDsKICAgIGdsb2JhbFBlcnBTaW5nbGVWYWx1ZTogSW50OwogICAgcGVycFBvc2l0aW9uOiBEaXJlY3Rpb25QZXJwUG9zaXRpb24/OwogICAgZ2xvYmFsTFBQb3NpdGlvbjogR2xvYmFsTFBQb3NpdGlvbj87CiAgICBnbG9iYWxQb3NpdGlvbjogR2xvYmFsUG9zaXRpb24/OwogICAgZ2xvYmFsRnVuZGluZ1JhdGVTYW1wbGU6IEdsb2JhbEZ1bmRpbmdSYXRlU2FtcGxlPzsKICAgIHByZXZQcmVtaXVtUmF0ZTogSW50Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFByaWNlID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCnN0cnVjdCBVcGRhdGVQcmljZVBhcmFtIHsKICAgIHRva2VuSWQ6IEludCBhcyB1aW50NjQ7CiAgICBwcmljZTogSW50Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IEZ1bmRpbmcgUmF0ZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwpzdHJ1Y3QgR2xvYmFsUG9zaXRpb24gewogICAgbG9uZ01hcmdpbjogSW50OwogICAgc2hvcnRNYXJnaW46IEludDsKICAgIGxvbmdTaXplOiBJbnQ7CiAgICBzaG9ydFNpemU6IEludDsKICAgIGxvbmdGdW5kaW5nRmVlR3Jvd3RoOiBJbnQ7CiAgICBzaG9ydEZ1bmRpbmdGZWVHcm93dGg6IEludDsKICAgIGxvbmdWYWx1ZTogSW50OwogICAgc2hvcnRWYWx1ZTogSW50Owp9CgpzdHJ1Y3QgR2xvYmFsRnVuZGluZ1JhdGVTYW1wbGUgewogICAgbGFzdEFkanVzdEZ1bmRpbmdSYXRlVGltZTogSW50OwogICAgc2FtcGxlQ291bnQ6IEludDsKICAgIGN1bXVsYXRpdmVQcmVtaXVtUmF0ZTogSW50Owp9CgpzdHJ1Y3QgVXBkYXRlRnVuZGluZ1JhdGVSZXN1bHQgewogICAgbHBSZWNlaXZlZEZ1bmRpbmdGZWVEZWx0YTogSW50OwogICAgbG9uZ0Z1bmRpbmdGZWVHcm93dGhBZnRlcjogSW50OwogICAgc2hvcnRGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludDsKfQoKc3RydWN0IFVwZGF0ZUZ1bmRpbmdSYXRlRXZlbnREYXRhIHsKICAgIHRva2VuSWQ6IEludDsKICAgIGxwUmVjZWl2ZWRGdW5kaW5nRmVlRGVsdGE6IEludDsKICAgIGxvbmdGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludDsKICAgIHNob3J0RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBJbnQ7Cn0=","contracts/pool/constants.tact":"CmNvbnN0IFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQ6IEludCA9IHBvdygxMCwgOSk7CmNvbnN0IFBSSUNFX0RFQ0lNQUxfRkFDVE9SOiBJbnQgPSBwb3coMTAsIDIwKTsKCmNvbnN0IERBWTogSW50ID0gMjQgKiA2MCAqIDYwOwoKY29uc3QgQURKVVNUX0ZVTkRJTkdfUkFURV9JTlRFUlZBTDogSW50ID0gMzYwMDsgLy8gMSBob3VyCmNvbnN0IFNBTVBMRV9QUkVNSVVNX1JBVEVfSU5URVJWQUw6IEludCA9IDU7IC8vIDUgc2Vjb25kcwpjb25zdCBSRVFVSVJFRF9TQU1QTEVfQ09VTlQ6IEludCA9IDcyMDsKLy8gOCAqICgxKzIrMysuLi4rNzIwKSA9IDggKiAoKDErNzIwKSAqIDcyMCAvIDIpID0gOCAqIDI1OTU2MApjb25zdCBQUkVNSVVNX1JBVEVfQVZHX0RFTk9NSU5BVE9SOiBJbnQgPSA4ICogMjU5NTYwOwovLyAwLjA1JSAvIDggKiBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UCmNvbnN0IFBSRU1JVU1fUkFURV9DTEFNUF9CT1VOREFSWTogSW50ID0gNjI1MDA7Cgpjb25zdCBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFOiBJbnQgPSAxOwpjb25zdCBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFOiBJbnQgPSAyOwpjb25zdCBPUkRFUl9PUF9UWVBFX0xJUVVJREFUSU9OOiBJbnQgPSAzOwpjb25zdCBPUkRFUl9PUF9UWVBFX0FETDogSW50ID0gNDsKCmNvbnN0IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTUFSS0VUOiBJbnQgPSAxMDsKY29uc3QgT1JERVJfT1BfVFlQRV9JTkNSRUFTRV9MSU1JVDogSW50ID0gMTE7CmNvbnN0IE9SREVSX09QX1RZUEVfREVDUkVBU0VfTUFSS0VUOiBJbnQgPSAxMjsKY29uc3QgT1JERVJfT1BfVFlQRV9ERUNSRUFTRV9UUDogSW50ID0gMTM7CmNvbnN0IE9SREVSX09QX1RZUEVfREVDUkVBU0VfU0w6IEludCA9IDE0Ow==","contracts/pool/pool.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CmltcG9ydCAiQHN0ZGxpYi9vd25hYmxlIjsKaW1wb3J0ICIuL21lc3NhZ2VzIjsKaW1wb3J0ICIuL2V2ZW50cyI7CmltcG9ydCAiLi9zdHJ1Y3RzIjsKaW1wb3J0ICIuL2NvbnN0YW50cyI7Cgpjb250cmFjdCBQb29sIHdpdGggRGVwbG95YWJsZSwgT3duYWJsZSB7CgogICAgLy8gY29uZmlnCiAgICBnYXNDb25zdW1wdGlvbjogSW50ID0gdG9uKCIwLjA1Iik7CiAgICBtaW5Ub25zRm9yU3RvcmFnZTogSW50ID0gdG9uKCIwLjAzIik7CgogICAgdG9rZW5Db25maWdzOiBtYXA8SW50LCBUb2tlbkNvbmZpZz47IC8vIHRva2VuSWQgPT4gdG9rZW5Db25maWcKCiAgICBscEJvbnVzRmFjdG9yOiBJbnQgPSAxMCAqIHBvdygxMCwgOSk7CiAgICBscExpcXVpZGl0eUZhY3RvcjogSW50ID0gcG93KDEwLCA5KTsKCiAgICAvLyBhZG1pbgogICAgb3duZXI6IEFkZHJlc3M7CiAgICBvcmRlckJvb2s6IEFkZHJlc3M7CiAgICBwcm90b2NvbFRyYWRpbmdGZWU6IEludCA9IDA7CiAgICBjbGFpbUV4ZWN1dG9yOiBBZGRyZXNzOwogICAgZXhlY3V0b3JzOiBtYXA8QWRkcmVzcywgQm9vbD47IC8vIGFjY291bnQgPT4gZW5hYmxlZAoKICAgIC8vIExQCiAgICBscFBvc2l0aW9uczogbWFwPEFkZHJlc3MsIExQUG9zaXRpb24+OyAvLyB0cmFkZXIgPT4gTFAKICAgIGxwUG9zaXRpb25JbmRleE5leHQ6IEludCBhcyB1aW50NjQgPSAxOwoKICAgIGdsb2JhbExQUG9zaXRpb25zOiBtYXA8SW50LCBHbG9iYWxMUFBvc2l0aW9uPjsgLy8gdG9rZW5JZCA9PiBnbG9iYWxMUAoKICAgIGdsb2JhbExQRnVuZDogSW50ID0gMDsKICAgIGdsb2JhbExQTGlxdWlkaXR5OiBJbnQgPSAwOwogICAgZ2xvYmFsTFBGdW5kaW5nRmVlR3Jvd3RoOiBJbnQgPSAwOwogICAgZ2xvYmFsTFBVbnJlYWxpemVkUG5sOiBJbnQgPSAwOwoKICAgIC8vIFBlcnAKICAgIHBlcnBQb3NpdGlvbnM6IG1hcDxJbnQsIEFjY291bnRQZXJwUG9zaXRpb24+OyAvLyB0b2tlbklkID0+IHVzZXIgPT4gZGlyZWN0aW9uID0+IHBvc2l0aW9uCiAgICBwZXJwUG9zaXRpb25JbmRleE5leHQ6IEludCBhcyB1aW50NjQgPSAxOwogICAgZ2xvYmFsUG9zaXRpb25zIDogbWFwPEludCwgR2xvYmFsUG9zaXRpb24+OyAvLyB0b2tlbklkID0+IGdsb2JhbFBvc2l0aW9uCgogICAgZ2xvYmFsUGVycE5ldFZhbHVlOiBJbnQgPSAwOwogICAgZ2xvYmFsUGVycFNpbmdsZVZhbHVlOiBJbnQgPSAwOwoKICAgIC8vIGZ1bmRpbmcgcmF0ZQogICAgZ2xvYmFsRnVuZGluZ1JhdGVTYW1wbGVzOiBtYXA8SW50LCBHbG9iYWxGdW5kaW5nUmF0ZVNhbXBsZT47IC8vIHRva2VuSWQgPT4gc2FtcGxlCgogICAgLy8gcHJpY2UKICAgIHByaWNlczogbWFwPEludCwgSW50PjsgLy8gdG9rZW5JZCA9PiBwcmljZQogICAgcHJldlByZW1pdW1SYXRlOiBJbnQgPSAwOwoKICAgIGluaXQoZGVwbG95SWQ6IEludCkgewogICAgICAgIHNlbGYub3duZXIgPSBzZW5kZXIoKTsKICAgICAgICBzZWxmLm9yZGVyQm9vayA9IG5ld0FkZHJlc3MoMCwgMCk7CiAgICAgICAgc2VsZi5jbGFpbUV4ZWN1dG9yID0gbmV3QWRkcmVzcygwLCAwKTsKICAgICAgICBzZWxmLmV4ZWN1dG9ycy5zZXQoc2VuZGVyKCksIHRydWUpOwogICAgfQoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IEFkbWluID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KICAgIHJlY2VpdmUobXNnOiBVcGRhdGVDb25maWcpIHsKICAgICAgICBzZWxmLnJlcXVpcmVPd25lcigpOwoKICAgICAgICBsZXQgaTogSW50ID0gMDsKICAgICAgICB3aGlsZSAoaSA8IG1zZy5leGVjdXRvckxlbmd0aCkgewogICAgICAgICAgICBsZXQgZXhlY3V0b3I6IEV4ZWN1dG9yUGFyYW0/ID0gbXNnLmV4ZWN1dG9ycy5nZXQoaSk7CiAgICAgICAgICAgIGlmIChleGVjdXRvciAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBzZWxmLmV4ZWN1dG9ycy5zZXQoKGV4ZWN1dG9yISEpLmV4ZWN1dG9yLCAoZXhlY3V0b3IhISkuZW5hYmxlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpICs9IDE7CiAgICAgICAgfQoKICAgICAgICBpZiAobXNnLmNsYWltRXhlY3V0b3IgIT0gbnVsbCkgewogICAgICAgICAgICBzZWxmLmNsYWltRXhlY3V0b3IgPSBtc2cuY2xhaW1FeGVjdXRvciEhOwogICAgICAgIH0KICAgICAgICBpZiAobXNnLmdhc0NvbnN1bXB0aW9uICE9IG51bGwpIHsKICAgICAgICAgICAgc2VsZi5nYXNDb25zdW1wdGlvbiA9IG1zZy5nYXNDb25zdW1wdGlvbiEhOwogICAgICAgIH0KICAgICAgICBpZiAobXNnLm1pblRvbnNGb3JTdG9yYWdlICE9IG51bGwpIHsKICAgICAgICAgICAgc2VsZi5taW5Ub25zRm9yU3RvcmFnZSA9IG1zZy5taW5Ub25zRm9yU3RvcmFnZSEhOwogICAgICAgIH0KICAgICAgICBpZiAobXNnLmxwQm9udXNGYWN0b3IgIT0gbnVsbCkgewogICAgICAgICAgICBzZWxmLmxwQm9udXNGYWN0b3IgPSBtc2cubHBCb251c0ZhY3RvciEhOwogICAgICAgIH0KICAgICAgICBpZiAobXNnLmxwTGlxdWlkaXR5RmFjdG9yICE9IG51bGwpIHsKICAgICAgICAgICAgc2VsZi5scExpcXVpZGl0eUZhY3RvciA9IG1zZy5scExpcXVpZGl0eUZhY3RvciEhOwogICAgICAgIH0KICAgICAgICBpZiAobXNnLm9yZGVyQm9vayAhPSBudWxsKSB7CiAgICAgICAgICAgIHNlbGYub3JkZXJCb29rID0gbXNnLm9yZGVyQm9vayEhOwogICAgICAgIH0KICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogc2VuZGVyKCksCiAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUKICAgICAgICB9KTsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogVXBkYXRlVG9rZW5Db25maWcpIHsKICAgICAgICBzZWxmLnJlcXVpcmVPd25lcigpOwoKICAgICAgICBsZXQgdG9rZW5Db25maWdPcHQ6IFRva2VuQ29uZmlnPyA9IHNlbGYudG9rZW5Db25maWdzLmdldChtc2cudG9rZW5JZCk7CiAgICAgICAgbGV0IHRva2VuQ29uZmlnOiBUb2tlbkNvbmZpZyA9IHRva2VuQ29uZmlnT3B0ICE9IG51bGwgPyB0b2tlbkNvbmZpZ09wdCEhIDogVG9rZW5Db25maWd7CiAgICAgICAgICAgIG5hbWU6ICIiLAogICAgICAgICAgICBlbmFibGU6IGZhbHNlLAogICAgICAgICAgICBtaW5WYWx1ZTogMTAwICogcG93KDEwLCA2KSwgLy8gMTAwVQogICAgICAgICAgICBtYXhMZXZlcmFnZTogMTA1LAogICAgICAgICAgICBsaXF1aWRhdGlvbkZlZTogNSAqIHBvdygxMCwgNSksIC8vIDAuNVUKICAgICAgICAgICAgdHJhZGluZ0ZlZVJhdGU6IDFfMDAwXzAwMCwgLy8gMC4xJQogICAgICAgICAgICBscFRyYWRpbmdGZWVSYXRlOiA2MDBfMDAwXzAwMCwgLy8gNjAlCiAgICAgICAgICAgIG1haW50ZW5hbmNlUmF0ZTogMTBfMDAwXzAwMCwgLy8gMSUKICAgICAgICAgICAgbGlxdWlkaXR5UHJvcG9ydGlvbjogMTAwXzAwMF8wMDAsIC8vIDEwJQogICAgICAgICAgICBpbnRlcmVzdFJhdGU6IDAsCiAgICAgICAgICAgIG1heEZ1bmRpbmdSYXRlOiA2Ml81MDAgLy8gMC4wMDYyNSUKICAgICAgICB9OwoKICAgICAgICBpZiAobXNnLm5hbWUgIT0gbnVsbCkgewogICAgICAgICAgICB0b2tlbkNvbmZpZy5uYW1lID0gbXNnLm5hbWUhITsKICAgICAgICB9CiAgICAgICAgaWYgKG1zZy5lbmFibGUgIT0gbnVsbCkgewogICAgICAgICAgICB0b2tlbkNvbmZpZy5lbmFibGUgPSBtc2cuZW5hYmxlISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cubWluVmFsdWUgIT0gbnVsbCkgewogICAgICAgICAgICB0b2tlbkNvbmZpZy5taW5WYWx1ZSA9IG1zZy5taW5WYWx1ZSEhOwogICAgICAgIH0KICAgICAgICBpZiAobXNnLm1heExldmVyYWdlICE9IG51bGwpIHsKICAgICAgICAgICAgdG9rZW5Db25maWcubWF4TGV2ZXJhZ2UgPSBtc2cubWF4TGV2ZXJhZ2UhITsKICAgICAgICB9CiAgICAgICAgaWYgKG1zZy5saXF1aWRhdGlvbkZlZSAhPSBudWxsKSB7CiAgICAgICAgICAgIHRva2VuQ29uZmlnLmxpcXVpZGF0aW9uRmVlID0gbXNnLmxpcXVpZGF0aW9uRmVlISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cubGlxdWlkaXR5UHJvcG9ydGlvbiAhPSBudWxsKSB7CiAgICAgICAgICAgIHRva2VuQ29uZmlnLmxpcXVpZGl0eVByb3BvcnRpb24gPSBtc2cubGlxdWlkaXR5UHJvcG9ydGlvbiEhOwogICAgICAgIH0KICAgICAgICBpZiAobXNnLnRyYWRpbmdGZWVSYXRlICE9IG51bGwpIHsKICAgICAgICAgICAgdG9rZW5Db25maWcudHJhZGluZ0ZlZVJhdGUgPSBtc2cudHJhZGluZ0ZlZVJhdGUhITsKICAgICAgICB9CiAgICAgICAgaWYgKG1zZy5scFRyYWRpbmdGZWVSYXRlICE9IG51bGwpIHsKICAgICAgICAgICAgdG9rZW5Db25maWcubHBUcmFkaW5nRmVlUmF0ZSA9IG1zZy5scFRyYWRpbmdGZWVSYXRlISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cuaW50ZXJlc3RSYXRlICE9IG51bGwpIHsKICAgICAgICAgICAgdG9rZW5Db25maWcuaW50ZXJlc3RSYXRlID0gbXNnLmludGVyZXN0UmF0ZSEhOwogICAgICAgIH0KICAgICAgICBpZiAobXNnLm1heEZ1bmRpbmdSYXRlICE9IG51bGwpIHsKICAgICAgICAgICAgdG9rZW5Db25maWcubWF4RnVuZGluZ1JhdGUgPSBtc2cubWF4RnVuZGluZ1JhdGUhITsKICAgICAgICB9CgogICAgICAgIHNlbGYudG9rZW5Db25maWdzLnNldChtc2cudG9rZW5JZCwgdG9rZW5Db25maWcpOwogICAgICAgIAogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZW5kZXIoKSwKICAgICAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdWYWx1ZQogICAgICAgIH0pOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBDbGFpbVByb3RvY29sRmVlKSB7CiAgICAgICAgcmVxdWlyZShzZW5kZXIoKSA9PSBzZWxmLmNsYWltRXhlY3V0b3IsICJpbnZhbGlkIHNlbmRlciIpOwoKICAgICAgICBpZiAoc2VsZi5wcm90b2NvbFRyYWRpbmdGZWUgPiAwKSB7CiAgICAgICAgICAgIHNlbGYucHJvdG9jb2xUcmFkaW5nRmVlID0gMDsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBzZWxmLm9yZGVyQm9vaywKICAgICAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdWYWx1ZSwKICAgICAgICAgICAgICAgIGJvZHk6IFNlbmRQcm90b2NvbEZlZSB7CiAgICAgICAgICAgICAgICAgICAgdHJ4SWQ6IG1zZy50cnhJZCwKICAgICAgICAgICAgICAgICAgICBmZWVSZWNlaXZlcjogbXNnLmZlZVJlY2VpdmVyLAogICAgICAgICAgICAgICAgICAgIGFtb3VudDogc2VsZi5wcm90b2NvbFRyYWRpbmdGZWUKICAgICAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfQoKICAgIGdldCBmdW4gY29uZmlnRGF0YShleGVjdXRvcjogQWRkcmVzcz8pOiBDb25maWdEYXRhIHsKICAgICAgICBsZXQgaXNFeGVjdXRvcjogQm9vbD8gPSBudWxsOwogICAgICAgIGlmIChleGVjdXRvciAhPSBudWxsKSB7CiAgICAgICAgICAgIGlzRXhlY3V0b3IgPSBzZWxmLmV4ZWN1dG9ycy5nZXQoZXhlY3V0b3IhISk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBDb25maWdEYXRhewogICAgICAgICAgICBpc0V4ZWN1dG9yOiBpc0V4ZWN1dG9yLAogICAgICAgICAgICBnYXNDb25zdW1wdGlvbjogc2VsZi5nYXNDb25zdW1wdGlvbiwKICAgICAgICAgICAgbWluVG9uc0ZvclN0b3JhZ2U6IHNlbGYubWluVG9uc0ZvclN0b3JhZ2UsCiAgICAgICAgICAgIGxwQm9udXNGYWN0b3I6IHNlbGYubHBCb251c0ZhY3RvciwKICAgICAgICAgICAgbHBMaXF1aWRpdHlGYWN0b3I6IHNlbGYubHBMaXF1aWRpdHlGYWN0b3IsCiAgICAgICAgICAgIG9yZGVyQm9vazogc2VsZi5vcmRlckJvb2sKICAgICAgICB9OwogICAgfQoKICAgIGdldCBmdW4gdG9rZW5Db25maWcodG9rZW5JZDogSW50KTogVG9rZW5Db25maWc/IHsKICAgICAgICByZXR1cm4gc2VsZi50b2tlbkNvbmZpZ3MuZ2V0KHRva2VuSWQpOwogICAgfQoKICAgIGdldCBmdW4gcHJpY2VEYXRhKHRva2VuSWQ6IEludCk6IEludD8gewogICAgICAgIHJldHVybiBzZWxmLnByaWNlcy5nZXQodG9rZW5JZCk7CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gTFAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwogICAgcmVjZWl2ZShtc2c6IFVwZGF0ZUxQUG9zaXRpb24pIHsKICAgICAgICByZXF1aXJlKHNlbmRlcigpID09IHNlbGYub3JkZXJCb29rLCAiaW52YWxpZCBzZW5kZXIiKTsKCiAgICAgICAgLy8gdXBkYXRlIHBvc2l0aW9uCiAgICAgICAgaWYgKG1zZy5pc0luY3JlYXNlKSB7CiAgICAgICAgICAgIHNlbGYuaW5jcmVhc2VMUFBvc2l0aW9uKG1zZy50cnhJZCwgbXNnLm9yZGVySWQsIG1zZy5hY2NvdW50LCBtc2cubGlxdWlkaXR5RGVsdGEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNlbGYuZGVjcmVhc2VMUFBvc2l0aW9uKG1zZy50cnhJZCwgbXNnLm9yZGVySWQsIG1zZy5hY2NvdW50LCBtc2cubGlxdWlkaXR5RGVsdGEpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW4gaW5jcmVhc2VMUFBvc2l0aW9uKHRyeElkOiBJbnQsIG9yZGVySWQ6IEludCwgYWNjb3VudDogQWRkcmVzcywgbGlxdWlkaXR5RGVsdGE6IEludCkgewogICAgICAgIC8vIGdldCBwb3NpdGlvbgogICAgICAgIGxldCBscFBvc2l0aW9uT3B0OiBMUFBvc2l0aW9uPyA9IHNlbGYubHBQb3NpdGlvbnMuZ2V0KGFjY291bnQpOwogICAgICAgIC8vIGluaXQgcG9zaXRpb24gaWYgbm90IGV4aXN0CiAgICAgICAgbGV0IGxwUG9zaXRpb246IExQUG9zaXRpb24gPSBMUFBvc2l0aW9uewogICAgICAgICAgICAgICAgcG9zaXRpb25JZDogMCwKICAgICAgICAgICAgICAgIGxpcXVpZGl0eTogMCwKICAgICAgICAgICAgICAgIGJvbnVzOiAwLAogICAgICAgICAgICAgICAgcmVhbGl6ZWRGdW5kaW5nRmVlOiAwLAogICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiAwLAogICAgICAgICAgICAgICAgdW5sb2NrVGltZTogMAogICAgICAgICAgICB9OwogICAgICAgIGlmIChscFBvc2l0aW9uT3B0ICE9IG51bGwpIHsKICAgICAgICAgICAgbHBQb3NpdGlvbiA9IGxwUG9zaXRpb25PcHQhITsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBscFBvc2l0aW9uLnBvc2l0aW9uSWQgPSBzZWxmLmxwUG9zaXRpb25JbmRleE5leHQ7CiAgICAgICAgICAgIHNlbGYubHBQb3NpdGlvbkluZGV4TmV4dCA9IHNlbGYubHBQb3NpdGlvbkluZGV4TmV4dCArIDE7CiAgICAgICAgfQoKICAgICAgICAvLyB1cGRhdGUgTFAKICAgICAgICAvLyBjYWxjdWxhdGUgYm9udXMKICAgICAgICBsZXQgZ2xvYmFsTmV0TFA6IEludCA9IHNlbGYuZ2xvYmFsTFBGdW5kICsgc2VsZi5nbG9iYWxMUFVucmVhbGl6ZWRQbmw7CiAgICAgICAgaWYgKGdsb2JhbE5ldExQIDwgMCkgewogICAgICAgICAgICBnbG9iYWxOZXRMUCA9IDA7CiAgICAgICAgfQogICAgICAgIGxldCBib251czogSW50ID0gMDsKICAgICAgICBpZiAoZ2xvYmFsTmV0TFAgPCBzZWxmLmdsb2JhbExQTGlxdWlkaXR5KSB7CiAgICAgICAgICAgIC8vIGJvbnVzID0gYiArIHMgKDEgLSB4KSAqIGxpcXVpZGl0eQogICAgICAgICAgICBib251cyA9IHNlbGYubHBCb251c0ZhY3RvciAqIChzZWxmLmdsb2JhbExQTGlxdWlkaXR5IC0gZ2xvYmFsTmV0TFApCiAgICAgICAgICAgICAgICAgKiBsaXF1aWRpdHlEZWx0YSAvIChzZWxmLmdsb2JhbExQTGlxdWlkaXR5ICogUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCk7CiAgICAgICAgICAgIGxwUG9zaXRpb24uYm9udXMgPSBscFBvc2l0aW9uLmJvbnVzICsgYm9udXM7CiAgICAgICAgfQogICAgICAgIC8vIGZ1bmRpbmcgZmVlCiAgICAgICAgbGV0IHJlYWxpemVkRnVuZGluZ0ZlZTogSW50ID0gMDsKICAgICAgICBpZiAobHBQb3NpdGlvbi5saXF1aWRpdHkgPiAwKSB7CiAgICAgICAgICAgIHJlYWxpemVkRnVuZGluZ0ZlZSA9IChzZWxmLmdsb2JhbExQRnVuZGluZ0ZlZUdyb3d0aCAtIGxwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoKSAqIGxwUG9zaXRpb24ubGlxdWlkaXR5IC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgfQoKICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb24KICAgICAgICBscFBvc2l0aW9uLmxpcXVpZGl0eSA9IGxwUG9zaXRpb24ubGlxdWlkaXR5ICsgbGlxdWlkaXR5RGVsdGE7CiAgICAgICAgbHBQb3NpdGlvbi5yZWFsaXplZEZ1bmRpbmdGZWUgKz0gcmVhbGl6ZWRGdW5kaW5nRmVlOwogICAgICAgIGxwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoID0gc2VsZi5nbG9iYWxMUEZ1bmRpbmdGZWVHcm93dGg7CiAgICAgICAgbHBQb3NpdGlvbi51bmxvY2tUaW1lID0gbm93KCkgKyBEQVk7CgogICAgICAgIC8vIHNldCBwb3NpdGlvbgogICAgICAgIHNlbGYubHBQb3NpdGlvbnMuc2V0KGFjY291bnQsIGxwUG9zaXRpb24pOwoKICAgICAgICAvLyB1cGRhdGUgZ2xvYmFsIHBvc2l0aW9uCiAgICAgICAgc2VsZi5nbG9iYWxMUEZ1bmQgPSBzZWxmLmdsb2JhbExQRnVuZCArIGxpcXVpZGl0eURlbHRhOwogICAgICAgIHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkgPSBzZWxmLmdsb2JhbExQTGlxdWlkaXR5ICsgbGlxdWlkaXR5RGVsdGE7CgogICAgICAgIC8vIGxlYXZlIG1pblRvbnNGb3JTdG9yYWdlCiAgICAgICAgbGV0IGV4dHJhVmFsdWU6IEludCA9IG1heCgwLCBteUJhbGFuY2UoKSAtIGNvbnRleHQoKS52YWx1ZSAtIHNlbGYubWluVG9uc0ZvclN0b3JhZ2UpOwogICAgICAgIGxldCBtc2dWYWx1ZTogSW50ID0gY29udGV4dCgpLnZhbHVlIC0gKHNlbGYubWluVG9uc0ZvclN0b3JhZ2UgKyBzZWxmLmdhc0NvbnN1bXB0aW9uKSArIGV4dHJhVmFsdWU7CgogICAgICAgIC8vIHNlbmQgdXBkYXRlIHN1Y2Nlc3MgbXNnCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbGYub3JkZXJCb29rLAogICAgICAgICAgICB2YWx1ZTogbXNnVmFsdWUsCiAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgIG1vZGU6IFNlbmRQYXlHYXNTZXBhcmF0ZWx5LAogICAgICAgICAgICBib2R5OiBVcGRhdGVMUFBvc2l0aW9uU3VjY2VzcyB7CiAgICAgICAgICAgICAgICBvcmRlcklkOiBvcmRlcklkLAogICAgICAgICAgICAgICAgcmVjZWl2ZTogMCwKICAgICAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CgogICAgICAgIGVtaXQoTFBQb3NpdGlvbkluY3JlYXNlZEV2ZW50ewogICAgICAgICAgICB0cnhJZDogdHJ4SWQsCiAgICAgICAgICAgIG9yZGVySWQ6IG9yZGVySWQsCiAgICAgICAgICAgIG9wVHlwZTogT1JERVJfT1BfVFlQRV9JTkNSRUFTRSwKICAgICAgICAgICAgcG9zaXRpb25JZDogbHBQb3NpdGlvbi5wb3NpdGlvbklkLAogICAgICAgICAgICBhY2NvdW50OiBhY2NvdW50LAogICAgICAgICAgICBsaXF1aWRpdHlEZWx0YTogbGlxdWlkaXR5RGVsdGEsCiAgICAgICAgICAgIGxpcXVpZGl0eUFmdGVyOiBscFBvc2l0aW9uLmxpcXVpZGl0eSwKICAgICAgICAgICAgYm9udXNEZWx0YTogYm9udXMsCiAgICAgICAgICAgIGJvbnVzQWZ0ZXI6IGxwUG9zaXRpb24uYm9udXMsCiAgICAgICAgICAgIHVubG9ja1RpbWVBZnRlcjogbHBQb3NpdGlvbi51bmxvY2tUaW1lLAogICAgICAgICAgICByZWFsaXplZEZ1bmRpbmdGZWVEZWx0YTogcmVhbGl6ZWRGdW5kaW5nRmVlLAogICAgICAgICAgICByZWFsaXplZEZ1bmRpbmdGZWVBZnRlcjogbHBQb3NpdGlvbi5yZWFsaXplZEZ1bmRpbmdGZWUsCiAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBscFBvc2l0aW9uLmVudHJ5RnVuZGluZ0ZlZUdyb3d0aCwKICAgICAgICAgICAgbHBGdW5kQWZ0ZXI6IHNlbGYuZ2xvYmFsTFBGdW5kLAogICAgICAgICAgICBscExpcXVpZGl0eUFmdGVyOiBzZWxmLmdsb2JhbExQTGlxdWlkaXR5CiAgICAgICAgfS50b0NlbGwoKSk7CiAgICB9CgogICAgZnVuIGRlY3JlYXNlTFBQb3NpdGlvbih0cnhJZDogSW50LCBvcmRlcklkOiBJbnQsIGFjY291bnQ6IEFkZHJlc3MsIGxpcXVpZGl0eURlbHRhOiBJbnQpIHsKICAgICAgICAvLyBnZXQgcG9zaXRpb24KICAgICAgICBsZXQgbHBQb3NpdGlvbk9wdDogTFBQb3NpdGlvbj8gPSBzZWxmLmxwUG9zaXRpb25zLmdldChhY2NvdW50KTsKICAgICAgICAvLyBjaGVjayBwb3NpdGlvbgogICAgICAgIHJlcXVpcmUobHBQb3NpdGlvbk9wdCAhPSBudWxsLCAicG9zaXRpb24gbm90IGV4aXN0Iik7CiAgICAgICAgbGV0IGxwUG9zaXRpb246IExQUG9zaXRpb24gPSBscFBvc2l0aW9uT3B0ISE7CgogICAgICAgIC8vIGNoZWNrIHVubG9jayB0aW1lCiAgICAgICAgcmVxdWlyZShscFBvc2l0aW9uLnVubG9ja1RpbWUgPD0gbm93KCksICJub3QgcmVhY2ggdW5sb2NrIHRpbWUiKTsKCiAgICAgICAgLy8gZGVjcmVhc2UgbGlxdWlkaXR5IGRlbHRhCiAgICAgICAgaWYgKGxwUG9zaXRpb24ubGlxdWlkaXR5IDwgbGlxdWlkaXR5RGVsdGEpIHsKICAgICAgICAgICAgbGlxdWlkaXR5RGVsdGEgPSBscFBvc2l0aW9uLmxpcXVpZGl0eTsKICAgICAgICB9CgogICAgICAgIC8vIGNhbGN1bGF0ZSBMUCBnbG9iYWwgdW5yZWFsaXplZCBwbmwKICAgICAgICBsZXQgZ2xvYmFsTmV0TFA6IEludCA9IHNlbGYuZ2xvYmFsTFBGdW5kICsgc2VsZi5nbG9iYWxMUFVucmVhbGl6ZWRQbmw7CiAgICAgICAgcmVxdWlyZShnbG9iYWxOZXRMUCA+IDAsICJpbnN1ZmZpY2llbnQgZ2xvYmFsIExQIik7CgogICAgICAgIC8vIGNhbGN1bGF0ZSByZWNlaXZlIGFtb3VudAogICAgICAgIGlmIChnbG9iYWxOZXRMUCA8IDApIHsKICAgICAgICAgICAgZ2xvYmFsTmV0TFAgPSAwOwogICAgICAgIH0KICAgICAgICByZXF1aXJlKGdsb2JhbE5ldExQID4gMCwgImluc3VmZmljaWVudCBnbG9iYWwgbmV0IExQIik7CgogICAgICAgIGxldCByZWNlaXZlOiBJbnQgPSAwOwogICAgICAgIGxldCBib251czogSW50ID0gMDsKCiAgICAgICAgaWYgKGdsb2JhbE5ldExQID49IHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkpIHsKICAgICAgICAgICAgbGV0IG46IEludCA9ICgobm93KCkgLSBscFBvc2l0aW9uLnVubG9ja1RpbWUpICsgREFZKSAvIERBWTsKCiAgICAgICAgICAgIGlmIChscFBvc2l0aW9uLmJvbnVzID09IDApIHsKICAgICAgICAgICAgICAgIC8vIGJvbnVzID0gbGlxdWlkaXR5ICogcu+8iHgtMe+8iSogbWluKG7vvIwxMDDvvIkqIDAuMSUKICAgICAgICAgICAgICAgIGJvbnVzID0gbGlxdWlkaXR5RGVsdGEgKiBzZWxmLmxwQm9udXNGYWN0b3IgKiAoZ2xvYmFsTmV0TFAgLSBzZWxmLmdsb2JhbExQTGlxdWlkaXR5KSAqIG1pbihuLCAxMDApIC8gKGdsb2JhbE5ldExQICogMTAwMDAgKiBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxldCBib251czE6IEludCA9IGxpcXVpZGl0eURlbHRhICogKGdsb2JhbE5ldExQIC0gc2VsZi5nbG9iYWxMUExpcXVpZGl0eSkgLyBnbG9iYWxOZXRMUDsKICAgICAgICAgICAgICAgIGxldCBib251czI6IEludCA9IGxwUG9zaXRpb24uYm9udXM7CiAgICAgICAgICAgICAgICBsZXQgYm9udXMzOiBJbnQgPSBsaXF1aWRpdHlEZWx0YSAqIHNlbGYubHBCb251c0ZhY3RvciAqIChnbG9iYWxOZXRMUCAtIHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkpICogbWluKG4sIDEwMCkgLyAoZ2xvYmFsTmV0TFAgKiAxMDAwMCAqIFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQpOwogICAgICAgICAgICAgICAgYm9udXMgPSBtYXgobWluKGJvbnVzMSwgYm9udXMyKSwgYm9udXMzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZWNlaXZlID0gbGlxdWlkaXR5RGVsdGEgKyBib251czsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZWNlaXZlID0gbGlxdWlkaXR5RGVsdGEgKiBnbG9iYWxOZXRMUCAvIHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHk7CiAgICAgICAgfQogICAgICAgIC8vIHdpdGhkcmF3IGZ1bmRpbmcgZmVlCiAgICAgICAgbGV0IHJlYWxpemVkRnVuZGluZ0ZlZTogSW50ID0gMDsKICAgICAgICBpZiAobHBQb3NpdGlvbi5saXF1aWRpdHkgPiAwKSB7CiAgICAgICAgICAgIHJlYWxpemVkRnVuZGluZ0ZlZSA9IChzZWxmLmdsb2JhbExQRnVuZGluZ0ZlZUdyb3d0aCAtIGxwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoKSAqIGxwUG9zaXRpb24ubGlxdWlkaXR5IC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgfQogICAgICAgIHJlYWxpemVkRnVuZGluZ0ZlZSArPSBscFBvc2l0aW9uLnJlYWxpemVkRnVuZGluZ0ZlZTsKICAgICAgICByZWNlaXZlICs9IHJlYWxpemVkRnVuZGluZ0ZlZTsKCiAgICAgICAgLy8gdXBkYXRlIHBvc2l0aW9uCiAgICAgICAgbHBQb3NpdGlvbi5yZWFsaXplZEZ1bmRpbmdGZWUgPSAwOwogICAgICAgIGxwUG9zaXRpb24ubGlxdWlkaXR5IC09IGxpcXVpZGl0eURlbHRhOwogICAgICAgIGxwUG9zaXRpb24uYm9udXMgLT0gbWF4KGxwUG9zaXRpb24uYm9udXMsIGJvbnVzKTsKCiAgICAgICAgLy8gc2V0IHBvc2l0aW9uCiAgICAgICAgaWYgKGxwUG9zaXRpb24ubGlxdWlkaXR5ID4gMCB8fCBscFBvc2l0aW9uLmJvbnVzID4gMCkgewogICAgICAgICAgICBzZWxmLmxwUG9zaXRpb25zLnNldChhY2NvdW50LCBscFBvc2l0aW9uKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzZWxmLmxwUG9zaXRpb25zLnNldChhY2NvdW50LCBudWxsKTsKICAgICAgICB9CgogICAgICAgIC8vIHVwZGF0ZSBnbG9iYWwgcG9zaXRpb24KICAgICAgICBzZWxmLmdsb2JhbExQRnVuZCA9IHNlbGYuZ2xvYmFsTFBGdW5kIC0gcmVjZWl2ZTsKICAgICAgICBzZWxmLmdsb2JhbExQTGlxdWlkaXR5ID0gc2VsZi5nbG9iYWxMUExpcXVpZGl0eSAtIGxpcXVpZGl0eURlbHRhOwoKICAgICAgICAvLyBsZWF2ZSBtaW5Ub25zRm9yU3RvcmFnZQogICAgICAgIGxldCBleHRyYVZhbHVlOiBJbnQgPSBtYXgoMCwgbXlCYWxhbmNlKCkgLSBjb250ZXh0KCkudmFsdWUgLSBzZWxmLm1pblRvbnNGb3JTdG9yYWdlKTsKICAgICAgICBsZXQgbXNnVmFsdWU6IEludCA9IGNvbnRleHQoKS52YWx1ZSAtIChzZWxmLm1pblRvbnNGb3JTdG9yYWdlICsgc2VsZi5nYXNDb25zdW1wdGlvbikgKyBleHRyYVZhbHVlOwoKICAgICAgICAvLyBzZW5kIHVwZGF0ZSBzdWNjZXNzIG1zZwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLm9yZGVyQm9vaywKICAgICAgICAgICAgdmFsdWU6IG1zZ1ZhbHVlLAogICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICBtb2RlOiBTZW5kUGF5R2FzU2VwYXJhdGVseSwKICAgICAgICAgICAgYm9keTogVXBkYXRlTFBQb3NpdGlvblN1Y2Nlc3MgewogICAgICAgICAgICAgICAgb3JkZXJJZDogb3JkZXJJZCwKICAgICAgICAgICAgICAgIHJlY2VpdmU6IHJlY2VpdmUsCiAgICAgICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgIH0pOwoKICAgICAgICAvLyBldmVudAogICAgICAgIGVtaXQoTFBQb3NpdGlvbkRlY3JlYXNlZEV2ZW50ewogICAgICAgICAgICB0cnhJZDogdHJ4SWQsCiAgICAgICAgICAgIG9yZGVySWQ6IG9yZGVySWQsCiAgICAgICAgICAgIG9wVHlwZTogT1JERVJfT1BfVFlQRV9ERUNSRUFTRSwKICAgICAgICAgICAgcG9zaXRpb25JZDogbHBQb3NpdGlvbi5wb3NpdGlvbklkLAogICAgICAgICAgICBhY2NvdW50OiBhY2NvdW50LAogICAgICAgICAgICBsaXF1aWRpdHlEZWx0YTogbGlxdWlkaXR5RGVsdGEsCiAgICAgICAgICAgIGxpcXVpZGl0eUFmdGVyOiBscFBvc2l0aW9uLmxpcXVpZGl0eSwKICAgICAgICAgICAgYm9udXNEZWx0YTogYm9udXMsCiAgICAgICAgICAgIGJvbnVzQWZ0ZXI6IGxwUG9zaXRpb24uYm9udXMsCiAgICAgICAgICAgIGZ1bmRpbmdGZWVEZWx0YTogcmVhbGl6ZWRGdW5kaW5nRmVlLAogICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGhBZnRlcjogbHBQb3NpdGlvbi5lbnRyeUZ1bmRpbmdGZWVHcm93dGgsCiAgICAgICAgICAgIHJlY2VpdmU6IHJlY2VpdmUsCiAgICAgICAgICAgIGxwRnVuZEFmdGVyOiBzZWxmLmdsb2JhbExQRnVuZCwKICAgICAgICAgICAgbHBMaXF1aWRpdHlBZnRlcjogc2VsZi5nbG9iYWxMUExpcXVpZGl0eQogICAgICAgIH0udG9DZWxsKCkpOwogICAgfQoKICAgIGdldCBmdW4gbHBQb3NpdGlvbihhY2NvdW50OiBBZGRyZXNzPyk6IExQUG9zaXRpb25EYXRhIHsKICAgICAgICBsZXQgbHBQb3NpdGlvbjogTFBQb3NpdGlvbj8gPSBudWxsOyAKICAgICAgICBpZiAoYWNjb3VudCAhPSBudWxsKSB7CiAgICAgICAgICAgIGxwUG9zaXRpb24gPSBzZWxmLmxwUG9zaXRpb25zLmdldChhY2NvdW50ISEpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gTFBQb3NpdGlvbkRhdGEgewogICAgICAgICAgICBscFBvc2l0aW9uOiBscFBvc2l0aW9uLAogICAgICAgICAgICBnbG9iYWxMUEZ1bmQ6IHNlbGYuZ2xvYmFsTFBGdW5kLAogICAgICAgICAgICBnbG9iYWxMUExpcXVpZGl0eTogc2VsZi5nbG9iYWxMUExpcXVpZGl0eSwKICAgICAgICAgICAgZ2xvYmFsTFBGdW5kaW5nRmVlR3Jvd3RoOiBzZWxmLmdsb2JhbExQRnVuZGluZ0ZlZUdyb3d0aCwKICAgICAgICAgICAgZ2xvYmFsTFBVbnJlYWxpemVkUG5sOiBzZWxmLmdsb2JhbExQVW5yZWFsaXplZFBubAogICAgICAgIH07CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBQZXJwID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCiAgICByZWNlaXZlKG1zZzogVXBkYXRlUGVycFBvc2l0aW9uKSB7CiAgICAgICAgLy8gZHVtcCgiVXBkYXRlUGVycFBvc2l0aW9uIik7CgogICAgICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gc2VsZi5vcmRlckJvb2ssICJpbnZhbGlkIHNlbmRlciIpOwoKICAgICAgICAvLyB1cGRhdGUgcHJpY2UKICAgICAgICBsZXQgcmVzdWx0OiBVcGRhdGVGdW5kaW5nUmF0ZVJlc3VsdCA9IHNlbGYudXBkYXRlUHJpY2VBbmRGdW5kaW5nRmVlKG1zZy50b2tlbklkLCBtc2cucHJpY2UpOwoKICAgICAgICAvLyBnZXQgaW5kZXggcHJpY2UKICAgICAgICBsZXQgaW5kZXhQcmljZTogSW50ID0gbXNnLnByaWNlOwogICAgICAgIAogICAgICAgIC8vIHRyYWRlIHByaWNlCiAgICAgICAgbGV0IHRyYWRlUHJpY2U6IEludCA9IChQRVJDRU5UQUdFX0JBU0lTX1BPSU5UICsgbXNnLnByZW1pdW1SYXRlKSAqIGluZGV4UHJpY2UgLyBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UOwogICAgICAgIHNlbGYucHJldlByZW1pdW1SYXRlID0gbXNnLnByZW1pdW1SYXRlOwoKICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb24KICAgICAgICBpZiAobXNnLm9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFX01BUktFVCB8fCBtc2cub3BUeXBlID09IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTElNSVQpIHsKICAgICAgICAgICAgaWYgKG1zZy50cmlnZ2VyQWJvdmUpIHsKICAgICAgICAgICAgICAgIHJlcXVpcmUodHJhZGVQcmljZSA+PSBtc2cudHJpZ2dlclByaWNlLCAibm90IHJlYWNoIHRyaWdnZXIgcHJpY2UiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJlcXVpcmUodHJhZGVQcmljZSA8PSBtc2cudHJpZ2dlclByaWNlLCAibm90IHJlYWNoIHRyaWdnZXIgcHJpY2UiKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzZWxmLmluY3JlYXNlUGVycFBvc2l0aW9uKG1zZy50cnhJZCwgbXNnLm9yZGVySWQsIG1zZy5vcFR5cGUsIG1zZy5hY2NvdW50LCBtc2cudG9rZW5JZCwgbXNnLmlzTG9uZywgbXNnLm1hcmdpbkRlbHRhLCBtc2cuc2l6ZURlbHRhLCBpbmRleFByaWNlLCB0cmFkZVByaWNlLCByZXN1bHQubHBSZWNlaXZlZEZ1bmRpbmdGZWVEZWx0YSk7CiAgICAgICAgfSBlbHNlIGlmIChtc2cub3BUeXBlID09IE9SREVSX09QX1RZUEVfTElRVUlEQVRJT04pIHsKICAgICAgICAgICAgc2VsZi5saXF1aWRhdGVQZXJwUG9zaXRpb24obXNnLnRyeElkLCBtc2cub3JkZXJJZCwgbXNnLmFjY291bnQsIG1zZy50b2tlbklkLCBtc2cuaXNMb25nLCBpbmRleFByaWNlLCB0cmFkZVByaWNlLCByZXN1bHQubHBSZWNlaXZlZEZ1bmRpbmdGZWVEZWx0YSk7CiAgICAgICAgfSBlbHNlIGlmIChtc2cub3BUeXBlID09IE9SREVSX09QX1RZUEVfQURMKSB7CiAgICAgICAgICAgIHNlbGYuZGVjcmVhc2VQZXJwUG9zaXRpb24obXNnLnRyeElkLCBtc2cub3JkZXJJZCwgbXNnLm9wVHlwZSwgbXNnLmFjY291bnQsIG1zZy50b2tlbklkLCBtc2cuaXNMb25nLCBtc2cubWFyZ2luRGVsdGEsIG1zZy5zaXplRGVsdGEsIGluZGV4UHJpY2UsIHRyYWRlUHJpY2UsIHJlc3VsdC5scFJlY2VpdmVkRnVuZGluZ0ZlZURlbHRhKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAobXNnLnRyaWdnZXJBYm92ZSkgewogICAgICAgICAgICAgICAgcmVxdWlyZSh0cmFkZVByaWNlID49IG1zZy50cmlnZ2VyUHJpY2UsICJub3QgcmVhY2ggdHJpZ2dlciBwcmljZSIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmVxdWlyZSh0cmFkZVByaWNlIDw9IG1zZy50cmlnZ2VyUHJpY2UsICJub3QgcmVhY2ggdHJpZ2dlciBwcmljZSIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNlbGYuZGVjcmVhc2VQZXJwUG9zaXRpb24obXNnLnRyeElkLCBtc2cub3JkZXJJZCwgbXNnLm9wVHlwZSwgbXNnLmFjY291bnQsIG1zZy50b2tlbklkLCBtc2cuaXNMb25nLCBtc2cubWFyZ2luRGVsdGEsIG1zZy5zaXplRGVsdGEsIGluZGV4UHJpY2UsIHRyYWRlUHJpY2UsIHJlc3VsdC5scFJlY2VpdmVkRnVuZGluZ0ZlZURlbHRhKTsKICAgICAgICB9IAogICAgfQoKICAgIGZ1biBpbmNyZWFzZVBlcnBQb3NpdGlvbih0cnhJZDogSW50LCBvcmRlcklkOiBJbnQsIG9wVHlwZTogSW50LCBhY2NvdW50OiBBZGRyZXNzLCB0b2tlbklkOiBJbnQsIGlzTG9uZzogQm9vbCwgbWFyZ2luRGVsdGE6IEludCwgc2l6ZURlbHRhOiBJbnQsIAogICAgICAgIGluZGV4UHJpY2U6IEludCwgdHJhZGVQcmljZTogSW50LCBscFJlY2VpdmVkRnVuZGluZ0ZlZTogSW50KSB7CiAgICAgICAgLy8gZHVtcCgiaW5jcmVhc2VQZXJwUG9zaXRpb24iKTsKICAgICAgICAvLyBnZXQgdG9rZW4gY29uZmlnCiAgICAgICAgbGV0IHRva2VuQ29uZmlnT3B0OiBUb2tlbkNvbmZpZz8gPSBzZWxmLnRva2VuQ29uZmlncy5nZXQodG9rZW5JZCk7CiAgICAgICAgcmVxdWlyZSh0b2tlbkNvbmZpZ09wdCAhPSBudWxsLCAiaW52YWxpZCB0b2tlbiIpOwogICAgICAgIGxldCB0b2tlbkNvbmZpZzogVG9rZW5Db25maWcgPSB0b2tlbkNvbmZpZ09wdCEhOwogICAgICAgIHJlcXVpcmUodG9rZW5Db25maWcuZW5hYmxlLCAiZGlzYWJsZWQgdG9rZW4iKTsKCiAgICAgICAgLy8gY2hlY2sgdmFsdWUKICAgICAgICByZXF1aXJlKHNpemVEZWx0YSAqIHRyYWRlUHJpY2UgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUiA+PSB0b2tlbkNvbmZpZy5taW5WYWx1ZSwgImxlc3MgdGhhbiBtaW4gdmFsdWUiKTsKICAgICAgICAKICAgICAgICAvLyBnZXQgcG9zaXRpb24KICAgICAgICBsZXQgYWNjb3VudFBlcnBQb3NpdGlvbk9wdDogQWNjb3VudFBlcnBQb3NpdGlvbj8gPSBzZWxmLnBlcnBQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgIGxldCBhY2NvdW50UGVycFBvc2l0aW9uOiBBY2NvdW50UGVycFBvc2l0aW9uID0gYWNjb3VudFBlcnBQb3NpdGlvbk9wdCAhPSBudWxsID8gYWNjb3VudFBlcnBQb3NpdGlvbk9wdCEhIDogQWNjb3VudFBlcnBQb3NpdGlvbnsKICAgICAgICAgICAgcG9zaXRpb25zOiBlbXB0eU1hcCgpCiAgICAgICAgfTsKCiAgICAgICAgbGV0IGRpcmVjdGlvblBlcnBQb3NpdGlvbk9wdDogRGlyZWN0aW9uUGVycFBvc2l0aW9uPyA9IGFjY291bnRQZXJwUG9zaXRpb24ucG9zaXRpb25zLmdldChhY2NvdW50KTsKICAgICAgICBsZXQgZGlyZWN0aW9uUGVycFBvc2l0aW9uOiBEaXJlY3Rpb25QZXJwUG9zaXRpb24gPSBkaXJlY3Rpb25QZXJwUG9zaXRpb25PcHQgIT0gbnVsbCA/IGRpcmVjdGlvblBlcnBQb3NpdGlvbk9wdCEhIDogRGlyZWN0aW9uUGVycFBvc2l0aW9uewogICAgICAgICAgICBsb25nUG9zaXRpb246IFBlcnBQb3NpdGlvbiB7CiAgICAgICAgICAgICAgICBwb3NpdGlvbklkOiAwLAogICAgICAgICAgICAgICAgbWFyZ2luOiAwLAogICAgICAgICAgICAgICAgc2l6ZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGg6IDAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2hvcnRQb3NpdGlvbjogUGVycFBvc2l0aW9uIHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uSWQ6IDAsCiAgICAgICAgICAgICAgICBtYXJnaW46IDAsCiAgICAgICAgICAgICAgICBzaXplOiAwLAogICAgICAgICAgICAgICAgZW50cnlQcmljZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aDogMAogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgbGV0IHBlcnBQb3NpdGlvbjogUGVycFBvc2l0aW9uID0gaXNMb25nID8gZGlyZWN0aW9uUGVycFBvc2l0aW9uLmxvbmdQb3NpdGlvbiA6IGRpcmVjdGlvblBlcnBQb3NpdGlvbi5zaG9ydFBvc2l0aW9uOwogICAgICAgIAogICAgICAgIC8vIGNoZWNrIG1hcmdpbgogICAgICAgIGlmIChwZXJwUG9zaXRpb24uc2l6ZSA9PSAwKSB7CiAgICAgICAgICAgIHBlcnBQb3NpdGlvbi5wb3NpdGlvbklkID0gc2VsZi5wZXJwUG9zaXRpb25JbmRleE5leHQ7CiAgICAgICAgICAgIHNlbGYucGVycFBvc2l0aW9uSW5kZXhOZXh0ICs9IDE7CiAgICAgICAgfQoKICAgICAgICAvLyBnZXQgZ2xvYmFsIHBvc2l0aW9uCiAgICAgICAgbGV0IGdsb2JhbFBvc2l0aW9uT3B0OiBHbG9iYWxQb3NpdGlvbj8gPSBzZWxmLmdsb2JhbFBvc2l0aW9ucy5nZXQodG9rZW5JZCk7CiAgICAgICAgbGV0IGdsb2JhbFBvc2l0aW9uOiBHbG9iYWxQb3NpdGlvbiA9IGdsb2JhbFBvc2l0aW9uT3B0ICE9IG51bGwgPyBnbG9iYWxQb3NpdGlvbk9wdCEhIDogR2xvYmFsUG9zaXRpb257CiAgICAgICAgICAgIGxvbmdNYXJnaW46IDAsCiAgICAgICAgICAgIHNob3J0TWFyZ2luOiAwLAogICAgICAgICAgICBsb25nU2l6ZTogMCwKICAgICAgICAgICAgc2hvcnRTaXplOiAwLAogICAgICAgICAgICBsb25nRnVuZGluZ0ZlZUdyb3d0aDogMCwKICAgICAgICAgICAgc2hvcnRGdW5kaW5nRmVlR3Jvd3RoOiAwLAogICAgICAgICAgICBsb25nVmFsdWU6IDAsCiAgICAgICAgICAgIHNob3J0VmFsdWU6IDAKICAgICAgICB9OwogICAgICAgIGlmIChpc0xvbmcpIHsKICAgICAgICAgICAgZ2xvYmFsUG9zaXRpb24ubG9uZ1NpemUgKz0gc2l6ZURlbHRhOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLnNob3J0U2l6ZSArPSBzaXplRGVsdGE7CiAgICAgICAgfQogICAgICAgIC8vIHVwZGF0ZSBnbG9iYWwgdmFsdWUgYW5kIGNoZWNrIGxpcXVpZGl0eQogICAgICAgIGxldCBzaW5nbGVWYWx1ZUJlZm9yZTogSW50ID0gbWF4KGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSwgZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSk7CiAgICAgICAgbGV0IG5ldFZhbHVlQmVmb3JlOiBJbnQgPSBhYnMoZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlIC0gZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSk7CiAgICAgICAgZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlID0gZ2xvYmFsUG9zaXRpb24ubG9uZ1NpemUgKiBpbmRleFByaWNlIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSA9IGdsb2JhbFBvc2l0aW9uLnNob3J0U2l6ZSAqIGluZGV4UHJpY2UgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKCiAgICAgICAgbGV0IGdsb2JhbE5ldExQOiBJbnQgPSBzZWxmLmdsb2JhbExQRnVuZCArIHNlbGYuZ2xvYmFsTFBVbnJlYWxpemVkUG5sOwoKICAgICAgICBzZWxmLmdsb2JhbFBlcnBTaW5nbGVWYWx1ZSArPSBtYXgoZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlLCBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlKSAtIHNpbmdsZVZhbHVlQmVmb3JlOwogICAgICAgIHJlcXVpcmUoc2VsZi5nbG9iYWxQZXJwU2luZ2xlVmFsdWUgPD0gZ2xvYmFsTmV0TFAgKiBzZWxmLmxwTGlxdWlkaXR5RmFjdG9yIC8gUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCwgImluc3VmZmljaWVudCBsaXF1aWRpdHkgZm9yIHNpbmdsZSB2YWx1ZSIpOwogICAgICAgIAogICAgICAgIHNlbGYuZ2xvYmFsUGVycE5ldFZhbHVlICs9IGFicyhnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUgLSBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlKSAtIG5ldFZhbHVlQmVmb3JlOwogICAgICAgIHJlcXVpcmUoc2VsZi5nbG9iYWxQZXJwTmV0VmFsdWUgPD0gZ2xvYmFsTmV0TFAsICJpbnN1ZmZpY2llbnQgbGlxdWlkaXR5IGZvciBuZXQgdmFsdWUiKTsKCiAgICAgICAgLy8gZ2V0IGdsb2JhbCBscCBwb3NpdGlvbgogICAgICAgIGxldCBnbG9iYWxMUFBvc2l0aW9uT3B0OiBHbG9iYWxMUFBvc2l0aW9uPyA9IHNlbGYuZ2xvYmFsTFBQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgIGxldCBnbG9iYWxMUFBvc2l0aW9uOiBHbG9iYWxMUFBvc2l0aW9uID0gZ2xvYmFsTFBQb3NpdGlvbk9wdCAhPSBudWxsID8gZ2xvYmFsTFBQb3NpdGlvbk9wdCEhIDogR2xvYmFsTFBQb3NpdGlvbiB7CiAgICAgICAgICAgIG5ldFNpemU6IDAsCiAgICAgICAgICAgIGlzTG9uZzogZmFsc2UsCiAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgIHVucmVhbGl6ZWRQbmw6IDAKICAgICAgICB9OwoKICAgICAgICAvLyBscCBwbmwKICAgICAgICBsZXQgbHBSZWFsaXplZFBubDogSW50ID0gMDsKICAgICAgICBsZXQgc2l6ZVJlbWFpbmluZzogSW50ID0gc2l6ZURlbHRhOwogICAgICAgIGlmIChnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgPiAwICYmIChpc0xvbmcgPT0gZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcpKSB7CiAgICAgICAgICAgIGxldCBzaXplVXNlZDogSW50ID0gbWluKGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSwgc2l6ZURlbHRhKTsKICAgICAgICAgICAgaWYgKGlzTG9uZykgewogICAgICAgICAgICAgICAgbHBSZWFsaXplZFBubCA9IHNpemVVc2VkICogKHRyYWRlUHJpY2UgLSBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UpIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBscFJlYWxpemVkUG5sID0gc2l6ZVVzZWQgKiAoZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlIC0gdHJhZGVQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgfQogICAgICAgICAgICBzaXplUmVtYWluaW5nIC09IHNpemVVc2VkOwogICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgLT0gc2l6ZVVzZWQ7CiAgICAgICAgICAgIGlmIChnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgPT0gMCkgewogICAgICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlID0gMDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvLyBlbnRyeSBwcmljZQogICAgICAgIGlmIChzaXplUmVtYWluaW5nID4gMCkgewogICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UgPSAoZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplICogZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlICsgc2l6ZVJlbWFpbmluZyAqIHRyYWRlUHJpY2UpIC8gKGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSArIHNpemVSZW1haW5pbmcpOwogICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgKz0gc2l6ZVJlbWFpbmluZzsKICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcgPSAhaXNMb25nOwogICAgICAgIH0KCiAgICAgICAgLy8gdHJhZGluZyBmZWUKICAgICAgICBsZXQgdHJhZGluZ0ZlZTogSW50ID0gMDsKICAgICAgICBsZXQgbHBUcmFkaW5nRmVlOiBJbnQgPSAwOwogICAgICAgIGlmIChzaXplRGVsdGEgPiAwKSB7CiAgICAgICAgICAgIHRyYWRpbmdGZWUgPSBzaXplRGVsdGEgKiB0cmFkZVByaWNlICogdG9rZW5Db25maWcudHJhZGluZ0ZlZVJhdGUgLyAoUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCAqIFBSSUNFX0RFQ0lNQUxfRkFDVE9SKTsKICAgICAgICAgICAgbHBUcmFkaW5nRmVlID0gdHJhZGluZ0ZlZSAqIHRva2VuQ29uZmlnLmxwVHJhZGluZ0ZlZVJhdGUgLyBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UOwogICAgICAgICAgICBzZWxmLnByb3RvY29sVHJhZGluZ0ZlZSArPSB0cmFkaW5nRmVlIC0gbHBUcmFkaW5nRmVlOwogICAgICAgICAgICBzZWxmLmdsb2JhbExQRnVuZCArPSBscFJlYWxpemVkUG5sICsgbHBUcmFkaW5nRmVlOwogICAgICAgIH0KCiAgICAgICAgLy8gZnVuZGluZyBmZWUKICAgICAgICBsZXQgZnVuZGluZ0ZlZTogSW50ID0gMDsKICAgICAgICBsZXQgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludCA9IDA7CiAgICAgICAgaWYgKHBlcnBQb3NpdGlvbi5zaXplID4gMCkgewogICAgICAgICAgICBpZiAoaXNMb25nKSB7CiAgICAgICAgICAgICAgICBmdW5kaW5nRmVlID0gKGdsb2JhbFBvc2l0aW9uLmxvbmdGdW5kaW5nRmVlR3Jvd3RoIC0gcGVycFBvc2l0aW9uLmVudHJ5RnVuZGluZ0ZlZUdyb3d0aCkgKiBwZXJwUG9zaXRpb24uc2l6ZSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXIgPSBnbG9iYWxQb3NpdGlvbi5sb25nRnVuZGluZ0ZlZUdyb3d0aDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGZ1bmRpbmdGZWUgPSAoZ2xvYmFsUG9zaXRpb24uc2hvcnRGdW5kaW5nRmVlR3Jvd3RoIC0gcGVycFBvc2l0aW9uLmVudHJ5RnVuZGluZ0ZlZUdyb3d0aCkgKiBwZXJwUG9zaXRpb24uc2l6ZSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXIgPSBnbG9iYWxQb3NpdGlvbi5zaG9ydEZ1bmRpbmdGZWVHcm93dGg7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbgogICAgICAgIGxldCBtYXJnaW5CZWZvcmU6IEludCA9IHBlcnBQb3NpdGlvbi5tYXJnaW47CiAgICAgICAgcGVycFBvc2l0aW9uLm1hcmdpbiArPSBtYXJnaW5EZWx0YSArIGZ1bmRpbmdGZWUgLSB0cmFkaW5nRmVlOwogICAgICAgIGxldCBtYXJnaW5EZWx0YUFmdGVyOiBJbnQgPSBwZXJwUG9zaXRpb24ubWFyZ2luIC0gbWFyZ2luQmVmb3JlOwoKICAgICAgICBwZXJwUG9zaXRpb24uZW50cnlQcmljZSA9IChwZXJwUG9zaXRpb24uc2l6ZSAqIHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlICsgc2l6ZURlbHRhICogdHJhZGVQcmljZSkgLyAocGVycFBvc2l0aW9uLnNpemUgKyBzaXplRGVsdGEpOwogICAgICAgIHBlcnBQb3NpdGlvbi5zaXplICs9IHNpemVEZWx0YTsKICAgICAgICBwZXJwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoID0gZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI7CgogICAgICAgIC8vIGNoZWNrIG1haW50YWluIG1hcmdpbgogICAgICAgIGxldCB1bnJlYWxpemVkUG5sOiBJbnQgPSAwOwogICAgICAgIGlmIChpc0xvbmcpIHsKICAgICAgICAgICAgdW5yZWFsaXplZFBubCA9IHBlcnBQb3NpdGlvbi5zaXplICogKHRyYWRlUHJpY2UgLSBwZXJwUG9zaXRpb24uZW50cnlQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB1bnJlYWxpemVkUG5sID0gcGVycFBvc2l0aW9uLnNpemUgKiAocGVycFBvc2l0aW9uLmVudHJ5UHJpY2UgLSB0cmFkZVByaWNlKSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgIH0KICAgICAgICBsZXQgbWFpbnRlbmFuY2VNYXJnaW46IEludCA9IHBlcnBQb3NpdGlvbi5zaXplICogdHJhZGVQcmljZSAqICh0b2tlbkNvbmZpZy50cmFkaW5nRmVlUmF0ZSArIHRva2VuQ29uZmlnLm1haW50ZW5hbmNlUmF0ZSkgLyAoUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCAqIFBSSUNFX0RFQ0lNQUxfRkFDVE9SKSArIHRva2VuQ29uZmlnLmxpcXVpZGF0aW9uRmVlOwogICAgICAgIHJlcXVpcmUobWFpbnRlbmFuY2VNYXJnaW4gPCBwZXJwUG9zaXRpb24ubWFyZ2luICsgdW5yZWFsaXplZFBubCwgIm1hcmdpbiByYXRlIHRvbyBoaWdoIik7CgogICAgICAgIC8vIGNoZWNrIGxldmVyYWdlCiAgICAgICAgcmVxdWlyZShwZXJwUG9zaXRpb24ubWFyZ2luICogdG9rZW5Db25maWcubWF4TGV2ZXJhZ2UgPj0gcGVycFBvc2l0aW9uLnNpemUgKiBwZXJwUG9zaXRpb24uZW50cnlQcmljZSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SLCAibGV2ZXJhZ2UgdG9vIGhpZ2giKTsKCiAgICAgICAgLy8gdXBkYXRlIHBvc2l0aW9uCiAgICAgICAgaWYgKGlzTG9uZykgewogICAgICAgICAgICBkaXJlY3Rpb25QZXJwUG9zaXRpb24ubG9uZ1Bvc2l0aW9uID0gcGVycFBvc2l0aW9uOwogICAgICAgICAgICBnbG9iYWxQb3NpdGlvbi5sb25nTWFyZ2luICs9IG1hcmdpbkRlbHRhQWZ0ZXI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGlyZWN0aW9uUGVycFBvc2l0aW9uLnNob3J0UG9zaXRpb24gPSBwZXJwUG9zaXRpb247CiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLnNob3J0TWFyZ2luICs9IG1hcmdpbkRlbHRhQWZ0ZXI7CiAgICAgICAgfQogICAgICAgIGFjY291bnRQZXJwUG9zaXRpb24ucG9zaXRpb25zLnNldChhY2NvdW50LCBkaXJlY3Rpb25QZXJwUG9zaXRpb24pOwogICAgICAgIHNlbGYucGVycFBvc2l0aW9ucy5zZXQodG9rZW5JZCwgYWNjb3VudFBlcnBQb3NpdGlvbik7CgogICAgICAgIHNlbGYuZ2xvYmFsUG9zaXRpb25zLnNldCh0b2tlbklkLCBnbG9iYWxQb3NpdGlvbik7CiAgICAgICAgc2VsZi5nbG9iYWxMUFBvc2l0aW9ucy5zZXQodG9rZW5JZCwgZ2xvYmFsTFBQb3NpdGlvbik7CgoKICAgICAgICAvLyBsZWF2ZSBtaW5Ub25zRm9yU3RvcmFnZQogICAgICAgIGxldCBleHRyYVZhbHVlOiBJbnQgPSBtYXgoMCwgbXlCYWxhbmNlKCkgLSBjb250ZXh0KCkudmFsdWUgLSBzZWxmLm1pblRvbnNGb3JTdG9yYWdlKTsKICAgICAgICBsZXQgbXNnVmFsdWU6IEludCA9IGNvbnRleHQoKS52YWx1ZSAtIChzZWxmLm1pblRvbnNGb3JTdG9yYWdlICsgc2VsZi5nYXNDb25zdW1wdGlvbikgKyBleHRyYVZhbHVlOwoKICAgICAgICAvLyBkdW1wKG1zZ1ZhbHVlKTsKICAgICAgICByZXF1aXJlKG1zZ1ZhbHVlID4gMCwgInNlbmQgZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICAvLyBzZW5kIHVwZGF0ZSBzdWNjZXNzIG1zZwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLm9yZGVyQm9vaywKICAgICAgICAgICAgdmFsdWU6IG1zZ1ZhbHVlLAogICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICBtb2RlOiBTZW5kUGF5R2FzU2VwYXJhdGVseSwKICAgICAgICAgICAgYm9keTogVXBkYXRlUGVycFBvc2l0aW9uU3VjY2VzcyB7CiAgICAgICAgICAgICAgICBvcmRlcklkOiBvcmRlcklkLAogICAgICAgICAgICAgICAgcmVjZWl2ZTogMCwKICAgICAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CgogICAgICAgIC8vIGV2ZW50CiAgICAgICAgZW1pdChQZXJwUG9zaXRpb25JbmNyZWFzZWRFdmVudHsKICAgICAgICAgICAgdHJ4SWQ6IHRyeElkLAogICAgICAgICAgICBvcmRlcklkOiBvcmRlcklkLAogICAgICAgICAgICBvcFR5cGU6IG9wVHlwZSwKICAgICAgICAgICAgcG9zaXRpb25JZDogcGVycFBvc2l0aW9uLnBvc2l0aW9uSWQsCiAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgICAgICAgIHRva2VuSWQ6IHRva2VuSWQsCiAgICAgICAgICAgIGlzTG9uZzogaXNMb25nLAogICAgICAgICAgICBtYXJnaW5EZWx0YTogbWFyZ2luRGVsdGFBZnRlciwKICAgICAgICAgICAgbWFyZ2luQWZ0ZXI6IHBlcnBQb3NpdGlvbi5tYXJnaW4sCiAgICAgICAgICAgIHNpemVEZWx0YTogc2l6ZURlbHRhLAogICAgICAgICAgICBzaXplQWZ0ZXI6IHBlcnBQb3NpdGlvbi5zaXplLAogICAgICAgICAgICB0cmFkZVByaWNlOiB0cmFkZVByaWNlLAogICAgICAgICAgICBlbnRyeVByaWNlOiBwZXJwUG9zaXRpb24uZW50cnlQcmljZSwKICAgICAgICAgICAgdHJhZGluZ0ZlZTogdHJhZGluZ0ZlZSwKICAgICAgICAgICAgZnVuZGluZ0ZlZTogZnVuZGluZ0ZlZSwKICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyLAoKICAgICAgICAgICAgZ2xvYmFsTG9uZ01hcmdpbkFmdGVyOiBnbG9iYWxQb3NpdGlvbi5sb25nTWFyZ2luLAogICAgICAgICAgICBnbG9iYWxTaG9ydE1hcmdpbkFmdGVyOiBnbG9iYWxQb3NpdGlvbi5zaG9ydE1hcmdpbiwKICAgICAgICAgICAgZ2xvYmFsTG9uZ1NpemVBZnRlcjogZ2xvYmFsUG9zaXRpb24ubG9uZ1NpemUsCiAgICAgICAgICAgIGdsb2JhbFNob3J0U2l6ZUFmdGVyOiBnbG9iYWxQb3NpdGlvbi5zaG9ydFNpemUsCiAgICAgICAgICAgIGdsb2JhbExvbmdGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IGdsb2JhbFBvc2l0aW9uLmxvbmdGdW5kaW5nRmVlR3Jvd3RoLAogICAgICAgICAgICBnbG9iYWxTaG9ydEZ1bmRpbmdGZWVHcm93dGhBZnRlcjogZ2xvYmFsUG9zaXRpb24uc2hvcnRGdW5kaW5nRmVlR3Jvd3RoLAogICAgICAgICAgICBscE5ldFNpemVBZnRlcjogZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplLAogICAgICAgICAgICBscElzTG9uZzogZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcsCiAgICAgICAgICAgIGxwRW50cnlQcmljZUFmdGVyOiBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UsCiAgICAgICAgICAgIGxwRnVuZEFmdGVyOiBzZWxmLmdsb2JhbExQRnVuZCwKICAgICAgICAgICAgbHBMaXF1aWRpdHlBZnRlcjogc2VsZi5nbG9iYWxMUExpcXVpZGl0eSwKICAgICAgICAgICAgbHBUcmFkaW5nRmVlOiBscFRyYWRpbmdGZWUsCiAgICAgICAgICAgIGxwUmVhbGl6ZWRQbmw6IGxwUmVhbGl6ZWRQbmwsCiAgICAgICAgICAgIGxwUmVjZWl2ZWRGdW5kaW5nRmVlOiBscFJlY2VpdmVkRnVuZGluZ0ZlZQogICAgICAgIH0udG9DZWxsKCkpOwogICAgICAgIC8vIGR1bXAoImluY3JlYXNlUGVycFBvc2l0aW9uIGRvbmUiKTsKICAgIH0KCiAgICBmdW4gZGVjcmVhc2VQZXJwUG9zaXRpb24odHJ4SWQ6IEludCwgb3JkZXJJZDogSW50LCBvcFR5cGU6IEludCwgYWNjb3VudDogQWRkcmVzcywgdG9rZW5JZDogSW50LCBpc0xvbmc6IEJvb2wsIG1hcmdpbkRlbHRhOiBJbnQsIHNpemVEZWx0YTogSW50LCAKICAgICAgICBpbmRleFByaWNlOiBJbnQsIHRyYWRlUHJpY2U6IEludCwgbHBSZWNlaXZlZEZ1bmRpbmdGZWU6IEludCkgewogICAgICAgIC8vIGdldCB0b2tlbiBjb25maWcKICAgICAgICBsZXQgdG9rZW5Db25maWdPcHQ6IFRva2VuQ29uZmlnPyA9IHNlbGYudG9rZW5Db25maWdzLmdldCh0b2tlbklkKTsKICAgICAgICByZXF1aXJlKHRva2VuQ29uZmlnT3B0ICE9IG51bGwsICJpbnZhbGlkIHRva2VuIik7CiAgICAgICAgbGV0IHRva2VuQ29uZmlnOiBUb2tlbkNvbmZpZyA9IHRva2VuQ29uZmlnT3B0ISE7CiAgICAgICAgcmVxdWlyZSh0b2tlbkNvbmZpZy5lbmFibGUsICJkaXNhYmxlZCB0b2tlbiIpOwogICAgICAgIAogICAgICAgIC8vIGdldCBwb3NpdGlvbgogICAgICAgIGxldCBhY2NvdW50UGVycFBvc2l0aW9uT3B0OiBBY2NvdW50UGVycFBvc2l0aW9uPyA9IHNlbGYucGVycFBvc2l0aW9ucy5nZXQodG9rZW5JZCk7CiAgICAgICAgbGV0IGFjY291bnRQZXJwUG9zaXRpb246IEFjY291bnRQZXJwUG9zaXRpb24gPSBhY2NvdW50UGVycFBvc2l0aW9uT3B0ICE9IG51bGwgPyBhY2NvdW50UGVycFBvc2l0aW9uT3B0ISEgOiBBY2NvdW50UGVycFBvc2l0aW9uewogICAgICAgICAgICBwb3NpdGlvbnM6IGVtcHR5TWFwKCkKICAgICAgICB9OwoKICAgICAgICBsZXQgZGlyZWN0aW9uUGVycFBvc2l0aW9uT3B0OiBEaXJlY3Rpb25QZXJwUG9zaXRpb24/ID0gYWNjb3VudFBlcnBQb3NpdGlvbi5wb3NpdGlvbnMuZ2V0KGFjY291bnQpOwogICAgICAgIGxldCBkaXJlY3Rpb25QZXJwUG9zaXRpb246IERpcmVjdGlvblBlcnBQb3NpdGlvbiA9IGRpcmVjdGlvblBlcnBQb3NpdGlvbk9wdCAhPSBudWxsID8gZGlyZWN0aW9uUGVycFBvc2l0aW9uT3B0ISEgOiBEaXJlY3Rpb25QZXJwUG9zaXRpb257CiAgICAgICAgICAgIGxvbmdQb3NpdGlvbjogUGVycFBvc2l0aW9uIHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uSWQ6IDAsCiAgICAgICAgICAgICAgICBtYXJnaW46IDAsCiAgICAgICAgICAgICAgICBzaXplOiAwLAogICAgICAgICAgICAgICAgZW50cnlQcmljZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aDogMAogICAgICAgICAgICB9LAogICAgICAgICAgICBzaG9ydFBvc2l0aW9uOiBQZXJwUG9zaXRpb24gewogICAgICAgICAgICAgICAgcG9zaXRpb25JZDogMCwKICAgICAgICAgICAgICAgIG1hcmdpbjogMCwKICAgICAgICAgICAgICAgIHNpemU6IDAsCiAgICAgICAgICAgICAgICBlbnRyeVByaWNlOiAwLAogICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiAwCiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBsZXQgcGVycFBvc2l0aW9uOiBQZXJwUG9zaXRpb24gPSBpc0xvbmcgPyBkaXJlY3Rpb25QZXJwUG9zaXRpb24ubG9uZ1Bvc2l0aW9uIDogZGlyZWN0aW9uUGVycFBvc2l0aW9uLnNob3J0UG9zaXRpb247CiAgICAgICAgcmVxdWlyZShwZXJwUG9zaXRpb24uc2l6ZSA+IDAsICJwb3NpdGlvbiBub3QgZXhpc3QiKTsKCiAgICAgICAgLy8gY2xhbXAgZGVsdGEKICAgICAgICBpZiAoc2l6ZURlbHRhID4gcGVycFBvc2l0aW9uLnNpemUpIHsKICAgICAgICAgICAgc2l6ZURlbHRhID0gcGVycFBvc2l0aW9uLnNpemU7CiAgICAgICAgfQoKICAgICAgICAvLyBnZXQgZ2xvYmFsIHBvc2l0aW9uCiAgICAgICAgbGV0IGdsb2JhbFBvc2l0aW9uT3B0OiBHbG9iYWxQb3NpdGlvbj8gPSBzZWxmLmdsb2JhbFBvc2l0aW9ucy5nZXQodG9rZW5JZCk7CiAgICAgICAgbGV0IGdsb2JhbFBvc2l0aW9uOiBHbG9iYWxQb3NpdGlvbiA9IGdsb2JhbFBvc2l0aW9uT3B0ICE9IG51bGwgPyBnbG9iYWxQb3NpdGlvbk9wdCEhIDogR2xvYmFsUG9zaXRpb257CiAgICAgICAgICAgIGxvbmdNYXJnaW46IDAsCiAgICAgICAgICAgIHNob3J0TWFyZ2luOiAwLAogICAgICAgICAgICBsb25nU2l6ZTogMCwKICAgICAgICAgICAgc2hvcnRTaXplOiAwLAogICAgICAgICAgICBsb25nRnVuZGluZ0ZlZUdyb3d0aDogMCwKICAgICAgICAgICAgc2hvcnRGdW5kaW5nRmVlR3Jvd3RoOiAwLAogICAgICAgICAgICBsb25nVmFsdWU6IDAsCiAgICAgICAgICAgIHNob3J0VmFsdWU6IDAKICAgICAgICB9OwoKICAgICAgICAvLyBmdW5kaW5nIGZlZQogICAgICAgIGxldCBmdW5kaW5nRmVlOiBJbnQgPSAwOwogICAgICAgIGxldCBlbnRyeUZ1bmRpbmdGZWVHcm93dGhBZnRlcjogSW50ID0gMDsKICAgICAgICBpZiAoaXNMb25nKSB7CiAgICAgICAgICAgIGZ1bmRpbmdGZWUgPSAoZ2xvYmFsUG9zaXRpb24ubG9uZ0Z1bmRpbmdGZWVHcm93dGggLSBwZXJwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoKSAqIHBlcnBQb3NpdGlvbi5zaXplIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyID0gZ2xvYmFsUG9zaXRpb24ubG9uZ0Z1bmRpbmdGZWVHcm93dGg7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZnVuZGluZ0ZlZSA9IChnbG9iYWxQb3NpdGlvbi5zaG9ydEZ1bmRpbmdGZWVHcm93dGggLSBwZXJwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoKSAqIHBlcnBQb3NpdGlvbi5zaXplIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyID0gZ2xvYmFsUG9zaXRpb24uc2hvcnRGdW5kaW5nRmVlR3Jvd3RoOwogICAgICAgIH0KCiAgICAgICAgLy8gZ2V0IGdsb2JhbCBwb3NpdGlvbgogICAgICAgIGxldCBnbG9iYWxMUFBvc2l0aW9uT3B0OiBHbG9iYWxMUFBvc2l0aW9uPyA9IHNlbGYuZ2xvYmFsTFBQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgIGxldCBnbG9iYWxMUFBvc2l0aW9uOiBHbG9iYWxMUFBvc2l0aW9uID0gZ2xvYmFsTFBQb3NpdGlvbk9wdCAhPSBudWxsID8gZ2xvYmFsTFBQb3NpdGlvbk9wdCEhIDogR2xvYmFsTFBQb3NpdGlvbiB7CiAgICAgICAgICAgIG5ldFNpemU6IDAsCiAgICAgICAgICAgIGlzTG9uZzogZmFsc2UsCiAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgIHVucmVhbGl6ZWRQbmw6IDAKICAgICAgICB9OwoKICAgICAgICAvLyBscCBwbmwKICAgICAgICBsZXQgbHBSZWFsaXplZFBubDogSW50ID0gMDsKICAgICAgICBsZXQgc2l6ZVJlbWFpbmluZzogSW50ID0gc2l6ZURlbHRhOwogICAgICAgIGlmIChnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgPiAwICYmIChpc0xvbmcgIT0gZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcpKSB7CiAgICAgICAgICAgIGxldCBzaXplVXNlZDogSW50ID0gbWluKGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSwgc2l6ZURlbHRhKTsKICAgICAgICAgICAgaWYgKCFpc0xvbmcpIHsKICAgICAgICAgICAgICAgIGxwUmVhbGl6ZWRQbmwgPSBzaXplVXNlZCAqICh0cmFkZVByaWNlIC0gZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlKSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbHBSZWFsaXplZFBubCA9IHNpemVVc2VkICogKGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSAtIHRyYWRlUHJpY2UpIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2l6ZVJlbWFpbmluZyAtPSBzaXplVXNlZDsKICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplIC09IHNpemVVc2VkOwogICAgICAgICAgICBpZiAoZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplID09IDApIHsKICAgICAgICAgICAgICAgIGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSA9IDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLy8gZHVtcChzaXplUmVtYWluaW5nKTsKICAgICAgICAvLyBkdW1wKGlzTG9uZyk7CiAgICAgICAgLy8gbHAgZW50cnkgcHJpY2UKICAgICAgICBpZiAoc2l6ZVJlbWFpbmluZyA+IDApIHsKICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlID0gKGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSAqIGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSArIHNpemVSZW1haW5pbmcgKiB0cmFkZVByaWNlKSAvIChnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgKyBzaXplUmVtYWluaW5nKTsKICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplICs9IHNpemVSZW1haW5pbmc7CiAgICAgICAgICAgIGdsb2JhbExQUG9zaXRpb24uaXNMb25nID0gaXNMb25nOwogICAgICAgIH0KCiAgICAgICAgLy8gdHJhZGluZyBmZWUKICAgICAgICBsZXQgdHJhZGluZ0ZlZTogSW50ID0gMDsKICAgICAgICBsZXQgbHBUcmFkaW5nRmVlOiBJbnQgPSAwOwogICAgICAgIGlmIChzaXplRGVsdGEgPiAwKSB7CiAgICAgICAgICAgIHRyYWRpbmdGZWUgPSBzaXplRGVsdGEgKiB0cmFkZVByaWNlICogdG9rZW5Db25maWcudHJhZGluZ0ZlZVJhdGUgLyAoUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCAqIFBSSUNFX0RFQ0lNQUxfRkFDVE9SKTsKICAgICAgICAgICAgbHBUcmFkaW5nRmVlID0gdHJhZGluZ0ZlZSAqIHRva2VuQ29uZmlnLmxwVHJhZGluZ0ZlZVJhdGUgLyBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UOwoKICAgICAgICAgICAgc2VsZi5wcm90b2NvbFRyYWRpbmdGZWUgKz0gdHJhZGluZ0ZlZSAtIGxwVHJhZGluZ0ZlZTsKICAgICAgICAgICAgc2VsZi5nbG9iYWxMUEZ1bmQgKz0gbHBSZWFsaXplZFBubCArIGxwVHJhZGluZ0ZlZTsKICAgICAgICB9CiAgICAgICAgbGV0IHBvc2l0aW9uSWQ6IEludCA9IHBlcnBQb3NpdGlvbi5wb3NpdGlvbklkOwogICAgICAgIGxldCByZWNlaXZlOiBJbnQgPSAwOwogICAgICAgIGxldCByZWFsaXplZFBubDogSW50ID0gMDsKICAgICAgICAvLyBwb3NpdGlvbiBwbmwKICAgICAgICBpZiAoaXNMb25nKSB7CiAgICAgICAgICAgIHJlYWxpemVkUG5sID0gc2l6ZURlbHRhICogKHRyYWRlUHJpY2UgLSBwZXJwUG9zaXRpb24uZW50cnlQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZWFsaXplZFBubCA9IHNpemVEZWx0YSAqIChwZXJwUG9zaXRpb24uZW50cnlQcmljZSAtIHRyYWRlUHJpY2UpIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgfQoKICAgICAgICAvLyBtYXJnaW4KICAgICAgICBsZXQgbWFyZ2luQmVmb3JlOiBJbnQgPSBwZXJwUG9zaXRpb24ubWFyZ2luOwogICAgICAgIHBlcnBQb3NpdGlvbi5tYXJnaW4gKz0gcmVhbGl6ZWRQbmwgKyBmdW5kaW5nRmVlIC0gdHJhZGluZ0ZlZTsKICAgICAgICAKICAgICAgICByZXF1aXJlKHBlcnBQb3NpdGlvbi5tYXJnaW4gPj0gMCwgImluc3VmZmljaWVudCBtYXJnaW4iKTsKICAgICAgICBpZiAobWFyZ2luRGVsdGEgPiBwZXJwUG9zaXRpb24ubWFyZ2luKSB7CiAgICAgICAgICAgIG1hcmdpbkRlbHRhID0gcGVycFBvc2l0aW9uLm1hcmdpbjsKICAgICAgICB9CiAgICAgICAgcGVycFBvc2l0aW9uLm1hcmdpbiAtPSBtYXJnaW5EZWx0YTsKICAgICAgICBwZXJwUG9zaXRpb24uc2l6ZSAtPSBzaXplRGVsdGE7CiAgICAgICAgcGVycFBvc2l0aW9uLmVudHJ5RnVuZGluZ0ZlZUdyb3d0aCA9IGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOwogICAgICAgIGxldCBtYXJnaW5EZWx0YUFmdGVyOiBJbnQgPSBtYXJnaW5CZWZvcmUgLSBwZXJwUG9zaXRpb24ubWFyZ2luOwoKICAgICAgICBpZiAocGVycFBvc2l0aW9uLnNpemUgPiAwKSB7CiAgICAgICAgICAgIC8vIGNoZWNrIG1haW50YWluIG1hcmdpbgogICAgICAgICAgICBsZXQgdW5yZWFsaXplZFBubDogSW50ID0gMDsKICAgICAgICAgICAgaWYgKGlzTG9uZykgewogICAgICAgICAgICAgICAgdW5yZWFsaXplZFBubCA9IHBlcnBQb3NpdGlvbi5zaXplICogKHRyYWRlUHJpY2UgLSBwZXJwUG9zaXRpb24uZW50cnlQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHVucmVhbGl6ZWRQbmwgPSBwZXJwUG9zaXRpb24uc2l6ZSAqIChwZXJwUG9zaXRpb24uZW50cnlQcmljZSAtIHRyYWRlUHJpY2UpIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbGV0IG1haW50ZW5hbmNlTWFyZ2luOiBJbnQgPSBwZXJwUG9zaXRpb24uc2l6ZSAqIHRyYWRlUHJpY2UgKiAodG9rZW5Db25maWcudHJhZGluZ0ZlZVJhdGUgKyB0b2tlbkNvbmZpZy5tYWludGVuYW5jZVJhdGUpIC8gKFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQgKiBQUklDRV9ERUNJTUFMX0ZBQ1RPUikgKyB0b2tlbkNvbmZpZy5saXF1aWRhdGlvbkZlZTsKICAgICAgICAgICAgcmVxdWlyZShtYWludGVuYW5jZU1hcmdpbiA8IHBlcnBQb3NpdGlvbi5tYXJnaW4gKyB1bnJlYWxpemVkUG5sLCAibWFyZ2luIHJhdGUgdG9vIGhpZ2giKTsKCiAgICAgICAgICAgIC8vIGNoZWNrIGxldmVyYWdlCiAgICAgICAgICAgIHJlcXVpcmUocGVycFBvc2l0aW9uLm1hcmdpbiAqIHRva2VuQ29uZmlnLm1heExldmVyYWdlID49IHBlcnBQb3NpdGlvbi5zaXplICogcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUiwgImxldmVyYWdlIHRvbyBoaWdoIik7CgogICAgICAgICAgICByZWNlaXZlID0gbWFyZ2luRGVsdGE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gY2xvc2UgcG9zaXRpb24KICAgICAgICAgICAgLy8gd2l0aGRyYXcgYWxsIG1hcmdpbgogICAgICAgICAgICBtYXJnaW5EZWx0YUFmdGVyICs9IHBlcnBQb3NpdGlvbi5tYXJnaW47CiAgICAgICAgICAgIHJlY2VpdmUgPSBtYXJnaW5EZWx0YSArIHBlcnBQb3NpdGlvbi5tYXJnaW47CiAgICAgICAgICAgIHBlcnBQb3NpdGlvbiA9IFBlcnBQb3NpdGlvbiB7CiAgICAgICAgICAgICAgICBwb3NpdGlvbklkOiAwLAogICAgICAgICAgICAgICAgbWFyZ2luOiAwLAogICAgICAgICAgICAgICAgc2l6ZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGg6IDAKICAgICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbgogICAgICAgIGlmIChpc0xvbmcpIHsKICAgICAgICAgICAgZGlyZWN0aW9uUGVycFBvc2l0aW9uLmxvbmdQb3NpdGlvbiA9IHBlcnBQb3NpdGlvbjsKICAgICAgICAgICAgZ2xvYmFsUG9zaXRpb24ubG9uZ01hcmdpbiAtPSBtYXJnaW5EZWx0YUFmdGVyOwogICAgICAgICAgICBnbG9iYWxQb3NpdGlvbi5sb25nU2l6ZSAtPSBzaXplRGVsdGE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGlyZWN0aW9uUGVycFBvc2l0aW9uLnNob3J0UG9zaXRpb24gPSBwZXJwUG9zaXRpb247CiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLnNob3J0TWFyZ2luIC09IG1hcmdpbkRlbHRhQWZ0ZXI7CiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLnNob3J0U2l6ZSAtPSBzaXplRGVsdGE7CiAgICAgICAgfQoKICAgICAgICAvLyB1cGRhdGUgZ2xvYmFsIHZhbHVlCiAgICAgICAgbGV0IHNpbmdsZVZhbHVlQmVmb3JlOiBJbnQgPSBtYXgoZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlLCBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlKTsKICAgICAgICBsZXQgbmV0VmFsdWVCZWZvcmU6IEludCA9IGFicyhnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUgLSBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlKTsKICAgICAgICBnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUgPSBnbG9iYWxQb3NpdGlvbi5sb25nU2l6ZSAqIGluZGV4UHJpY2UgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlID0gZ2xvYmFsUG9zaXRpb24uc2hvcnRTaXplICogaW5kZXhQcmljZSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgIHNlbGYuZ2xvYmFsUGVycFNpbmdsZVZhbHVlICs9IG1heChnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUsIGdsb2JhbFBvc2l0aW9uLnNob3J0VmFsdWUpIC0gc2luZ2xlVmFsdWVCZWZvcmU7CiAgICAgICAgc2VsZi5nbG9iYWxQZXJwTmV0VmFsdWUgKz0gYWJzKGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSAtIGdsb2JhbFBvc2l0aW9uLnNob3J0VmFsdWUpIC0gbmV0VmFsdWVCZWZvcmU7CgogICAgICAgIGFjY291bnRQZXJwUG9zaXRpb24ucG9zaXRpb25zLnNldChhY2NvdW50LCBkaXJlY3Rpb25QZXJwUG9zaXRpb24pOwogICAgICAgIHNlbGYucGVycFBvc2l0aW9ucy5zZXQodG9rZW5JZCwgYWNjb3VudFBlcnBQb3NpdGlvbik7CiAgICAgICAgc2VsZi5nbG9iYWxQb3NpdGlvbnMuc2V0KHRva2VuSWQsIGdsb2JhbFBvc2l0aW9uKTsKICAgICAgICBzZWxmLmdsb2JhbExQUG9zaXRpb25zLnNldCh0b2tlbklkLCBnbG9iYWxMUFBvc2l0aW9uKTsKCiAgICAgICAgLy8gbGVhdmUgbWluVG9uc0ZvclN0b3JhZ2UKICAgICAgICBsZXQgZXh0cmFWYWx1ZTogSW50ID0gbWF4KDAsIG15QmFsYW5jZSgpIC0gY29udGV4dCgpLnZhbHVlIC0gc2VsZi5taW5Ub25zRm9yU3RvcmFnZSk7CiAgICAgICAgbGV0IG1zZ1ZhbHVlOiBJbnQgPSBjb250ZXh0KCkudmFsdWUgLSAoc2VsZi5taW5Ub25zRm9yU3RvcmFnZSArIHNlbGYuZ2FzQ29uc3VtcHRpb24pICsgZXh0cmFWYWx1ZTsKCiAgICAgICAgLy8gZHVtcChtc2dWYWx1ZSk7CiAgICAgICAgcmVxdWlyZShtc2dWYWx1ZSA+IDAsICJzZW5kIGdhcyBub3QgZW5vdWdoIik7CiAgICAgICAgLy8gc2VuZCB1cGRhdGUgc3VjY2VzcyBtc2cKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogc2VsZi5vcmRlckJvb2ssCiAgICAgICAgICAgIHZhbHVlOiBtc2dWYWx1ZSwKICAgICAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICAgICAgbW9kZTogU2VuZFBheUdhc1NlcGFyYXRlbHksCiAgICAgICAgICAgIGJvZHk6IFVwZGF0ZVBlcnBQb3NpdGlvblN1Y2Nlc3MgewogICAgICAgICAgICAgICAgb3JkZXJJZDogb3JkZXJJZCwKICAgICAgICAgICAgICAgIHJlY2VpdmU6IHJlY2VpdmUsCiAgICAgICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgIH0pOwoKICAgICAgICAvLyBldmVudAogICAgICAgIGVtaXQoUGVycFBvc2l0aW9uRGVjcmVhc2VkRXZlbnR7CiAgICAgICAgICAgIHRyeElkOiB0cnhJZCwKICAgICAgICAgICAgb3JkZXJJZDogb3JkZXJJZCwKICAgICAgICAgICAgb3BUeXBlOiBvcFR5cGUsCiAgICAgICAgICAgIHBvc2l0aW9uSWQ6IHBvc2l0aW9uSWQsCiAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgICAgICAgIHRva2VuSWQ6IHRva2VuSWQsCiAgICAgICAgICAgIGlzTG9uZzogaXNMb25nLAogICAgICAgICAgICBtYXJnaW5EZWx0YTogbWFyZ2luRGVsdGFBZnRlciwKICAgICAgICAgICAgbWFyZ2luQWZ0ZXI6IHBlcnBQb3NpdGlvbi5tYXJnaW4sCiAgICAgICAgICAgIHNpemVEZWx0YTogc2l6ZURlbHRhLAogICAgICAgICAgICBzaXplQWZ0ZXI6IHBlcnBQb3NpdGlvbi5zaXplLAogICAgICAgICAgICB0cmFkZVByaWNlOiB0cmFkZVByaWNlLAogICAgICAgICAgICByZWFsaXplZFBuTERlbHRhOiByZWFsaXplZFBubCwKICAgICAgICAgICAgdHJhZGluZ0ZlZTogdHJhZGluZ0ZlZSwKICAgICAgICAgICAgZnVuZGluZ0ZlZTogZnVuZGluZ0ZlZSwKICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyLAogICAgICAgICAgICByZWNlaXZlOiByZWNlaXZlLAoKICAgICAgICAgICAgZ2xvYmFsTG9uZ01hcmdpbkFmdGVyOiBnbG9iYWxQb3NpdGlvbi5sb25nTWFyZ2luLAogICAgICAgICAgICBnbG9iYWxTaG9ydE1hcmdpbkFmdGVyOiBnbG9iYWxQb3NpdGlvbi5zaG9ydE1hcmdpbiwKICAgICAgICAgICAgZ2xvYmFsTG9uZ1NpemVBZnRlcjogZ2xvYmFsUG9zaXRpb24ubG9uZ1NpemUsCiAgICAgICAgICAgIGdsb2JhbFNob3J0U2l6ZUFmdGVyOiBnbG9iYWxQb3NpdGlvbi5zaG9ydFNpemUsCiAgICAgICAgICAgIGdsb2JhbExvbmdGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IGdsb2JhbFBvc2l0aW9uLmxvbmdGdW5kaW5nRmVlR3Jvd3RoLAogICAgICAgICAgICBnbG9iYWxTaG9ydEZ1bmRpbmdGZWVHcm93dGhBZnRlcjogZ2xvYmFsUG9zaXRpb24uc2hvcnRGdW5kaW5nRmVlR3Jvd3RoLAogICAgICAgICAgICBscE5ldFNpemVBZnRlcjogZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplLAogICAgICAgICAgICBscElzTG9uZzogZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcsCiAgICAgICAgICAgIGxwRW50cnlQcmljZUFmdGVyOiBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UsCiAgICAgICAgICAgIGxwRnVuZEFmdGVyOiBzZWxmLmdsb2JhbExQRnVuZCwKICAgICAgICAgICAgbHBMaXF1aWRpdHlBZnRlcjogc2VsZi5nbG9iYWxMUExpcXVpZGl0eSwKICAgICAgICAgICAgbHBUcmFkaW5nRmVlOiBscFRyYWRpbmdGZWUsCiAgICAgICAgICAgIGxwUmVhbGl6ZWRQbmw6IGxwUmVhbGl6ZWRQbmwsCiAgICAgICAgICAgIGxwUmVjZWl2ZWRGdW5kaW5nRmVlOiBscFJlY2VpdmVkRnVuZGluZ0ZlZQogICAgICAgIH0udG9DZWxsKCkpOwogICAgfQoKICAgIGZ1biBsaXF1aWRhdGVQZXJwUG9zaXRpb24odHJ4SWQ6IEludCwgb3JkZXJJZDogSW50LCBhY2NvdW50OiBBZGRyZXNzLCB0b2tlbklkOiBJbnQsIGlzTG9uZzogQm9vbCwgaW5kZXhQcmljZTogSW50LCB0cmFkZVByaWNlOiBJbnQsIGxwUmVjZWl2ZWRGdW5kaW5nRmVlOiBJbnQpIHsKICAgICAgICAvLyBkdW1wKCJsaXF1aWRhdGVQZXJwUG9zaXRpb24iKTsKICAgICAgICAvLyBnZXQgdG9rZW4gY29uZmlnCiAgICAgICAgbGV0IHRva2VuQ29uZmlnT3B0OiBUb2tlbkNvbmZpZz8gPSBzZWxmLnRva2VuQ29uZmlncy5nZXQodG9rZW5JZCk7CiAgICAgICAgcmVxdWlyZSh0b2tlbkNvbmZpZ09wdCAhPSBudWxsLCAiaW52YWxpZCB0b2tlbiIpOwogICAgICAgIGxldCB0b2tlbkNvbmZpZzogVG9rZW5Db25maWcgPSB0b2tlbkNvbmZpZ09wdCEhOwogICAgICAgIHJlcXVpcmUodG9rZW5Db25maWcuZW5hYmxlLCAiZGlzYWJsZWQgdG9rZW4iKTsKICAgICAgICAKICAgICAgICAvLyBnZXQgcG9zaXRpb24KICAgICAgICBsZXQgYWNjb3VudFBlcnBQb3NpdGlvbk9wdDogQWNjb3VudFBlcnBQb3NpdGlvbj8gPSBzZWxmLnBlcnBQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgIGxldCBhY2NvdW50UGVycFBvc2l0aW9uOiBBY2NvdW50UGVycFBvc2l0aW9uID0gYWNjb3VudFBlcnBQb3NpdGlvbk9wdCAhPSBudWxsID8gYWNjb3VudFBlcnBQb3NpdGlvbk9wdCEhIDogQWNjb3VudFBlcnBQb3NpdGlvbnsKICAgICAgICAgICAgcG9zaXRpb25zOiBlbXB0eU1hcCgpCiAgICAgICAgfTsKCiAgICAgICAgbGV0IGRpcmVjdGlvblBlcnBQb3NpdGlvbk9wdDogRGlyZWN0aW9uUGVycFBvc2l0aW9uPyA9IGFjY291bnRQZXJwUG9zaXRpb24ucG9zaXRpb25zLmdldChhY2NvdW50KTsKICAgICAgICBsZXQgZGlyZWN0aW9uUGVycFBvc2l0aW9uOiBEaXJlY3Rpb25QZXJwUG9zaXRpb24gPSBkaXJlY3Rpb25QZXJwUG9zaXRpb25PcHQgIT0gbnVsbCA/IGRpcmVjdGlvblBlcnBQb3NpdGlvbk9wdCEhIDogRGlyZWN0aW9uUGVycFBvc2l0aW9uewogICAgICAgICAgICBsb25nUG9zaXRpb246IFBlcnBQb3NpdGlvbiB7CiAgICAgICAgICAgICAgICBwb3NpdGlvbklkOiAwLAogICAgICAgICAgICAgICAgbWFyZ2luOiAwLAogICAgICAgICAgICAgICAgc2l6ZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGg6IDAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2hvcnRQb3NpdGlvbjogUGVycFBvc2l0aW9uIHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uSWQ6IDAsCiAgICAgICAgICAgICAgICBtYXJnaW46IDAsCiAgICAgICAgICAgICAgICBzaXplOiAwLAogICAgICAgICAgICAgICAgZW50cnlQcmljZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aDogMAogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgbGV0IHBlcnBQb3NpdGlvbjogUGVycFBvc2l0aW9uID0gaXNMb25nID8gZGlyZWN0aW9uUGVycFBvc2l0aW9uLmxvbmdQb3NpdGlvbiA6IGRpcmVjdGlvblBlcnBQb3NpdGlvbi5zaG9ydFBvc2l0aW9uOwogICAgICAgIHJlcXVpcmUocGVycFBvc2l0aW9uLnNpemUgPiAwLCAicG9zaXRpb24gbm90IGV4aXN0Iik7CgogICAgICAgIC8vIGRlbHRhCiAgICAgICAgbGV0IG1hcmdpbkRlbHRhOiBJbnQgPSBwZXJwUG9zaXRpb24ubWFyZ2luOwogICAgICAgIGxldCBzaXplRGVsdGE6IEludCA9IHBlcnBQb3NpdGlvbi5zaXplOwoKICAgICAgICAvLyBnZXQgZ2xvYmFsIHBvc2l0aW9uCiAgICAgICAgbGV0IGdsb2JhbFBvc2l0aW9uT3B0OiBHbG9iYWxQb3NpdGlvbj8gPSBzZWxmLmdsb2JhbFBvc2l0aW9ucy5nZXQodG9rZW5JZCk7CiAgICAgICAgbGV0IGdsb2JhbFBvc2l0aW9uOiBHbG9iYWxQb3NpdGlvbiA9IGdsb2JhbFBvc2l0aW9uT3B0ICE9IG51bGwgPyBnbG9iYWxQb3NpdGlvbk9wdCEhIDogR2xvYmFsUG9zaXRpb257CiAgICAgICAgICAgIGxvbmdNYXJnaW46IDAsCiAgICAgICAgICAgIHNob3J0TWFyZ2luOiAwLAogICAgICAgICAgICBsb25nU2l6ZTogMCwKICAgICAgICAgICAgc2hvcnRTaXplOiAwLAogICAgICAgICAgICBsb25nRnVuZGluZ0ZlZUdyb3d0aDogMCwKICAgICAgICAgICAgc2hvcnRGdW5kaW5nRmVlR3Jvd3RoOiAwLAogICAgICAgICAgICBsb25nVmFsdWU6IDAsCiAgICAgICAgICAgIHNob3J0VmFsdWU6IDAKICAgICAgICB9OwoKICAgICAgICAvLyBmdW5kaW5nIGZlZQogICAgICAgIGxldCBmdW5kaW5nRmVlOiBJbnQgPSAwOwogICAgICAgIGxldCBlbnRyeUZ1bmRpbmdGZWVHcm93dGhBZnRlcjogSW50ID0gMDsKICAgICAgICBpZiAoaXNMb25nKSB7CiAgICAgICAgICAgIGZ1bmRpbmdGZWUgPSAoZ2xvYmFsUG9zaXRpb24ubG9uZ0Z1bmRpbmdGZWVHcm93dGggLSBwZXJwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoKSAqIHBlcnBQb3NpdGlvbi5zaXplIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyID0gZ2xvYmFsUG9zaXRpb24ubG9uZ0Z1bmRpbmdGZWVHcm93dGg7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZnVuZGluZ0ZlZSA9IChnbG9iYWxQb3NpdGlvbi5zaG9ydEZ1bmRpbmdGZWVHcm93dGggLSBwZXJwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoKSAqIHBlcnBQb3NpdGlvbi5zaXplIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyID0gZ2xvYmFsUG9zaXRpb24uc2hvcnRGdW5kaW5nRmVlR3Jvd3RoOwogICAgICAgIH0KCiAgICAgICAgLy8gY2hlY2sgbWFpbnRhaW4gbWFyZ2luCiAgICAgICAgbGV0IHVucmVhbGl6ZWRQbmw6IEludCA9IDA7CiAgICAgICAgaWYgKGlzTG9uZykgewogICAgICAgICAgICB1bnJlYWxpemVkUG5sID0gcGVycFBvc2l0aW9uLnNpemUgKiAodHJhZGVQcmljZSAtIHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlKSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHVucmVhbGl6ZWRQbmwgPSBwZXJwUG9zaXRpb24uc2l6ZSAqIChwZXJwUG9zaXRpb24uZW50cnlQcmljZSAtIHRyYWRlUHJpY2UpIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgfQogICAgICAgIGxldCBtYWludGVuYW5jZU1hcmdpbjogSW50ID0gcGVycFBvc2l0aW9uLnNpemUgKiB0cmFkZVByaWNlICogKHRva2VuQ29uZmlnLnRyYWRpbmdGZWVSYXRlICsgdG9rZW5Db25maWcubWFpbnRlbmFuY2VSYXRlKSAvIChQRVJDRU5UQUdFX0JBU0lTX1BPSU5UICogUFJJQ0VfREVDSU1BTF9GQUNUT1IpICsgdG9rZW5Db25maWcubGlxdWlkYXRpb25GZWU7CiAgICAgICAgcmVxdWlyZShtYWludGVuYW5jZU1hcmdpbiA+PSBwZXJwUG9zaXRpb24ubWFyZ2luICsgdW5yZWFsaXplZFBubCwgIm1hcmdpbiByYXRlIHRvbyBsb3ciKTsKCiAgICAgICAgLy8gbGlxdWlkYXRlIHByaWNlCiAgICAgICAgbGV0IGxpcXVpZGF0ZVByaWNlOiBJbnQgPSAoKHBlcnBQb3NpdGlvbi5tYXJnaW4gKyBmdW5kaW5nRmVlIC0gdG9rZW5Db25maWcubGlxdWlkYXRpb25GZWUpICogUFJJQ0VfREVDSU1BTF9GQUNUT1IgKyAoaXNMb25nID8gLXBlcnBQb3NpdGlvbi5lbnRyeVByaWNlICogcGVycFBvc2l0aW9uLnNpemUgOiBwZXJwUG9zaXRpb24uZW50cnlQcmljZSAqIHBlcnBQb3NpdGlvbi5zaXplKSkgCiAgICAgICAgICAgIC8gKHBlcnBQb3NpdGlvbi5zaXplICogKHRva2VuQ29uZmlnLnRyYWRpbmdGZWVSYXRlICsgKGlzTG9uZyA/IC0gUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCA6IFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQpKSAvIFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQpOwogICAgICAgIHJlcXVpcmUoaXNMb25nID8gbGlxdWlkYXRlUHJpY2UgPCBwZXJwUG9zaXRpb24uZW50cnlQcmljZSA6IGxpcXVpZGF0ZVByaWNlID4gcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UsICJub3QgcmVhY2ggbGlxdWlkYXRlIHByaWNlIik7CiAgICAgICAgdHJhZGVQcmljZSA9IGxpcXVpZGF0ZVByaWNlOwoKICAgICAgICAvLyBnZXQgZ2xvYmFsIHBvc2l0aW9uCiAgICAgICAgbGV0IGdsb2JhbExQUG9zaXRpb25PcHQ6IEdsb2JhbExQUG9zaXRpb24/ID0gc2VsZi5nbG9iYWxMUFBvc2l0aW9ucy5nZXQodG9rZW5JZCk7CiAgICAgICAgbGV0IGdsb2JhbExQUG9zaXRpb246IEdsb2JhbExQUG9zaXRpb24gPSBnbG9iYWxMUFBvc2l0aW9uT3B0ICE9IG51bGwgPyBnbG9iYWxMUFBvc2l0aW9uT3B0ISEgOiBHbG9iYWxMUFBvc2l0aW9uIHsKICAgICAgICAgICAgbmV0U2l6ZTogMCwKICAgICAgICAgICAgaXNMb25nOiBmYWxzZSwKICAgICAgICAgICAgZW50cnlQcmljZTogMCwKICAgICAgICAgICAgdW5yZWFsaXplZFBubDogMAogICAgICAgIH07CgogICAgICAgIC8vIGxwIHBubAogICAgICAgIGxldCBscFJlYWxpemVkUG5sOiBJbnQgPSAwOwogICAgICAgIGxldCBzaXplUmVtYWluaW5nOiBJbnQgPSBzaXplRGVsdGE7CiAgICAgICAgaWYgKGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSA+IDAgJiYgKGlzTG9uZyAhPSBnbG9iYWxMUFBvc2l0aW9uLmlzTG9uZykpIHsKICAgICAgICAgICAgbGV0IHNpemVVc2VkOiBJbnQgPSBtaW4oZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplLCBzaXplRGVsdGEpOwogICAgICAgICAgICBpZiAoIWlzTG9uZykgewogICAgICAgICAgICAgICAgbHBSZWFsaXplZFBubCA9IHNpemVVc2VkICogKHRyYWRlUHJpY2UgLSBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UpIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBscFJlYWxpemVkUG5sID0gc2l6ZVVzZWQgKiAoZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlIC0gdHJhZGVQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgfQogICAgICAgICAgICBzaXplUmVtYWluaW5nIC09IHNpemVVc2VkOwogICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgLT0gc2l6ZVVzZWQ7CiAgICAgICAgICAgIGlmIChnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgPT0gMCkgewogICAgICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlID0gMDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvLyBscCBlbnRyeSBwcmljZQogICAgICAgIGlmIChzaXplUmVtYWluaW5nID4gMCkgewogICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UgPSAoZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplICogZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlICsgc2l6ZVJlbWFpbmluZyAqIHRyYWRlUHJpY2UpIC8gKGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSArIHNpemVSZW1haW5pbmcpOwogICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgKz0gc2l6ZVJlbWFpbmluZzsKICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcgPSBpc0xvbmc7CiAgICAgICAgfQoKICAgICAgICAvLyB0cmFkaW5nIGZlZQogICAgICAgIGxldCB0cmFkaW5nRmVlOiBJbnQgPSBzaXplRGVsdGEgKiB0cmFkZVByaWNlICogdG9rZW5Db25maWcudHJhZGluZ0ZlZVJhdGUgLyAoUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCAqIFBSSUNFX0RFQ0lNQUxfRkFDVE9SKTsKICAgICAgICBsZXQgbHBUcmFkaW5nRmVlOiBJbnQgPSB0cmFkaW5nRmVlICogdG9rZW5Db25maWcubHBUcmFkaW5nRmVlUmF0ZSAvIFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQ7CiAgICAgICAgbGV0IHByb3RvY29sVHJhZGluZ0ZlZTogSW50ID0gdHJhZGluZ0ZlZSAtIGxwVHJhZGluZ0ZlZTsKCiAgICAgICAgc2VsZi5wcm90b2NvbFRyYWRpbmdGZWUgKz0gcHJvdG9jb2xUcmFkaW5nRmVlOwogICAgICAgIHNlbGYuZ2xvYmFsTFBGdW5kICs9IGxwUmVhbGl6ZWRQbmwgKyBscFRyYWRpbmdGZWU7CgogICAgICAgIGxldCBwb3NpdGlvbklkOiBJbnQgPSBwZXJwUG9zaXRpb24ucG9zaXRpb25JZDsKICAgICAgICBsZXQgcmVjZWl2ZTogSW50ID0gMDsKICAgICAgICBsZXQgcmVhbGl6ZWRQbmw6IEludCA9IDA7CiAgICAgICAgLy8gY2xvc2UgcG9zaXRpb24KICAgICAgICByZWNlaXZlID0gdG9rZW5Db25maWcubGlxdWlkYXRpb25GZWU7CiAgICAgICAgcmVhbGl6ZWRQbmwgPSAtbHBSZWFsaXplZFBubDsKICAgICAgICBwZXJwUG9zaXRpb24gPSBQZXJwUG9zaXRpb24gewogICAgICAgICAgICBwb3NpdGlvbklkOiAwLAogICAgICAgICAgICBtYXJnaW46IDAsCiAgICAgICAgICAgIHNpemU6IDAsCiAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aDogMAogICAgICAgIH07CgogICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbgogICAgICAgIGlmIChpc0xvbmcpIHsKICAgICAgICAgICAgZGlyZWN0aW9uUGVycFBvc2l0aW9uLmxvbmdQb3NpdGlvbiA9IHBlcnBQb3NpdGlvbjsKICAgICAgICAgICAgZ2xvYmFsUG9zaXRpb24ubG9uZ01hcmdpbiAtPSBtYXJnaW5EZWx0YTsKICAgICAgICAgICAgZ2xvYmFsUG9zaXRpb24ubG9uZ1NpemUgLT0gc2l6ZURlbHRhOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRpcmVjdGlvblBlcnBQb3NpdGlvbi5zaG9ydFBvc2l0aW9uID0gcGVycFBvc2l0aW9uOwogICAgICAgICAgICBnbG9iYWxQb3NpdGlvbi5zaG9ydE1hcmdpbiAtPSBtYXJnaW5EZWx0YTsKICAgICAgICAgICAgZ2xvYmFsUG9zaXRpb24uc2hvcnRTaXplIC09IHNpemVEZWx0YTsKICAgICAgICB9CiAgICAgICAgLy8gdXBkYXRlIGdsb2JhbCB2YWx1ZQogICAgICAgIGxldCBzaW5nbGVWYWx1ZUJlZm9yZTogSW50ID0gbWF4KGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSwgZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSk7CiAgICAgICAgbGV0IG5ldFZhbHVlQmVmb3JlOiBJbnQgPSBhYnMoZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlIC0gZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSk7CiAgICAgICAgZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlID0gZ2xvYmFsUG9zaXRpb24ubG9uZ1NpemUgKiBpbmRleFByaWNlIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSA9IGdsb2JhbFBvc2l0aW9uLnNob3J0U2l6ZSAqIGluZGV4UHJpY2UgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICBzZWxmLmdsb2JhbFBlcnBTaW5nbGVWYWx1ZSArPSBtYXgoZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlLCBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlKSAtIHNpbmdsZVZhbHVlQmVmb3JlOwogICAgICAgIHNlbGYuZ2xvYmFsUGVycE5ldFZhbHVlICs9IGFicyhnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUgLSBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlKSAtIG5ldFZhbHVlQmVmb3JlOwoKICAgICAgICBhY2NvdW50UGVycFBvc2l0aW9uLnBvc2l0aW9ucy5zZXQoYWNjb3VudCwgZGlyZWN0aW9uUGVycFBvc2l0aW9uKTsKICAgICAgICBzZWxmLnBlcnBQb3NpdGlvbnMuc2V0KHRva2VuSWQsIGFjY291bnRQZXJwUG9zaXRpb24pOwogICAgICAgIHNlbGYuZ2xvYmFsUG9zaXRpb25zLnNldCh0b2tlbklkLCBnbG9iYWxQb3NpdGlvbik7CiAgICAgICAgc2VsZi5nbG9iYWxMUFBvc2l0aW9ucy5zZXQodG9rZW5JZCwgZ2xvYmFsTFBQb3NpdGlvbik7CgogICAgICAgIC8vIGxlYXZlIG1pblRvbnNGb3JTdG9yYWdlCiAgICAgICAgbGV0IGV4dHJhVmFsdWU6IEludCA9IG1heCgwLCBteUJhbGFuY2UoKSAtIGNvbnRleHQoKS52YWx1ZSAtIHNlbGYubWluVG9uc0ZvclN0b3JhZ2UpOwogICAgICAgIGxldCBtc2dWYWx1ZTogSW50ID0gY29udGV4dCgpLnZhbHVlIC0gKHNlbGYubWluVG9uc0ZvclN0b3JhZ2UgKyBzZWxmLmdhc0NvbnN1bXB0aW9uKSArIGV4dHJhVmFsdWU7CgogICAgICAgIC8vIGR1bXAobXNnVmFsdWUpOwogICAgICAgIHJlcXVpcmUobXNnVmFsdWUgPiAwLCAic2VuZCBnYXMgbm90IGVub3VnaCIpOwogICAgICAgIC8vIHNlbmQgdXBkYXRlIHN1Y2Nlc3MgbXNnCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbGYub3JkZXJCb29rLAogICAgICAgICAgICB2YWx1ZTogbXNnVmFsdWUsCiAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgIG1vZGU6IFNlbmRQYXlHYXNTZXBhcmF0ZWx5LAogICAgICAgICAgICBib2R5OiBVcGRhdGVQZXJwUG9zaXRpb25TdWNjZXNzIHsKICAgICAgICAgICAgICAgIG9yZGVySWQ6IG9yZGVySWQsCiAgICAgICAgICAgICAgICByZWNlaXZlOiByZWNlaXZlLAogICAgICAgICAgICAgICAgdHJ4SWQ6IHRyeElkCiAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICB9KTsKCiAgICAgICAgLy8gZXZlbnQKICAgICAgICBlbWl0KFBlcnBQb3NpdGlvbkRlY3JlYXNlZEV2ZW50ewogICAgICAgICAgICB0cnhJZDogdHJ4SWQsCiAgICAgICAgICAgIG9yZGVySWQ6IG9yZGVySWQsCiAgICAgICAgICAgIG9wVHlwZTogT1JERVJfT1BfVFlQRV9MSVFVSURBVElPTiwKICAgICAgICAgICAgcG9zaXRpb25JZDogcG9zaXRpb25JZCwKICAgICAgICAgICAgYWNjb3VudDogYWNjb3VudCwKICAgICAgICAgICAgdG9rZW5JZDogdG9rZW5JZCwKICAgICAgICAgICAgaXNMb25nOiBpc0xvbmcsCiAgICAgICAgICAgIG1hcmdpbkRlbHRhOiBtYXJnaW5EZWx0YSwKICAgICAgICAgICAgbWFyZ2luQWZ0ZXI6IHBlcnBQb3NpdGlvbi5tYXJnaW4sCiAgICAgICAgICAgIHNpemVEZWx0YTogc2l6ZURlbHRhLAogICAgICAgICAgICBzaXplQWZ0ZXI6IHBlcnBQb3NpdGlvbi5zaXplLAogICAgICAgICAgICB0cmFkZVByaWNlOiB0cmFkZVByaWNlLAogICAgICAgICAgICByZWFsaXplZFBuTERlbHRhOiByZWFsaXplZFBubCwKICAgICAgICAgICAgdHJhZGluZ0ZlZTogdHJhZGluZ0ZlZSwKICAgICAgICAgICAgZnVuZGluZ0ZlZTogZnVuZGluZ0ZlZSwKICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyLAogICAgICAgICAgICByZWNlaXZlOiByZWNlaXZlLAoKICAgICAgICAgICAgZ2xvYmFsTG9uZ01hcmdpbkFmdGVyOiBnbG9iYWxQb3NpdGlvbi5sb25nTWFyZ2luLAogICAgICAgICAgICBnbG9iYWxTaG9ydE1hcmdpbkFmdGVyOiBnbG9iYWxQb3NpdGlvbi5zaG9ydE1hcmdpbiwKICAgICAgICAgICAgZ2xvYmFsTG9uZ1NpemVBZnRlcjogZ2xvYmFsUG9zaXRpb24ubG9uZ1NpemUsCiAgICAgICAgICAgIGdsb2JhbFNob3J0U2l6ZUFmdGVyOiBnbG9iYWxQb3NpdGlvbi5zaG9ydFNpemUsCiAgICAgICAgICAgIGdsb2JhbExvbmdGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IGdsb2JhbFBvc2l0aW9uLmxvbmdGdW5kaW5nRmVlR3Jvd3RoLAogICAgICAgICAgICBnbG9iYWxTaG9ydEZ1bmRpbmdGZWVHcm93dGhBZnRlcjogZ2xvYmFsUG9zaXRpb24uc2hvcnRGdW5kaW5nRmVlR3Jvd3RoLAogICAgICAgICAgICBscE5ldFNpemVBZnRlcjogZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplLAogICAgICAgICAgICBscElzTG9uZzogZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcsCiAgICAgICAgICAgIGxwRW50cnlQcmljZUFmdGVyOiBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UsCiAgICAgICAgICAgIGxwRnVuZEFmdGVyOiBzZWxmLmdsb2JhbExQRnVuZCwKICAgICAgICAgICAgbHBMaXF1aWRpdHlBZnRlcjogc2VsZi5nbG9iYWxMUExpcXVpZGl0eSwKICAgICAgICAgICAgbHBUcmFkaW5nRmVlOiBscFRyYWRpbmdGZWUsCiAgICAgICAgICAgIGxwUmVhbGl6ZWRQbmw6IGxwUmVhbGl6ZWRQbmwsCiAgICAgICAgICAgIGxwUmVjZWl2ZWRGdW5kaW5nRmVlOiBscFJlY2VpdmVkRnVuZGluZ0ZlZQogICAgICAgIH0udG9DZWxsKCkpOwogICAgfQoKICAgIGdldCBmdW4gcGVycFBvc2l0aW9uKHRva2VuSWQ6IEludCwgYWNjb3VudDogQWRkcmVzcz8pOiBQZXJwUG9zaXRpb25EYXRhIHsKICAgICAgICAvLyBnZXQgcG9zaXRpb24KICAgICAgICBsZXQgcGVycFBvc2l0aW9uOiBEaXJlY3Rpb25QZXJwUG9zaXRpb24/ID0gbnVsbDsKICAgICAgICBpZiAoYWNjb3VudCAhPSBudWxsKSB7CiAgICAgICAgICAgIGxldCBhY2NvdW50UGVycFBvc2l0aW9uT3B0OiBBY2NvdW50UGVycFBvc2l0aW9uPyA9IHNlbGYucGVycFBvc2l0aW9ucy5nZXQodG9rZW5JZCk7CiAgICAgICAgICAgIGlmIChhY2NvdW50UGVycFBvc2l0aW9uT3B0ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIHBlcnBQb3NpdGlvbiA9IChhY2NvdW50UGVycFBvc2l0aW9uT3B0ISEpLnBvc2l0aW9ucy5nZXQoYWNjb3VudCEhKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gUGVycFBvc2l0aW9uRGF0YXsKICAgICAgICAgICAgZ2xvYmFsUGVycE5ldFZhbHVlOiBzZWxmLmdsb2JhbFBlcnBOZXRWYWx1ZSwKICAgICAgICAgICAgZ2xvYmFsUGVycFNpbmdsZVZhbHVlOiBzZWxmLmdsb2JhbFBlcnBTaW5nbGVWYWx1ZSwKICAgICAgICAgICAgcGVycFBvc2l0aW9uOiBwZXJwUG9zaXRpb24sCiAgICAgICAgICAgIGdsb2JhbExQUG9zaXRpb246IHNlbGYuZ2xvYmFsTFBQb3NpdGlvbnMuZ2V0KHRva2VuSWQpLAogICAgICAgICAgICBnbG9iYWxQb3NpdGlvbjogc2VsZi5nbG9iYWxQb3NpdGlvbnMuZ2V0KHRva2VuSWQpLAogICAgICAgICAgICBnbG9iYWxGdW5kaW5nUmF0ZVNhbXBsZTogc2VsZi5nbG9iYWxGdW5kaW5nUmF0ZVNhbXBsZXMuZ2V0KHRva2VuSWQpLAogICAgICAgICAgICBwcmV2UHJlbWl1bVJhdGU6IHNlbGYucHJldlByZW1pdW1SYXRlCiAgICAgICAgfTsKICAgIH0KCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IHByaWNlID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCiAgICByZWNlaXZlKG1zZzogVXBkYXRlUHJpY2UpIHsKICAgICAgICAvLyBjaGVjayBzZW5kZXIKICAgICAgICBsZXQgaXNFeGVjdXRvcjogQm9vbCA9IGZhbHNlOwogICAgICAgIGxldCBpc0V4ZWN1dG9yT3B0OiBCb29sPyA9IHNlbGYuZXhlY3V0b3JzLmdldChzZW5kZXIoKSk7CiAgICAgICAgaWYgKGlzRXhlY3V0b3JPcHQgIT0gbnVsbCkgewogICAgICAgICAgICBpc0V4ZWN1dG9yID0gaXNFeGVjdXRvck9wdCEhOwogICAgICAgIH0KICAgICAgICByZXF1aXJlKGlzRXhlY3V0b3IsICJpbnZhbGlkIHNlbmRlciIpOwoKICAgICAgICBpZiAobXNnLnByaWNlc0xlbmd0aCA8PSAwKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgbGV0IGk6IEludCA9IDA7CiAgICAgICAgbGV0IHRvdGFsR2xvYmFsVW5yZWFsaXplZFBubDogSW50ID0gc2VsZi5nbG9iYWxMUFVucmVhbGl6ZWRQbmw7CgogICAgICAgIGxldCByZXN1bHREYXRhczogbWFwPEludCwgVXBkYXRlRnVuZGluZ1JhdGVFdmVudERhdGE+ID0gZW1wdHlNYXAoKTsKICAgICAgICB3aGlsZShpIDwgbXNnLnByaWNlc0xlbmd0aCkgewogICAgICAgICAgICBsZXQgdXBkYXRlUHJpY2U6IFVwZGF0ZVByaWNlUGFyYW0/ID0gbXNnLnByaWNlcy5nZXQoaSk7CiAgICAgICAgICAgIGlmICh1cGRhdGVQcmljZSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgcHJpY2UKICAgICAgICAgICAgICAgIGxldCB0b2tlbklkOiBJbnQgPSAodXBkYXRlUHJpY2UhISkudG9rZW5JZDsKICAgICAgICAgICAgICAgIGxldCByZXN1bHQ6IFVwZGF0ZUZ1bmRpbmdSYXRlUmVzdWx0ID0gc2VsZi51cGRhdGVQcmljZUFuZEZ1bmRpbmdGZWUodG9rZW5JZCwgKHVwZGF0ZVByaWNlISEpLnByaWNlKTsKICAgICAgICAgICAgICAgIHJlc3VsdERhdGFzLnNldChpLCBVcGRhdGVGdW5kaW5nUmF0ZUV2ZW50RGF0YXsKICAgICAgICAgICAgICAgICAgICB0b2tlbklkOiB0b2tlbklkLAogICAgICAgICAgICAgICAgICAgIGxwUmVjZWl2ZWRGdW5kaW5nRmVlRGVsdGE6IHJlc3VsdC5scFJlY2VpdmVkRnVuZGluZ0ZlZURlbHRhLAogICAgICAgICAgICAgICAgICAgIGxvbmdGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IHJlc3VsdC5sb25nRnVuZGluZ0ZlZUdyb3d0aEFmdGVyLAogICAgICAgICAgICAgICAgICAgIHNob3J0RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiByZXN1bHQuc2hvcnRGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGkgKz0gMTsKICAgICAgICB9CgogICAgICAgIGVtaXQoVXBkYXRlRnVuZGluZ0ZlZUV2ZW50ewogICAgICAgICAgICBsZW5ndGg6IG1zZy5wcmljZXNMZW5ndGgsCiAgICAgICAgICAgIGRhdGFzOiByZXN1bHREYXRhcwogICAgICAgIH0udG9DZWxsKCkpOwoKICAgICAgICBsZXQgZXh0cmFWYWx1ZTogSW50ID0gbWF4KDAsIG15QmFsYW5jZSgpIC0gY29udGV4dCgpLnZhbHVlIC0gc2VsZi5taW5Ub25zRm9yU3RvcmFnZSk7CiAgICAgICAgbGV0IG1zZ1ZhbHVlOiBJbnQgPSBjb250ZXh0KCkudmFsdWUgLSAoc2VsZi5taW5Ub25zRm9yU3RvcmFnZSArIHNlbGYuZ2FzQ29uc3VtcHRpb24pICsgZXh0cmFWYWx1ZTsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogc2VuZGVyKCksCiAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgdmFsdWU6IG1zZ1ZhbHVlLAogICAgICAgICAgICBtb2RlOiBTZW5kSWdub3JlRXJyb3JzCiAgICAgICAgfSk7CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBwcml2YXRlIGZ1bmN0aW9uID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCiAgICBmdW4gdXBkYXRlUHJpY2VBbmRGdW5kaW5nRmVlKHRva2VuSWQ6IEludCwgcHJpY2U6IEludCk6IFVwZGF0ZUZ1bmRpbmdSYXRlUmVzdWx0IHsKICAgICAgICAvLyBUT0RPIGNoZWNrIHByaWNlIG9mZnNldAogICAgICAgIGxldCBwcmljZU9wdDogSW50PyA9IHNlbGYucHJpY2VzLmdldCh0b2tlbklkKTsKICAgICAgICBpZiAocHJpY2VPcHQgIT0gbnVsbCkgewogICAgICAgICAgICBzZWxmLnByaWNlcy5zZXQodG9rZW5JZCwgcHJpY2UpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNlbGYucHJpY2VzLnNldCh0b2tlbklkLCBwcmljZSk7CiAgICAgICAgfQoKICAgICAgICAvLyB1cGRhdGUgbHAgcG5sCiAgICAgICAgbGV0IGdsb2JhbExQUG9zaXRpb25PcHQ6IEdsb2JhbExQUG9zaXRpb24/ID0gc2VsZi5nbG9iYWxMUFBvc2l0aW9ucy5nZXQodG9rZW5JZCk7CiAgICAgICAgaWYgKGdsb2JhbExQUG9zaXRpb25PcHQgIT0gbnVsbCkgewogICAgICAgICAgICBsZXQgZ2xvYmFsTFBQb3NpdGlvbjogR2xvYmFsTFBQb3NpdGlvbiA9IGdsb2JhbExQUG9zaXRpb25PcHQhITsKICAgICAgICAgICAgLy8gdW5yZWFsaXplZCBwbmwKICAgICAgICAgICAgbGV0IHVucmVhbGl6ZWRQbmw6IEludCA9IDA7CiAgICAgICAgICAgIGlmIChnbG9iYWxMUFBvc2l0aW9uLmlzTG9uZykgewogICAgICAgICAgICAgICAgdW5yZWFsaXplZFBubCA9IGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSAqIChwcmljZSAtIGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHVucmVhbGl6ZWRQbmwgPSBnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgKiAoZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlIC0gcHJpY2UpIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2VsZi5nbG9iYWxMUFVucmVhbGl6ZWRQbmwgLT0gZ2xvYmFsTFBQb3NpdGlvbi51bnJlYWxpemVkUG5sICsgdW5yZWFsaXplZFBubDsKICAgICAgICAgICAgc2VsZi5nbG9iYWxMUFBvc2l0aW9ucy5zZXQodG9rZW5JZCwgZ2xvYmFsTFBQb3NpdGlvbik7CiAgICAgICAgfQoKICAgICAgICAvLyB1cGRhdGUgZ2xvYmFsIHZhbHVlCiAgICAgICAgbGV0IGdsb2JhbFBvc2l0aW9uT3B0OiBHbG9iYWxQb3NpdGlvbj8gPSBzZWxmLmdsb2JhbFBvc2l0aW9ucy5nZXQodG9rZW5JZCk7CiAgICAgICAgbGV0IGdsb2JhbFBvc2l0aW9uOiBHbG9iYWxQb3NpdGlvbiA9IGdsb2JhbFBvc2l0aW9uT3B0ICE9IG51bGwgPyBnbG9iYWxQb3NpdGlvbk9wdCEhIDogR2xvYmFsUG9zaXRpb257CiAgICAgICAgICAgIGxvbmdNYXJnaW46IDAsCiAgICAgICAgICAgIHNob3J0TWFyZ2luOiAwLAogICAgICAgICAgICBsb25nU2l6ZTogMCwKICAgICAgICAgICAgc2hvcnRTaXplOiAwLAogICAgICAgICAgICBsb25nRnVuZGluZ0ZlZUdyb3d0aDogMCwKICAgICAgICAgICAgc2hvcnRGdW5kaW5nRmVlR3Jvd3RoOiAwLAogICAgICAgICAgICBsb25nVmFsdWU6IDAsCiAgICAgICAgICAgIHNob3J0VmFsdWU6IDAKICAgICAgICB9OwoKICAgICAgICBsZXQgc2luZ2xlVmFsdWVCZWZvcmU6IEludCA9IG1heChnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUsIGdsb2JhbFBvc2l0aW9uLnNob3J0VmFsdWUpOwogICAgICAgIGxldCBuZXRWYWx1ZUJlZm9yZTogSW50ID0gYWJzKGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSAtIGdsb2JhbFBvc2l0aW9uLnNob3J0VmFsdWUpOwogICAgICAgIGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSA9IGdsb2JhbFBvc2l0aW9uLmxvbmdTaXplICogcHJpY2UgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlID0gZ2xvYmFsUG9zaXRpb24uc2hvcnRTaXplICogcHJpY2UgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICBzZWxmLmdsb2JhbFBlcnBTaW5nbGVWYWx1ZSArPSBtYXgoZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlLCBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlKSAtIHNpbmdsZVZhbHVlQmVmb3JlOwogICAgICAgIHNlbGYuZ2xvYmFsUGVycE5ldFZhbHVlICs9IGFicyhnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUgLSBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlKSAtIG5ldFZhbHVlQmVmb3JlOwoKICAgICAgICAvLyB1cGRhdGUgZnVuZGluZyBmZWUKICAgICAgICAvLyA9PT0+CiAgICAgICAgbGV0IHRva2VuQ29uZmlnT3B0OiBUb2tlbkNvbmZpZz8gPSBzZWxmLnRva2VuQ29uZmlncy5nZXQodG9rZW5JZCk7CiAgICAgICAgcmVxdWlyZSh0b2tlbkNvbmZpZ09wdCAhPSBudWxsLCAidG9rZW4gY29uZmlnIG5vdCBleGlzdCIpOwogICAgICAgIGxldCB0b2tlbkNvbmZpZzogVG9rZW5Db25maWcgPSB0b2tlbkNvbmZpZ09wdCEhOwoKICAgICAgICAvLyA9PT09PT09PT09PSBjYWxjdWxhdGUgc2FtcGxlID09PT09PT09PT09IC8vCiAgICAgICAgLy8gZ2V0IGZ1bmRpbmcgcmF0ZSBzYW1wbGUKICAgICAgICBsZXQgc2FtcGxlT3B0OiBHbG9iYWxGdW5kaW5nUmF0ZVNhbXBsZT8gPSBzZWxmLmdsb2JhbEZ1bmRpbmdSYXRlU2FtcGxlcy5nZXQodG9rZW5JZCk7CiAgICAgICAgbGV0IHNhbXBsZTogR2xvYmFsRnVuZGluZ1JhdGVTYW1wbGUgPSBzYW1wbGVPcHQgIT0gbnVsbCA/IHNhbXBsZU9wdCEhIDogR2xvYmFsRnVuZGluZ1JhdGVTYW1wbGV7CiAgICAgICAgICAgIGxhc3RBZGp1c3RGdW5kaW5nUmF0ZVRpbWU6IG5vdygpIC0gKG5vdygpICUgQURKVVNUX0ZVTkRJTkdfUkFURV9JTlRFUlZBTCksCiAgICAgICAgICAgIHNhbXBsZUNvdW50OiAwLAogICAgICAgICAgICBjdW11bGF0aXZlUHJlbWl1bVJhdGU6IDAKICAgICAgICB9OwoKICAgICAgICBsZXQgbGFzdEFkanVzdEZ1bmRpbmdSYXRlVGltZTogSW50ID0gc2FtcGxlLmxhc3RBZGp1c3RGdW5kaW5nUmF0ZVRpbWU7CiAgICAgICAgLy8gYXQgbW9zdCAxIGhvdXIgb2YgcHJlbWl1bSByYXRlIHNhbXBsaW5nCiAgICAgICAgbGV0IG1heFNhbXBsaW5nVGltZTogSW50ID0gbGFzdEFkanVzdEZ1bmRpbmdSYXRlVGltZSArIEFESlVTVF9GVU5ESU5HX1JBVEVfSU5URVJWQUw7CiAgICAgICAgbGV0IHRpbWVzdGFtcDogSW50ID0gbm93KCk7CiAgICAgICAgaWYgKG1heFNhbXBsaW5nVGltZSA8IHRpbWVzdGFtcCkgewogICAgICAgICAgICB0aW1lc3RhbXAgPSBtYXhTYW1wbGluZ1RpbWU7CiAgICAgICAgfQogICAgICAgIC8vIGR1bXAodGltZXN0YW1wKTsKCiAgICAgICAgbGV0IGxhc3RTYW1wbGluZ1RpbWU6IEludCA9IGxhc3RBZGp1c3RGdW5kaW5nUmF0ZVRpbWUgKyBzYW1wbGUuc2FtcGxlQ291bnQgKiBTQU1QTEVfUFJFTUlVTV9SQVRFX0lOVEVSVkFMOwogICAgICAgIGxldCB0aW1lRGVsdGE6IEludCA9IHRpbWVzdGFtcCAtIGxhc3RTYW1wbGluZ1RpbWU7CiAgICAgICAgLy8gZHVtcCh0aW1lRGVsdGEpOwogICAgICAgIGlmICh0aW1lRGVsdGEgPCBTQU1QTEVfUFJFTUlVTV9SQVRFX0lOVEVSVkFMKSB7CiAgICAgICAgICAgIC8vIG5vIG5lZWQgdG8gdXBkYXRlCiAgICAgICAgICAgIHJldHVybiBVcGRhdGVGdW5kaW5nUmF0ZVJlc3VsdHsKICAgICAgICAgICAgICAgIGxwUmVjZWl2ZWRGdW5kaW5nRmVlRGVsdGE6IDAsCiAgICAgICAgICAgICAgICBsb25nRnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBnbG9iYWxQb3NpdGlvbi5sb25nRnVuZGluZ0ZlZUdyb3d0aCwKICAgICAgICAgICAgICAgIHNob3J0RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBnbG9iYWxQb3NpdGlvbi5zaG9ydEZ1bmRpbmdGZWVHcm93dGgKICAgICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIC8vIGN1bXVsYXRpdmUgc2FtcGxlIGNvdW50CiAgICAgICAgbGV0IHNhbXBsZUNvdW50RGVsdGE6IEludCA9IHRpbWVEZWx0YSAvIFNBTVBMRV9QUkVNSVVNX1JBVEVfSU5URVJWQUw7CiAgICAgICAgbGV0IHNhbXBsZUNvdW50QWZ0ZXI6IEludCA9IHNhbXBsZS5zYW1wbGVDb3VudCArIHNhbXBsZUNvdW50RGVsdGE7CgogICAgICAgIC8vIGN1bXVsYXRpdmUgUFIKICAgICAgICBsZXQgY3VtdWxhdGl2ZVByZW1pdW1SYXRlOiBJbnQgPSBzZWxmLnByZXZQcmVtaXVtUmF0ZSAqICgoc2FtcGxlLnNhbXBsZUNvdW50ICsgMSArIHNhbXBsZUNvdW50QWZ0ZXIpICogc2FtcGxlQ291bnREZWx0YSAvIDIgKTsKICAgICAgICBjdW11bGF0aXZlUHJlbWl1bVJhdGUgPSBzYW1wbGUuY3VtdWxhdGl2ZVByZW1pdW1SYXRlICsgY3VtdWxhdGl2ZVByZW1pdW1SYXRlOwoKICAgICAgICAvLyBzYW1wbGUgY291bnQgPCA3MjAsIG5vIG5lZWQgdXBkYXRlIGZ1bmRpbmcgcmF0ZQogICAgICAgIGlmIChzYW1wbGVDb3VudEFmdGVyIDwgUkVRVUlSRURfU0FNUExFX0NPVU5UKSB7CiAgICAgICAgICAgIGR1bXAoInVwZGF0ZSBmdW5kaW5nIGZlZSBzYW1wbGUiKTsKICAgICAgICAgICAgc2FtcGxlLmN1bXVsYXRpdmVQcmVtaXVtUmF0ZSA9IGN1bXVsYXRpdmVQcmVtaXVtUmF0ZTsKICAgICAgICAgICAgc2FtcGxlLnNhbXBsZUNvdW50ID0gc2FtcGxlQ291bnRBZnRlcjsKICAgICAgICAgICAgc2VsZi5nbG9iYWxGdW5kaW5nUmF0ZVNhbXBsZXMuc2V0KHRva2VuSWQsIHNhbXBsZSk7CiAgICAgICAgICAgIHJldHVybiBVcGRhdGVGdW5kaW5nUmF0ZVJlc3VsdHsKICAgICAgICAgICAgICAgIGxwUmVjZWl2ZWRGdW5kaW5nRmVlRGVsdGE6IDAsCiAgICAgICAgICAgICAgICBsb25nRnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBnbG9iYWxQb3NpdGlvbi5sb25nRnVuZGluZ0ZlZUdyb3d0aCwKICAgICAgICAgICAgICAgIHNob3J0RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBnbG9iYWxQb3NpdGlvbi5zaG9ydEZ1bmRpbmdGZWVHcm93dGgKICAgICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIC8vIGF2ZXJhZ2UgUFIKICAgICAgICBsZXQgcHJlbWl1bVJhdGVBdmc6IEludCA9IGN1bXVsYXRpdmVQcmVtaXVtUmF0ZSAvIFBSRU1JVU1fUkFURV9BVkdfREVOT01JTkFUT1I7CgogICAgICAgIC8vIGNsYW1wIChJUiAtIGF2Z1BSKSA6IC0wLjA1JS84IDw9IChJUiAtIGF2Z1BSKSA8PSAwLjA1JS84CiAgICAgICAgbGV0IHJhdGVEZWx0YTogSW50ID0gdG9rZW5Db25maWcuaW50ZXJlc3RSYXRlIC0gcHJlbWl1bVJhdGVBdmc7CiAgICAgICAgbGV0IGNsYW1wZWRSYXRlRGVsdGE6IEludCA9IDA7CiAgICAgICAgaWYgKHJhdGVEZWx0YSA+IFBSRU1JVU1fUkFURV9DTEFNUF9CT1VOREFSWSkgewogICAgICAgICAgICBjbGFtcGVkUmF0ZURlbHRhID0gUFJFTUlVTV9SQVRFX0NMQU1QX0JPVU5EQVJZOwogICAgICAgIH0gZWxzZSBpZiAocmF0ZURlbHRhIDwgLVBSRU1JVU1fUkFURV9DTEFNUF9CT1VOREFSWSkgewogICAgICAgICAgICBjbGFtcGVkUmF0ZURlbHRhID0gLVBSRU1JVU1fUkFURV9DTEFNUF9CT1VOREFSWTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjbGFtcGVkUmF0ZURlbHRhID0gcmF0ZURlbHRhOwogICAgICAgIH0KICAgICAgICBsZXQgZnVuZGluZ1JhdGVEZWx0YTogSW50ID0gcHJlbWl1bVJhdGVBdmcgKyBjbGFtcGVkUmF0ZURlbHRhOwoKICAgICAgICAvLyBjbGFtcCBmdW5kaW5nUmF0ZTogLW1heEZ1bmRpbmdSYXRlIDw9IGZ1bmRpbmdSYXRlIDw9IG1heEZ1bmRpbmdSYXRlCiAgICAgICAgbGV0IGNsYW1wZWRGdW5kaW5nUmF0ZURlbHRhOiBJbnQgPSAwOwogICAgICAgIGlmIChmdW5kaW5nUmF0ZURlbHRhID4gdG9rZW5Db25maWcubWF4RnVuZGluZ1JhdGUpIHsKICAgICAgICAgICAgY2xhbXBlZEZ1bmRpbmdSYXRlRGVsdGEgPSB0b2tlbkNvbmZpZy5tYXhGdW5kaW5nUmF0ZTsKICAgICAgICB9IGVsc2UgaWYgKGZ1bmRpbmdSYXRlRGVsdGEgPCAtdG9rZW5Db25maWcubWF4RnVuZGluZ1JhdGUpIHsKICAgICAgICAgICAgY2xhbXBlZEZ1bmRpbmdSYXRlRGVsdGEgPSAtdG9rZW5Db25maWcubWF4RnVuZGluZ1JhdGU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2xhbXBlZEZ1bmRpbmdSYXRlRGVsdGEgPSBmdW5kaW5nUmF0ZURlbHRhOwogICAgICAgIH0KCiAgICAgICAgc2FtcGxlLmxhc3RBZGp1c3RGdW5kaW5nUmF0ZVRpbWUgPSBtYXhTYW1wbGluZ1RpbWU7CiAgICAgICAgc2FtcGxlLmN1bXVsYXRpdmVQcmVtaXVtUmF0ZSA9IDA7CiAgICAgICAgc2FtcGxlLnNhbXBsZUNvdW50ID0gMDsKICAgICAgICBzZWxmLmdsb2JhbEZ1bmRpbmdSYXRlU2FtcGxlcy5zZXQodG9rZW5JZCwgc2FtcGxlKTsKCiAgICAgICAgLy8gPT09PT09PT09PT0gdXBkYXRlIGZ1bmRpbmcgcmF0ZSA9PT09PT09PT09PSAvLwogICAgICAgIC8vIGdldCBwYWlkU2l6ZSBhbmQgcmVjZWl2ZWRTaXplCiAgICAgICAgbGV0IHBhaWRTaXplOiBJbnQgPSAwOwogICAgICAgIGxldCByZWNlaXZlZFNpemU6IEludCA9IDA7CiAgICAgICAgaWYgKGZ1bmRpbmdSYXRlRGVsdGEgPj0gMCkgewogICAgICAgICAgICBwYWlkU2l6ZSA9IGdsb2JhbFBvc2l0aW9uLmxvbmdTaXplOwogICAgICAgICAgICByZWNlaXZlZFNpemUgPSBnbG9iYWxQb3NpdGlvbi5zaG9ydFNpemU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcGFpZFNpemUgPSBnbG9iYWxQb3NpdGlvbi5zaG9ydFNpemU7CiAgICAgICAgICAgIHJlY2VpdmVkU2l6ZSA9IGdsb2JhbFBvc2l0aW9uLmxvbmdTaXplOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBjYWxjdWxhdGUgZnVuZGluZyByYXRlIGdyb3d0aAogICAgICAgIC8vIHBhaWRGdW5kaW5nRmVlR3Jvd3RoRGVsdGEgPSAocGFpZFNpemUgKiBwcmljZSAqIGZ1bmRpbmdSYXRlKSAvIHBhaWRTaXplID0gcHJpY2UgKiBmdW5kaW5nUmF0ZQogICAgICAgIGxldCBwYWlkRnVuZGluZ0ZlZUdyb3d0aERlbHRhOiBJbnQgPSBwcmljZSAqIGFicyhmdW5kaW5nUmF0ZURlbHRhKSAvIFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQ7CgogICAgICAgIGxldCByZWNlaXZlZEZ1bmRpbmdGZWVHcm93dGhEZWx0YTogSW50ID0gMDsKICAgICAgICBsZXQgbHBSZWNlaXZlZEZ1bmRpbmdGZWU6IEludCA9IDA7CiAgICAgICAgaWYgKHBhaWRGdW5kaW5nRmVlR3Jvd3RoRGVsdGEgPiAwKSB7CiAgICAgICAgICAgIGlmIChwYWlkU2l6ZSA+IHJlY2VpdmVkU2l6ZSkgewogICAgICAgICAgICAgICAgaWYgKHJlY2VpdmVkU2l6ZSA+IDApIHsKICAgICAgICAgICAgICAgICAgICByZWNlaXZlZEZ1bmRpbmdGZWVHcm93dGhEZWx0YSA9IHBhaWRGdW5kaW5nRmVlR3Jvd3RoRGVsdGE7CiAgICAgICAgICAgICAgICAgICAgbHBSZWNlaXZlZEZ1bmRpbmdGZWUgPSByZWNlaXZlZEZ1bmRpbmdGZWVHcm93dGhEZWx0YSAqIChwYWlkU2l6ZSAtIHJlY2VpdmVkU2l6ZSk7CiAgICAgICAgICAgICAgICAgICAgc2VsZi5nbG9iYWxMUEZ1bmRpbmdGZWVHcm93dGggKz0gbHBSZWNlaXZlZEZ1bmRpbmdGZWUgLyBzZWxmLmdsb2JhbExQTGlxdWlkaXR5OwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBscFJlY2VpdmVkRnVuZGluZ0ZlZSA9IHBhaWRGdW5kaW5nRmVlR3Jvd3RoRGVsdGEgKiBwYWlkU2l6ZTsKICAgICAgICAgICAgICAgICAgICBzZWxmLmdsb2JhbExQRnVuZGluZ0ZlZUdyb3d0aCArPSBscFJlY2VpdmVkRnVuZGluZ0ZlZSAvIHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAocmVjZWl2ZWRTaXplID4gMCkgewogICAgICAgICAgICAgICAgICAgIHJlY2VpdmVkRnVuZGluZ0ZlZUdyb3d0aERlbHRhID0gcGFpZEZ1bmRpbmdGZWVHcm93dGhEZWx0YSAqIHBhaWRTaXplIC8gcmVjZWl2ZWRTaXplOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBscFJlY2VpdmVkRnVuZGluZ0ZlZSA9IHBhaWRGdW5kaW5nRmVlR3Jvd3RoRGVsdGEgKiBwYWlkU2l6ZTsKICAgICAgICAgICAgICAgICAgICBzZWxmLmdsb2JhbExQRnVuZGluZ0ZlZUdyb3d0aCArPSBscFJlY2VpdmVkRnVuZGluZ0ZlZSAvIHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIGZ1bmRpbmcgcmF0ZSA+IDAsIGxvbmcgcGF5IGZvciBzaG9ydCBhbmQgTFAKICAgICAgICBpZiAoZnVuZGluZ1JhdGVEZWx0YSA+PSAwKSB7CiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLmxvbmdGdW5kaW5nRmVlR3Jvd3RoIC09IHBhaWRGdW5kaW5nRmVlR3Jvd3RoRGVsdGE7CiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLnNob3J0RnVuZGluZ0ZlZUdyb3d0aCArPSByZWNlaXZlZEZ1bmRpbmdGZWVHcm93dGhEZWx0YTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBnbG9iYWxQb3NpdGlvbi5sb25nRnVuZGluZ0ZlZUdyb3d0aCArPSByZWNlaXZlZEZ1bmRpbmdGZWVHcm93dGhEZWx0YTsKICAgICAgICAgICAgZ2xvYmFsUG9zaXRpb24uc2hvcnRGdW5kaW5nRmVlR3Jvd3RoIC09IHBhaWRGdW5kaW5nRmVlR3Jvd3RoRGVsdGE7CiAgICAgICAgfQoKICAgICAgICBzZWxmLmdsb2JhbFBvc2l0aW9ucy5zZXQodG9rZW5JZCwgZ2xvYmFsUG9zaXRpb24pOwogICAgICAgIHJldHVybiBVcGRhdGVGdW5kaW5nUmF0ZVJlc3VsdHsKICAgICAgICAgICAgbHBSZWNlaXZlZEZ1bmRpbmdGZWVEZWx0YTogbHBSZWNlaXZlZEZ1bmRpbmdGZWUgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUiwKICAgICAgICAgICAgbG9uZ0Z1bmRpbmdGZWVHcm93dGhBZnRlcjogZ2xvYmFsUG9zaXRpb24ubG9uZ0Z1bmRpbmdGZWVHcm93dGgsCiAgICAgICAgICAgIHNob3J0RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBnbG9iYWxQb3NpdGlvbi5zaG9ydEZ1bmRpbmdGZWVHcm93dGgKICAgICAgICB9OwogICAgfQoKfQo="},"compiler":{"name":"tact","version":"1.2.0","parameters":"{\"entrypoint\":\"contracts/pool/pool.tact\",\"options\":{\"debug\":true}}"}}