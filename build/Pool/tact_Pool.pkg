{"name":"Pool","code":"te6ccgECuQEAPAcAART/APSkE/S88sgLAQIBYgIDAvDQAdDTAwFxsKMB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFRQUwNvBPhhAvhi2zwRGxEdERsRGhEcERoRGREbERkRGBEaERgRFxEZERcRFhEYERYRFREXERURFBEWERQRExEVERMREhEUERIRERETERGyBAIBIJqbAn4REBESERAPEREPDhEQDlUd2zzy4ILI+EMBzH8BygARHBEbERoRGREYERcRFhEVERQRExESEREREFXg2zzJ7VQFBgRuAZIwf+BwIddJwh+VMCDXCx/eIIIQC9MOrbqPCDDbPGwY2zx/4CCCEGnUSHC64wIgghDonNRfugcICQoB9gERGwERHIEBAc8AAREZAYEBAc8AAREXAfQAAREVAcs/ARETAYEBAc8AERHIgQEBzwABERABgQEBzwBQDiDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFshQDSDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFiED8tMfAYIQC9MOrbry4IH6QCHXCwHDAI4dASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IiSMW3iAdIAAZLSAJJtAeLSAAGS+gCSbQHi0gABkvoAkm0B4tIAAZWBAQHXAJJtAeLUAdDSAAGVgQEB1wCSbQHi0gAB4w8LDA0B8BEbESMRGxEaESIRGhEZESERGREYESARGBEXER8RFxEWER4RFhEVER0RFREUERwRFBETESMRExESESIREhERESEREREQESAREA8RHw8OER4ODREdDQwRHAwLESMLChEiCgkRIQkIESAIBxEfBwYRHgYFER0FBBEcBA4CEDDbPGwa2zx/ExQEOo8IMNs8bBfbPH/gIIIQ/1flV7rjAiCCEB3IlYy6HR4fIAAKgQEB1wAABG0BAGz6QCHXCwHDAI4dASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IiSMW3iMRA4EDcQNhA1EDQE/gMRIwMCESICAREhAREg2zxWH26zlFYebrORcOKOMYEBCxEgIG7y0IARHyBu8tCAAxESAwIRIAIBER8BcSFulVtZ9FkwmMgBzwBBM/RB4g+UVx5XHuJWG26znVcZERogbvLQgBEYERqSVxviVhlus5JXGeMNVh9us5JXH+MNVh0XDxARABpXFxEYIG7y0IARFhEYABpXExEeIG7y0IAREhEeAvpus51XEREcIG7y0IAREBEcklcd4lYbbrObPxEaIG7y0IAOERqSVxviVhlus5s8ERggbvLQgAsRGJJXGeL4QnBwgEAQI21tbds8ERMRGxETERIRGhESERERGRERERARGBEQDxEXDw4RFg4NERUNDBEUDAsREwsKERIKCRERCZgSACoIERAIEH8QbhBdEEwQO0oYUJdeQQEB9tMfAYIQadRIcLry4IHTP9IAAZPUAdCRbeIB0gABktIAkm0B4tIAAZWBAQHXAJJtAeLSAAGVgQEB1wCSbQHi0gABlYEBAdcAkm0B4tQB0NIAAZWBAQHXAJJtAeLSAAGVgQEB1wCSbQHi0gABlYEBAdcAkm0B4tQw0NIAARUB8BEbESURGxEaESQRGhEZESMRGREYESIRGBEXESERFxEWESARFhEVER8RFREUER4RFBETER0RExESERwREhERESUREREQESQREA8RIw8OESIODREhDQwRIAwLER8LChEeCgkRHQkIERwIBxElBwYRJAYFESMFBBEiBBYALpaBAQHXADCSMG3iEEoQSRBIEEcQRhBFA/YDESEDAhEgAgERHwERHts8VhmBAQFWH1n0DW+hkjBt3yBukjBtjofQ2zxsGm8K4iBus5cgbvLQgG8qjiYwiwhwggiYloCAZIIDDUCCCA9CQIIQI8NGAIIQBfXhAHAgECQQI+JWJm6zmzkRJSBu8tCACBElklcm4lYubrMXuBgAFPhCVhUBxwXy4IQC/Js3ES0gbvLQgAYRLZJXLuJWLG6zmzURKyBu8tCABBErklcs4lYqbrObMxEpIG7y0IACESmSVyriVihus5gxEScgbvLQgJJXKOJWJG6znVcqESMgbvLQgBEpESOSVyTiViVus51XJxEkIG7y0IARJhEkklcl4lYjbrOSVyPjDRkaABpXJxEiIG7y0IARJhEiA/ZWIG6znVceER8gbvLQgBEdER+SVyDiVh5WGr6XVxlWHaQRGd4IBxEfBwYRIQYFESIFBBEgBAMRIwMCESQCARElAREmgQEBER7IVZDbPMkDERIDAhEVAgERFgEgbpUwWfRaMJRBM/QV4vhCcHCAQBAjbW1t2zwREREbEREbmBwAhshQCs8WyVAKzBfKABWBAQHPABOBAQHPAIEBAc8AAciBAQHPABKBAQHPABKBAQHPAAPIgQEBzwASgQEBzwDJWMzJAcwAfBEQERoREBEZDhEYDg0RFw0MERYMCxEVCwoRFAoJERMJCBESCAcREQcGERAGEF8QThA9TLAQWhCJEFZFA0QUAHzTHwGCEOic1F+68uCB0gDTP/pAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgBgQEB1wDTP9M/9ARVYAHyggCg9/hCVhwBxwXy9BEdESIRHREcESERHBEbESARGxEaER8RGhEZER4RGREYESIRGBEXESERFxEWESARFhEVER8RFREUER4RFBETESIRExESESEREhERESAREREQER8REA8RHg8OESIODREhDQwRIAwLER8LChEeCiICEDDbPGwc2zx/MzQDwo7KMNMfAYIQHciVjLry4IHTP9M/9ARVIGwTMnCBAQv4QlYWWXFBM/QKb6GUAdcAMJJbbeIgbrOWMSBu8tCAkTDiggCg9wHy9AHbPH/gIIIJduDJuuMCghCUapi2uuMCMHCFhocAyBuBAQHPABn0ABf0ABXLPxP0AIEBAc8AAciBAQHPABKBAQHPABKBAQHPABL0ABLLPxP0AAPIgQEBzwAVgQEBzwAV9AAV9AAV9AAVgQEBzwAFyPQAyVAFzMkBzMlQA8zJAczJAcwEdAkRIgkIESEIBxEgBwYRHwYFER4FBBEiBAMRIQMCESAC2zxwER7jD/hBbyQTXwNWHKoAoVYbofhBbySFIyQlAbgRGxEdERsRGhEcERoRGREbERkRGBEaERgRFxEZERcRFhEYERYRFREXERURFBEWERQRExEVERMREhEUERIRERETEREREBESERAPEREPDhEQDlUdAREgAREfVh7bPCYB+lcdERoRHREaERkRHBEZERgRGxEYERcRGhEXERYRGREWERURGBEVERQRFxEUERMRFhETERIRFRESERERFBERERARExEQDxESDw4REQ4NERANEM9VKxIBER8BER5WH9s8ER4RHBEbERoRGREYERcRFhEVERQRExESEREREFXgKwP+2zyhgSTVIcIA8vQRHnARIHERH8hVIIIQHPDPgVAEyx8Syz+BAQHPAMs/yVYUBAMRHwMCESACER4BECQQI21t2zwRGBEbERgRFxEaERcRFhEZERYRFREYERURFBEXERQRExEWERMREhEVERIREREUEREREBETERAPERIPDhERDl2YMgP0VhOBAQskWfQLb6GSMG3fIG6SMG2Oh9DbPGwWbwbicFRwAFMAMDQkbrOaXwQgbvLQgG8mMJk0VhakERdBRAPiVhVWE6AgwQCSMHDecCFWF7mOGjBWFQGhVh8BqCeoVhWCEDuaygCoqQRRM6ADkTHicCXCAJEy4w1RR6CxJygAKjBWFFihJKiCOAVrx14tYxAAAKkEAQPeUSGgVhT4I1YioIEBC1R4VlR2VMhVUNs8yQIRHQJSwCBulTBZ9FkwlEEz9BPiERgpoBEXKaBxChCJEIsHBQYEAxEcAwIBERwBK8hVsNs8yciCWMAAAAAAAAAAAAAAAAEBy2fMyXD7AHBTDgNWFFUgLykqANaCEB+Fls9QDcsfG8sHGcs/UAcg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYVgQEBzwATgQEBzwAByIEBAc8AEoEBAc8AEoEBAc8AAsiBAQHPABOBAQHPABOBAQHPABPLP8kBzMkBzACUyFVAghBDPY0EUAbLHxSBAQHPABKBAQHPAIEBAc8AAciBAQHPABLLP8kBzMnIgljAAAAAAAAAAAAAAAABActnzMlw+wANERANEM0E9lYTgQELJFn0C2+hkjBt3yBukjBtjofQ2zxsFm8G4oEUdiFus/L0IG7y0IBvJoF6wSH4I7vy9FNHuZM3IwfeVhNWFwGgggCZUyHCAPL0IMEAkjBw3oIA0xghwgDy9HAhVhi+l1KSqFYXqQTjDXAnwgDjAFAFoFFEoHBRerEsLS4AzDD4IyKhViKgggFRgKkEJcAAjh0pViKoIlYZoagBgGS2CKgBgQPoqIIQO5rKAKipBI4wIVYYoVKgqCKpBFNqViSoJFYboagDgGS2CBOoA4ED6KiCEDuaygCoE6kEWbYIAbYJ4lOAoAAoMFYWJKEnqII4BWvHXi1jEAAAqQQD+qFTYrYJF6EmwgCRf5MgwgDijqaBAQspVEgwVDpxCMhVUNs8yQIRHAJUJ7AgbpUwWfRZMJRBM/QT4o6vMzaBAQttIG6SMG2OjSBu8tCAbybIVVDbPMniAhEcAlKwIG6VMFn0WTCUQTP0E+LiERcloREWKKFyCBBqEFkQSREbLy8wAEhQVss/E4EBAc8AgQEBzwCBAQHPAAHIgQEBzwASgQEBzwDJAcwB7FQZOlYcyFWg2zzJyIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsAcFMPUTBVIBEWyFVAghBDPY0EUAbLHxSBAQHPABKBAQHPAIEBAc8AAciBAQHPABLLP8kBzMnIgljAAAAAAAAAAAAAAAABActnzMlw+wAOEREOEN4xAMqCEAVLwblQDMsfGssHGMs/UAYg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYUgQEBzwASgQEBzwAByIEBAc8AEoEBAc8AEoEBAc8AAsiBAQHPABOBAQHPABPLP8lYzMkBzAASDREQDRDPVSsSALzTHwGCEP9X5Ve68uCB0z/TB9M/+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAHSAIEBAdcAgQEB1wDUAdCBAQHXANIA0z/TP/QEMBBcEFsQWhBZEFgQVxBWAfKCAKD3+EJWIQHHBfL0ER0RJxEdERwRJhEcERsRJREbERoRJBEaERkRIxEZERgRIhEYERcRIREXERYRIBEWERURHxEVERQRHhEUERMRJxETERIRJhESERERJRERERARJBEQDxEjDw4RIg4NESENDBEgDAsRHwsKER4KNQTaCREnCQgRJggHESUHBhEkBgURIwUEESIEAxEhAwIRIALbPHCBAQFUVQBWKQFBM/QMb6GUAdcAMJJbbeIgbrOWMSBu8tCAkTDigROEIcIA8vRWHcAKkX+UVh3AC+LjDyGBAQFWKVn0DW+hkjBt34U2NzgB5hEbERwRGxEaERwRGhEZERwRGREYERwRGBEXERwRFxEWERwRFhEVERwRFREUERwRFBETERwRExESERwREhERERwREREQERwREA8RHA8OERwODREcDQwRHAwLERwLChEcCgkRHAkRHAgHBlVAViZWI1Ym2zw6AfpWJLMRHBEdERwRGxEdERsRGhEdERoRGREdERkRGBEdERgRFxEdERcRFhEdERYRFREdERURFBEdERQRExEdERMREhEdERIREREdEREREBEdERAPER0PDhEdDg0RHQ0MER0MCxEdCwoRHQoJER0JCBEdCAcRHQcGER0GBREdBTkE3iBukjBtjhXQ0z/TP4EBAdcAgQEB1wBVMGwUbwTiIG6zmSBu8tCAbyRsMZcwcFRwAGwx4iFus5Ex4w2CEDuaygABoFYdqIIQO5rK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HAEPyFVw2zzJAhEkAhhWGQEgbpUwWfRaMJRBM/QV4lR7qYEBAQzIVTBQNIEBAc8AygCBAQHPAIEBAc8AyQIRKgIZVhgBIG6VMFn0WjCUQTP0FeIMERkMCxEoC5RWA/YKERcKVhYKCREWCQgRJAgHERUHBhEUBgUREQUEERIEAxEUAxAuAREiAQ9WGRAjyFXg2zzJyIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsAKQYQVxQDERQDERxBcCzIVXDbPMnIgljAAAAAAAAAAAAAAAABActnzMlw+wBEBCVXgVgA9oII5UduAREQyx8eywccyz9QCiDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFhjLPxbKABSBAQHPABKBAQHPAAHIgQEBzwASgQEBzwASgQEBzwACyIEBAc8AE4EBAc8AE4EBAc8AA8iBAQHPABTLP8lYzMkBzMkBzAHWyFVAghD2WnCTUAbLHxTLPxKBAQHPAMoAgQEBzwDLP8nIgljAAAAAAAAAAAAAAAABActnzMlw+wBWEANWEEuzyFVAghBDPY0EUAbLHxSBAQHPABKBAQHPAIEBAc8AAciBAQHPABLLP8kBzMlZADjIgljAAAAAAAAAAAAAAAABActnzMlw+wAQfhB5AfxXIVchERoRIxEaERkRIhEZERgRIREYERcRIBEXERYRHxEWERURHhEVERQRHREUERMRHBETERIRGxESERERGhERERARGREQDxEYDw4RFw4NERYNDBEVDAsRFAsKERMKCRESCQgREQgHERAHEG8QXhBNEDxLqRBYVBcDBwYRJQZfAf4RIZlWIAERIr7y5myZViABESK78uZs4hEaESMRGhEZESIRGREYESERGBEXESARFxEWER8RFhEVER4RFREUER0RFBETERwRExESERsREhERERoREREQERkREA8RGA8OERcODREWDQwRFQwLERQLChETCgkREgkIEREIBxEQBxBvYAH8Vx5XIFcgVyBXIBEXESARFxEWER8RFhEVER4RFREUER0RFBETERwRExESERsREhERERoREREQERkREA8RGA8OERcODREWDQwRFQwLERQLChETCgkREgkIEREIBxEQBxBvEF4QTRA8S6kQSBA3RlBSBQQRIgQDESMDAREjAREicgBkbDH6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIMPoAMXHXIfoAMfoAMKcDqwAAEA0REA0Qz1UrARwFESYFBBElBEATESbbPGEBQBBeEE0QPEupEFhUFwMHBhElBgURJgUEESUEQBMRJts8YQLmViKBAQEnWfQNb6GSMG3fIG6SMG2Oh9DbPGwabwrigWyWIW6z8vQgbvLQgG8qWzI0NYIAj25QBPL0VhaBAQErWfQNb6GSMG3fIG6SMG2X0PQEATFvAeIgbrOXIG7y0IBvIZIwbeIggQELLVn0C2+hkjBt37hiAv4gbpIwbY5K0NM/gQEB1wCBAQHXAIEBAdcA1AHQgQEB1wAwFRRDMAXUAdDTP4EBAdcAgQEB1wCBAQHXANQB0IEBAdcAMBUUQzA1EFpVA2wabwriIG6zlyBu8tCAbyqbMHBUcAAgcFRwACDiVhOVVHmHU5iVVHQyU0PiVhYjvOMAY2QAClcWIREWAv5WJIEBAVYbWfQNb6GSMG3fIG6SMG2Oh9DbPGwYbwjiIG6zlyBu8tCAbyiZMHBUcABUcAAg4nBTC8IAjjBbViCOE1I5oSqogjgFa8deLWMQAACpBCOOE1IpoSqogjgFa8deLWMQAACpBCLiUJmROuJWNIEBAVYkWfQNb6GSMG3fp2UD3CBukjBtjhjQgQEB1wDSAIEBAdcAgQEB1wBVMGwUbwTiIG6zlyBu8tCAbySVMHBwUxHicFYkJcIAlFYnJb2RcOLjACDCAI4VNFJDqCNWI6igU0OgqQRQQ6BWJUNDkTDicCBWJsIAklcj4w1WE1YoZmdoAIgxJFYltghWJ7OOFFYjJKFSEKiCOAVrx14tYxAAAKkEjhQjViShUhCogjgFa8deLWMQAACpBOJRIaFQZqEgwACScDTeBQB4W1YkViOoViCogjgKGPB9c2uQvlWqHKkEIBEjqIIQO5rKAKkEViIhoQERPwGgIVY/oAEROgGgETkRPhEiBP6OFlYkVhKhVicBqII4BWvHXi1jEAAAqQSOFlYRViWhVicBqII4BWvHXi1jEAAAqQTiVhRTGaAkoQERFgGgggDzySHC//L0VikhvJRXKVYo3lYpoREUViihVhIRFlYVoSHCAOMPViiOFVcaVxpXGlcaVxotVh0MVh+hClYjoeMOaWprbADaViuOFVYnVhWhUiCogjgFa8deLWMQAACpBI4VVhRWKKFSIKiCOAVrx14tYxAAAKkE4iJWKagBESaogjgKGPB9c2uQvlWqHKkEAREmoFYVgW+7ESaguQERJAHy9FYTggCmihEjqFYjvgERIgHy9AB6MVcTVxRXFFcfVx9XH1HeoAERIwEOoHBUcAAgBREnBRESESIREgIRIQIRExEgERMEERQEERMDERIDARERBACgVxVXFVcVVxVXFS1WHQtWH6EJViOhERYRGxEWERURGhEVERQRGREUERMRGBETERIRFxESERERFhERAREVAQsRFAsOERMOERAREhEQELwJCwoB0lNltglQdqG2CyZWI6iCOAVrx14tYxAAAKkEUqARJKiCOAVrx14tYxAAAKkEViMhtglQB6EBETABoFYiJqG2CwERMKEBETABoAgREAgHES8HEGsQXRBPAxEVAwIRFAIBERMBERKBAQsREm0B7MhVkBBaEEkQOEdqUEXLPxKBAQHPAIEBAc8AgQEBzwAByIEBAc8AyQHMyFVABlBFyz8SgQEBzwCBAQHPAIEBAc8AAciBAQHPAMkBzMkBzMkCERMCGVYeASBulTBZ9FkwlEEz9BPigQEBAcgBAfQAyQIRKQJWHAFuAvggbpUwWfRaMJRBM/QV4oEBAScCVhJURTApAlYpAlYtAgERHQELyFVw2zzJAhElAhRWGgEgbpUwWfRaMJRBM/QV4lR3bYEBAREQyFUwUDSBAQHPAMoAgQEBzwCBAQHPAMkCESsCHVYZASBulTBZ9FowlEEz9BXiDBEaDBCLlG8D/goRGApWFwoJERcJCBERCAcRKgcGERUGBREQBQQREwQQPwIBEREBVhZWGxA0yBEQVeDbPMnIgljAAAAAAAAAAAAAAAABActnzMlw+wAqBlBFAxEWAwERFQERGC3IVXDbPMnIgljAAAAAAAAAAAAAAAABActnzMlw+wAQNAIRFgKAgXAB2lF2yFVAghD2WnCTUAbLHxTLPxKBAQHPAMoAgQEBzwDLP8nIgljAAAAAAAAAAAAAAAABActnzMlw+wBWEQNWEU8zyFVAghBDPY0EUAbLHxSBAQHPABKBAQHPAIEBAc8AAciBAQHPABLLP8kBzMlxADrIgljAAAAAAAAAAAAAAAABActnzMlw+wAQfwoIBwEE2zxzAuhWH4EBASVZ9A1voZIwbd8gbpIwbY6H0Ns8bBpvCuKBbJYhbrPy9CBu8tCAbypbMjMzNIIAj25QA/L0VhKBAQEoWfQNb6GSMG3fIG6SMG2X0PQEATFvAeIgbrOXIG7y0IBvIZIwbeIggQELKln0C2+hkjBt37h0Af4gbpIwbY5K0NM/gQEB1wCBAQHXAIEBAdcA1AHQgQEB1wAwFRRDMAXUAdDTP4EBAdcAgQEB1wCBAQHXANQB0IEBAdcAMBUUQzA1EFpVA2wabwriIG6zlyBu8tCAbyqbMHBUcAAgcFRwACDiVhCVVHmHU5iVVHQyU0PiXVYigQEBdQTsVhpZ9A1voZIwbd8gbpIwbY6H0Ns8bBhvCOIgbrOXIG7y0IBvKJkwcFRwAFRwACDicFMNwgCOMFtWH44TUjuhLKiCOAVrx14tYxAAAKkEI44TUiuhLKiCOAVrx14tYxAAAKkEIuJQu5E84lYg4w9S4BEgqFYdqKd2d3gAKFYeLaFS4KiCOAVrx14tYxAAAKkEACgsVh+hUuCogjgFa8deLWMQAACpBAH2gjgKGPB9c2uQvlWqHKkEVh6gL4FKMxEhoL4BER8B8vQNVh2gVhyhgjgFa8deLWMQAACoVh+UK6MtqJNTvKjioFYfloIXxGU2AJaCEDuaygDiVhwBoB2oghA7msoAqQQcqQSCANiFVh+TUhy5k1IcvOIb8vRWL4EBAVYgeQL+WfQNb6GSMG3fIG6SMG2OGNCBAQHXANIAgQEB1wCBAQHXAFUwbBRvBOIgbrOXIG7y0IBvJJUwcHBTEeJwU7TCAJRWIyW9kXDi4wAgwgCOFDRSQ6hTPqigU0OgqQRQQ6BWIUNDkTDiU76oAREfqII4ChjwfXNrkL5VqhypBCARHnp7AIIxU0u2CFYjs44TU/OhUhCogjgFa8deLWMQAACpBI4TUz+hUhCogjgFa8deLWMQAACpBOJRIaFQZqEgwACScDTeBQH+qIIQO5rKAKkEVh0hoQEROQGgVh5WOaABETQBoFYeo3BUcAAgViiOFFcdVx1XHVcdVx1WG1YbUd+hUb6hji1XGFcYVxhXGFcYVhZWFlHPoVGuoREYER0RGBEXERwRFwERGAEMERcMEM0KDAviVhJWFLYJARETAREUobYLVhJWJXwBxqiCOAVrx14tYxAAAKkEUrARJqiCOAVrx14tYxAAAKkEViUhtgkBERWhAREvAaBWJFYUobYLAREvoQERLwGgCBEdCAcRLgcQbAURGgUEERkEAxEYAwIRFwIBERYBERWBAQsRFX0B7MhVkBBaEEkQOEdqUEXLPxKBAQHPAIEBAc8AgQEBzwAByIEBAc8AyQHMyFVABlBFyz8SgQEBzwCBAQHPAIEBAc8AAciBAQHPAMkBzMkBzMkCERYCHFYeASBulTBZ9FkwlEEz9BPigQEBAcgBAfQAyQIRKAJWHAF+AvwgbpUwWfRaMJRBM/QV4oEBAVYUAlYoVEkwLQJWFwJWKQIBER8BDshVcNs8yQIRJAIXVhoBIG6VMFn0WjCUQTP0FeJUddyBAQEPyFUwUDSBAQHPAMoAgQEBzwCBAQHPAMkCESoCHFYZASBulTBZ9FowlEEz9BXicwwQawoRGQqUfwP+VhgKCREYCQgRKggHERAHBhEjBhBfAwIREwIBERYBVhVWHBA0yBEQVeDbPMnIgljAAAAAAAAAAAAAAAABActnzMlw+wArBgQRGAQQIwIRHQIBERgBERUuyFVw2zzJyIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsAEDUQLwEREQFR94CBggH2ghCd/bGpARERyx8fywcdyz9QCyDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFhnLPxfKABWBAQHPABOBAQHPAAHIgQEBzwASgQEBzwASgQEBzwACyIEBAc8AE4EBAc8AE4EBAc8AA8iBAQHPABSBAQHPABTLP8kBgwBughCC5SBsUAnLHxfLPxWBAQHPABOBAQHPAIEBAc8AAciBAQHPABKBAQHPABKBAQHPABLLP8kBzAHcyFVAghD2WnCTUAbLHxTLPxKBAQHPAMoAgQEBzwDLP8nIgljAAAAAAAAAAAAAAAABActnzMlw+wAiVhEDAhEYAlDVyFVAghBDPY0EUAbLHxSBAQHPABKBAQHPAIEBAc8AAciBAQHPABLLP8kBzMmEAA7MyVjMyQHMAEbIgljAAAAAAAAAAAAAAAABActnzMlw+wAOERMOEH8QjgoQeAF8IcEBkVvgcC2TUxO5jqwigQEBI1n0DW+hkjBt3yBukjBtndDTP4EBAdcAWWwSbwLiIG6zkTDjDQGkAeg+XwOIAZIw0x8Bggl24Mm68uCB0z/0BFlsEnCBAQv4QlYWWXFBM/QKb6GUAdcAMJJbbeIgbrOWMSBu8tCAkTDiggCg9wHy9CHBAZFb4w5/lgFO0x8BghCUapi2uvLggdM/ATHIAYIQr/kPV1jLH8s/yfhCAXBt2zx/lwHqICBu8tCAbyIxASBu8tCAbyIwgQEBVFoAUjBBM/QMb6GUAdcAMJJbbeJus44bgQEBVBoAVGtAIW6VW1n0WjCYyAHPAEEz9ELijhuBAQFUGgBUa0AhbpVbWfRaMJjIAc8AQTP0QuLiVhSBAQErWfQNb6GSMG3fiQT2IG6SMG2OGNCBAQHXANIAgQEB1wCBAQHXAFUwbBRvBOIgbrORMOMNLYEBAStZ9A1voZIwbd8gbpIwbY6H0Ns8bBhvCOIgbrORMOMNERsRIREbERoRIBEaERkRHxEZERgRHhEYERcRHREXERYRHBEWERURIREVERQRIBEUiqeLjADaIG7y0IBvJCKOE1NRoVJAqII4BWvHXi1jEAAAqQSOE1MVoVJAqII4BWvHXi1jEAAAqQTiUXGhUAegVSCBAQEHyFUwUDSBAQHPAMoAgQEBzwCBAQHPAMkCERYCVCSwIG6VMFn0WjCUQTP0FeIRFAHaIG7y0IBvKFy2CVmhtgtTWaiCOAVrx14tYxAAAKkEU1qogjgFa8deLWMQAACpBFy2CVAEoQERFQGgVhQjobYLWKEBERUBoBETFxYVFEMwgQEBCMhVcNs8yRAvUrAgbpUwWfRaMJRBM/QV4g0QvJQC+BETER8RExESER4REhERER0REREQERwREA8RIQ8OESAODREfDQwRHgwLER0LChEcCgkRIQkIESAIBxEfBwYRHgYFER0FBBEcBAMCESACAREfAREeViFWINs8AhEiAgERIAHIVSCCEGJxocdQBMsfEss/gQEBzwCBAQHPAMmNjgL2VhuBAQEjWfQNb6GSMG3fIG6SMG2Oh9DbPGwabwriggDoxCFus/L0IG7y0IBvKmyCKIEBASVZ9A1voZIwbd8gbpIwbY4W0IEBAdcAgQEB1wCBAQHXAFUgbBNvA+IgbrOXIG7y0IBvI50w+CP4I4EOEKkIoXAg4lMigQ4QuI8A8MiCWMAAAAAAAAAAAAAAAAEBy2fMyXD7ABEZER8RGREYER4RGBEXER0RFxEWERwRFhEVERsRFREUERoRFBETERkRExESERgREhERERcREREQERYREA8RFQ8OERQODRETDQwREgwLERELChEQChCfEI4QfRBsVVUVFAL+oPgjXLmSMCDeJKcFE6ASoSDBBZNfCXDgKYEBASpZ9A1voZIwbd8gbpIwbY4V0NM/0z+BAQHXAIEBAdcAVTBsFG8E4iBus5kgbvLQgG8kbDGXMHBUcABsMeIBdakEU0CgBaQloAGoqwCoEqAigQLQueMCbCKCCB+vQKkEUTOhIJCRAGAxbDNZgQEBA8hVIFAjgQEBzwCBAQHPAIEBAc8AyRA3EiBulTBZ9FowlEEz9BXiBHAD/oIA9CS8lTCCAPQknSCCBwvcuZUwggcL3N7iE6BwUTOBAQEFyFUgUCOBAQHPAIEBAc8AgQEBzwDJSjBSUCBulTBZ9FowlEEz9BXiUxi8kTGdKKNSILmTMQejkTjiB+IqgQEBJFn0DW+hkjBt3yBukjBtjofQ2zxsGG8I4iBu4wKnkpMAChNfAzVwAuwgbvLQgG8oL8L/klNUklNF4gtWEaiCEDuaygCpBHBTAcIAjiowLMIAjhIwUgwSoVIQqCBWGqkEAREZAaCdPGaoIFYaqQQBERkBoOIRGAGSMzziERHC/5cREBShUCmgmFBKoFAvoRCO4kgAgQEBCchVcNs8yRsTlJUAclB4gQEBzwAVgQEBzwATgQEBzwAByIEBAc8AEoEBAc8AEoEBAc8AAsiBAQHPABOBAQHPAMkBzMkBzAA8IG6VMFn0WjCUQTP0FeIFgjgFa8deLWMQAACpBBBYAehwk1MCuY5dIYEBASJZ9A1voZIwbd8gbpIwbZ3Q0z/TP/QEVSBsE28D4iBus44yIG7y0IBvIwGBAQECyFkCyz/0AMkiEDkBIG6VMFn0WjCUQTP0FeJTZb6VNQWkBAWRNuKRMOKk6F8D+EJwgEB/VSBtbW3bPJgBOm1tIm6zmVsgbvLQgG8iAZEy4hAkcAMEgEJQI9s8mAHKyHEBygFQBwHKAHABygJQBSDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFlAD+gJwAcpoI26zkX+TJG6z4pczMwFwAcoA4w0hbrOcfwHKAAEgbvLQgAHMlTFwAcoA4skB+wCZAJh/AcoAyHABygBwAcoAJG6znX8BygAEIG7y0IBQBMyWNANwAcoA4iRus51/AcoABCBu8tCAUATMljQDcAHKAOJwAcoAAn8BygACyVjMAgN6IJydAgEgoKEC+KrhIG6SMG2OHCDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4Iji2zwRGxEcERsRGhEbERoRGREaERkRGBEZERgRFxEYERcRFhEXERYRFREWERURFBEVERQRExEUERMREhETERIRERESEREREBERERAPERAPVQ7bPGznbOeyngIYqR3bPNs8VxBfD2zBsp8AZG0hbrOOHTCBAQsBIG7y0IBWE1lxQTP0Cm+hlAHXADCSW23ikTHiVhxWHFYaVhpWGlYZAARWFAIBIKKjAgEgqaoD+bdRBA3SRg2xw4Qa6TAgIXdeXBEEGuFhRBAgn/deWhEwYTdeXBEcW2eCI2IjoiNiI0IjgiNCIyIjYiMiIwIjQiMCIuIjIiLiIsIjAiLCIqIi4iKiIoIiwiKCImIioiJiIkIigiJCIiIiYiIiIgIiQiIB4iIh4cIiAcqju2eQsqSlALm3ejBOC52Hq6WVz2PQnYc6yVCjbNBOE7rGpaVsj5ZkWnXlv74sRzBOBAq4A3AM7HKZywdVyOS2WHBOE7Lpy1Zp2W5nQdLNsozdFJBOCBnOrTzivzpKFgOsLcTI9lAD8m0hbrOOpCyBAQEkWfQNb6GSMG3fIG6SMG2X0PQEATFvAeIgbrOSMDHjDZEx4lYQgQEBI1n0DW+hkjBt3yBukjBtjhjQgQEB1wDSAIEBAdcAgQEB1wBVMGwUbwTiKoEBASRZ9A1voZIwbd8gbpIwbY6H0Ns8bBhvCOKmp6gA2FcQXw9swSBukjBtjlggbvLQgG8mAyBukjBtjhEgbvLQgG8qVURvBVVAbwVvAuICIG6SMG2ZIG7y0IBvJG8E4gEgbpIwbZkgbvLQgG8obwjiAyBukjBtmSBu8tCAbyNvA+JBMG8G4iBukjBt3gDaMSBu8tCAbyGBAQsCIG7y0IASWfQLb6GSMG3fIG6SMG2OStDTP4EBAdcAgQEB1wCBAQHXANQB0IEBAdcAMBUUQzAF1AHQ0z+BAQHXAIEBAdcAgQEB1wDUAdCBAQHXADAVFEMwNRBaVQNsGm8K4gBqgQEB1wCBAQHXAIEBAdcA1AHQgQEB1wCBAQHXAIEBAdcA1DDQgQEB1wCBAQHXADAQWBBXEFYAaoEBAVRJFVn0DW+hkjBt3yBukjBtjhbQgQEB1wCBAQHXAIEBAdcAVSBsE28D4ipRSgRDE28GAgEgq6wC3bUDm2eCI2IjgiNiI0IjYiNCIyIjQiMiIwIjIiMCIuIjAiLiIsIi4iLCIqIiwiKiIoIioiKCImIigiJiIkIiYiJCIiIiQiIiIgIiIiIB4iIB6qHbZ4riSuIL4eoXi+FkDdJGDbMkDd5aEA3lTeFcULKzABGwr7tRNDSAAGACASCtrgP5rn2QN0kYNscOEGukwICF3XlwRBBrhYUQQIJ/3XloRMGE3XlwRHFtngiNiI4IjYiNCI2IjQiMiI0IjIiMCIyIjAiLiIwIi4iLCIuIiwiKiIsIioiKCIqIigiJiIoIiYiJCImIiQiIiIkIiIiICIiIiAeIiAeqh22eK4gvh8Cyr7AAdazdxoatLgzOZ0Xl6i2qDgsoTi5KBuxmyCiO6EcsbQpN6K1sZkgpjwcoSYstSacupyZqiKyqjMaKLDBAAWhtIW6zjqUwgQELASBu8tCAVhJZWfQLb6GSMG3fIG6SMG2Oh9DbPGwWbwbikTHiVH7cLm8FsQBWbMEgbpIwbY4bIG7y0IBvJQQgbpIwbZkgbvLQgG8mbwbiBG8F4iBukjBt3gBO0z+BAQHXAIEBAdcAgQEB1wDUAdCBAQHXAIEBAdcAMBAmECUQJBAjAtztRNDUAfhj0gABjszbPFccERoRGxEaERkRGhEZERgRGREYERcRGBEXERYRFxEWERURFhEVERQRFREUERMRFBETERIRExESEREREhERERAREREQDxEQD1UO4Pgo1wsKgwm68uCJgQEB1wABAdHbPLS1AUKBAQFWGwJZ9A1voZIwbd8gbpIwbY6H0Ns8bBpvCuJWGQG4AfaBAQHXAIEBAdcA9ATTP4EBAdcA1AHQgQEB1wCBAQHXAPpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB1DDQ+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAGBAQHXAPQE9ATTP/QEgQEB1wDUMNCBAQG2AfYwggr68ICCCcnDgG1xgQJYghA7msoAIHBtbSZtVHREIG0mbVMzbW1tI234QlMiyHIBywFwAcsAEsoHy//J0CDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IiBAQv4Qn8tBBEXBCFulVtZ9FkwmMgBzwBBM/RB4gERFAG3AJzXAIEBAdcAgQEB1wD0BNM/9ATUMNCBAQHXAIEBAdcA9AT0BPQEgQEB1wDUMND0BDARFxEcERcRFxEbERcRFxEaERcRFxEZERcRFxEYERcAGgEREgEREQEREAEPVcEAftQB0AHSAIEBAdcAgQEB1wCBAQHXANQB0IEBAdcAgQEB1wCBAQHXANQw0IEBAdcAgQEB1wAwEFoQWRBYEFcQVg==","abi":"{\"name\":\"Pool\",\"types\":[{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounced\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"Deploy\",\"header\":2490013878,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"DeployOk\",\"header\":2952335191,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"FactoryDeploy\",\"header\":1829761339,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"cashback\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwner\",\"header\":2174598809,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwnerOk\",\"header\":846932810,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"UpdateConfig\",\"header\":198381229,\"fields\":[{\"name\":\"executor\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"enableExecutor\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":true}},{\"name\":\"gasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":true,\"format\":\"coins\"}},{\"name\":\"minTonsForStorage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":true,\"format\":\"coins\"}},{\"name\":\"lpLockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"lpBonusFactor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"lpLiquidityFactor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"orderBook\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}]},{\"name\":\"UpdateTokenConfig\",\"header\":1775519856,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"name\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":true}},{\"name\":\"enable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":true}},{\"name\":\"minMargin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"maxLeverage\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"liquidationFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"tradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"lpTradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"interestRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"maxFundingRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}}]},{\"name\":\"UpdateLPPosition\",\"header\":3902592095,\"fields\":[{\"name\":\"isIncrease\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"pricesLength\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"prices\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UpdatePriceParam\",\"valueFormat\":\"ref\"}}]},{\"name\":\"UpdateLPPositionSuccess\",\"header\":485543809,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"UpdatePerpPosition\",\"header\":4283950423,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"triggerAbove\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"pricesLength\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"prices\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UpdatePriceParam\",\"valueFormat\":\"ref\"}}]},{\"name\":\"UpdatePerpPositionSuccess\",\"header\":4009870004,\"fields\":[{\"name\":\"orderId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"UpdatePrice\",\"header\":499684748,\"fields\":[{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"pricesLength\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"prices\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UpdatePriceParam\",\"valueFormat\":\"ref\"}}]},{\"name\":\"SetPremiumRateSampleRange\",\"header\":24568009,\"fields\":[{\"name\":\"sampleRangeLength\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"sampleRanges\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"PremiumRateSampleRangeParam\",\"valueFormat\":\"ref\"}}]},{\"name\":\"DeviationRate\",\"header\":769006232,\"fields\":[{\"name\":\"deviationRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LPPositionIncreasedEvent\",\"header\":528848591,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"unlockTimeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedFundingFeeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedFundingFeeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"LPPositionDecreasedEvent\",\"header\":88850873,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"liquidityDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonusAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFeeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"GlobalLPLiquidityChangedEvent\",\"header\":1128107268,\"fields\":[{\"name\":\"lpFundAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedPnl\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"GlobalLPPositionChangedEvent\",\"header\":4133122195,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"netSizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"entryPriceAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"PerpPositionIncreasedEvent\",\"header\":15026030,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"marginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradePrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"PerpPositionDecreasedEvent\",\"header\":2650649001,\"fields\":[{\"name\":\"opType\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"marginDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"marginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradePrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedPnLDelta\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"fundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"receive\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"GlobalPositionChangedEvent\",\"header\":2196054124,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"longMarginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortMarginAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"longSizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortSizeAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"longFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortFundingFeeGrowthAfter\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"trxId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"UpdatePriceEvent\",\"header\":1651614151,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpFundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PremiumRateChangedEvent\",\"header\":4236686843,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"deviationRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"premiumRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"ConfigData\",\"header\":null,\"fields\":[{\"name\":\"isExecutor\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":true}},{\"name\":\"gasConsumption\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"minTonsForStorage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"lpLockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpBonusFactor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpLiquidityFactor\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"orderBook\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"TokenConfig\",\"header\":null,\"fields\":[{\"name\":\"name\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"enable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"minMargin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxLeverage\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidationFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"liquidityProportion\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"tradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"lpTradingFeeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"interestRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxFundingRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"TokenConfigData\",\"header\":null,\"fields\":[{\"name\":\"tokenIdNext\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"tokenConfig\",\"type\":{\"kind\":\"simple\",\"type\":\"TokenConfig\",\"optional\":true}}]},{\"name\":\"LPPosition\",\"header\":null,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"liquidity\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bonus\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"realizedFundingFee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"unlockTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LPPositionData\",\"header\":null,\"fields\":[{\"name\":\"lpPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"LPPosition\",\"optional\":true}},{\"name\":\"globalLPFund\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLPLiquidity\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLPFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalLPUnrealizedPnl\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"AccountPerpPosition\",\"header\":null,\"fields\":[{\"name\":\"positions\",\"type\":{\"kind\":\"dict\",\"key\":\"address\",\"value\":\"DirectionPerpPosition\",\"valueFormat\":\"ref\"}}]},{\"name\":\"DirectionPerpPosition\",\"header\":null,\"fields\":[{\"name\":\"longPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"PerpPosition\",\"optional\":false}},{\"name\":\"shortPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"PerpPosition\",\"optional\":false}}]},{\"name\":\"PerpPosition\",\"header\":null,\"fields\":[{\"name\":\"positionId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"margin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"size\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entryFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalLPPosition\",\"header\":null,\"fields\":[{\"name\":\"netSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"isLong\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"entryPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"unrealizedPnl\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PerpPositionData\",\"header\":null,\"fields\":[{\"name\":\"globalPerpNetValue\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"globalPerpSingleValue\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"perpPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"DirectionPerpPosition\",\"optional\":true}},{\"name\":\"globalLPPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"GlobalLPPosition\",\"optional\":true}},{\"name\":\"globalPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"GlobalPosition\",\"optional\":true}},{\"name\":\"globalFundingRateSample\",\"type\":{\"kind\":\"simple\",\"type\":\"GlobalFundingRateSample\",\"optional\":true}}]},{\"name\":\"UpdatePriceParam\",\"header\":null,\"fields\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PremiumRateSampleRange\",\"header\":null,\"fields\":[{\"name\":\"sampleLength\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"samples\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"PremiumRateSample\",\"valueFormat\":\"ref\"}}]},{\"name\":\"PremiumRateSampleRangeParam\",\"header\":null,\"fields\":[{\"name\":\"sampleId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"sampleLength\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"samples\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"PremiumRateSample\",\"valueFormat\":\"ref\"}}]},{\"name\":\"PremiumRateSample\",\"header\":null,\"fields\":[{\"name\":\"deviationRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"premiumRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PremiumRateSampleData\",\"header\":null,\"fields\":[{\"name\":\"rangeId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"sampleId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"deviationRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"premiumRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalPosition\",\"header\":null,\"fields\":[{\"name\":\"longMargin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortMargin\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"longSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortSize\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"longFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortFundingFeeGrowth\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"longValue\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"shortValue\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GlobalFundingRateSample\",\"header\":null,\"fields\":[{\"name\":\"lastAdjustFundingRateTime\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"sampleCount\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"cumulativePremiumRate\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateConfig\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateTokenConfig\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateLPPosition\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdatePerpPosition\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdatePrice\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"SetPremiumRateSampleRange\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Deploy\"}}],\"getters\":[{\"name\":\"configData\",\"arguments\":[{\"name\":\"executor\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"ConfigData\",\"optional\":false}},{\"name\":\"tokenConfig\",\"arguments\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"TokenConfigData\",\"optional\":false}},{\"name\":\"lpPosition\",\"arguments\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"LPPositionData\",\"optional\":true}},{\"name\":\"perpPosition\",\"arguments\":[{\"name\":\"tokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"PerpPositionData\",\"optional\":true}},{\"name\":\"owner\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}],\"errors\":{\"2\":{\"message\":\"Stack undeflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"13\":{\"message\":\"Out of gas error\"},\"32\":{\"message\":\"Method ID not found\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"37\":{\"message\":\"Not enough TON\"},\"38\":{\"message\":\"Not enough extra-currencies\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid address\"},\"137\":{\"message\":\"Masterchain support is not enabled for this contract\"},\"1644\":{\"message\":\"not reach trigger price\"},\"4996\":{\"message\":\"none available price\"},\"5238\":{\"message\":\"position not exist\"},\"9429\":{\"message\":\"send gas not enough\"},\"18995\":{\"message\":\"margin rate too low\"},\"23314\":{\"message\":\"insufficient liquidity for single value\"},\"27798\":{\"message\":\"invalid token\"},\"28603\":{\"message\":\"margin rate too high\"},\"31425\":{\"message\":\"not reach unlock time\"},\"36718\":{\"message\":\"disabled token\"},\"39251\":{\"message\":\"insufficient global LP\"},\"41207\":{\"message\":\"invalid sender\"},\"42634\":{\"message\":\"legerage too high\"},\"54040\":{\"message\":\"insufficient global net LP\"},\"55429\":{\"message\":\"not reach liquidate price\"},\"55754\":{\"message\":\"insufficient liquidity for net value\"},\"59588\":{\"message\":\"token config not exist\"},\"62409\":{\"message\":\"insufficient margin\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\",\"org.ton.chain.workchain.v0\",\"org.ton.ownable\"]}","init":{"kind":"direct","args":[{"name":"deployId","type":{"kind":"simple","type":"int","optional":false,"format":257}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":"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EREEANpWK44VVidWFaFSIKiCOAVrx14tYxAAAKkEjhVWFFYooVIgqII4BWvHXi1jEAAAqQTiIlYpqAERJqiCOAoY8H1za5C+VaocqQQBESagVhWBb7sRJqC5AREkAfL0VhOCAKaKESOoViO+AREiAfL0AHhbViRWI6hWIKiCOAoY8H1za5C+VaocqQQgESOoghA7msoAqQRWIiGhARE/AaAhVj+gARE6AaARORE+ESIAiDEkViW2CFYns44UViMkoVIQqII4BWvHXi1jEAAAqQSOFCNWJKFSEKiCOAVrx14tYxAAAKkE4lEhoVBmoSDAAJJwNN4FAApXFiERFgH8ESKXIBEjvvLmbJcgESO78uZs4hEbESMRGxEaESIRGhEZESERGREYESARGBEXER8RFxEWER4RFhEVER0RFREUERwRFBETERsRExESERoREhERERkREREQERgREA8RFw8OERYODREVDQwRFAwLERMLChESCgkREQkIERAIVXcnVwE+EGgHBhEmBgURJwUEESUEAxElAwIRJQIBEScBESXbPFgC5FYigQEBJ1n0DW+hkjBt3yBukjBtjofQ2zxsGm8K4oFsliFus/L0IG7y0IBvKlsyNoIAj25QBfL0VheBAQEsWfQNb6GSMG3fIG6SMG2X0PQEATFvAeIgbrOXIG7y0IBvIZIwbeIggQELLln0C2+hkjBt36ZZAfggbpIwbY5K0NM/gQEB1wCBAQHXAIEBAdcA1AHQgQEB1wAwFRRDMAXUAdDTP4EBAdcAgQEB1wCBAQHXANQB0IEBAdcAMBUUQzA1EFpVA2wabwriIG6zlyBu8tCAbyqbMHBUcAAgcFRwACDiVhSVVHmHU5iVVHQyU0PiIsAAWgL8jhg0VheCAPPJERO+ARESAfL0ViSkESUDERGSVxLiViSBAQFWG1n0DW+hkjBt3yBukjBtjofQ2zxsGG8I4iBus5cgbvLQgG8omTBwVHAAVHAAIOJWIJQFVh6glgRWHqAEBeJTFbYJUCahtgshVh6ogjgFa8deLWMQAACpBFJQm1sB/BEfqII4BWvHXi1jEAAAqQRWHiG2CVAHoQERKwGggVsSVjNWPKiCEDuaygCpBFIgu/L0Vh0mobYLAREroQERKwGgggDZyiFWM7vy9FYygQEBViJZ9A1voZIwbd8gbpIwbY4Y0IEBAdcA0gCBAQHXAIEBAdcAVTBsFG8E4iBus1wD9JcgbvLQgG8klTBwcFMR4nBWIiXCAJRWJSW6kXDijkMxJFYjtghWJY4UViEkoVIQqII4BWvHXi1jEAAAqQSOFCNWIqFSEKiCOAVrx14tYxAAAKkE4lEhoVBmoSDAAJJwNN4F3iDCAJEw4w1wIFYkwgCSVyDjDXBTD8IAaWhdAv6ONVtWJY4VUoARH6EuqII4BWvHXi1jEAAAqQQojhVScBEfoS6ogjgFa8deLWMQAACpBCfiER8Bklcg4lYQESYhoCKhARERAaAgESahUv+oViRWI6igL1YloKkED1YkoFYfVieOFVYQViShUiCogjgFa8deLWMQAACpBOMNIlYlZ14C/qgBESSogjgKGPB9c2uQvlWqHKkEAREfoFYmgW+7ESSguQERIgHy9FYkggCmihEfqFYhVhCogjgFa8deLWMQAACpBL4BER4B8vRWJI4TVxVXFVcVVxVXFSpWH1YcK1GroOMOEDhHYBBaBBEaBAMREwMCERICARERAREQgQELERBmXwHsyFWQEFoQSRA4R2pQRcs/EoEBAc8AgQEBzwCBAQHPAAHIgQEBzwDJAczIVUAGUEXLPxKBAQHPAIEBAc8AgQEBzwAByIEBAc8AyQHMyQHMyQIREQIXVh0BIG6VMFn0WTCUQTP0E+KBAQEByAEB9ADJAhEoAlYbAWAC+CBulTBZ9FowlEEz9BXigQEBJlRGMFYmVEswKwJWFAIBERwBD8hVcNs8yQIRJAIYVhkBIG6VMFn0WjCUQTP0FeJUe6mBAQEMyFUwUDSBAQHPAMoAgQEBzwCBAQHPAMkCESoCGVYYASBulTBZ9FowlEEz9BXiDBEZDAsRKAuaYQP2ChEXClYWCgkRFgkIESQIBxEVBwYRFAYFEREFBBESBAMRFAMQLgERIgEPVhkQI8hV4Ns8yciCWMAAAAAAAAAAAAAAAAEBy2fMyXD7ACkGEFcUAxEUAxEcQXAsyFVw2zzJyIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsARAQlZWRiAdbIVUCCEPZacJNQBssfFMs/EoEBAc8AygCBAQHPAMs/yciCWMAAAAAAAAAAAAAAAAEBy2fMyXD7AFYQA1YQS7PIVUCCEEM9jQRQBssfFIEBAc8AEoEBAc8AgQEBzwAByIEBAc8AEss/yQHMyWMAOMiCWMAAAAAAAAAAAAAAAAEBy2fMyXD7ABB+EHkAboIQguUgbFAJyx8Xyz8VgQEBzwATgQEBzwCBAQHPAAHIgQEBzwASgQEBzwASgQEBzwASyz/JAcwA9oII5UduAREQyx8eywccyz9QCiDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFhjLPxbKABSBAQHPABKBAQHPAAHIgQEBzwASgQEBzwASgQEBzwACyIEBAc8AE4EBAc8AE4EBAc8AA8iBAQHPABTLP8lYzMkBzMkBzACKVxBXEFcQVxBXECpWH1YcK1GboBEUERoRFBETERgRExESERcREhERERYREREQERUREA8RFA8DERMDAhESAgEREQEJERAKACpWI1YRoVIgqII4BWvHXi1jEAAAqQQAeFtWIlYhqFYgqII4ChjwfXNrkL5VqhypBCARIKiCEDuaygCpBFYfIaEBET0BoCFWPaABETgBoBE3ETwRHwAsNFJDqCNWIaigU0OgqQRQQ6BWI7NDQwDkASBu8tCAbyRSBaCrAAOBAQFUMyXIVTBQNMs/yz+BAQHPAIEBAc8AyUVQVisBIG6VMFn0WjCUQTP0FeJWKUBDyFUgghD8hrX7UATLHxLLP4EBAc8AgQEBzwDJyIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsAAfpWJLMRHBEdERwRGxEdERsRGhEdERoRGREdERkRGBEdERgRFxEdERcRFhEdERYRFREdERURFBEdERQRExEdERMREhEdERIREREdEREREBEdERAPER0PDhEdDg0RHQ0MER0MCxEdCwoRHQoJER0JCBEdCAcRHQcGER0GBREdBWwBMAQRHQQDER0DAhEdAgERHQFWJwFWJAHbPG4B5hEbERwRGxEaERwRGhEZERwRGREYERwRGBEXERwRFxEWERwRFhEVERwRFREUERwRFBETERwRExESERwREhERERwREREQERwREA8RHA8OERwODREcDQwRHAwLERwLChEcCgkRHAkRHAgHBlVAViZWI1Ym2zxuA/JWHIEBASRZ9A1voZIwbd8gbpIwbY6H0Ns8bBpvCuIgbpNfBG3gIG7y0IBvKhBJXwlWEoEBASVZ9A1voZIwbd8gbpIwbY4Y0IEBAdcA0gCBAQHXAIEBAdcAVTBsFG8E4iBuk18FbeAgbvLQgG8kW1RxBCTCAJIzcOMNpndvAfyaUDa2CGahWaFQRJIzNeIgwgCWMROgAbNYkjAy4lYRL6ABqIIQO5rKAKkEAoIQO5rKAKhYqQQRHREeER0RHBEeERwRGxEeERsRGhEeERoRGREeERkRGBEeERgRFxEeERcRFhEeERYRFREeERURFBEeERQRExEeERMREhEeERJwAvwREREeEREREBEeERAPER4PDhEeDg0RHg0MER4MCxEeCwoRHgoJER4JCBEeCAcRHgcGER4GBREeBQQRHgQDER4DAhEeAgERHgHbPBEglqMRH6MRH95VAhEfbwQRGxEcERsRGhEbERoRGREaERkRGBEZERgRFxEYERcRFhEXERZycQCEERURFhEVERQRFREUERMRFBETERIRExESEREREhERERAREREQDxEQDxDvEN4QzRC8EKsQmhCJEHgQZxBWEEUQNEEwAcbtou37IIIImJaAqQQggQDIvpV6qQSnCpsggQEsvpQwgQEs3uIlgQEBIln0DW+hkjBt3yBukjBtmtDTP/QEWWwSbwLiIG6WE18DcFMA4CBu8tCAbyKBAQFURhZZ9A1voZIwbd9zAtQgbpIwbY4V0NM/0z+BAQHXAIEBAdcAVTBsFG8E4iBus5cgbvLQgG8klTBwVHAA4lNhupJsROBwVHByvJF/kXDiUxFSqbqfMDE1U3K8kjAilDUiEDXi4w6aUwO+k1MFu5Fw4orobDM0NFADdXQA4iSSIKSSIKXiKYEBASJZ9A1voZIwbd8gbpIwbY4Q0IEBAdcAgQEB1wBZbBJvAuIgbplbbDM0NFAD2zHgIG7y0IBvIieOHFOhuZpfA2wzNDRQA9sx4GwzU3G6lmwzbCTbMeCdbDNTcb6WbDNsJNsx4OJYAZo0NDQijkMogQEBJ1n0DW+hkjBt3yBukjBtjhDQgQEB1wCBAQHXAFlsEm8C4iBus44VMjQgIG7y0IBvIjABIG7y0IBvIjEEkTDi4w1BQ3YAhiiBAQEiWfQNb6GSMG3fIG6SMG2OENCBAQHXAIEBAdcAWWwSbwLiIG6zjhUyNCAgbvLQgG8iMAEgbvLQgG8iMQSRMOIABlJkugC80x8BghD/V+VXuvLggdM/0wfTP/pAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB0gCBAQHXAIEBAdcA1AHQgQEB1wDSANM/0z/0BDAQXBBbEFoQWRBYEFcQVgHyggCg9/hCVhwBxwXy9BEdESIRHREcESERHBEbESARGxEaER8RGhEZER4RGREYESIRGBEXESERFxEWESARFhEVER8RFREUER4RFBETESIRExESESEREhERESAREREQER8REA8RHg8OESIODREhDQwRIAwLER8LChEeCnoEdAkRIgkIESEIBxEgBwYRHwYFER4FBBEiBAMRIQMCESAC2zxwER7jD/hBbyQTXwNWHKoAoVYbofhBbySNhX57A/7bPKGBJNUhwgDy9BEecBEgcREfyFUgghAc8M+BUATLHxLLP4EBAc8Ayz/JVhQEAxEfAwIRIAIRHgEQJBAjbW3bPBEYERsRGBEXERoRFxEWERkRFhEVERgRFREUERcRFBETERYRExESERUREhERERQREREQERMREA8REg8OEREOfa18ABINERANEM9VKxIAZGwx+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiDD6ADFx1yH6ADH6ADCnA6sAAfpXHREaER0RGhEZERwRGREYERsRGBEXERoRFxEWERkRFhEVERgRFREUERcRFBETERYRExESERUREhERERQREREQERMREA8REg8OEREODREQDRDPVSsSAREfAREeVh/bPBEeERwRGxEaERkRGBEXERYRFREUERMREhERERBV4H8E9lYTgQELJFn0C2+hkjBt3yBukjBtjofQ2zxsFm8G4oEUdiFus/L0IG7y0IBvJoF6wSH4I7vy9FNHuZM3IwfeVhNWFwGgggCZUyHCAPL0IMEAkjBw3oIA0xghwgDy9HAhVhi+l1KSqFYXqQTjDXAnwgDjAFAFoFFEoHBReoyEg4AD+qFTYrYJF6EmwgCRf5MgwgDijqaBAQspVEgwVDpxCMhVUNs8yQIRHAJUJ7AgbpUwWfRZMJRBM/QT4o6vMzaBAQttIG6SMG2OjSBu8tCAbybIVVDbPMniAhEcAlKwIG6VMFn0WTCUQTP0E+LiERcloREWKKFyCBBqEFkQSREbioqBAexUGTpWHMhVoNs8yciCWMAAAAAAAAAAAAAAAAEBy2fMyXD7AHBTD1EwVSARFshVQIIQQz2NBFAGyx8UgQEBzwASgQEBzwCBAQHPAAHIgQEBzwASyz/JAczJyIJYwAAAAAAAAAAAAAAAAQHLZ8zJcPsADhERDhDeggDK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LG6zmzURKyBu8tCABBErklcs4lYqbrObMxEpIG7y0IACESmSVyriVihus5gxEScgbvLQgJJXKOJWJG6znVcqESMgbvLQgBEpESOSVyTiViVus51XJxEkIG7y0IARJhEkklcl4lYjbrOSVyPjDaWiA/ZWIG6znVceER8gbvLQgBEdER+SVyDiVh5WGr6XVxlWHaQRGd4IBxEfBwYRIQYFESIFBBEgBAMRIwMCESQCARElAREmgQEBER7IVZDbPMkDERIDAhEVAgERFgEgbpUwWfRaMJRBM/QV4vhCcHCAQBAjbW1t2zwREREbERGkraMAfBEQERoREBEZDhEYDg0RFw0MERYMCxEVCwoRFAoJERMJCBESCAcREQcGERAGEF8QThA9TLAQWhCJEFZFA0QUAIbIUArPFslQCswXygAVgQEBzwATgQEBzwCBAQHPAAHIgQEBzwASgQEBzwASgQEBzwADyIEBAc8AEoEBAc8AyVjMyQHMABpXJxEiIG7y0IARJhEiAH7UAdAB0gCBAQHXAIEBAdcAgQEB1wDUAdCBAQHXAIEBAdcAgQEB1wDUMNCBAQHXAIEBAdcAMBBaEFkQWBBXEFYB9tMfAYIQadRIcLry4IHTP9IAAZPUAdCRbeIB0gABktIAkm0B4tIAAZWBAQHXAJJtAeLSAAGVgQEB1wCSbQHi0gABlYEBAdcAkm0B4tQB0NIAAZWBAQHXAJJtAeLSAAGVgQEB1wCSbQHi0gABlYEBAdcAkm0B4tQw0NIAAagALpaBAQHXADCSMG3iEEoQSRBIEEcQRhBFAfARGxEjERsRGhEiERoRGREhERkRGBEgERgRFxEfERcRFhEeERYRFREdERURFBEcERQRExEjERMREhEiERIREREhEREREBEgERAPER8PDhEeDg0RHQ0MERwMCxEjCwoRIgoJESEJCBEgCAcRHwcGER4GBREdBQQRHASqBP4DESMDAhEiAgERIQERINs8Vh9us5RWHm6zkXDijjGBAQsRICBu8tCAER8gbvLQgAMREgMCESACAREfAXEhbpVbWfRZMJjIAc8AQTP0QeIPlFceVx7iVhtus51XGREaIG7y0IARGBEaklcb4lYZbrOSVxnjDVYfbrOSVx/jDVYdsbCvqwL6brOdVxERHCBu8tCAERARHJJXHeJWG26zmz8RGiBu8tCADhEaklcb4lYZbrObPBEYIG7y0IALERiSVxni+EJwcIBAECNtbW3bPBETERsRExESERoREhERERkREREQERgREA8RFw8OERYODREVDQwRFAwLERMLChESCgkREQmtrAAqCBEQCBB/EG4QXRBMEDtKGFCXXkEBAcrIcQHKAVAHAcoAcAHKAlAFINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WUAP6AnABymgjbrORf5MkbrPilzMzAXABygDjDSFus5x/AcoAASBu8tCAAcyVMXABygDiyQH7AK4AmH8BygDIcAHKAHABygAkbrOdfwHKAAQgbvLQgFAEzJY0A3ABygDiJG6znX8BygAEIG7y0IBQBMyWNANwAcoA4nABygACfwHKAALJWMwAGlcTER4gbvLQgBESER4AGlcXERggbvLQgBEWERgAFPhCVhUBxwXy4IQD8tMfAYIQC9MOrbry4IH6QCHXCwHDAI4dASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IiSMW3iAdIAAZLSAJJtAeLSAAGS+gCSbQHi0gABkvoAkm0B4tIAAZWBAQHXAJJtAeLUAdDSAAGVgQEB1wCSbQHi0gAB4w+1tLMAbPpAIdcLAcMAjh0BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiJIxbeIxEDgQNxA2EDUQNAAEbQEACoEBAdcAAtztRNDUAfhj0gABjszbPFccERoRGxEaERkRGhEZERgRGREYERcRGBEXERYRFxEWERURFhEVERQRFREUERMRFBETERIRExESEREREhERERAREREQDxEQD1UO4Pgo1wsKgwm68uCJgQEB1wABAdHbPLm3AfYwggr68ICCCcnDgG1xgQJYghA7msoAIHBtbSZtVHREIG0mbVMzbW1tI234QlMiyHIBywFwAcsAEsoHy//J0CDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IiBAQv4Qn8tBBEXBCFulVtZ9FkwmMgBzwBBM/RB4gERFAG4ABoBERIBEREBERABD1XBAfaBAQHXAIEBAdcA9ATTP4EBAdcA1AHQgQEB1wCBAQHXAPpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB1DDQ+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAGBAQHXAPQE9ATTP/QEgQEB1wDUMNCBAQG6AJzXAIEBAdcAgQEB1wD0BNM/9ATUMNCBAQHXAIEBAdcA9AT0BPQEgQEB1wDUMND0BDARFxEcERcRFxEbERcRFxEaERcRFxEZERcRFxEYERe4vjaz"}},"sources":{"contracts/pool/messages.tact":"aW1wb3J0ICIuL3N0cnVjdHMiOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBhZG1pbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwptZXNzYWdlIFVwZGF0ZUNvbmZpZyB7CiAgICBleGVjdXRvcjogQWRkcmVzcz87CiAgICBlbmFibGVFeGVjdXRvcjogQm9vbD87CiAgICBnYXNDb25zdW1wdGlvbjogSW50PyBhcyBjb2luczsKICAgIG1pblRvbnNGb3JTdG9yYWdlOiBJbnQ/IGFzIGNvaW5zOwogICAgbHBMb2NrVGltZTogSW50PzsKICAgIGxwQm9udXNGYWN0b3I6IEludD87CiAgICBscExpcXVpZGl0eUZhY3RvcjogSW50PzsKICAgIG9yZGVyQm9vazogQWRkcmVzcz87Cn0KCm1lc3NhZ2UgVXBkYXRlVG9rZW5Db25maWcgewogICAgdG9rZW5JZDogSW50IGFzIHVpbnQ2NDsKICAgIG5hbWU6IFN0cmluZz87CiAgICBlbmFibGU6IEJvb2w/OwogICAgbWluTWFyZ2luOiBJbnQ/OwogICAgbWF4TGV2ZXJhZ2U6IEludD87CiAgICBsaXF1aWRhdGlvbkZlZTogSW50PzsKICAgIHRyYWRpbmdGZWVSYXRlOiBJbnQ/OwogICAgbHBUcmFkaW5nRmVlUmF0ZTogSW50PzsKICAgIGludGVyZXN0UmF0ZTogSW50PzsKICAgIG1heEZ1bmRpbmdSYXRlOiBJbnQ/Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IExQID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCm1lc3NhZ2UoMHhlODljZDQ1ZikgVXBkYXRlTFBQb3NpdGlvbiB7CiAgICBpc0luY3JlYXNlOiBCb29sOwogICAgb3JkZXJJZDogSW50IGFzIHVpbnQ2NDsKICAgIGFjY291bnQ6IEFkZHJlc3M7CiAgICBsaXF1aWRpdHlEZWx0YTogSW50OwogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7CiAgICBwcmljZXNMZW5ndGg6IEludCBhcyB1aW50NjQ7CiAgICBwcmljZXM6IG1hcDxJbnQsIFVwZGF0ZVByaWNlUGFyYW0+Owp9CgptZXNzYWdlKDB4MWNmMGNmODEpIFVwZGF0ZUxQUG9zaXRpb25TdWNjZXNzIHsKICAgIG9yZGVySWQ6IEludCBhcyB1aW50NjQ7CiAgICByZWNlaXZlOiBJbnQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBQZXJwID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCm1lc3NhZ2UoMHhmZjU3ZTU1NykgVXBkYXRlUGVycFBvc2l0aW9uIHsKICAgIG9yZGVySWQ6IEludCBhcyB1aW50NjQ7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIHRva2VuSWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgaXNMb25nOiBCb29sOwogICAgbWFyZ2luRGVsdGE6IEludDsKICAgIHNpemVEZWx0YTogSW50OwogICAgdHJpZ2dlclByaWNlOiBJbnQ7CiAgICB0cmlnZ2VyQWJvdmU6IEJvb2w7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKICAgIHByaWNlc0xlbmd0aDogSW50IGFzIHVpbnQ2NDsKICAgIHByaWNlczogbWFwPEludCwgVXBkYXRlUHJpY2VQYXJhbT47Cn0KCm1lc3NhZ2UoMHhlZjAxYzJiNCkgVXBkYXRlUGVycFBvc2l0aW9uU3VjY2VzcyB7CiAgICBvcmRlcklkOiBJbnQgYXMgdWludDY0OwogICAgcmVjZWl2ZTogSW50OwogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUHJpY2UgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KbWVzc2FnZSBVcGRhdGVQcmljZSB7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKICAgIHByaWNlc0xlbmd0aDogSW50IGFzIHVpbnQ2NDsKICAgIHByaWNlczogbWFwPEludCwgVXBkYXRlUHJpY2VQYXJhbT47Cn0KCm1lc3NhZ2UgU2V0UHJlbWl1bVJhdGVTYW1wbGVSYW5nZSB7CiAgICBzYW1wbGVSYW5nZUxlbmd0aDogSW50IGFzIHVpbnQ2NDsKICAgIHNhbXBsZVJhbmdlczogbWFwPEludCwgUHJlbWl1bVJhdGVTYW1wbGVSYW5nZVBhcmFtPjsKfQoKLy8gZm9yIHRlc3QKbWVzc2FnZSBEZXZpYXRpb25SYXRlIHsKICAgIGRldmlhdGlvblJhdGU6IEludDsKfQo=","contracts/pool/events.tact":"aW1wb3J0ICIuL3N0cnVjdHMiOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBMUCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwovLyBpbmNyZWFzZSBMUAptZXNzYWdlIExQUG9zaXRpb25JbmNyZWFzZWRFdmVudCB7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIHBvc2l0aW9uSWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgbGlxdWlkaXR5RGVsdGE6IEludDsKICAgIGxpcXVpZGl0eUFmdGVyOiBJbnQ7CiAgICBib251c0RlbHRhOiBJbnQ7CiAgICBib251c0FmdGVyOiBJbnQ7CiAgICB1bmxvY2tUaW1lQWZ0ZXI6IEludDsKICAgIHJlYWxpemVkRnVuZGluZ0ZlZURlbHRhOiBJbnQ7CiAgICByZWFsaXplZEZ1bmRpbmdGZWVBZnRlcjogSW50OwogICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0Owp9CgovLyBkZWNyZWFzZSBMUAptZXNzYWdlIExQUG9zaXRpb25EZWNyZWFzZWRFdmVudCB7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIHBvc2l0aW9uSWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgbGlxdWlkaXR5RGVsdGE6IEludDsgLy8gZGVjcmVhc2UgbGlxdWlkdHkKICAgIGxpcXVpZGl0eUFmdGVyOiBJbnQ7CiAgICBib251c0RlbHRhOiBJbnQ7CiAgICBib251c0FmdGVyOiBJbnQ7CiAgICBmdW5kaW5nRmVlRGVsdGE6IEludDsKICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBJbnQ7CiAgICByZWNlaXZlOiBJbnQ7IC8vIHJlYWxpemVkUG5sID0gcmVjZWl2ZSAtIGxpcXVpZGl0eURlbHRhCiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKLy8gZ2xvYmFsIExQCm1lc3NhZ2UgR2xvYmFsTFBMaXF1aWRpdHlDaGFuZ2VkRXZlbnQgewogICAgbHBGdW5kQWZ0ZXI6IEludDsKICAgIGxpcXVpZGl0eUFmdGVyOiBJbnQ7CiAgICB0cmFkaW5nRmVlOiBJbnQ7CiAgICByZWFsaXplZFBubDogSW50OwogICAgdHJ4SWQ6IEludCBhcyB1aW50NjQ7Cn0KCm1lc3NhZ2UgR2xvYmFsTFBQb3NpdGlvbkNoYW5nZWRFdmVudCB7CiAgICB0b2tlbklkOiBJbnQgYXMgdWludDY0OwogICAgbmV0U2l6ZUFmdGVyOiBJbnQ7CiAgICBpc0xvbmc6IEJvb2w7CiAgICBlbnRyeVByaWNlQWZ0ZXI6IEludDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFBlcnAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KbWVzc2FnZSBQZXJwUG9zaXRpb25JbmNyZWFzZWRFdmVudCB7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIHBvc2l0aW9uSWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgdG9rZW5JZDogSW50IGFzIHVpbnQ2NDsKICAgIGlzTG9uZzogQm9vbDsKICAgIG1hcmdpbkRlbHRhOiBJbnQ7CiAgICBtYXJnaW5BZnRlcjogSW50OwogICAgc2l6ZURlbHRhOiBJbnQ7CiAgICBzaXplQWZ0ZXI6IEludDsKICAgIHRyYWRlUHJpY2U6IEludDsKICAgIGVudHJ5UHJpY2U6IEludDsKICAgIGZ1bmRpbmdGZWU6IEludDsKICAgIHRyYWRpbmdGZWU6IEludDsKICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBJbnQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKbWVzc2FnZSBQZXJwUG9zaXRpb25EZWNyZWFzZWRFdmVudCB7CiAgICBvcFR5cGU6IEludCBhcyB1aW50ODsKICAgIHBvc2l0aW9uSWQ6IEludCBhcyB1aW50NjQ7CiAgICBhY2NvdW50OiBBZGRyZXNzOwogICAgdG9rZW5JZDogSW50IGFzIHVpbnQ2NDsKICAgIGlzTG9uZzogQm9vbDsKICAgIG1hcmdpbkRlbHRhOiBJbnQ7CiAgICBtYXJnaW5BZnRlcjogSW50OwogICAgc2l6ZURlbHRhOiBJbnQ7CiAgICBzaXplQWZ0ZXI6IEludDsKICAgIHRyYWRlUHJpY2U6IEludDsKICAgIHJlYWxpemVkUG5MRGVsdGE6IEludDsKICAgIGZ1bmRpbmdGZWU6IEludDsKICAgIHRyYWRpbmdGZWU6IEludDsKICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBJbnQ7CiAgICByZWNlaXZlOiBJbnQ7CiAgICB0cnhJZDogSW50IGFzIHVpbnQ2NDsKfQoKbWVzc2FnZSBHbG9iYWxQb3NpdGlvbkNoYW5nZWRFdmVudCB7CiAgICB0b2tlbklkOiBJbnQgYXMgdWludDY0OwogICAgbG9uZ01hcmdpbkFmdGVyOiBJbnQ7CiAgICBzaG9ydE1hcmdpbkFmdGVyOiBJbnQ7CiAgICBsb25nU2l6ZUFmdGVyOiBJbnQ7CiAgICBzaG9ydFNpemVBZnRlcjogSW50OwogICAgbG9uZ0Z1bmRpbmdGZWVHcm93dGhBZnRlcjogSW50OwogICAgc2hvcnRGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludDsKICAgIHRyeElkOiBJbnQgYXMgdWludDY0Owp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFByaWNlID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCi8vIG1lc3NhZ2UgVXBkYXRlUHJpY2VBbmRGdW5kaW5nRmVlRXZlbnQgewovLyAgICAgZGF0YUxlbmd0aDogSW50IGFzIHVpbnQ2NDsKLy8gICAgIGRhdGFzOiBtYXA8SW50LCBVcGRhdGVQcmljZUFuZEZ1bmRpbmdGZWVEYXRhPjsKLy8gfQptZXNzYWdlIFVwZGF0ZVByaWNlRXZlbnQgewogICAgdG9rZW5JZDogSW50IGFzIHVpbnQ2NDsKICAgIHByaWNlOiBJbnQ7CiAgICBscEZ1bmRpbmdGZWU6IEludDsKfQoKbWVzc2FnZSBQcmVtaXVtUmF0ZUNoYW5nZWRFdmVudCB7CiAgICB0b2tlbklkOiBJbnQgYXMgdWludDY0OwogICAgZGV2aWF0aW9uUmF0ZTogSW50OwogICAgcHJlbWl1bVJhdGU6IEludDsKfQ==","contracts/pool/structs.tact":"Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBDb25maWcgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8Kc3RydWN0IENvbmZpZ0RhdGEgewogICAgaXNFeGVjdXRvcjogQm9vbD87CiAgICBnYXNDb25zdW1wdGlvbjogSW50IGFzIGNvaW5zOwogICAgbWluVG9uc0ZvclN0b3JhZ2U6IEludCBhcyBjb2luczsKICAgIGxwTG9ja1RpbWU6IEludDsKICAgIGxwQm9udXNGYWN0b3I6IEludDsKICAgIGxwTGlxdWlkaXR5RmFjdG9yOiBJbnQ7CiAgICBvcmRlckJvb2s6IEFkZHJlc3M7Cn0KCnN0cnVjdCBUb2tlbkNvbmZpZyB7CiAgICBuYW1lOiBTdHJpbmc7CiAgICBlbmFibGU6IEJvb2w7CiAgICAvLyA9PT09PT09PT09PT09PT09PT09PSBUcmFkZXIgUG9zaXRpb24gQ29uZmlndXJhdGlvbiA9PT09PT09PT09PT09PT09PT0KICAgIG1pbk1hcmdpbjogSW50OwogICAgbWF4TGV2ZXJhZ2U6IEludDsKICAgIGxpcXVpZGF0aW9uRmVlOiBJbnQ7CiAgICBsaXF1aWRpdHlQcm9wb3J0aW9uOiBJbnQ7CiAgICAvLyA9PT09PT09PT09PT09PT09PT09PSBUcmFkaW5nIEZlZSBDb25maWd1cmF0aW9uID09PT09PT09PT09PT09PT09PQogICAgdHJhZGluZ0ZlZVJhdGU6IEludDsKICAgIGxwVHJhZGluZ0ZlZVJhdGU6IEludDsKICAgIC8vID09PT09PT09PT09PT09PT09PT09IE90aGVyIENvbmZpZ3VyYXRpb24gPT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIGludGVyZXN0UmF0ZTogSW50OwogICAgbWF4RnVuZGluZ1JhdGU6IEludDsKfQoKc3RydWN0IFRva2VuQ29uZmlnRGF0YSB7CiAgICB0b2tlbklkTmV4dDogSW50IGFzIHVpbnQ2NDsKICAgIHRva2VuQ29uZmlnOiBUb2tlbkNvbmZpZz87Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gTFAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8Kc3RydWN0IExQUG9zaXRpb24gewogICAgcG9zaXRpb25JZDogSW50IGFzIHVpbnQ2NDsKICAgIGxpcXVpZGl0eTogSW50OwogICAgYm9udXM6IEludDsKICAgIHJlYWxpemVkRnVuZGluZ0ZlZTogSW50OwogICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiBJbnQ7CiAgICB1bmxvY2tUaW1lOiBJbnQ7Cn0KCnN0cnVjdCBMUFBvc2l0aW9uRGF0YSB7CiAgICBscFBvc2l0aW9uOiBMUFBvc2l0aW9uPzsKICAgIGdsb2JhbExQRnVuZDogSW50OwogICAgZ2xvYmFsTFBMaXF1aWRpdHk6IEludDsKICAgIGdsb2JhbExQRnVuZGluZ0ZlZUdyb3d0aDogSW50OwogICAgZ2xvYmFsTFBVbnJlYWxpemVkUG5sOiBJbnQ7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUGVycCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwovLyBwZXJwIHBvc2l0aW9uCnN0cnVjdCBBY2NvdW50UGVycFBvc2l0aW9uIHsKICAgIHBvc2l0aW9uczogbWFwPEFkZHJlc3MsIERpcmVjdGlvblBlcnBQb3NpdGlvbj47Cn0KCnN0cnVjdCBEaXJlY3Rpb25QZXJwUG9zaXRpb24gewogICAgbG9uZ1Bvc2l0aW9uOiBQZXJwUG9zaXRpb247CiAgICBzaG9ydFBvc2l0aW9uOiBQZXJwUG9zaXRpb247Cn0KCnN0cnVjdCBQZXJwUG9zaXRpb24gewogICAgcG9zaXRpb25JZDogSW50IGFzIHVpbnQ2NDsKICAgIG1hcmdpbjogSW50OwogICAgc2l6ZTogSW50OwogICAgZW50cnlQcmljZTogSW50OwogICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiBJbnQ7Cn0KCnN0cnVjdCBHbG9iYWxMUFBvc2l0aW9uIHsKICAgIG5ldFNpemU6IEludDsKICAgIGlzTG9uZzogQm9vbDsKICAgIGVudHJ5UHJpY2U6IEludDsKICAgIHVucmVhbGl6ZWRQbmw6IEludDsKfQoKc3RydWN0IFBlcnBQb3NpdGlvbkRhdGEgewogICAgZ2xvYmFsUGVycE5ldFZhbHVlOiBJbnQ7CiAgICBnbG9iYWxQZXJwU2luZ2xlVmFsdWU6IEludDsKICAgIHBlcnBQb3NpdGlvbjogRGlyZWN0aW9uUGVycFBvc2l0aW9uPzsKICAgIGdsb2JhbExQUG9zaXRpb246IEdsb2JhbExQUG9zaXRpb24/OwogICAgZ2xvYmFsUG9zaXRpb246IEdsb2JhbFBvc2l0aW9uPzsKICAgIGdsb2JhbEZ1bmRpbmdSYXRlU2FtcGxlOiBHbG9iYWxGdW5kaW5nUmF0ZVNhbXBsZT87Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUHJpY2UgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8Kc3RydWN0IFVwZGF0ZVByaWNlUGFyYW0gewogICAgdG9rZW5JZDogSW50IGFzIHVpbnQ2NDsKICAgIHByaWNlOiBJbnQ7Cn0KCi8vIHN0cnVjdCBVcGRhdGVQcmljZUFuZEZ1bmRpbmdGZWVEYXRhIHsKLy8gICAgIHRva2VuSWQ6IEludCBhcyB1aW50NjQ7Ci8vICAgICBwcmljZTogSW50OwovLyAgICAgbHBGdW5kaW5nRmVlOiBJbnQ7Ci8vIH0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUHJlbWl1bSBSYXRlID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCnN0cnVjdCBQcmVtaXVtUmF0ZVNhbXBsZVJhbmdlIHsKICAgIHNhbXBsZUxlbmd0aDogSW50IGFzIHVpbnQ2NDsKICAgIHNhbXBsZXM6IG1hcDxJbnQsIFByZW1pdW1SYXRlU2FtcGxlPjsKfQoKc3RydWN0IFByZW1pdW1SYXRlU2FtcGxlUmFuZ2VQYXJhbSB7CiAgICBzYW1wbGVJZDogSW50IGFzIHVpbnQ2NDsKICAgIHNhbXBsZUxlbmd0aDogSW50IGFzIHVpbnQ2NDsKICAgIHNhbXBsZXM6IG1hcDxJbnQsIFByZW1pdW1SYXRlU2FtcGxlPjsKfQoKc3RydWN0IFByZW1pdW1SYXRlU2FtcGxlIHsKICAgIGRldmlhdGlvblJhdGU6IEludDsKICAgIHByZW1pdW1SYXRlOiBJbnQ7Cn0KCnN0cnVjdCBQcmVtaXVtUmF0ZVNhbXBsZURhdGEgewogICAgcmFuZ2VJZDogSW50IGFzIHVpbnQ2NDsKICAgIHNhbXBsZUlkOiBJbnQgYXMgdWludDY0OwogICAgZGV2aWF0aW9uUmF0ZTogSW50OwogICAgcHJlbWl1bVJhdGU6IEludDsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBGdW5kaW5nIFJhdGUgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8Kc3RydWN0IEdsb2JhbFBvc2l0aW9uIHsKICAgIGxvbmdNYXJnaW46IEludDsKICAgIHNob3J0TWFyZ2luOiBJbnQ7CiAgICBsb25nU2l6ZTogSW50OwogICAgc2hvcnRTaXplOiBJbnQ7CiAgICBsb25nRnVuZGluZ0ZlZUdyb3d0aDogSW50OwogICAgc2hvcnRGdW5kaW5nRmVlR3Jvd3RoOiBJbnQ7CiAgICBsb25nVmFsdWU6IEludDsKICAgIHNob3J0VmFsdWU6IEludDsKfQoKc3RydWN0IEdsb2JhbEZ1bmRpbmdSYXRlU2FtcGxlIHsKICAgIGxhc3RBZGp1c3RGdW5kaW5nUmF0ZVRpbWU6IEludDsKICAgIHNhbXBsZUNvdW50OiBJbnQ7CiAgICBjdW11bGF0aXZlUHJlbWl1bVJhdGU6IEludDsKfQo=","contracts/pool/constants.tact":"CmNvbnN0IFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQ6IEludCA9IHBvdygxMCwgOSk7CmNvbnN0IFBSSUNFX0RFQ0lNQUxfRkFDVE9SOiBJbnQgPSBwb3coMTAsIDIwKTsKCmNvbnN0IERBWTogSW50ID0gMjQgKiA2MCAqIDYwOwoKY29uc3QgQURKVVNUX0ZVTkRJTkdfUkFURV9JTlRFUlZBTDogSW50ID0gMzYwMDsgLy8gMSBob3VyCmNvbnN0IFNBTVBMRV9QUkVNSVVNX1JBVEVfSU5URVJWQUw6IEludCA9IDU7IC8vIDUgc2Vjb25kcwpjb25zdCBSRVFVSVJFRF9TQU1QTEVfQ09VTlQ6IEludCA9IDcyMDsKLy8gOCAqICgxKzIrMysuLi4rNzIwKSA9IDggKiAoKDErNzIwKSAqIDcyMCAvIDIpID0gOCAqIDI1OTU2MApjb25zdCBQUkVNSVVNX1JBVEVfQVZHX0RFTk9NSU5BVE9SOiBJbnQgPSA4ICogMjU5NTYwOwovLyAwLjA1JSAvIDggKiBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UCmNvbnN0IFBSRU1JVU1fUkFURV9DTEFNUF9CT1VOREFSWTogSW50ID0gNjI1MDA7CmNvbnN0IEJBU0lTX1BPSU5UU19ESVZJU09SOiBJbnQgPSAxMDAwMDAwMDA7Cgpjb25zdCBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFOiBJbnQgPSAxOwpjb25zdCBPUkRFUl9PUF9UWVBFX0RFQ1JFQVNFOiBJbnQgPSAyOwpjb25zdCBPUkRFUl9PUF9UWVBFX0xJUVVJREFUSU9OOiBJbnQgPSAzOwpjb25zdCBPUkRFUl9PUF9UWVBFX0FETDogSW50ID0gNDsKCmNvbnN0IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTUFSS0VUOiBJbnQgPSAxMDsKY29uc3QgT1JERVJfT1BfVFlQRV9JTkNSRUFTRV9MSU1JVDogSW50ID0gMTE7CmNvbnN0IE9SREVSX09QX1RZUEVfREVDUkVBU0VfTUFSS0VUOiBJbnQgPSAxMjsKY29uc3QgT1JERVJfT1BfVFlQRV9ERUNSRUFTRV9UUDogSW50ID0gMTM7CmNvbnN0IE9SREVSX09QX1RZUEVfREVDUkVBU0VfU0w6IEludCA9IDE0Ow==","contracts/pool/pool.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CmltcG9ydCAiQHN0ZGxpYi9vd25hYmxlIjsKaW1wb3J0ICIuL21lc3NhZ2VzIjsKaW1wb3J0ICIuL2V2ZW50cyI7CmltcG9ydCAiLi9zdHJ1Y3RzIjsKaW1wb3J0ICIuL2NvbnN0YW50cyI7Cgpjb250cmFjdCBQb29sIHdpdGggRGVwbG95YWJsZSwgT3duYWJsZSB7CgogICAgLy8gY29uZmlnCiAgICBnYXNDb25zdW1wdGlvbjogSW50ID0gdG9uKCIwLjA1Iik7CiAgICBtaW5Ub25zRm9yU3RvcmFnZTogSW50ID0gdG9uKCIwLjAzIik7CgogICAgdG9rZW5Db25maWdzOiBtYXA8SW50LCBUb2tlbkNvbmZpZz47IC8vIHRva2VuSWQgPT4gdG9rZW5Db25maWcKICAgIHRva2VuSWROZXh0OiBJbnQgYXMgdWludDY0ID0gMTsKCiAgICAvLyBscExvY2tUaW1lOiBJbnQgPSAxMCAqIDI0ICogNjAgKiA2MDsgLy8gbG9jayAxMCBkYXlzCiAgICBscExvY2tUaW1lOiBJbnQgPSAxMCAqIDYwOyAvLyBUT0RPIGxvY2sgMTAgbWluIGZvciB0ZXN0CiAgICBscEJvbnVzRmFjdG9yOiBJbnQgPSBwb3coMTAsIDkpOwogICAgbHBMaXF1aWRpdHlGYWN0b3I6IEludCA9IHBvdygxMCwgOSk7CgogICAgLy8gYWRtaW4KICAgIG93bmVyOiBBZGRyZXNzOwogICAgb3JkZXJCb29rOiBBZGRyZXNzOwogICAgcHJvdG9jb2xUcmFkaW5nRmVlOiBJbnQgPSAwOwogICAgZXhlY3V0b3JzOiBtYXA8QWRkcmVzcywgQm9vbD47IC8vIGFjY291bnQgPT4gZW5hYmxlZAoKICAgIC8vIExQCiAgICBscFBvc2l0aW9uczogbWFwPEFkZHJlc3MsIExQUG9zaXRpb24+OyAvLyB0cmFkZXIgPT4gTFAKICAgIGxwUG9zaXRpb25JbmRleE5leHQ6IEludCBhcyB1aW50NjQgPSAxOwoKICAgIGdsb2JhbExQUG9zaXRpb25zOiBtYXA8SW50LCBHbG9iYWxMUFBvc2l0aW9uPjsgLy8gdG9rZW5JZCA9PiBnbG9iYWxMUAoKICAgIGdsb2JhbExQRnVuZDogSW50ID0gMDsKICAgIGdsb2JhbExQTGlxdWlkaXR5OiBJbnQgPSAwOwogICAgZ2xvYmFsTFBGdW5kaW5nRmVlR3Jvd3RoOiBJbnQgPSAwOwogICAgZ2xvYmFsTFBVbnJlYWxpemVkUG5sOiBJbnQgPSAwOwoKICAgIC8vIFBlcnAKICAgIHBlcnBQb3NpdGlvbnM6IG1hcDxJbnQsIEFjY291bnRQZXJwUG9zaXRpb24+OyAvLyB0b2tlbklkID0+IHVzZXIgPT4gZGlyZWN0aW9uID0+IHBvc2l0aW9uCiAgICBwZXJwUG9zaXRpb25JbmRleE5leHQ6IEludCBhcyB1aW50NjQgPSAxOwogICAgZ2xvYmFsUG9zaXRpb25zIDogbWFwPEludCwgR2xvYmFsUG9zaXRpb24+OyAvLyB0b2tlbklkID0+IGdsb2JhbFBvc2l0aW9uCgogICAgZ2xvYmFsUGVycE5ldFZhbHVlOiBJbnQgPSAwOwogICAgZ2xvYmFsUGVycFNpbmdsZVZhbHVlOiBJbnQgPSAwOwoKICAgIC8vIGZ1bmRpbmcgcmF0ZQogICAgZ2xvYmFsRnVuZGluZ1JhdGVTYW1wbGVzOiBtYXA8SW50LCBHbG9iYWxGdW5kaW5nUmF0ZVNhbXBsZT47IC8vIHRva2VuSWQgPT4gc2FtcGxlCgogICAgLy8gcHJpY2UKICAgIHByaWNlczogbWFwPEludCwgSW50PjsgLy8gdG9rZW5JZCA9PiBwcmljZURhdGEKCiAgICBwcmVtaXVtUmF0ZVNhbXBsZVJhbmdlczogbWFwPEludCwgUHJlbWl1bVJhdGVTYW1wbGVSYW5nZT47IC8vIGluZGV4ID0+IHJhbmdlCiAgICBwcmVtaXVtUmF0ZVNhbXBsZVJhbmdlTGVuZ3RoOiBJbnQgPSAwOwogICAgcHJldlByZW1pdW1SYXRlU2FtcGxlczogbWFwPEludCwgUHJlbWl1bVJhdGVTYW1wbGVEYXRhPjsKCiAgICBpbml0KGRlcGxveUlkOiBJbnQpIHsKICAgICAgICBzZWxmLm93bmVyID0gc2VuZGVyKCk7CiAgICAgICAgc2VsZi5vcmRlckJvb2sgPSBuZXdBZGRyZXNzKDAsIDApOwogICAgICAgIHNlbGYuZXhlY3V0b3JzLnNldChzZW5kZXIoKSwgdHJ1ZSk7CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gQWRtaW4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvLwogICAgcmVjZWl2ZShtc2c6IFVwZGF0ZUNvbmZpZykgewogICAgICAgIHNlbGYucmVxdWlyZU93bmVyKCk7CgogICAgICAgIGlmIChtc2cuZXhlY3V0b3IgIT0gbnVsbCAmJiBtc2cuZW5hYmxlRXhlY3V0b3IgIT0gbnVsbCkgewogICAgICAgICAgICBzZWxmLmV4ZWN1dG9ycy5zZXQobXNnLmV4ZWN1dG9yISEsIG1zZy5lbmFibGVFeGVjdXRvciEhKTsKICAgICAgICB9CiAgICAgICAgaWYgKG1zZy5nYXNDb25zdW1wdGlvbiAhPSBudWxsKSB7CiAgICAgICAgICAgIHNlbGYuZ2FzQ29uc3VtcHRpb24gPSBtc2cuZ2FzQ29uc3VtcHRpb24hITsKICAgICAgICB9CiAgICAgICAgaWYgKG1zZy5taW5Ub25zRm9yU3RvcmFnZSAhPSBudWxsKSB7CiAgICAgICAgICAgIHNlbGYubWluVG9uc0ZvclN0b3JhZ2UgPSBtc2cubWluVG9uc0ZvclN0b3JhZ2UhITsKICAgICAgICB9CiAgICAgICAgaWYgKG1zZy5scExvY2tUaW1lICE9IG51bGwpIHsKICAgICAgICAgICAgc2VsZi5scExvY2tUaW1lID0gbXNnLmxwTG9ja1RpbWUhITsKICAgICAgICB9CiAgICAgICAgaWYgKG1zZy5scEJvbnVzRmFjdG9yICE9IG51bGwpIHsKICAgICAgICAgICAgc2VsZi5scEJvbnVzRmFjdG9yID0gbXNnLmxwQm9udXNGYWN0b3IhITsKICAgICAgICB9CiAgICAgICAgaWYgKG1zZy5scExpcXVpZGl0eUZhY3RvciAhPSBudWxsKSB7CiAgICAgICAgICAgIHNlbGYubHBMaXF1aWRpdHlGYWN0b3IgPSBtc2cubHBMaXF1aWRpdHlGYWN0b3IhITsKICAgICAgICB9CiAgICAgICAgaWYgKG1zZy5vcmRlckJvb2sgIT0gbnVsbCkgewogICAgICAgICAgICBzZWxmLm9yZGVyQm9vayA9IG1zZy5vcmRlckJvb2shITsKICAgICAgICB9CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbmRlcigpLAogICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ1ZhbHVlCiAgICAgICAgfSk7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFVwZGF0ZVRva2VuQ29uZmlnKSB7CiAgICAgICAgc2VsZi5yZXF1aXJlT3duZXIoKTsKCiAgICAgICAgbGV0IHRva2VuQ29uZmlnT3B0OiBUb2tlbkNvbmZpZz8gPSBzZWxmLnRva2VuQ29uZmlncy5nZXQobXNnLnRva2VuSWQpOwogICAgICAgIGxldCB0b2tlbkNvbmZpZzogVG9rZW5Db25maWcgPSB0b2tlbkNvbmZpZ09wdCAhPSBudWxsID8gdG9rZW5Db25maWdPcHQhISA6IFRva2VuQ29uZmlnewogICAgICAgICAgICBuYW1lOiAiIiwKICAgICAgICAgICAgZW5hYmxlOiBmYWxzZSwKICAgICAgICAgICAgbWluTWFyZ2luOiAxMCAqIHBvdygxMCwgNiksIC8vIDEwVQogICAgICAgICAgICBtYXhMZXZlcmFnZTogMTAwLAogICAgICAgICAgICBsaXF1aWRhdGlvbkZlZTogMiAqIHBvdygxMCwgNSksIC8vIDAuMlUKICAgICAgICAgICAgdHJhZGluZ0ZlZVJhdGU6IDFfMDAwXzAwMCwgLy8gMC4xJQogICAgICAgICAgICBscFRyYWRpbmdGZWVSYXRlOiA2MDBfMDAwXzAwMCwgLy8gNjAlCiAgICAgICAgICAgIGxpcXVpZGl0eVByb3BvcnRpb246IDEwMF8wMDBfMDAwLCAvLyAxMCUKICAgICAgICAgICAgaW50ZXJlc3RSYXRlOiAwLAogICAgICAgICAgICBtYXhGdW5kaW5nUmF0ZTogMAogICAgICAgIH07CgogICAgICAgIGlmIChtc2cubmFtZSAhPSBudWxsKXsKICAgICAgICAgICAgdG9rZW5Db25maWcubmFtZSA9IG1zZy5uYW1lISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cuZW5hYmxlICE9IG51bGwpewogICAgICAgICAgICB0b2tlbkNvbmZpZy5lbmFibGUgPSBtc2cuZW5hYmxlISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cubWluTWFyZ2luICE9IG51bGwpewogICAgICAgICAgICB0b2tlbkNvbmZpZy5taW5NYXJnaW4gPSBtc2cubWluTWFyZ2luISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cubWF4TGV2ZXJhZ2UgIT0gbnVsbCl7CiAgICAgICAgICAgIHRva2VuQ29uZmlnLm1heExldmVyYWdlID0gbXNnLm1heExldmVyYWdlISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cubGlxdWlkYXRpb25GZWUgIT0gbnVsbCl7CiAgICAgICAgICAgIHRva2VuQ29uZmlnLmxpcXVpZGF0aW9uRmVlID0gbXNnLmxpcXVpZGF0aW9uRmVlISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cuaW50ZXJlc3RSYXRlICE9IG51bGwpewogICAgICAgICAgICB0b2tlbkNvbmZpZy5pbnRlcmVzdFJhdGUgPSBtc2cuaW50ZXJlc3RSYXRlISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cudHJhZGluZ0ZlZVJhdGUgIT0gbnVsbCl7CiAgICAgICAgICAgIHRva2VuQ29uZmlnLnRyYWRpbmdGZWVSYXRlID0gbXNnLnRyYWRpbmdGZWVSYXRlISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cubHBUcmFkaW5nRmVlUmF0ZSAhPSBudWxsKXsKICAgICAgICAgICAgdG9rZW5Db25maWcubHBUcmFkaW5nRmVlUmF0ZSA9IG1zZy5scFRyYWRpbmdGZWVSYXRlISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cubWF4RnVuZGluZ1JhdGUgIT0gbnVsbCl7CiAgICAgICAgICAgIHRva2VuQ29uZmlnLm1heEZ1bmRpbmdSYXRlID0gbXNnLm1heEZ1bmRpbmdSYXRlISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cudG9rZW5JZCA+PSBzZWxmLnRva2VuSWROZXh0KSB7CiAgICAgICAgICAgIHNlbGYudG9rZW5JZE5leHQgPSBtc2cudG9rZW5JZCArIDE7CiAgICAgICAgfQoKICAgICAgICBzZWxmLnRva2VuQ29uZmlncy5zZXQobXNnLnRva2VuSWQsIHRva2VuQ29uZmlnKTsKICAgICAgICAKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogc2VuZGVyKCksCiAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUKICAgICAgICB9KTsKICAgIH0KCiAgICBnZXQgZnVuIGNvbmZpZ0RhdGEoZXhlY3V0b3I6IEFkZHJlc3M/KTogQ29uZmlnRGF0YSB7CiAgICAgICAgbGV0IGlzRXhlY3V0b3I6IEJvb2w/ID0gbnVsbDsKICAgICAgICBpZiAoZXhlY3V0b3IgIT0gbnVsbCkgewogICAgICAgICAgICBpc0V4ZWN1dG9yID0gc2VsZi5leGVjdXRvcnMuZ2V0KGV4ZWN1dG9yISEpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gQ29uZmlnRGF0YXsKICAgICAgICAgICAgaXNFeGVjdXRvcjogaXNFeGVjdXRvciwKICAgICAgICAgICAgZ2FzQ29uc3VtcHRpb246IHNlbGYuZ2FzQ29uc3VtcHRpb24sCiAgICAgICAgICAgIG1pblRvbnNGb3JTdG9yYWdlOiBzZWxmLm1pblRvbnNGb3JTdG9yYWdlLAogICAgICAgICAgICBscExvY2tUaW1lOiBzZWxmLmxwTG9ja1RpbWUsCiAgICAgICAgICAgIGxwQm9udXNGYWN0b3I6IHNlbGYubHBCb251c0ZhY3RvciwKICAgICAgICAgICAgbHBMaXF1aWRpdHlGYWN0b3I6IHNlbGYubHBMaXF1aWRpdHlGYWN0b3IsCiAgICAgICAgICAgIG9yZGVyQm9vazogc2VsZi5vcmRlckJvb2sKICAgICAgICB9OwogICAgfQoKICAgIGdldCBmdW4gdG9rZW5Db25maWcodG9rZW5JZDogSW50KTogVG9rZW5Db25maWdEYXRhIHsKICAgICAgICByZXR1cm4gVG9rZW5Db25maWdEYXRhewogICAgICAgICAgICB0b2tlbklkTmV4dDogc2VsZi50b2tlbklkTmV4dCwKICAgICAgICAgICAgdG9rZW5Db25maWc6IHNlbGYudG9rZW5Db25maWdzLmdldCh0b2tlbklkKQogICAgICAgIH07CiAgICB9CgogICAgLy8gZ2V0IGZ1biBwcmljZURhdGEodG9rZW5JZDogSW50KTogUHJpY2VEYXRhPyB7CiAgICAvLyAgICAgcmV0dXJuIHNlbGYucHJpY2VzLmdldCh0b2tlbklkKTsKICAgIC8vIH0KCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBMUCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCiAgICByZWNlaXZlKG1zZzogVXBkYXRlTFBQb3NpdGlvbikgewogICAgICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gc2VsZi5vcmRlckJvb2ssICJpbnZhbGlkIHNlbmRlciIpOwoKICAgICAgICAvLyB1cGRhdGUgcHJpY2UKICAgICAgICBzZWxmLnVwZGF0ZVByaWNlQW5kRnVuZGluZ0ZlZShtc2cucHJpY2VzTGVuZ3RoLCBtc2cucHJpY2VzKTsKCiAgICAgICAgLy8gdXBkYXRlIHBvc2l0aW9uCiAgICAgICAgbGV0IHJlY2VpdmU6IEludCA9IDA7CiAgICAgICAgaWYgKG1zZy5pc0luY3JlYXNlKSB7CiAgICAgICAgICAgIHNlbGYuaW5jcmVhc2VMUFBvc2l0aW9uKG1zZy5hY2NvdW50LCBtc2cubGlxdWlkaXR5RGVsdGEsIG1zZy50cnhJZCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVjZWl2ZSA9IHNlbGYuZGVjcmVhc2VMUFBvc2l0aW9uKG1zZy5hY2NvdW50LCBtc2cubGlxdWlkaXR5RGVsdGEsIG1zZy50cnhJZCk7CiAgICAgICAgfQoKICAgICAgICBsZXQgbXNnVmFsdWU6IEludCA9IGNvbnRleHQoKS52YWx1ZSAtIHNlbGYuZ2FzQ29uc3VtcHRpb24gKiAyIC0gc2VsZi5taW5Ub25zRm9yU3RvcmFnZSAtIGNvbnRleHQoKS5yZWFkRm9yd2FyZEZlZSgpOwogICAgICAgIHJlcXVpcmUobXNnVmFsdWUgPiAwLCAic2VuZCBnYXMgbm90IGVub3VnaCIpOwogICAgICAgIC8vIHNlbmQgdXBkYXRlIHN1Y2Nlc3MgbXNnCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbGYub3JkZXJCb29rLAogICAgICAgICAgICB2YWx1ZTogbXNnVmFsdWUsCiAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgIG1vZGU6IFNlbmRQYXlHYXNTZXBhcmF0ZWx5LAogICAgICAgICAgICBib2R5OiBVcGRhdGVMUFBvc2l0aW9uU3VjY2VzcyB7CiAgICAgICAgICAgICAgICBvcmRlcklkOiBtc2cub3JkZXJJZCwKICAgICAgICAgICAgICAgIHJlY2VpdmU6IHJlY2VpdmUsCiAgICAgICAgICAgICAgICB0cnhJZDogbXNnLnRyeElkCiAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICB9KTsKICAgIH0KCiAgICBmdW4gaW5jcmVhc2VMUFBvc2l0aW9uKGFjY291bnQ6IEFkZHJlc3MsIGxpcXVpZGl0eURlbHRhOiBJbnQsIHRyeElkOiBJbnQpIHsKICAgICAgICAvLyBnZXQgcG9zaXRpb24KICAgICAgICBsZXQgbHBQb3NpdGlvbk9wdDogTFBQb3NpdGlvbj8gPSBzZWxmLmxwUG9zaXRpb25zLmdldChhY2NvdW50KTsKICAgICAgICAvLyBpbml0IHBvc2l0aW9uIGlmIG5vdCBleGlzdAogICAgICAgIGxldCBscFBvc2l0aW9uOiBMUFBvc2l0aW9uID0gTFBQb3NpdGlvbnsKICAgICAgICAgICAgICAgIHBvc2l0aW9uSWQ6IDAsCiAgICAgICAgICAgICAgICBsaXF1aWRpdHk6IDAsCiAgICAgICAgICAgICAgICBib251czogMCwKICAgICAgICAgICAgICAgIHJlYWxpemVkRnVuZGluZ0ZlZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aDogMCwKICAgICAgICAgICAgICAgIHVubG9ja1RpbWU6IDAKICAgICAgICAgICAgfTsKICAgICAgICBpZiAobHBQb3NpdGlvbk9wdCAhPSBudWxsKSB7CiAgICAgICAgICAgIGxwUG9zaXRpb24gPSBscFBvc2l0aW9uT3B0ISE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbHBQb3NpdGlvbi5wb3NpdGlvbklkID0gc2VsZi5scFBvc2l0aW9uSW5kZXhOZXh0OwogICAgICAgICAgICBzZWxmLmxwUG9zaXRpb25JbmRleE5leHQgPSBzZWxmLmxwUG9zaXRpb25JbmRleE5leHQgKyAxOwogICAgICAgIH0KCiAgICAgICAgLy8gdXBkYXRlIExQCiAgICAgICAgLy8gY2FsY3VsYXRlIGJvbnVzCiAgICAgICAgbGV0IGdsb2JhbE5ldExQOiBJbnQgPSBzZWxmLmdsb2JhbExQRnVuZCArIHNlbGYuZ2xvYmFsTFBVbnJlYWxpemVkUG5sOwogICAgICAgIGlmIChnbG9iYWxOZXRMUCA8IDApIHsKICAgICAgICAgICAgZ2xvYmFsTmV0TFAgPSAwOwogICAgICAgIH0KICAgICAgICBsZXQgYm9udXM6IEludCA9IDA7CiAgICAgICAgaWYgKGdsb2JhbE5ldExQIDwgc2VsZi5nbG9iYWxMUExpcXVpZGl0eSkgewogICAgICAgICAgICAvLyBib251cyA9IGIgKyBzICgxIC0geCkgKiBsaXF1aWRpdHkKICAgICAgICAgICAgYm9udXMgPSBzZWxmLmxwQm9udXNGYWN0b3IgKiAoc2VsZi5nbG9iYWxMUExpcXVpZGl0eSAtIGdsb2JhbE5ldExQKQogICAgICAgICAgICAgICAgICogbGlxdWlkaXR5RGVsdGEgLyAoc2VsZi5nbG9iYWxMUExpcXVpZGl0eSAqIFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQpOwogICAgICAgICAgICBscFBvc2l0aW9uLmJvbnVzID0gbHBQb3NpdGlvbi5ib251cyArIGJvbnVzOwogICAgICAgIH0KICAgICAgICAvLyBmdW5kaW5nIGZlZQogICAgICAgIGxldCByZWFsaXplZEZ1bmRpbmdGZWU6IEludCA9IDA7CiAgICAgICAgaWYgKGxwUG9zaXRpb24ubGlxdWlkaXR5ID4gMCkgewogICAgICAgICAgICByZWFsaXplZEZ1bmRpbmdGZWUgPSAoc2VsZi5nbG9iYWxMUEZ1bmRpbmdGZWVHcm93dGggLSBscFBvc2l0aW9uLmVudHJ5RnVuZGluZ0ZlZUdyb3d0aCkgKiBscFBvc2l0aW9uLmxpcXVpZGl0eSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgIH0KCiAgICAgICAgLy8gdXBkYXRlIHBvc2l0aW9uCiAgICAgICAgbHBQb3NpdGlvbi5saXF1aWRpdHkgPSBscFBvc2l0aW9uLmxpcXVpZGl0eSArIGxpcXVpZGl0eURlbHRhOwogICAgICAgIGxwUG9zaXRpb24ucmVhbGl6ZWRGdW5kaW5nRmVlICs9IHJlYWxpemVkRnVuZGluZ0ZlZTsKICAgICAgICBscFBvc2l0aW9uLmVudHJ5RnVuZGluZ0ZlZUdyb3d0aCA9IHNlbGYuZ2xvYmFsTFBGdW5kaW5nRmVlR3Jvd3RoOwogICAgICAgIGxwUG9zaXRpb24udW5sb2NrVGltZSA9IG5vdygpICsgc2VsZi5scExvY2tUaW1lOwoKICAgICAgICAvLyBzZXQgcG9zaXRpb24KICAgICAgICBzZWxmLmxwUG9zaXRpb25zLnNldChhY2NvdW50LCBscFBvc2l0aW9uKTsKCiAgICAgICAgLy8gdXBkYXRlIGdsb2JhbCBwb3NpdGlvbgogICAgICAgIHNlbGYuZ2xvYmFsTFBGdW5kID0gc2VsZi5nbG9iYWxMUEZ1bmQgKyBsaXF1aWRpdHlEZWx0YTsKICAgICAgICBzZWxmLmdsb2JhbExQTGlxdWlkaXR5ID0gc2VsZi5nbG9iYWxMUExpcXVpZGl0eSArIGxpcXVpZGl0eURlbHRhOwoKICAgICAgICBlbWl0KExQUG9zaXRpb25JbmNyZWFzZWRFdmVudHsKICAgICAgICAgICAgb3BUeXBlOiBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFLAogICAgICAgICAgICBwb3NpdGlvbklkOiBscFBvc2l0aW9uLnBvc2l0aW9uSWQsCiAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgICAgICAgIGxpcXVpZGl0eURlbHRhOiBsaXF1aWRpdHlEZWx0YSwKICAgICAgICAgICAgbGlxdWlkaXR5QWZ0ZXI6IGxwUG9zaXRpb24ubGlxdWlkaXR5LAogICAgICAgICAgICBib251c0RlbHRhOiBib251cywKICAgICAgICAgICAgYm9udXNBZnRlcjogbHBQb3NpdGlvbi5ib251cywKICAgICAgICAgICAgdW5sb2NrVGltZUFmdGVyOiBscFBvc2l0aW9uLnVubG9ja1RpbWUsCiAgICAgICAgICAgIHJlYWxpemVkRnVuZGluZ0ZlZURlbHRhOiByZWFsaXplZEZ1bmRpbmdGZWUsCiAgICAgICAgICAgIHJlYWxpemVkRnVuZGluZ0ZlZUFmdGVyOiBscFBvc2l0aW9uLnJlYWxpemVkRnVuZGluZ0ZlZSwKICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IGxwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoLAogICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICBlbWl0KEdsb2JhbExQTGlxdWlkaXR5Q2hhbmdlZEV2ZW50ewogICAgICAgICAgICBscEZ1bmRBZnRlcjogc2VsZi5nbG9iYWxMUEZ1bmQsCiAgICAgICAgICAgIGxpcXVpZGl0eUFmdGVyOiBzZWxmLmdsb2JhbExQTGlxdWlkaXR5LAogICAgICAgICAgICB0cmFkaW5nRmVlOiAwLAogICAgICAgICAgICByZWFsaXplZFBubDogMCwKICAgICAgICAgICAgdHJ4SWQ6IHRyeElkCiAgICAgICAgfS50b0NlbGwoKSk7CiAgICB9CgogICAgZnVuIGRlY3JlYXNlTFBQb3NpdGlvbihhY2NvdW50OiBBZGRyZXNzLCBsaXF1aWRpdHlEZWx0YTogSW50LCB0cnhJZDogSW50KTogSW50IHsKICAgICAgICAvLyBnZXQgcG9zaXRpb24KICAgICAgICBsZXQgbHBQb3NpdGlvbk9wdDogTFBQb3NpdGlvbj8gPSBzZWxmLmxwUG9zaXRpb25zLmdldChhY2NvdW50KTsKICAgICAgICAvLyBjaGVjayBwb3NpdGlvbgogICAgICAgIHJlcXVpcmUobHBQb3NpdGlvbk9wdCAhPSBudWxsLCAicG9zaXRpb24gbm90IGV4aXN0Iik7CiAgICAgICAgbGV0IGxwUG9zaXRpb246IExQUG9zaXRpb24gPSBscFBvc2l0aW9uT3B0ISE7CgogICAgICAgIC8vIGNoZWNrIHVubG9jayB0aW1lCiAgICAgICAgcmVxdWlyZShscFBvc2l0aW9uLnVubG9ja1RpbWUgPD0gbm93KCksICJub3QgcmVhY2ggdW5sb2NrIHRpbWUiKTsKCiAgICAgICAgLy8gZGVjcmVhc2UgbGlxdWlkaXR5IGRlbHRhCiAgICAgICAgaWYgKGxwUG9zaXRpb24ubGlxdWlkaXR5IDwgbGlxdWlkaXR5RGVsdGEpIHsKICAgICAgICAgICAgbGlxdWlkaXR5RGVsdGEgPSBscFBvc2l0aW9uLmxpcXVpZGl0eTsKICAgICAgICB9CgogICAgICAgIC8vIGNhbGN1bGF0ZSBMUCBnbG9iYWwgdW5yZWFsaXplZCBwbmwKICAgICAgICBsZXQgdG90YWxHbG9iYWxVbnJlYWxpemVkUG5sOiBJbnQgPSBzZWxmLmdsb2JhbExQVW5yZWFsaXplZFBubDsKICAgICAgICBsZXQgZ2xvYmFsTmV0TFA6IEludCA9IHNlbGYuZ2xvYmFsTFBGdW5kICsgdG90YWxHbG9iYWxVbnJlYWxpemVkUG5sOwogICAgICAgIHJlcXVpcmUoZ2xvYmFsTmV0TFAgPiAwLCAiaW5zdWZmaWNpZW50IGdsb2JhbCBMUCIpOwoKICAgICAgICAvLyBjYWxjdWxhdGUgcmVjZWl2ZSBhbW91bnQKICAgICAgICBpZiAoZ2xvYmFsTmV0TFAgPCAwKSB7CiAgICAgICAgICAgIGdsb2JhbE5ldExQID0gMDsKICAgICAgICB9CiAgICAgICAgcmVxdWlyZShnbG9iYWxOZXRMUCA+IDAsICJpbnN1ZmZpY2llbnQgZ2xvYmFsIG5ldCBMUCIpOwoKICAgICAgICBsZXQgcmVjZWl2ZTogSW50ID0gMDsKICAgICAgICBsZXQgYm9udXM6IEludCA9IDA7CgogICAgICAgIGlmIChnbG9iYWxOZXRMUCA+PSBzZWxmLmdsb2JhbExQTGlxdWlkaXR5KSB7CiAgICAgICAgICAgIGxldCBuOiBJbnQgPSAoKG5vdygpIC0gbHBQb3NpdGlvbi51bmxvY2tUaW1lKSAgKyBzZWxmLmxwTG9ja1RpbWUpIC8gREFZOwoKICAgICAgICAgICAgaWYgKGxwUG9zaXRpb24uYm9udXMgPT0gMCkgewogICAgICAgICAgICAgICAgLy8gYm9udXMgPSBsaXF1aWRpdHkgKiBy77yIeC0x77yJKiBtaW4obu+8jDEwMO+8iSogMC4xJQogICAgICAgICAgICAgICAgYm9udXMgPSBsaXF1aWRpdHlEZWx0YSAqIHNlbGYubHBCb251c0ZhY3RvciAqIChnbG9iYWxOZXRMUCAtIHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkpICogbWluKG4sIDEwMCkgLyAoZ2xvYmFsTmV0TFAgKiAxMDAwICogUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBsZXQgYm9udXMxOiBJbnQgPSBsaXF1aWRpdHlEZWx0YSAqIChnbG9iYWxOZXRMUCAtIHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHkpIC8gZ2xvYmFsTmV0TFA7CiAgICAgICAgICAgICAgICBsZXQgYm9udXMyOiBJbnQgPSBscFBvc2l0aW9uLmJvbnVzOwogICAgICAgICAgICAgICAgbGV0IGJvbnVzMzogSW50ID0gbGlxdWlkaXR5RGVsdGEgKiBzZWxmLmxwQm9udXNGYWN0b3IgKiAoZ2xvYmFsTmV0TFAgLSBzZWxmLmdsb2JhbExQTGlxdWlkaXR5KSAqIG1pbihuLCAxMDApIC8gKGdsb2JhbE5ldExQICogMTAwMCAqIFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQpOwogICAgICAgICAgICAgICAgYm9udXMgPSBtYXgobWluKGJvbnVzMSwgYm9udXMyKSwgYm9udXMzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZWNlaXZlID0gbGlxdWlkaXR5RGVsdGEgKyBib251czsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZWNlaXZlID0gbGlxdWlkaXR5RGVsdGEgKiBnbG9iYWxOZXRMUCAvIHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHk7CiAgICAgICAgfQogICAgICAgIC8vIHdpdGhkcmF3IGZ1bmRpbmcgZmVlCiAgICAgICAgbGV0IHJlYWxpemVkRnVuZGluZ0ZlZTogSW50ID0gMDsKICAgICAgICBpZiAobHBQb3NpdGlvbi5saXF1aWRpdHkgPiAwKSB7CiAgICAgICAgICAgIHJlYWxpemVkRnVuZGluZ0ZlZSA9IChzZWxmLmdsb2JhbExQRnVuZGluZ0ZlZUdyb3d0aCAtIGxwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoKSAqIGxwUG9zaXRpb24ubGlxdWlkaXR5IC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgfQogICAgICAgIHJlYWxpemVkRnVuZGluZ0ZlZSArPSBscFBvc2l0aW9uLnJlYWxpemVkRnVuZGluZ0ZlZTsKICAgICAgICByZWNlaXZlICs9IHJlYWxpemVkRnVuZGluZ0ZlZTsKCiAgICAgICAgLy8gdXBkYXRlIHBvc2l0aW9uCiAgICAgICAgbHBQb3NpdGlvbi5yZWFsaXplZEZ1bmRpbmdGZWUgPSAwOwogICAgICAgIGxwUG9zaXRpb24ubGlxdWlkaXR5IC09IGxpcXVpZGl0eURlbHRhOwogICAgICAgIGxwUG9zaXRpb24uYm9udXMgLT0gbWF4KGxwUG9zaXRpb24uYm9udXMsIGJvbnVzKTsKCiAgICAgICAgLy8gc2V0IHBvc2l0aW9uCiAgICAgICAgaWYgKGxwUG9zaXRpb24ubGlxdWlkaXR5ID4gMCB8fCBscFBvc2l0aW9uLmJvbnVzID4gMCkgewogICAgICAgICAgICBzZWxmLmxwUG9zaXRpb25zLnNldChhY2NvdW50LCBscFBvc2l0aW9uKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzZWxmLmxwUG9zaXRpb25zLnNldChhY2NvdW50LCBudWxsKTsKICAgICAgICB9CgogICAgICAgIC8vIHVwZGF0ZSBnbG9iYWwgcG9zaXRpb24KICAgICAgICBzZWxmLmdsb2JhbExQRnVuZCA9IHNlbGYuZ2xvYmFsTFBGdW5kIC0gcmVjZWl2ZTsKICAgICAgICBzZWxmLmdsb2JhbExQTGlxdWlkaXR5ID0gc2VsZi5nbG9iYWxMUExpcXVpZGl0eSAtIGxpcXVpZGl0eURlbHRhOwoKICAgICAgICAvLyBldmVudAogICAgICAgIGVtaXQoTFBQb3NpdGlvbkRlY3JlYXNlZEV2ZW50ewogICAgICAgICAgICBvcFR5cGU6IE9SREVSX09QX1RZUEVfREVDUkVBU0UsCiAgICAgICAgICAgIHBvc2l0aW9uSWQ6IGxwUG9zaXRpb24ucG9zaXRpb25JZCwKICAgICAgICAgICAgYWNjb3VudDogYWNjb3VudCwKICAgICAgICAgICAgbGlxdWlkaXR5RGVsdGE6IGxpcXVpZGl0eURlbHRhLAogICAgICAgICAgICBsaXF1aWRpdHlBZnRlcjogbHBQb3NpdGlvbi5saXF1aWRpdHksCiAgICAgICAgICAgIGJvbnVzRGVsdGE6IGJvbnVzLAogICAgICAgICAgICBib251c0FmdGVyOiBscFBvc2l0aW9uLmJvbnVzLAogICAgICAgICAgICBmdW5kaW5nRmVlRGVsdGE6IHJlYWxpemVkRnVuZGluZ0ZlZSwKICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IGxwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoLAogICAgICAgICAgICByZWNlaXZlOiByZWNlaXZlLAogICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICBlbWl0KEdsb2JhbExQTGlxdWlkaXR5Q2hhbmdlZEV2ZW50ewogICAgICAgICAgICBscEZ1bmRBZnRlcjogc2VsZi5nbG9iYWxMUEZ1bmQsCiAgICAgICAgICAgIGxpcXVpZGl0eUFmdGVyOiBzZWxmLmdsb2JhbExQTGlxdWlkaXR5LAogICAgICAgICAgICB0cmFkaW5nRmVlOiAwLAogICAgICAgICAgICByZWFsaXplZFBubDogMCwKICAgICAgICAgICAgdHJ4SWQ6IHRyeElkCiAgICAgICAgfS50b0NlbGwoKSk7CiAgICAgICAgcmV0dXJuIHJlY2VpdmU7CiAgICB9CgogICAgZ2V0IGZ1biBscFBvc2l0aW9uKGFjY291bnQ6IEFkZHJlc3M/KTogTFBQb3NpdGlvbkRhdGE/IHsKICAgICAgICBsZXQgbHBQb3NpdGlvbjogTFBQb3NpdGlvbj8gPSBudWxsOyAKICAgICAgICBpZiAoYWNjb3VudCAhPSBudWxsKSB7CiAgICAgICAgICAgIGxwUG9zaXRpb24gPSBzZWxmLmxwUG9zaXRpb25zLmdldChhY2NvdW50ISEpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gTFBQb3NpdGlvbkRhdGEgewogICAgICAgICAgICBscFBvc2l0aW9uOiBscFBvc2l0aW9uLAogICAgICAgICAgICBnbG9iYWxMUEZ1bmQ6IHNlbGYuZ2xvYmFsTFBGdW5kLAogICAgICAgICAgICBnbG9iYWxMUExpcXVpZGl0eTogc2VsZi5nbG9iYWxMUExpcXVpZGl0eSwKICAgICAgICAgICAgZ2xvYmFsTFBGdW5kaW5nRmVlR3Jvd3RoOiBzZWxmLmdsb2JhbExQRnVuZGluZ0ZlZUdyb3d0aCwKICAgICAgICAgICAgZ2xvYmFsTFBVbnJlYWxpemVkUG5sOiBzZWxmLmdsb2JhbExQVW5yZWFsaXplZFBubAogICAgICAgIH07CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBQZXJwID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCiAgICByZWNlaXZlKG1zZzogVXBkYXRlUGVycFBvc2l0aW9uKSB7CiAgICAgICAgLy8gZHVtcCgiVXBkYXRlUGVycFBvc2l0aW9uIik7CgogICAgICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gc2VsZi5vcmRlckJvb2ssICJpbnZhbGlkIHNlbmRlciIpOwoKICAgICAgICAvLyB1cGRhdGUgcHJpY2UKICAgICAgICBzZWxmLnVwZGF0ZVByaWNlQW5kRnVuZGluZ0ZlZShtc2cucHJpY2VzTGVuZ3RoLCBtc2cucHJpY2VzKTsKCiAgICAgICAgLy8gZ2V0IGluZGV4IHByaWNlCiAgICAgICAgbGV0IGluZGV4UHJpY2U6IEludCA9IDA7CiAgICAgICAgbGV0IHByaWNPcHQ6IEludD8gPSBzZWxmLnByaWNlcy5nZXQobXNnLnRva2VuSWQpOwogICAgICAgIGlmIChwcmljT3B0ICE9IG51bGwpIHsKICAgICAgICAgICAgaW5kZXhQcmljZSA9IHByaWNPcHQhITsKICAgICAgICB9CiAgICAgICAgcmVxdWlyZShpbmRleFByaWNlID4gMCwgIm5vbmUgYXZhaWxhYmxlIHByaWNlIik7CgogICAgICAgIC8vIHVwZGF0ZSBQUgogICAgICAgIGxldCBwcmVtaXVtUmF0ZVNhbXBsZU9wdDogUHJlbWl1bVJhdGVTYW1wbGVEYXRhPyA9IG51bGw7CiAgICAgICAgaWYgKG1zZy5vcFR5cGUgPT0gT1JERVJfT1BfVFlQRV9JTkNSRUFTRV9NQVJLRVQgfHwgbXNnLm9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFX0xJTUlUKSB7CiAgICAgICAgICAgIHByZW1pdW1SYXRlU2FtcGxlT3B0ID0gc2VsZi5jYWxjdWxhdGVQcmVtaXVtUmF0ZShtc2cudG9rZW5JZCwgbXNnLnNpemVEZWx0YSwgbXNnLmlzTG9uZyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcHJlbWl1bVJhdGVTYW1wbGVPcHQgPSBzZWxmLmNhbGN1bGF0ZVByZW1pdW1SYXRlKG1zZy50b2tlbklkLCBtc2cuc2l6ZURlbHRhLCAhbXNnLmlzTG9uZyk7CiAgICAgICAgfQoKICAgICAgICBsZXQgcHJldlByZW1pdW1SYXRlU2FtcGxlT3B0OiBQcmVtaXVtUmF0ZVNhbXBsZURhdGE/ID0gc2VsZi5wcmV2UHJlbWl1bVJhdGVTYW1wbGVzLmdldChtc2cudG9rZW5JZCk7CiAgICAgICAgbGV0IHByZXZQcmVtaXVtUmF0ZVNhbXBsZTogUHJlbWl1bVJhdGVTYW1wbGVEYXRhID0gcHJldlByZW1pdW1SYXRlU2FtcGxlT3B0ICE9IG51bGwgPyBwcmV2UHJlbWl1bVJhdGVTYW1wbGVPcHQhISA6IFByZW1pdW1SYXRlU2FtcGxlRGF0YXsKICAgICAgICAgICAgcmFuZ2VJZDogMCwKICAgICAgICAgICAgc2FtcGxlSWQ6IDAsCiAgICAgICAgICAgIGRldmlhdGlvblJhdGU6IDAsCiAgICAgICAgICAgIHByZW1pdW1SYXRlOiAwCiAgICAgICAgfTsKICAgICAgICBsZXQgYXZnUHJlbWl1bVJhdGU6IEludCA9IHByZXZQcmVtaXVtUmF0ZVNhbXBsZS5wcmVtaXVtUmF0ZTsKICAgICAgICAKICAgICAgICBpZiAocHJlbWl1bVJhdGVTYW1wbGVPcHQgIT0gbnVsbCkgewogICAgICAgICAgICBsZXQgcHJlbWl1bVJhdGVTYW1wbGU6IFByZW1pdW1SYXRlU2FtcGxlRGF0YSA9IHByZW1pdW1SYXRlU2FtcGxlT3B0ISE7CiAgICAgICAgICAgIGF2Z1ByZW1pdW1SYXRlID0gKHByZW1pdW1SYXRlU2FtcGxlLnByZW1pdW1SYXRlICsgYXZnUHJlbWl1bVJhdGUpIC8gMjsKICAgICAgICAgICAgcHJldlByZW1pdW1SYXRlU2FtcGxlID0gcHJlbWl1bVJhdGVTYW1wbGU7CiAgICAgICAgICAgIHNlbGYucHJldlByZW1pdW1SYXRlU2FtcGxlcy5zZXQobXNnLnRva2VuSWQsIHByZXZQcmVtaXVtUmF0ZVNhbXBsZSk7CiAgICAgICAgICAgIGVtaXQoUHJlbWl1bVJhdGVDaGFuZ2VkRXZlbnR7CiAgICAgICAgICAgICAgICB0b2tlbklkOiBtc2cudG9rZW5JZCwKICAgICAgICAgICAgICAgIGRldmlhdGlvblJhdGU6IHByZXZQcmVtaXVtUmF0ZVNhbXBsZS5kZXZpYXRpb25SYXRlLAogICAgICAgICAgICAgICAgcHJlbWl1bVJhdGU6IHByZXZQcmVtaXVtUmF0ZVNhbXBsZS5wcmVtaXVtUmF0ZQogICAgICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICB9CgogICAgICAgIC8vIGNhbGN1bGF0ZSB0cmFkZSBwcmljZQogICAgICAgIGxldCB0cmFkZVByaWNlOiBJbnQgPSAoUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCArIGF2Z1ByZW1pdW1SYXRlKSAqIGluZGV4UHJpY2UgLyBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UOwoKICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb24KICAgICAgICBsZXQgcmVjZWl2ZTogSW50ID0gMDsKICAgICAgICBpZiAobXNnLm9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0lOQ1JFQVNFX01BUktFVCB8fCBtc2cub3BUeXBlID09IE9SREVSX09QX1RZUEVfSU5DUkVBU0VfTElNSVQpIHsKICAgICAgICAgICAgaWYgKG1zZy50cmlnZ2VyQWJvdmUpIHsKICAgICAgICAgICAgICAgIHJlcXVpcmUodHJhZGVQcmljZSA+PSBtc2cudHJpZ2dlclByaWNlLCAibm90IHJlYWNoIHRyaWdnZXIgcHJpY2UiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJlcXVpcmUodHJhZGVQcmljZSA8PSBtc2cudHJpZ2dlclByaWNlLCAibm90IHJlYWNoIHRyaWdnZXIgcHJpY2UiKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzZWxmLmluY3JlYXNlUGVycFBvc2l0aW9uKG1zZy5vcFR5cGUsIG1zZy50cnhJZCwgbXNnLmFjY291bnQsIG1zZy50b2tlbklkLCBtc2cuaXNMb25nLCBtc2cubWFyZ2luRGVsdGEsIG1zZy5zaXplRGVsdGEsIGluZGV4UHJpY2UsIHRyYWRlUHJpY2UpOwogICAgICAgIH0gZWxzZSBpZiAobXNnLm9wVHlwZSA9PSBPUkRFUl9PUF9UWVBFX0xJUVVJREFUSU9OKSB7CiAgICAgICAgICAgIHJlY2VpdmUgPSBzZWxmLmxpcXVpZGF0ZVBlcnBQb3NpdGlvbihtc2cudHJ4SWQsIG1zZy5hY2NvdW50LCBtc2cudG9rZW5JZCwgbXNnLmlzTG9uZywgaW5kZXhQcmljZSwgdHJhZGVQcmljZSk7CiAgICAgICAgfSBlbHNlIGlmIChtc2cub3BUeXBlID09IE9SREVSX09QX1RZUEVfQURMKSB7CiAgICAgICAgICAgIHJlY2VpdmUgPSBzZWxmLmRlY3JlYXNlUGVycFBvc2l0aW9uKG1zZy5vcFR5cGUsIG1zZy50cnhJZCwgbXNnLmFjY291bnQsIG1zZy50b2tlbklkLCBtc2cuaXNMb25nLCBtc2cubWFyZ2luRGVsdGEsIG1zZy5zaXplRGVsdGEsIGluZGV4UHJpY2UsIHRyYWRlUHJpY2UpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChtc2cudHJpZ2dlckFib3ZlKSB7CiAgICAgICAgICAgICAgICByZXF1aXJlKHRyYWRlUHJpY2UgPj0gbXNnLnRyaWdnZXJQcmljZSwgIm5vdCByZWFjaCB0cmlnZ2VyIHByaWNlIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXF1aXJlKHRyYWRlUHJpY2UgPD0gbXNnLnRyaWdnZXJQcmljZSwgIm5vdCByZWFjaCB0cmlnZ2VyIHByaWNlIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmVjZWl2ZSA9IHNlbGYuZGVjcmVhc2VQZXJwUG9zaXRpb24obXNnLm9wVHlwZSwgbXNnLnRyeElkLCBtc2cuYWNjb3VudCwgbXNnLnRva2VuSWQsIG1zZy5pc0xvbmcsIG1zZy5tYXJnaW5EZWx0YSwgbXNnLnNpemVEZWx0YSwgaW5kZXhQcmljZSwgdHJhZGVQcmljZSk7CiAgICAgICAgfSAKCiAgICAgICAgbGV0IG1zZ1ZhbHVlOiBJbnQgPSBjb250ZXh0KCkudmFsdWUgLSBzZWxmLmdhc0NvbnN1bXB0aW9uICogMiAtIHNlbGYubWluVG9uc0ZvclN0b3JhZ2UgLSBjb250ZXh0KCkucmVhZEZvcndhcmRGZWUoKTsKICAgICAgICByZXF1aXJlKG1zZ1ZhbHVlID4gMCwgInNlbmQgZ2FzIG5vdCBlbm91Z2giKTsKICAgICAgICAvLyBzZW5kIHVwZGF0ZSBzdWNjZXNzIG1zZwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLm9yZGVyQm9vaywKICAgICAgICAgICAgdmFsdWU6IG1zZ1ZhbHVlLAogICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICBtb2RlOiBTZW5kUGF5R2FzU2VwYXJhdGVseSwKICAgICAgICAgICAgYm9keTogVXBkYXRlUGVycFBvc2l0aW9uU3VjY2VzcyB7CiAgICAgICAgICAgICAgICBvcmRlcklkOiBtc2cub3JkZXJJZCwKICAgICAgICAgICAgICAgIHJlY2VpdmU6IHJlY2VpdmUsCiAgICAgICAgICAgICAgICB0cnhJZDogbXNnLnRyeElkCiAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICB9KTsKICAgIH0KCiAgICBmdW4gaW5jcmVhc2VQZXJwUG9zaXRpb24ob3BUeXBlOiBJbnQsIHRyeElkOiBJbnQsIGFjY291bnQ6IEFkZHJlc3MsIHRva2VuSWQ6IEludCwgaXNMb25nOiBCb29sLCBtYXJnaW5EZWx0YTogSW50LCBzaXplRGVsdGE6IEludCwgaW5kZXhQcmljZTogSW50LCB0cmFkZVByaWNlOiBJbnQpIHsKICAgICAgICAvLyBkdW1wKCJpbmNyZWFzZVBlcnBQb3NpdGlvbiIpOwogICAgICAgIC8vIGdldCB0b2tlbiBjb25maWcKICAgICAgICBsZXQgdG9rZW5Db25maWdPcHQ6IFRva2VuQ29uZmlnPyA9IHNlbGYudG9rZW5Db25maWdzLmdldCh0b2tlbklkKTsKICAgICAgICByZXF1aXJlKHRva2VuQ29uZmlnT3B0ICE9IG51bGwsICJpbnZhbGlkIHRva2VuIik7CiAgICAgICAgbGV0IHRva2VuQ29uZmlnOiBUb2tlbkNvbmZpZyA9IHRva2VuQ29uZmlnT3B0ISE7CiAgICAgICAgcmVxdWlyZSh0b2tlbkNvbmZpZy5lbmFibGUsICJkaXNhYmxlZCB0b2tlbiIpOwogICAgICAgIAogICAgICAgIC8vIGdldCBwb3NpdGlvbgogICAgICAgIGxldCBhY2NvdW50UGVycFBvc2l0aW9uT3B0OiBBY2NvdW50UGVycFBvc2l0aW9uPyA9IHNlbGYucGVycFBvc2l0aW9ucy5nZXQodG9rZW5JZCk7CiAgICAgICAgbGV0IGFjY291bnRQZXJwUG9zaXRpb246IEFjY291bnRQZXJwUG9zaXRpb24gPSBhY2NvdW50UGVycFBvc2l0aW9uT3B0ICE9IG51bGwgPyBhY2NvdW50UGVycFBvc2l0aW9uT3B0ISEgOiBBY2NvdW50UGVycFBvc2l0aW9uewogICAgICAgICAgICBwb3NpdGlvbnM6IGVtcHR5TWFwKCkKICAgICAgICB9OwoKICAgICAgICBsZXQgZGlyZWN0aW9uUGVycFBvc2l0aW9uT3B0OiBEaXJlY3Rpb25QZXJwUG9zaXRpb24/ID0gYWNjb3VudFBlcnBQb3NpdGlvbi5wb3NpdGlvbnMuZ2V0KGFjY291bnQpOwogICAgICAgIGxldCBkaXJlY3Rpb25QZXJwUG9zaXRpb246IERpcmVjdGlvblBlcnBQb3NpdGlvbiA9IGRpcmVjdGlvblBlcnBQb3NpdGlvbk9wdCAhPSBudWxsID8gZGlyZWN0aW9uUGVycFBvc2l0aW9uT3B0ISEgOiBEaXJlY3Rpb25QZXJwUG9zaXRpb257CiAgICAgICAgICAgIGxvbmdQb3NpdGlvbjogUGVycFBvc2l0aW9uIHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uSWQ6IDAsCiAgICAgICAgICAgICAgICBtYXJnaW46IDAsCiAgICAgICAgICAgICAgICBzaXplOiAwLAogICAgICAgICAgICAgICAgZW50cnlQcmljZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aDogMAogICAgICAgICAgICB9LAogICAgICAgICAgICBzaG9ydFBvc2l0aW9uOiBQZXJwUG9zaXRpb24gewogICAgICAgICAgICAgICAgcG9zaXRpb25JZDogMCwKICAgICAgICAgICAgICAgIG1hcmdpbjogMCwKICAgICAgICAgICAgICAgIHNpemU6IDAsCiAgICAgICAgICAgICAgICBlbnRyeVByaWNlOiAwLAogICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiAwCiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBsZXQgcGVycFBvc2l0aW9uOiBQZXJwUG9zaXRpb24gPSBpc0xvbmcgPyBkaXJlY3Rpb25QZXJwUG9zaXRpb24ubG9uZ1Bvc2l0aW9uIDogZGlyZWN0aW9uUGVycFBvc2l0aW9uLnNob3J0UG9zaXRpb247CiAgICAgICAgCiAgICAgICAgLy8gY2hlY2sgbWFyZ2luCiAgICAgICAgaWYgKHBlcnBQb3NpdGlvbi5zaXplID09IDApIHsKICAgICAgICAgICAgcmVxdWlyZShtYXJnaW5EZWx0YSA+PSB0b2tlbkNvbmZpZy5taW5NYXJnaW4sICJpbnN1ZmZpY2llbnQgbWFyZ2luIik7CiAgICAgICAgICAgIHBlcnBQb3NpdGlvbi5wb3NpdGlvbklkID0gc2VsZi5wZXJwUG9zaXRpb25JbmRleE5leHQ7CiAgICAgICAgICAgIHNlbGYucGVycFBvc2l0aW9uSW5kZXhOZXh0ICs9IDE7CiAgICAgICAgfQoKICAgICAgICAvLyBnZXQgZ2xvYmFsIHBvc2l0aW9uCiAgICAgICAgbGV0IGdsb2JhbFBvc2l0aW9uT3B0OiBHbG9iYWxQb3NpdGlvbj8gPSBzZWxmLmdsb2JhbFBvc2l0aW9ucy5nZXQodG9rZW5JZCk7CiAgICAgICAgbGV0IGdsb2JhbFBvc2l0aW9uOiBHbG9iYWxQb3NpdGlvbiA9IGdsb2JhbFBvc2l0aW9uT3B0ICE9IG51bGwgPyBnbG9iYWxQb3NpdGlvbk9wdCEhIDogR2xvYmFsUG9zaXRpb257CiAgICAgICAgICAgIGxvbmdNYXJnaW46IDAsCiAgICAgICAgICAgIHNob3J0TWFyZ2luOiAwLAogICAgICAgICAgICBsb25nU2l6ZTogMCwKICAgICAgICAgICAgc2hvcnRTaXplOiAwLAogICAgICAgICAgICBsb25nRnVuZGluZ0ZlZUdyb3d0aDogMCwKICAgICAgICAgICAgc2hvcnRGdW5kaW5nRmVlR3Jvd3RoOiAwLAogICAgICAgICAgICBsb25nVmFsdWU6IDAsCiAgICAgICAgICAgIHNob3J0VmFsdWU6IDAKICAgICAgICB9OwogICAgICAgIGlmIChpc0xvbmcpIHsKICAgICAgICAgICAgZ2xvYmFsUG9zaXRpb24ubG9uZ1NpemUgKz0gc2l6ZURlbHRhOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLnNob3J0U2l6ZSArPSBzaXplRGVsdGE7CiAgICAgICAgfQogICAgICAgIC8vIHVwZGF0ZSBnbG9iYWwgdmFsdWUgYW5kIGNoZWNrIGxpcXVpZGl0eQogICAgICAgIGxldCBzaW5nbGVWYWx1ZUJlZm9yZTogSW50ID0gbWF4KGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSwgZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSk7CiAgICAgICAgbGV0IG5ldFZhbHVlQmVmb3JlOiBJbnQgPSBhYnMoZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlIC0gZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSk7CiAgICAgICAgZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlID0gZ2xvYmFsUG9zaXRpb24ubG9uZ1NpemUgKiBpbmRleFByaWNlIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSA9IGdsb2JhbFBvc2l0aW9uLnNob3J0U2l6ZSAqIGluZGV4UHJpY2UgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICBzZWxmLmdsb2JhbFBlcnBTaW5nbGVWYWx1ZSArPSBtYXgoZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlLCBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlKSAtIHNpbmdsZVZhbHVlQmVmb3JlOwogICAgICAgIHJlcXVpcmUoc2VsZi5nbG9iYWxQZXJwU2luZ2xlVmFsdWUgPD0gc2VsZi5nbG9iYWxMUEZ1bmQgKiBzZWxmLmxwTGlxdWlkaXR5RmFjdG9yIC8gUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCwgImluc3VmZmljaWVudCBsaXF1aWRpdHkgZm9yIHNpbmdsZSB2YWx1ZSIpOwogICAgICAgIAogICAgICAgIHNlbGYuZ2xvYmFsUGVycE5ldFZhbHVlICs9IGFicyhnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUgLSBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlKSAtIG5ldFZhbHVlQmVmb3JlOwogICAgICAgIHJlcXVpcmUoc2VsZi5nbG9iYWxQZXJwTmV0VmFsdWUgPD0gc2VsZi5nbG9iYWxMUEZ1bmQsICJpbnN1ZmZpY2llbnQgbGlxdWlkaXR5IGZvciBuZXQgdmFsdWUiKTsKCiAgICAgICAgLy8gZ2V0IGdsb2JhbCBscCBwb3NpdGlvbgogICAgICAgIGxldCBnbG9iYWxMUFBvc2l0aW9uT3B0OiBHbG9iYWxMUFBvc2l0aW9uPyA9IHNlbGYuZ2xvYmFsTFBQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgIGxldCBnbG9iYWxMUFBvc2l0aW9uOiBHbG9iYWxMUFBvc2l0aW9uID0gZ2xvYmFsTFBQb3NpdGlvbk9wdCAhPSBudWxsID8gZ2xvYmFsTFBQb3NpdGlvbk9wdCEhIDogR2xvYmFsTFBQb3NpdGlvbiB7CiAgICAgICAgICAgIG5ldFNpemU6IDAsCiAgICAgICAgICAgIGlzTG9uZzogZmFsc2UsCiAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgIHVucmVhbGl6ZWRQbmw6IDAKICAgICAgICB9OwoKICAgICAgICAvLyBscCBwbmwKICAgICAgICBsZXQgbHBSZWFsaXplZFBubDogSW50ID0gMDsKICAgICAgICBsZXQgc2l6ZVJlbWFpbmluZzogSW50ID0gc2l6ZURlbHRhOwogICAgICAgIGlmIChnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgPiAwICYmIChpc0xvbmcgPT0gZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcpKSB7CiAgICAgICAgICAgIGxldCBzaXplVXNlZDogSW50ID0gbWluKGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSwgc2l6ZURlbHRhKTsKICAgICAgICAgICAgaWYgKGlzTG9uZykgewogICAgICAgICAgICAgICAgbHBSZWFsaXplZFBubCA9IHNpemVVc2VkICogKHRyYWRlUHJpY2UgLSBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UpIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBscFJlYWxpemVkUG5sID0gc2l6ZVVzZWQgKiAoZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlIC0gdHJhZGVQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgfQogICAgICAgICAgICBzaXplUmVtYWluaW5nIC09IHNpemVVc2VkOwogICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgLT0gc2l6ZVVzZWQ7CiAgICAgICAgICAgIGlmIChnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgPT0gMCkgewogICAgICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlID0gMDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvLyBlbnRyeSBwcmljZQogICAgICAgIGlmIChzaXplUmVtYWluaW5nID4gMCkgewogICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UgPSAoZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplICogZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlICsgc2l6ZVJlbWFpbmluZyAqIHRyYWRlUHJpY2UpIC8gKGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSArIHNpemVSZW1haW5pbmcpOwogICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgKz0gc2l6ZVJlbWFpbmluZzsKICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcgPSAhaXNMb25nOwogICAgICAgIH0KCiAgICAgICAgLy8gdHJhZGluZyBmZWUKICAgICAgICBsZXQgdHJhZGluZ0ZlZTogSW50ID0gMDsKICAgICAgICBsZXQgbHBUcmFkaW5nRmVlOiBJbnQgPSAwOwogICAgICAgIGlmIChzaXplRGVsdGEgPiAwKSB7CiAgICAgICAgICAgIHRyYWRpbmdGZWUgPSBzaXplRGVsdGEgKiB0cmFkZVByaWNlICogdG9rZW5Db25maWcudHJhZGluZ0ZlZVJhdGUgLyAoUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCAqIFBSSUNFX0RFQ0lNQUxfRkFDVE9SKTsKICAgICAgICAgICAgbHBUcmFkaW5nRmVlID0gdHJhZGluZ0ZlZSAqIHRva2VuQ29uZmlnLmxwVHJhZGluZ0ZlZVJhdGUgLyBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UOwogICAgICAgICAgICBzZWxmLnByb3RvY29sVHJhZGluZ0ZlZSArPSB0cmFkaW5nRmVlIC0gbHBUcmFkaW5nRmVlOwogICAgICAgICAgICBzZWxmLmdsb2JhbExQRnVuZCArPSBscFJlYWxpemVkUG5sICsgbHBUcmFkaW5nRmVlOwogICAgICAgIH0KCiAgICAgICAgLy8gZnVuZGluZyBmZWUKICAgICAgICBsZXQgZnVuZGluZ0ZlZTogSW50ID0gMDsKICAgICAgICBsZXQgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludCA9IDA7CiAgICAgICAgaWYgKHBlcnBQb3NpdGlvbi5zaXplID4gMCkgewogICAgICAgICAgICBpZiAoaXNMb25nKSB7CiAgICAgICAgICAgICAgICBmdW5kaW5nRmVlID0gKGdsb2JhbFBvc2l0aW9uLmxvbmdGdW5kaW5nRmVlR3Jvd3RoIC0gcGVycFBvc2l0aW9uLmVudHJ5RnVuZGluZ0ZlZUdyb3d0aCkgKiBwZXJwUG9zaXRpb24uc2l6ZSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXIgPSBnbG9iYWxQb3NpdGlvbi5sb25nRnVuZGluZ0ZlZUdyb3d0aDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGZ1bmRpbmdGZWUgPSAoZ2xvYmFsUG9zaXRpb24uc2hvcnRGdW5kaW5nRmVlR3Jvd3RoIC0gcGVycFBvc2l0aW9uLmVudHJ5RnVuZGluZ0ZlZUdyb3d0aCkgKiBwZXJwUG9zaXRpb24uc2l6ZSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXIgPSBnbG9iYWxQb3NpdGlvbi5zaG9ydEZ1bmRpbmdGZWVHcm93dGg7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbgogICAgICAgIGxldCBtYXJnaW5CZWZvcmU6IEludCA9IHBlcnBQb3NpdGlvbi5tYXJnaW47CiAgICAgICAgcGVycFBvc2l0aW9uLm1hcmdpbiArPSBtYXJnaW5EZWx0YSArIGZ1bmRpbmdGZWUgLSB0cmFkaW5nRmVlOwogICAgICAgIGxldCBtYXJnaW5EZWx0YUFmdGVyOiBJbnQgPSBwZXJwUG9zaXRpb24ubWFyZ2luIC0gbWFyZ2luQmVmb3JlOwoKICAgICAgICBwZXJwUG9zaXRpb24uZW50cnlQcmljZSA9IChwZXJwUG9zaXRpb24uc2l6ZSAqIHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlICsgc2l6ZURlbHRhICogdHJhZGVQcmljZSkgLyAocGVycFBvc2l0aW9uLnNpemUgKyBzaXplRGVsdGEpOwogICAgICAgIHBlcnBQb3NpdGlvbi5zaXplICs9IHNpemVEZWx0YTsKICAgICAgICBwZXJwUG9zaXRpb24uZW50cnlGdW5kaW5nRmVlR3Jvd3RoID0gZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI7CgogICAgICAgIC8vIGNoZWNrIG1haW50YWluIG1hcmdpbgogICAgICAgIGxldCB1bnJlYWxpemVkUG5sOiBJbnQgPSAwOwogICAgICAgIGlmIChpc0xvbmcpIHsKICAgICAgICAgICAgdW5yZWFsaXplZFBubCA9IHBlcnBQb3NpdGlvbi5zaXplICogKHRyYWRlUHJpY2UgLSBwZXJwUG9zaXRpb24uZW50cnlQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB1bnJlYWxpemVkUG5sID0gcGVycFBvc2l0aW9uLnNpemUgKiAocGVycFBvc2l0aW9uLmVudHJ5UHJpY2UgLSB0cmFkZVByaWNlKSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgIH0KICAgICAgICBsZXQgbWFpbnRlbmFuY2VNYXJnaW46IEludCA9IHBlcnBQb3NpdGlvbi5zaXplICogdHJhZGVQcmljZSAqIHRva2VuQ29uZmlnLnRyYWRpbmdGZWVSYXRlIC8gKFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQgKiBQUklDRV9ERUNJTUFMX0ZBQ1RPUikgKyB0b2tlbkNvbmZpZy5saXF1aWRhdGlvbkZlZTsKICAgICAgICByZXF1aXJlKG1haW50ZW5hbmNlTWFyZ2luIDwgcGVycFBvc2l0aW9uLm1hcmdpbiArIHVucmVhbGl6ZWRQbmwsICJtYXJnaW4gcmF0ZSB0b28gaGlnaCIpOwoKICAgICAgICAvLyBjaGVjayBsZXZlcmFnZQogICAgICAgIHJlcXVpcmUocGVycFBvc2l0aW9uLm1hcmdpbiAqIHRva2VuQ29uZmlnLm1heExldmVyYWdlID49IHBlcnBQb3NpdGlvbi5zaXplICogcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUiwgImxlZ2VyYWdlIHRvbyBoaWdoIik7CgogICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbgogICAgICAgIGlmIChpc0xvbmcpIHsKICAgICAgICAgICAgZGlyZWN0aW9uUGVycFBvc2l0aW9uLmxvbmdQb3NpdGlvbiA9IHBlcnBQb3NpdGlvbjsKICAgICAgICAgICAgZ2xvYmFsUG9zaXRpb24ubG9uZ01hcmdpbiArPSBtYXJnaW5EZWx0YUFmdGVyOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRpcmVjdGlvblBlcnBQb3NpdGlvbi5zaG9ydFBvc2l0aW9uID0gcGVycFBvc2l0aW9uOwogICAgICAgICAgICBnbG9iYWxQb3NpdGlvbi5zaG9ydE1hcmdpbiArPSBtYXJnaW5EZWx0YUFmdGVyOwogICAgICAgIH0KICAgICAgICBhY2NvdW50UGVycFBvc2l0aW9uLnBvc2l0aW9ucy5zZXQoYWNjb3VudCwgZGlyZWN0aW9uUGVycFBvc2l0aW9uKTsKICAgICAgICBzZWxmLnBlcnBQb3NpdGlvbnMuc2V0KHRva2VuSWQsIGFjY291bnRQZXJwUG9zaXRpb24pOwoKICAgICAgICBzZWxmLmdsb2JhbFBvc2l0aW9ucy5zZXQodG9rZW5JZCwgZ2xvYmFsUG9zaXRpb24pOwogICAgICAgIHNlbGYuZ2xvYmFsTFBQb3NpdGlvbnMuc2V0KHRva2VuSWQsIGdsb2JhbExQUG9zaXRpb24pOwoKICAgICAgICAvLyBldmVudAogICAgICAgIGVtaXQoUGVycFBvc2l0aW9uSW5jcmVhc2VkRXZlbnR7CiAgICAgICAgICAgIG9wVHlwZTogb3BUeXBlLAogICAgICAgICAgICBwb3NpdGlvbklkOiBwZXJwUG9zaXRpb24ucG9zaXRpb25JZCwKICAgICAgICAgICAgYWNjb3VudDogYWNjb3VudCwKICAgICAgICAgICAgdG9rZW5JZDogdG9rZW5JZCwKICAgICAgICAgICAgaXNMb25nOiBpc0xvbmcsCiAgICAgICAgICAgIG1hcmdpbkRlbHRhOiBtYXJnaW5EZWx0YUFmdGVyLAogICAgICAgICAgICBtYXJnaW5BZnRlcjogcGVycFBvc2l0aW9uLm1hcmdpbiwKICAgICAgICAgICAgc2l6ZURlbHRhOiBzaXplRGVsdGEsCiAgICAgICAgICAgIHNpemVBZnRlcjogcGVycFBvc2l0aW9uLnNpemUsCiAgICAgICAgICAgIHRyYWRlUHJpY2U6IHRyYWRlUHJpY2UsCiAgICAgICAgICAgIGVudHJ5UHJpY2U6IHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlLAogICAgICAgICAgICB0cmFkaW5nRmVlOiB0cmFkaW5nRmVlLAogICAgICAgICAgICBmdW5kaW5nRmVlOiBmdW5kaW5nRmVlLAogICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGhBZnRlcjogZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXIsCiAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwogICAgICAgIGVtaXQoR2xvYmFsUG9zaXRpb25DaGFuZ2VkRXZlbnR7CiAgICAgICAgICAgIHRva2VuSWQ6IHRva2VuSWQsCiAgICAgICAgICAgIGxvbmdNYXJnaW5BZnRlcjogZ2xvYmFsUG9zaXRpb24ubG9uZ01hcmdpbiwKICAgICAgICAgICAgc2hvcnRNYXJnaW5BZnRlcjogZ2xvYmFsUG9zaXRpb24uc2hvcnRNYXJnaW4sCiAgICAgICAgICAgIGxvbmdTaXplQWZ0ZXI6IGdsb2JhbFBvc2l0aW9uLmxvbmdTaXplLAogICAgICAgICAgICBzaG9ydFNpemVBZnRlcjogZ2xvYmFsUG9zaXRpb24uc2hvcnRTaXplLAogICAgICAgICAgICBsb25nRnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBnbG9iYWxQb3NpdGlvbi5sb25nRnVuZGluZ0ZlZUdyb3d0aCwKICAgICAgICAgICAgc2hvcnRGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IGdsb2JhbFBvc2l0aW9uLnNob3J0RnVuZGluZ0ZlZUdyb3d0aCwKICAgICAgICAgICAgdHJ4SWQ6IHRyeElkCiAgICAgICAgfS50b0NlbGwoKSk7CiAgICAgICAgZW1pdChHbG9iYWxMUFBvc2l0aW9uQ2hhbmdlZEV2ZW50ewogICAgICAgICAgICB0b2tlbklkOiB0b2tlbklkLAogICAgICAgICAgICBuZXRTaXplQWZ0ZXI6IGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSwKICAgICAgICAgICAgaXNMb25nOiBnbG9iYWxMUFBvc2l0aW9uLmlzTG9uZywKICAgICAgICAgICAgZW50cnlQcmljZUFmdGVyOiBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UsCiAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwogICAgICAgIGVtaXQoR2xvYmFsTFBMaXF1aWRpdHlDaGFuZ2VkRXZlbnR7CiAgICAgICAgICAgIGxwRnVuZEFmdGVyOiBzZWxmLmdsb2JhbExQRnVuZCwKICAgICAgICAgICAgbGlxdWlkaXR5QWZ0ZXI6IHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHksCiAgICAgICAgICAgIHRyYWRpbmdGZWU6IGxwVHJhZGluZ0ZlZSwKICAgICAgICAgICAgcmVhbGl6ZWRQbmw6IGxwUmVhbGl6ZWRQbmwsCiAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwogICAgICAgIC8vIGR1bXAoImluY3JlYXNlUGVycFBvc2l0aW9uIGRvbmUiKTsKICAgIH0KCiAgICBmdW4gZGVjcmVhc2VQZXJwUG9zaXRpb24ob3BUeXBlOiBJbnQsIHRyeElkOiBJbnQsIGFjY291bnQ6IEFkZHJlc3MsIHRva2VuSWQ6IEludCwgaXNMb25nOiBCb29sLCBtYXJnaW5EZWx0YTogSW50LCBzaXplRGVsdGE6IEludCwgaW5kZXhQcmljZTogSW50LCB0cmFkZVByaWNlOiBJbnQpOiBJbnQgewogICAgICAgIC8vIGdldCB0b2tlbiBjb25maWcKICAgICAgICBsZXQgdG9rZW5Db25maWdPcHQ6IFRva2VuQ29uZmlnPyA9IHNlbGYudG9rZW5Db25maWdzLmdldCh0b2tlbklkKTsKICAgICAgICByZXF1aXJlKHRva2VuQ29uZmlnT3B0ICE9IG51bGwsICJpbnZhbGlkIHRva2VuIik7CiAgICAgICAgbGV0IHRva2VuQ29uZmlnOiBUb2tlbkNvbmZpZyA9IHRva2VuQ29uZmlnT3B0ISE7CiAgICAgICAgcmVxdWlyZSh0b2tlbkNvbmZpZy5lbmFibGUsICJkaXNhYmxlZCB0b2tlbiIpOwogICAgICAgIAogICAgICAgIC8vIGdldCBwb3NpdGlvbgogICAgICAgIGxldCBhY2NvdW50UGVycFBvc2l0aW9uT3B0OiBBY2NvdW50UGVycFBvc2l0aW9uPyA9IHNlbGYucGVycFBvc2l0aW9ucy5nZXQodG9rZW5JZCk7CiAgICAgICAgbGV0IGFjY291bnRQZXJwUG9zaXRpb246IEFjY291bnRQZXJwUG9zaXRpb24gPSBhY2NvdW50UGVycFBvc2l0aW9uT3B0ICE9IG51bGwgPyBhY2NvdW50UGVycFBvc2l0aW9uT3B0ISEgOiBBY2NvdW50UGVycFBvc2l0aW9uewogICAgICAgICAgICBwb3NpdGlvbnM6IGVtcHR5TWFwKCkKICAgICAgICB9OwoKICAgICAgICBsZXQgZGlyZWN0aW9uUGVycFBvc2l0aW9uT3B0OiBEaXJlY3Rpb25QZXJwUG9zaXRpb24/ID0gYWNjb3VudFBlcnBQb3NpdGlvbi5wb3NpdGlvbnMuZ2V0KGFjY291bnQpOwogICAgICAgIGxldCBkaXJlY3Rpb25QZXJwUG9zaXRpb246IERpcmVjdGlvblBlcnBQb3NpdGlvbiA9IGRpcmVjdGlvblBlcnBQb3NpdGlvbk9wdCAhPSBudWxsID8gZGlyZWN0aW9uUGVycFBvc2l0aW9uT3B0ISEgOiBEaXJlY3Rpb25QZXJwUG9zaXRpb257CiAgICAgICAgICAgIGxvbmdQb3NpdGlvbjogUGVycFBvc2l0aW9uIHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uSWQ6IDAsCiAgICAgICAgICAgICAgICBtYXJnaW46IDAsCiAgICAgICAgICAgICAgICBzaXplOiAwLAogICAgICAgICAgICAgICAgZW50cnlQcmljZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aDogMAogICAgICAgICAgICB9LAogICAgICAgICAgICBzaG9ydFBvc2l0aW9uOiBQZXJwUG9zaXRpb24gewogICAgICAgICAgICAgICAgcG9zaXRpb25JZDogMCwKICAgICAgICAgICAgICAgIG1hcmdpbjogMCwKICAgICAgICAgICAgICAgIHNpemU6IDAsCiAgICAgICAgICAgICAgICBlbnRyeVByaWNlOiAwLAogICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoOiAwCiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBsZXQgcGVycFBvc2l0aW9uOiBQZXJwUG9zaXRpb24gPSBpc0xvbmcgPyBkaXJlY3Rpb25QZXJwUG9zaXRpb24ubG9uZ1Bvc2l0aW9uIDogZGlyZWN0aW9uUGVycFBvc2l0aW9uLnNob3J0UG9zaXRpb247CgogICAgICAgIC8vIGNsYW1wIGRlbHRhCiAgICAgICAgaWYgKHNpemVEZWx0YSA+IHBlcnBQb3NpdGlvbi5zaXplKSB7CiAgICAgICAgICAgIHNpemVEZWx0YSA9IHBlcnBQb3NpdGlvbi5zaXplOwogICAgICAgIH0KCiAgICAgICAgLy8gZ2V0IGdsb2JhbCBwb3NpdGlvbgogICAgICAgIGxldCBnbG9iYWxQb3NpdGlvbk9wdDogR2xvYmFsUG9zaXRpb24/ID0gc2VsZi5nbG9iYWxQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgIGxldCBnbG9iYWxQb3NpdGlvbjogR2xvYmFsUG9zaXRpb24gPSBnbG9iYWxQb3NpdGlvbk9wdCAhPSBudWxsID8gZ2xvYmFsUG9zaXRpb25PcHQhISA6IEdsb2JhbFBvc2l0aW9uewogICAgICAgICAgICBsb25nTWFyZ2luOiAwLAogICAgICAgICAgICBzaG9ydE1hcmdpbjogMCwKICAgICAgICAgICAgbG9uZ1NpemU6IDAsCiAgICAgICAgICAgIHNob3J0U2l6ZTogMCwKICAgICAgICAgICAgbG9uZ0Z1bmRpbmdGZWVHcm93dGg6IDAsCiAgICAgICAgICAgIHNob3J0RnVuZGluZ0ZlZUdyb3d0aDogMCwKICAgICAgICAgICAgbG9uZ1ZhbHVlOiAwLAogICAgICAgICAgICBzaG9ydFZhbHVlOiAwCiAgICAgICAgfTsKCiAgICAgICAgLy8gZnVuZGluZyBmZWUKICAgICAgICBsZXQgZnVuZGluZ0ZlZTogSW50ID0gMDsKICAgICAgICBsZXQgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludCA9IDA7CiAgICAgICAgaWYgKHBlcnBQb3NpdGlvbi5zaXplID4gMCkgewogICAgICAgICAgICBpZiAoaXNMb25nKSB7CiAgICAgICAgICAgICAgICBmdW5kaW5nRmVlID0gKGdsb2JhbFBvc2l0aW9uLmxvbmdGdW5kaW5nRmVlR3Jvd3RoIC0gcGVycFBvc2l0aW9uLmVudHJ5RnVuZGluZ0ZlZUdyb3d0aCkgKiBwZXJwUG9zaXRpb24uc2l6ZSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXIgPSBnbG9iYWxQb3NpdGlvbi5sb25nRnVuZGluZ0ZlZUdyb3d0aDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGZ1bmRpbmdGZWUgPSAoZ2xvYmFsUG9zaXRpb24uc2hvcnRGdW5kaW5nRmVlR3Jvd3RoIC0gcGVycFBvc2l0aW9uLmVudHJ5RnVuZGluZ0ZlZUdyb3d0aCkgKiBwZXJwUG9zaXRpb24uc2l6ZSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXIgPSBnbG9iYWxQb3NpdGlvbi5zaG9ydEZ1bmRpbmdGZWVHcm93dGg7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIGdldCBnbG9iYWwgcG9zaXRpb24KICAgICAgICBsZXQgZ2xvYmFsTFBQb3NpdGlvbk9wdDogR2xvYmFsTFBQb3NpdGlvbj8gPSBzZWxmLmdsb2JhbExQUG9zaXRpb25zLmdldCh0b2tlbklkKTsKICAgICAgICBsZXQgZ2xvYmFsTFBQb3NpdGlvbjogR2xvYmFsTFBQb3NpdGlvbiA9IGdsb2JhbExQUG9zaXRpb25PcHQgIT0gbnVsbCA/IGdsb2JhbExQUG9zaXRpb25PcHQhISA6IEdsb2JhbExQUG9zaXRpb24gewogICAgICAgICAgICBuZXRTaXplOiAwLAogICAgICAgICAgICBpc0xvbmc6IGZhbHNlLAogICAgICAgICAgICBlbnRyeVByaWNlOiAwLAogICAgICAgICAgICB1bnJlYWxpemVkUG5sOiAwCiAgICAgICAgfTsKCiAgICAgICAgLy8gbHAgcG5sCiAgICAgICAgbGV0IGxwUmVhbGl6ZWRQbmw6IEludCA9IDA7CiAgICAgICAgbGV0IHNpemVSZW1haW5pbmc6IEludCA9IHNpemVEZWx0YTsKICAgICAgICBpZiAoZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplID4gMCAmJiAoaXNMb25nICE9IGdsb2JhbExQUG9zaXRpb24uaXNMb25nKSkgewogICAgICAgICAgICBsZXQgc2l6ZVVzZWQ6IEludCA9IG1pbihnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUsIHNpemVEZWx0YSk7CiAgICAgICAgICAgIGlmICghaXNMb25nKSB7CiAgICAgICAgICAgICAgICBscFJlYWxpemVkUG5sID0gc2l6ZVVzZWQgKiAodHJhZGVQcmljZSAtIGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxwUmVhbGl6ZWRQbmwgPSBzaXplVXNlZCAqIChnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UgLSB0cmFkZVByaWNlKSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNpemVSZW1haW5pbmcgLT0gc2l6ZVVzZWQ7CiAgICAgICAgICAgIGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSAtPSBzaXplVXNlZDsKICAgICAgICAgICAgaWYgKGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSA9PSAwKSB7CiAgICAgICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UgPSAwOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8vIGR1bXAoc2l6ZVJlbWFpbmluZyk7CiAgICAgICAgLy8gZHVtcChpc0xvbmcpOwogICAgICAgIC8vIGxwIGVudHJ5IHByaWNlCiAgICAgICAgaWYgKHNpemVSZW1haW5pbmcgPiAwKSB7CiAgICAgICAgICAgIGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSA9IChnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgKiBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UgKyBzaXplUmVtYWluaW5nICogdHJhZGVQcmljZSkgLyAoZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplICsgc2l6ZVJlbWFpbmluZyk7CiAgICAgICAgICAgIGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSArPSBzaXplUmVtYWluaW5nOwogICAgICAgICAgICBnbG9iYWxMUFBvc2l0aW9uLmlzTG9uZyA9IGlzTG9uZzsKICAgICAgICB9CgogICAgICAgIC8vIHRyYWRpbmcgZmVlCiAgICAgICAgbGV0IHRyYWRpbmdGZWU6IEludCA9IDA7CiAgICAgICAgbGV0IGxwVHJhZGluZ0ZlZTogSW50ID0gMDsKICAgICAgICBpZiAoc2l6ZURlbHRhID4gMCkgewogICAgICAgICAgICB0cmFkaW5nRmVlID0gc2l6ZURlbHRhICogdHJhZGVQcmljZSAqIHRva2VuQ29uZmlnLnRyYWRpbmdGZWVSYXRlIC8gKFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQgKiBQUklDRV9ERUNJTUFMX0ZBQ1RPUik7CiAgICAgICAgICAgIGxwVHJhZGluZ0ZlZSA9IHRyYWRpbmdGZWUgKiB0b2tlbkNvbmZpZy5scFRyYWRpbmdGZWVSYXRlIC8gUEVSQ0VOVEFHRV9CQVNJU19QT0lOVDsKCiAgICAgICAgICAgIHNlbGYucHJvdG9jb2xUcmFkaW5nRmVlICs9IHRyYWRpbmdGZWUgLSBscFRyYWRpbmdGZWU7CiAgICAgICAgICAgIHNlbGYuZ2xvYmFsTFBGdW5kICs9IGxwUmVhbGl6ZWRQbmwgKyBscFRyYWRpbmdGZWU7CiAgICAgICAgfQogICAgICAgIGxldCBwb3NpdGlvbklkOiBJbnQgPSBwZXJwUG9zaXRpb24ucG9zaXRpb25JZDsKICAgICAgICBsZXQgcmVjZWl2ZTogSW50ID0gMDsKICAgICAgICBsZXQgcmVhbGl6ZWRQbmw6IEludCA9IDA7CiAgICAgICAgLy8gcG9zaXRpb24gcG5sCiAgICAgICAgaWYgKGlzTG9uZykgewogICAgICAgICAgICByZWFsaXplZFBubCA9IHNpemVEZWx0YSAqICh0cmFkZVByaWNlIC0gcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UpIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVhbGl6ZWRQbmwgPSBzaXplRGVsdGEgKiAocGVycFBvc2l0aW9uLmVudHJ5UHJpY2UgLSB0cmFkZVByaWNlKSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgIH0KCiAgICAgICAgLy8gbWFyZ2luCiAgICAgICAgbGV0IG1hcmdpbkJlZm9yZTogSW50ID0gcGVycFBvc2l0aW9uLm1hcmdpbjsKICAgICAgICBwZXJwUG9zaXRpb24ubWFyZ2luICs9IHJlYWxpemVkUG5sICsgZnVuZGluZ0ZlZSAtIHRyYWRpbmdGZWU7CiAgICAgICAgCiAgICAgICAgcmVxdWlyZShwZXJwUG9zaXRpb24ubWFyZ2luID49IDAsICJpbnN1ZmZpY2llbnQgbWFyZ2luIik7CiAgICAgICAgaWYgKG1hcmdpbkRlbHRhID4gcGVycFBvc2l0aW9uLm1hcmdpbikgewogICAgICAgICAgICBtYXJnaW5EZWx0YSA9IHBlcnBQb3NpdGlvbi5tYXJnaW47CiAgICAgICAgfQogICAgICAgIHBlcnBQb3NpdGlvbi5tYXJnaW4gLT0gbWFyZ2luRGVsdGE7CiAgICAgICAgcGVycFBvc2l0aW9uLnNpemUgLT0gc2l6ZURlbHRhOwogICAgICAgIHBlcnBQb3NpdGlvbi5lbnRyeUZ1bmRpbmdGZWVHcm93dGggPSBlbnRyeUZ1bmRpbmdGZWVHcm93dGhBZnRlcjsKICAgICAgICBsZXQgbWFyZ2luRGVsdGFBZnRlcjogSW50ID0gbWFyZ2luQmVmb3JlIC0gcGVycFBvc2l0aW9uLm1hcmdpbjsKCiAgICAgICAgaWYgKHBlcnBQb3NpdGlvbi5zaXplID4gMCkgewogICAgICAgICAgICAvLyBjaGVjayBtYWludGFpbiBtYXJnaW4KICAgICAgICAgICAgbGV0IHVucmVhbGl6ZWRQbmw6IEludCA9IDA7CiAgICAgICAgICAgIGlmIChpc0xvbmcpIHsKICAgICAgICAgICAgICAgIHVucmVhbGl6ZWRQbmwgPSBwZXJwUG9zaXRpb24uc2l6ZSAqICh0cmFkZVByaWNlIC0gcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UpIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB1bnJlYWxpemVkUG5sID0gcGVycFBvc2l0aW9uLnNpemUgKiAocGVycFBvc2l0aW9uLmVudHJ5UHJpY2UgLSB0cmFkZVByaWNlKSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBtYWludGVuYW5jZU1hcmdpbjogSW50ID0gcGVycFBvc2l0aW9uLnNpemUgKiB0cmFkZVByaWNlICogdG9rZW5Db25maWcudHJhZGluZ0ZlZVJhdGUgLyAoUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCAqIFBSSUNFX0RFQ0lNQUxfRkFDVE9SKSArIHRva2VuQ29uZmlnLmxpcXVpZGF0aW9uRmVlOwogICAgICAgICAgICByZXF1aXJlKG1haW50ZW5hbmNlTWFyZ2luIDwgcGVycFBvc2l0aW9uLm1hcmdpbiArIHVucmVhbGl6ZWRQbmwsICJtYXJnaW4gcmF0ZSB0b28gaGlnaCIpOwoKICAgICAgICAgICAgLy8gY2hlY2sgbGV2ZXJhZ2UKICAgICAgICAgICAgcmVxdWlyZShwZXJwUG9zaXRpb24ubWFyZ2luICogdG9rZW5Db25maWcubWF4TGV2ZXJhZ2UgPj0gcGVycFBvc2l0aW9uLnNpemUsICJsZWdlcmFnZSB0b28gaGlnaCIpOwogICAgICAgICAgICByZWNlaXZlID0gbWFyZ2luRGVsdGE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gY2xvc2UgcG9zaXRpb24KICAgICAgICAgICAgLy8gd2l0aGRyYXcgYWxsIG1hcmdpbgogICAgICAgICAgICBtYXJnaW5EZWx0YUFmdGVyICs9IHBlcnBQb3NpdGlvbi5tYXJnaW47CiAgICAgICAgICAgIHJlY2VpdmUgPSBtYXJnaW5EZWx0YSArIHBlcnBQb3NpdGlvbi5tYXJnaW47CiAgICAgICAgICAgIHBlcnBQb3NpdGlvbiA9IFBlcnBQb3NpdGlvbiB7CiAgICAgICAgICAgICAgICBwb3NpdGlvbklkOiAwLAogICAgICAgICAgICAgICAgbWFyZ2luOiAwLAogICAgICAgICAgICAgICAgc2l6ZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGg6IDAKICAgICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbgogICAgICAgIGlmIChpc0xvbmcpIHsKICAgICAgICAgICAgZGlyZWN0aW9uUGVycFBvc2l0aW9uLmxvbmdQb3NpdGlvbiA9IHBlcnBQb3NpdGlvbjsKICAgICAgICAgICAgZ2xvYmFsUG9zaXRpb24ubG9uZ01hcmdpbiAtPSBtYXJnaW5EZWx0YUFmdGVyOwogICAgICAgICAgICBnbG9iYWxQb3NpdGlvbi5sb25nU2l6ZSAtPSBzaXplRGVsdGE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGlyZWN0aW9uUGVycFBvc2l0aW9uLnNob3J0UG9zaXRpb24gPSBwZXJwUG9zaXRpb247CiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLnNob3J0TWFyZ2luIC09IG1hcmdpbkRlbHRhQWZ0ZXI7CiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLnNob3J0U2l6ZSAtPSBzaXplRGVsdGE7CiAgICAgICAgfQoKICAgICAgICAvLyB1cGRhdGUgZ2xvYmFsIHZhbHVlCiAgICAgICAgbGV0IHNpbmdsZVZhbHVlQmVmb3JlOiBJbnQgPSBtYXgoZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlLCBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlKTsKICAgICAgICBsZXQgbmV0VmFsdWVCZWZvcmU6IEludCA9IGFicyhnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUgLSBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlKTsKICAgICAgICBnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUgPSBnbG9iYWxQb3NpdGlvbi5sb25nU2l6ZSAqIGluZGV4UHJpY2UgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlID0gZ2xvYmFsUG9zaXRpb24uc2hvcnRTaXplICogaW5kZXhQcmljZSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgIHNlbGYuZ2xvYmFsUGVycFNpbmdsZVZhbHVlICs9IG1heChnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUsIGdsb2JhbFBvc2l0aW9uLnNob3J0VmFsdWUpIC0gc2luZ2xlVmFsdWVCZWZvcmU7CiAgICAgICAgc2VsZi5nbG9iYWxQZXJwTmV0VmFsdWUgKz0gYWJzKGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSAtIGdsb2JhbFBvc2l0aW9uLnNob3J0VmFsdWUpIC0gbmV0VmFsdWVCZWZvcmU7CgogICAgICAgIGFjY291bnRQZXJwUG9zaXRpb24ucG9zaXRpb25zLnNldChhY2NvdW50LCBkaXJlY3Rpb25QZXJwUG9zaXRpb24pOwogICAgICAgIHNlbGYucGVycFBvc2l0aW9ucy5zZXQodG9rZW5JZCwgYWNjb3VudFBlcnBQb3NpdGlvbik7CiAgICAgICAgc2VsZi5nbG9iYWxQb3NpdGlvbnMuc2V0KHRva2VuSWQsIGdsb2JhbFBvc2l0aW9uKTsKICAgICAgICBzZWxmLmdsb2JhbExQUG9zaXRpb25zLnNldCh0b2tlbklkLCBnbG9iYWxMUFBvc2l0aW9uKTsKCiAgICAgICAgLy8gZXZlbnQKICAgICAgICBlbWl0KFBlcnBQb3NpdGlvbkRlY3JlYXNlZEV2ZW50ewogICAgICAgICAgICBvcFR5cGU6IG9wVHlwZSwKICAgICAgICAgICAgcG9zaXRpb25JZDogcG9zaXRpb25JZCwKICAgICAgICAgICAgYWNjb3VudDogYWNjb3VudCwKICAgICAgICAgICAgdG9rZW5JZDogdG9rZW5JZCwKICAgICAgICAgICAgaXNMb25nOiBpc0xvbmcsCiAgICAgICAgICAgIG1hcmdpbkRlbHRhOiBtYXJnaW5EZWx0YUFmdGVyLAogICAgICAgICAgICBtYXJnaW5BZnRlcjogcGVycFBvc2l0aW9uLm1hcmdpbiwKICAgICAgICAgICAgc2l6ZURlbHRhOiBzaXplRGVsdGEsCiAgICAgICAgICAgIHNpemVBZnRlcjogcGVycFBvc2l0aW9uLnNpemUsCiAgICAgICAgICAgIHRyYWRlUHJpY2U6IHRyYWRlUHJpY2UsCiAgICAgICAgICAgIHJlYWxpemVkUG5MRGVsdGE6IHJlYWxpemVkUG5sLAogICAgICAgICAgICB0cmFkaW5nRmVlOiB0cmFkaW5nRmVlLAogICAgICAgICAgICBmdW5kaW5nRmVlOiBmdW5kaW5nRmVlLAogICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGhBZnRlcjogZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXIsCiAgICAgICAgICAgIHJlY2VpdmU6IHJlY2VpdmUsCiAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwogICAgICAgIGVtaXQoR2xvYmFsUG9zaXRpb25DaGFuZ2VkRXZlbnR7CiAgICAgICAgICAgIHRva2VuSWQ6IHRva2VuSWQsCiAgICAgICAgICAgIGxvbmdNYXJnaW5BZnRlcjogZ2xvYmFsUG9zaXRpb24ubG9uZ01hcmdpbiwKICAgICAgICAgICAgc2hvcnRNYXJnaW5BZnRlcjogZ2xvYmFsUG9zaXRpb24uc2hvcnRNYXJnaW4sCiAgICAgICAgICAgIGxvbmdTaXplQWZ0ZXI6IGdsb2JhbFBvc2l0aW9uLmxvbmdTaXplLAogICAgICAgICAgICBzaG9ydFNpemVBZnRlcjogZ2xvYmFsUG9zaXRpb24uc2hvcnRTaXplLAogICAgICAgICAgICBsb25nRnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBnbG9iYWxQb3NpdGlvbi5sb25nRnVuZGluZ0ZlZUdyb3d0aCwKICAgICAgICAgICAgc2hvcnRGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IGdsb2JhbFBvc2l0aW9uLnNob3J0RnVuZGluZ0ZlZUdyb3d0aCwKICAgICAgICAgICAgdHJ4SWQ6IHRyeElkCiAgICAgICAgfS50b0NlbGwoKSk7CiAgICAgICAgZW1pdChHbG9iYWxMUFBvc2l0aW9uQ2hhbmdlZEV2ZW50ewogICAgICAgICAgICB0b2tlbklkOiB0b2tlbklkLAogICAgICAgICAgICBuZXRTaXplQWZ0ZXI6IGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSwKICAgICAgICAgICAgaXNMb25nOiBnbG9iYWxMUFBvc2l0aW9uLmlzTG9uZywKICAgICAgICAgICAgZW50cnlQcmljZUFmdGVyOiBnbG9iYWxMUFBvc2l0aW9uLmVudHJ5UHJpY2UsCiAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwogICAgICAgIGVtaXQoR2xvYmFsTFBMaXF1aWRpdHlDaGFuZ2VkRXZlbnR7CiAgICAgICAgICAgIGxwRnVuZEFmdGVyOiBzZWxmLmdsb2JhbExQRnVuZCwKICAgICAgICAgICAgbGlxdWlkaXR5QWZ0ZXI6IHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHksCiAgICAgICAgICAgIHRyYWRpbmdGZWU6IGxwVHJhZGluZ0ZlZSwKICAgICAgICAgICAgcmVhbGl6ZWRQbmw6IGxwUmVhbGl6ZWRQbmwsCiAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwogICAgICAgIHJldHVybiByZWNlaXZlOwogICAgfQoKICAgIGZ1biBsaXF1aWRhdGVQZXJwUG9zaXRpb24odHJ4SWQ6IEludCwgYWNjb3VudDogQWRkcmVzcywgdG9rZW5JZDogSW50LCBpc0xvbmc6IEJvb2wsIGluZGV4UHJpY2U6IEludCwgdHJhZGVQcmljZTogSW50KTogSW50IHsKICAgICAgICAvLyBnZXQgdG9rZW4gY29uZmlnCiAgICAgICAgbGV0IHRva2VuQ29uZmlnT3B0OiBUb2tlbkNvbmZpZz8gPSBzZWxmLnRva2VuQ29uZmlncy5nZXQodG9rZW5JZCk7CiAgICAgICAgcmVxdWlyZSh0b2tlbkNvbmZpZ09wdCAhPSBudWxsLCAiaW52YWxpZCB0b2tlbiIpOwogICAgICAgIGxldCB0b2tlbkNvbmZpZzogVG9rZW5Db25maWcgPSB0b2tlbkNvbmZpZ09wdCEhOwogICAgICAgIHJlcXVpcmUodG9rZW5Db25maWcuZW5hYmxlLCAiZGlzYWJsZWQgdG9rZW4iKTsKICAgICAgICAKICAgICAgICAvLyBnZXQgcG9zaXRpb24KICAgICAgICBsZXQgYWNjb3VudFBlcnBQb3NpdGlvbk9wdDogQWNjb3VudFBlcnBQb3NpdGlvbj8gPSBzZWxmLnBlcnBQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgIGxldCBhY2NvdW50UGVycFBvc2l0aW9uOiBBY2NvdW50UGVycFBvc2l0aW9uID0gYWNjb3VudFBlcnBQb3NpdGlvbk9wdCAhPSBudWxsID8gYWNjb3VudFBlcnBQb3NpdGlvbk9wdCEhIDogQWNjb3VudFBlcnBQb3NpdGlvbnsKICAgICAgICAgICAgcG9zaXRpb25zOiBlbXB0eU1hcCgpCiAgICAgICAgfTsKCiAgICAgICAgbGV0IGRpcmVjdGlvblBlcnBQb3NpdGlvbk9wdDogRGlyZWN0aW9uUGVycFBvc2l0aW9uPyA9IGFjY291bnRQZXJwUG9zaXRpb24ucG9zaXRpb25zLmdldChhY2NvdW50KTsKICAgICAgICBsZXQgZGlyZWN0aW9uUGVycFBvc2l0aW9uOiBEaXJlY3Rpb25QZXJwUG9zaXRpb24gPSBkaXJlY3Rpb25QZXJwUG9zaXRpb25PcHQgIT0gbnVsbCA/IGRpcmVjdGlvblBlcnBQb3NpdGlvbk9wdCEhIDogRGlyZWN0aW9uUGVycFBvc2l0aW9uewogICAgICAgICAgICBsb25nUG9zaXRpb246IFBlcnBQb3NpdGlvbiB7CiAgICAgICAgICAgICAgICBwb3NpdGlvbklkOiAwLAogICAgICAgICAgICAgICAgbWFyZ2luOiAwLAogICAgICAgICAgICAgICAgc2l6ZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGg6IDAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2hvcnRQb3NpdGlvbjogUGVycFBvc2l0aW9uIHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uSWQ6IDAsCiAgICAgICAgICAgICAgICBtYXJnaW46IDAsCiAgICAgICAgICAgICAgICBzaXplOiAwLAogICAgICAgICAgICAgICAgZW50cnlQcmljZTogMCwKICAgICAgICAgICAgICAgIGVudHJ5RnVuZGluZ0ZlZUdyb3d0aDogMAogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgbGV0IHBlcnBQb3NpdGlvbjogUGVycFBvc2l0aW9uID0gaXNMb25nID8gZGlyZWN0aW9uUGVycFBvc2l0aW9uLmxvbmdQb3NpdGlvbiA6IGRpcmVjdGlvblBlcnBQb3NpdGlvbi5zaG9ydFBvc2l0aW9uOwoKICAgICAgICAvLyBkZWx0YQogICAgICAgIGxldCBtYXJnaW5EZWx0YTogSW50ID0gcGVycFBvc2l0aW9uLm1hcmdpbjsKICAgICAgICBsZXQgc2l6ZURlbHRhOiBJbnQgPSBwZXJwUG9zaXRpb24uc2l6ZTsKCiAgICAgICAgLy8gZ2V0IGdsb2JhbCBwb3NpdGlvbgogICAgICAgIGxldCBnbG9iYWxQb3NpdGlvbk9wdDogR2xvYmFsUG9zaXRpb24/ID0gc2VsZi5nbG9iYWxQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgIGxldCBnbG9iYWxQb3NpdGlvbjogR2xvYmFsUG9zaXRpb24gPSBnbG9iYWxQb3NpdGlvbk9wdCAhPSBudWxsID8gZ2xvYmFsUG9zaXRpb25PcHQhISA6IEdsb2JhbFBvc2l0aW9uewogICAgICAgICAgICBsb25nTWFyZ2luOiAwLAogICAgICAgICAgICBzaG9ydE1hcmdpbjogMCwKICAgICAgICAgICAgbG9uZ1NpemU6IDAsCiAgICAgICAgICAgIHNob3J0U2l6ZTogMCwKICAgICAgICAgICAgbG9uZ0Z1bmRpbmdGZWVHcm93dGg6IDAsCiAgICAgICAgICAgIHNob3J0RnVuZGluZ0ZlZUdyb3d0aDogMCwKICAgICAgICAgICAgbG9uZ1ZhbHVlOiAwLAogICAgICAgICAgICBzaG9ydFZhbHVlOiAwCiAgICAgICAgfTsKCiAgICAgICAgLy8gZnVuZGluZyBmZWUKICAgICAgICBsZXQgZnVuZGluZ0ZlZTogSW50ID0gMDsKICAgICAgICBsZXQgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludCA9IDA7CiAgICAgICAgaWYgKHBlcnBQb3NpdGlvbi5zaXplID4gMCkgewogICAgICAgICAgICBpZiAoaXNMb25nKSB7CiAgICAgICAgICAgICAgICBmdW5kaW5nRmVlID0gKGdsb2JhbFBvc2l0aW9uLmxvbmdGdW5kaW5nRmVlR3Jvd3RoIC0gcGVycFBvc2l0aW9uLmVudHJ5RnVuZGluZ0ZlZUdyb3d0aCkgKiBwZXJwUG9zaXRpb24uc2l6ZSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXIgPSBnbG9iYWxQb3NpdGlvbi5sb25nRnVuZGluZ0ZlZUdyb3d0aDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGZ1bmRpbmdGZWUgPSAoZ2xvYmFsUG9zaXRpb24uc2hvcnRGdW5kaW5nRmVlR3Jvd3RoIC0gcGVycFBvc2l0aW9uLmVudHJ5RnVuZGluZ0ZlZUdyb3d0aCkgKiBwZXJwUG9zaXRpb24uc2l6ZSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXIgPSBnbG9iYWxQb3NpdGlvbi5zaG9ydEZ1bmRpbmdGZWVHcm93dGg7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIGNoZWNrIG1haW50YWluIG1hcmdpbgogICAgICAgIGxldCB1bnJlYWxpemVkUG5sOiBJbnQgPSAwOwogICAgICAgIGlmIChpc0xvbmcpIHsKICAgICAgICAgICAgdW5yZWFsaXplZFBubCA9IHBlcnBQb3NpdGlvbi5zaXplICogKHRyYWRlUHJpY2UgLSBwZXJwUG9zaXRpb24uZW50cnlQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB1bnJlYWxpemVkUG5sID0gcGVycFBvc2l0aW9uLnNpemUgKiAocGVycFBvc2l0aW9uLmVudHJ5UHJpY2UgLSB0cmFkZVByaWNlKSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgIH0KICAgICAgICBsZXQgbWFpbnRlbmFuY2VNYXJnaW46IEludCA9IHBlcnBQb3NpdGlvbi5zaXplICogdHJhZGVQcmljZSAqIHRva2VuQ29uZmlnLnRyYWRpbmdGZWVSYXRlIC8gKFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQgKiBQUklDRV9ERUNJTUFMX0ZBQ1RPUikgKyB0b2tlbkNvbmZpZy5saXF1aWRhdGlvbkZlZTsKICAgICAgICByZXF1aXJlKG1haW50ZW5hbmNlTWFyZ2luID49IHBlcnBQb3NpdGlvbi5tYXJnaW4gKyB1bnJlYWxpemVkUG5sLCAibWFyZ2luIHJhdGUgdG9vIGxvdyIpOwoKICAgICAgICAvLyBsaXF1aWRhdGUgcHJpY2UKICAgICAgICBsZXQgbGlxdWlkYXRlUHJpY2U6IEludCA9ICgocGVycFBvc2l0aW9uLm1hcmdpbiArIGZ1bmRpbmdGZWUgLSB0b2tlbkNvbmZpZy5saXF1aWRhdGlvbkZlZSkgKiBQUklDRV9ERUNJTUFMX0ZBQ1RPUiArIChpc0xvbmcgPyAtcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UgKiBwZXJwUG9zaXRpb24uc2l6ZSA6IHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlICogcGVycFBvc2l0aW9uLnNpemUpKSAKICAgICAgICAgICAgLyAocGVycFBvc2l0aW9uLnNpemUgKiAodG9rZW5Db25maWcudHJhZGluZ0ZlZVJhdGUgKyAoaXNMb25nID8gLSBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UIDogUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCkpIC8gUEVSQ0VOVEFHRV9CQVNJU19QT0lOVCk7CiAgICAgICAgLy8gZHVtcCgibGlxdWlkYXRlUHJpY2UiKTsKICAgICAgICAvLyBkdW1wKGxpcXVpZGF0ZVByaWNlKTsKICAgICAgICAvLyBkdW1wKHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlKTsKICAgICAgICByZXF1aXJlKGlzTG9uZyA/IGxpcXVpZGF0ZVByaWNlIDwgcGVycFBvc2l0aW9uLmVudHJ5UHJpY2UgOiBsaXF1aWRhdGVQcmljZSA+IHBlcnBQb3NpdGlvbi5lbnRyeVByaWNlLCAibm90IHJlYWNoIGxpcXVpZGF0ZSBwcmljZSIpOwogICAgICAgIHRyYWRlUHJpY2UgPSBsaXF1aWRhdGVQcmljZTsKCiAgICAgICAgLy8gZ2V0IGdsb2JhbCBwb3NpdGlvbgogICAgICAgIGxldCBnbG9iYWxMUFBvc2l0aW9uT3B0OiBHbG9iYWxMUFBvc2l0aW9uPyA9IHNlbGYuZ2xvYmFsTFBQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgIGxldCBnbG9iYWxMUFBvc2l0aW9uOiBHbG9iYWxMUFBvc2l0aW9uID0gZ2xvYmFsTFBQb3NpdGlvbk9wdCAhPSBudWxsID8gZ2xvYmFsTFBQb3NpdGlvbk9wdCEhIDogR2xvYmFsTFBQb3NpdGlvbiB7CiAgICAgICAgICAgIG5ldFNpemU6IDAsCiAgICAgICAgICAgIGlzTG9uZzogZmFsc2UsCiAgICAgICAgICAgIGVudHJ5UHJpY2U6IDAsCiAgICAgICAgICAgIHVucmVhbGl6ZWRQbmw6IDAKICAgICAgICB9OwoKICAgICAgICAvLyBscCBwbmwKICAgICAgICBsZXQgbHBSZWFsaXplZFBubDogSW50ID0gMDsKICAgICAgICBsZXQgc2l6ZVJlbWFpbmluZzogSW50ID0gc2l6ZURlbHRhOwogICAgICAgIGlmIChnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgPiAwICYmIChpc0xvbmcgIT0gZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcpKSB7CiAgICAgICAgICAgIGxldCBzaXplVXNlZDogSW50ID0gbWluKGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSwgc2l6ZURlbHRhKTsKICAgICAgICAgICAgaWYgKCFpc0xvbmcpIHsKICAgICAgICAgICAgICAgIGxwUmVhbGl6ZWRQbmwgPSBzaXplVXNlZCAqICh0cmFkZVByaWNlIC0gZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlKSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbHBSZWFsaXplZFBubCA9IHNpemVVc2VkICogKGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSAtIHRyYWRlUHJpY2UpIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2l6ZVJlbWFpbmluZyAtPSBzaXplVXNlZDsKICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplIC09IHNpemVVc2VkOwogICAgICAgICAgICBpZiAoZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplID09IDApIHsKICAgICAgICAgICAgICAgIGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSA9IDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLy8gbHAgZW50cnkgcHJpY2UKICAgICAgICBpZiAoc2l6ZVJlbWFpbmluZyA+IDApIHsKICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlID0gKGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSAqIGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSArIHNpemVSZW1haW5pbmcgKiB0cmFkZVByaWNlKSAvIChnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgKyBzaXplUmVtYWluaW5nKTsKICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplICs9IHNpemVSZW1haW5pbmc7CiAgICAgICAgICAgIGdsb2JhbExQUG9zaXRpb24uaXNMb25nID0gaXNMb25nOwogICAgICAgIH0KCiAgICAgICAgLy8gdHJhZGluZyBmZWUKICAgICAgICBsZXQgdHJhZGluZ0ZlZTogSW50ID0gc2l6ZURlbHRhICogdHJhZGVQcmljZSAqIHRva2VuQ29uZmlnLnRyYWRpbmdGZWVSYXRlIC8gKFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQgKiBQUklDRV9ERUNJTUFMX0ZBQ1RPUik7CiAgICAgICAgbGV0IGxwVHJhZGluZ0ZlZTogSW50ID0gdHJhZGluZ0ZlZSAqIHRva2VuQ29uZmlnLmxwVHJhZGluZ0ZlZVJhdGUgLyBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UOwogICAgICAgIGxldCBwcm90b2NvbFRyYWRpbmdGZWU6IEludCA9IHRyYWRpbmdGZWUgLSBscFRyYWRpbmdGZWU7CgogICAgICAgIHNlbGYucHJvdG9jb2xUcmFkaW5nRmVlICs9IHByb3RvY29sVHJhZGluZ0ZlZTsKICAgICAgICBzZWxmLmdsb2JhbExQRnVuZCArPSBscFJlYWxpemVkUG5sICsgbHBUcmFkaW5nRmVlOwoKICAgICAgICBsZXQgcG9zaXRpb25JZDogSW50ID0gcGVycFBvc2l0aW9uLnBvc2l0aW9uSWQ7CiAgICAgICAgbGV0IHJlY2VpdmU6IEludCA9IDA7CiAgICAgICAgbGV0IHJlYWxpemVkUG5sOiBJbnQgPSAwOwogICAgICAgIC8vIGNsb3NlIHBvc2l0aW9uCiAgICAgICAgcmVjZWl2ZSA9IHRva2VuQ29uZmlnLmxpcXVpZGF0aW9uRmVlOwogICAgICAgIHJlYWxpemVkUG5sID0gLWxwUmVhbGl6ZWRQbmw7CiAgICAgICAgcGVycFBvc2l0aW9uID0gUGVycFBvc2l0aW9uIHsKICAgICAgICAgICAgcG9zaXRpb25JZDogMCwKICAgICAgICAgICAgbWFyZ2luOiAwLAogICAgICAgICAgICBzaXplOiAwLAogICAgICAgICAgICBlbnRyeVByaWNlOiAwLAogICAgICAgICAgICBlbnRyeUZ1bmRpbmdGZWVHcm93dGg6IDAKICAgICAgICB9OwoKICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb24KICAgICAgICBpZiAoaXNMb25nKSB7CiAgICAgICAgICAgIGRpcmVjdGlvblBlcnBQb3NpdGlvbi5sb25nUG9zaXRpb24gPSBwZXJwUG9zaXRpb247CiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLmxvbmdNYXJnaW4gLT0gbWFyZ2luRGVsdGE7CiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLmxvbmdTaXplIC09IHNpemVEZWx0YTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkaXJlY3Rpb25QZXJwUG9zaXRpb24uc2hvcnRQb3NpdGlvbiA9IHBlcnBQb3NpdGlvbjsKICAgICAgICAgICAgZ2xvYmFsUG9zaXRpb24uc2hvcnRNYXJnaW4gLT0gbWFyZ2luRGVsdGE7CiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLnNob3J0U2l6ZSAtPSBzaXplRGVsdGE7CiAgICAgICAgfQogICAgICAgIC8vIHVwZGF0ZSBnbG9iYWwgdmFsdWUKICAgICAgICBsZXQgc2luZ2xlVmFsdWVCZWZvcmU6IEludCA9IG1heChnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUsIGdsb2JhbFBvc2l0aW9uLnNob3J0VmFsdWUpOwogICAgICAgIGxldCBuZXRWYWx1ZUJlZm9yZTogSW50ID0gYWJzKGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSAtIGdsb2JhbFBvc2l0aW9uLnNob3J0VmFsdWUpOwogICAgICAgIGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSA9IGdsb2JhbFBvc2l0aW9uLmxvbmdTaXplICogaW5kZXhQcmljZSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgIGdsb2JhbFBvc2l0aW9uLnNob3J0VmFsdWUgPSBnbG9iYWxQb3NpdGlvbi5zaG9ydFNpemUgKiBpbmRleFByaWNlIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICAgICAgc2VsZi5nbG9iYWxQZXJwU2luZ2xlVmFsdWUgKz0gbWF4KGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSwgZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSkgLSBzaW5nbGVWYWx1ZUJlZm9yZTsKICAgICAgICBzZWxmLmdsb2JhbFBlcnBOZXRWYWx1ZSArPSBhYnMoZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlIC0gZ2xvYmFsUG9zaXRpb24uc2hvcnRWYWx1ZSkgLSBuZXRWYWx1ZUJlZm9yZTsKCiAgICAgICAgYWNjb3VudFBlcnBQb3NpdGlvbi5wb3NpdGlvbnMuc2V0KGFjY291bnQsIGRpcmVjdGlvblBlcnBQb3NpdGlvbik7CiAgICAgICAgc2VsZi5wZXJwUG9zaXRpb25zLnNldCh0b2tlbklkLCBhY2NvdW50UGVycFBvc2l0aW9uKTsKICAgICAgICBzZWxmLmdsb2JhbFBvc2l0aW9ucy5zZXQodG9rZW5JZCwgZ2xvYmFsUG9zaXRpb24pOwogICAgICAgIHNlbGYuZ2xvYmFsTFBQb3NpdGlvbnMuc2V0KHRva2VuSWQsIGdsb2JhbExQUG9zaXRpb24pOwoKICAgICAgICAvLyBldmVudAogICAgICAgIGVtaXQoUGVycFBvc2l0aW9uRGVjcmVhc2VkRXZlbnR7CiAgICAgICAgICAgIG9wVHlwZTogT1JERVJfT1BfVFlQRV9MSVFVSURBVElPTiwKICAgICAgICAgICAgcG9zaXRpb25JZDogcG9zaXRpb25JZCwKICAgICAgICAgICAgYWNjb3VudDogYWNjb3VudCwKICAgICAgICAgICAgdG9rZW5JZDogdG9rZW5JZCwKICAgICAgICAgICAgaXNMb25nOiBpc0xvbmcsCiAgICAgICAgICAgIG1hcmdpbkRlbHRhOiBtYXJnaW5EZWx0YSwKICAgICAgICAgICAgbWFyZ2luQWZ0ZXI6IHBlcnBQb3NpdGlvbi5tYXJnaW4sCiAgICAgICAgICAgIHNpemVEZWx0YTogc2l6ZURlbHRhLAogICAgICAgICAgICBzaXplQWZ0ZXI6IHBlcnBQb3NpdGlvbi5zaXplLAogICAgICAgICAgICB0cmFkZVByaWNlOiB0cmFkZVByaWNlLAogICAgICAgICAgICByZWFsaXplZFBuTERlbHRhOiByZWFsaXplZFBubCwKICAgICAgICAgICAgdHJhZGluZ0ZlZTogdHJhZGluZ0ZlZSwKICAgICAgICAgICAgZnVuZGluZ0ZlZTogZnVuZGluZ0ZlZSwKICAgICAgICAgICAgZW50cnlGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IGVudHJ5RnVuZGluZ0ZlZUdyb3d0aEFmdGVyLAogICAgICAgICAgICByZWNlaXZlOiByZWNlaXZlLAogICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICBlbWl0KEdsb2JhbFBvc2l0aW9uQ2hhbmdlZEV2ZW50ewogICAgICAgICAgICB0b2tlbklkOiB0b2tlbklkLAogICAgICAgICAgICBsb25nTWFyZ2luQWZ0ZXI6IGdsb2JhbFBvc2l0aW9uLmxvbmdNYXJnaW4sCiAgICAgICAgICAgIHNob3J0TWFyZ2luQWZ0ZXI6IGdsb2JhbFBvc2l0aW9uLnNob3J0TWFyZ2luLAogICAgICAgICAgICBsb25nU2l6ZUFmdGVyOiBnbG9iYWxQb3NpdGlvbi5sb25nU2l6ZSwKICAgICAgICAgICAgc2hvcnRTaXplQWZ0ZXI6IGdsb2JhbFBvc2l0aW9uLnNob3J0U2l6ZSwKICAgICAgICAgICAgbG9uZ0Z1bmRpbmdGZWVHcm93dGhBZnRlcjogZ2xvYmFsUG9zaXRpb24ubG9uZ0Z1bmRpbmdGZWVHcm93dGgsCiAgICAgICAgICAgIHNob3J0RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOiBnbG9iYWxQb3NpdGlvbi5zaG9ydEZ1bmRpbmdGZWVHcm93dGgsCiAgICAgICAgICAgIHRyeElkOiB0cnhJZAogICAgICAgIH0udG9DZWxsKCkpOwogICAgICAgIGVtaXQoR2xvYmFsTFBQb3NpdGlvbkNoYW5nZWRFdmVudHsKICAgICAgICAgICAgdG9rZW5JZDogdG9rZW5JZCwKICAgICAgICAgICAgbmV0U2l6ZUFmdGVyOiBnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUsCiAgICAgICAgICAgIGlzTG9uZzogZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcsCiAgICAgICAgICAgIGVudHJ5UHJpY2VBZnRlcjogZ2xvYmFsTFBQb3NpdGlvbi5lbnRyeVByaWNlLAogICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICBlbWl0KEdsb2JhbExQTGlxdWlkaXR5Q2hhbmdlZEV2ZW50ewogICAgICAgICAgICBscEZ1bmRBZnRlcjogc2VsZi5nbG9iYWxMUEZ1bmQsCiAgICAgICAgICAgIGxpcXVpZGl0eUFmdGVyOiBzZWxmLmdsb2JhbExQTGlxdWlkaXR5LAogICAgICAgICAgICB0cmFkaW5nRmVlOiBscFRyYWRpbmdGZWUsCiAgICAgICAgICAgIHJlYWxpemVkUG5sOiBscFJlYWxpemVkUG5sLAogICAgICAgICAgICB0cnhJZDogdHJ4SWQKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICByZXR1cm4gcmVjZWl2ZTsKICAgIH0KCiAgICBnZXQgZnVuIHBlcnBQb3NpdGlvbih0b2tlbklkOiBJbnQsIGFjY291bnQ6IEFkZHJlc3M/KTogUGVycFBvc2l0aW9uRGF0YT8gewogICAgICAgIC8vIGdldCBwb3NpdGlvbgogICAgICAgIGxldCBwZXJwUG9zaXRpb246IERpcmVjdGlvblBlcnBQb3NpdGlvbj8gPSBudWxsOwogICAgICAgIGlmIChhY2NvdW50ICE9IG51bGwpIHsKICAgICAgICAgICAgbGV0IGFjY291bnRQZXJwUG9zaXRpb25PcHQ6IEFjY291bnRQZXJwUG9zaXRpb24/ID0gc2VsZi5wZXJwUG9zaXRpb25zLmdldCh0b2tlbklkKTsKICAgICAgICAgICAgaWYgKGFjY291bnRQZXJwUG9zaXRpb25PcHQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgcGVycFBvc2l0aW9uID0gKGFjY291bnRQZXJwUG9zaXRpb25PcHQhISkucG9zaXRpb25zLmdldChhY2NvdW50ISEpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBQZXJwUG9zaXRpb25EYXRhewogICAgICAgICAgICBnbG9iYWxQZXJwTmV0VmFsdWU6IHNlbGYuZ2xvYmFsUGVycE5ldFZhbHVlLAogICAgICAgICAgICBnbG9iYWxQZXJwU2luZ2xlVmFsdWU6IHNlbGYuZ2xvYmFsUGVycFNpbmdsZVZhbHVlLAogICAgICAgICAgICBwZXJwUG9zaXRpb246IHBlcnBQb3NpdGlvbiwKICAgICAgICAgICAgZ2xvYmFsTFBQb3NpdGlvbjogc2VsZi5nbG9iYWxMUFBvc2l0aW9ucy5nZXQodG9rZW5JZCksCiAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uOiBzZWxmLmdsb2JhbFBvc2l0aW9ucy5nZXQodG9rZW5JZCksCiAgICAgICAgICAgIGdsb2JhbEZ1bmRpbmdSYXRlU2FtcGxlOiBzZWxmLmdsb2JhbEZ1bmRpbmdSYXRlU2FtcGxlcy5nZXQodG9rZW5JZCkKICAgICAgICB9OwogICAgfQoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gcHJpY2UgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy8KICAgIHJlY2VpdmUobXNnOiBVcGRhdGVQcmljZSkgewogICAgICAgIC8vIGNoZWNrIHNlbmRlcgogICAgICAgIGxldCBpc0V4ZWN1dG9yOiBCb29sID0gZmFsc2U7CiAgICAgICAgbGV0IGlzRXhlY3V0b3JPcHQ6IEJvb2w/ID0gc2VsZi5leGVjdXRvcnMuZ2V0KHNlbmRlcigpKTsKICAgICAgICBpZiAoaXNFeGVjdXRvck9wdCAhPSBudWxsKSB7CiAgICAgICAgICAgIGlzRXhlY3V0b3IgPSBpc0V4ZWN1dG9yT3B0ISE7CiAgICAgICAgfQogICAgICAgIHJlcXVpcmUoaXNFeGVjdXRvciwgImludmFsaWQgc2VuZGVyIik7CgogICAgICAgIC8vIHVwZGF0ZSBwcmljZQogICAgICAgIHNlbGYudXBkYXRlUHJpY2VBbmRGdW5kaW5nRmVlKG1zZy5wcmljZXNMZW5ndGgsIG1zZy5wcmljZXMpOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBTZXRQcmVtaXVtUmF0ZVNhbXBsZVJhbmdlKSB7CiAgICAgICAgLy8gY2hlY2sgc2VuZGVyCiAgICAgICAgbGV0IGlzRXhlY3V0b3I6IEJvb2wgPSBmYWxzZTsKICAgICAgICBsZXQgaXNFeGVjdXRvck9wdDogQm9vbD8gPSBzZWxmLmV4ZWN1dG9ycy5nZXQoc2VuZGVyKCkpOwogICAgICAgIGlmIChpc0V4ZWN1dG9yT3B0ICE9IG51bGwpIHsKICAgICAgICAgICAgaXNFeGVjdXRvciA9IGlzRXhlY3V0b3JPcHQhITsKICAgICAgICB9CiAgICAgICAgcmVxdWlyZShpc0V4ZWN1dG9yLCAiaW52YWxpZCBzZW5kZXIiKTsKCiAgICAgICAgaWYgKG1zZy5zYW1wbGVSYW5nZUxlbmd0aCA8PSAwKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgbGV0IGk6IEludCA9IDA7CiAgICAgICAgd2hpbGUoaSA8IG1zZy5zYW1wbGVSYW5nZUxlbmd0aCkgewogICAgICAgICAgICBsZXQgcHJlbWl1bVJhdGVTYW1wbGVSYW5nZVBhcmFtT3B0OiBQcmVtaXVtUmF0ZVNhbXBsZVJhbmdlUGFyYW0/ID0gbXNnLnNhbXBsZVJhbmdlcy5nZXQoaSk7CgogICAgICAgICAgICBpZiAocHJlbWl1bVJhdGVTYW1wbGVSYW5nZVBhcmFtT3B0ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGxldCBwcmVtaXVtUmF0ZVNhbXBsZVJhbmdlUGFyYW06IFByZW1pdW1SYXRlU2FtcGxlUmFuZ2VQYXJhbSA9IHByZW1pdW1SYXRlU2FtcGxlUmFuZ2VQYXJhbU9wdCEhOwogICAgICAgICAgICAgICAgc2VsZi5wcmVtaXVtUmF0ZVNhbXBsZVJhbmdlcy5zZXQocHJlbWl1bVJhdGVTYW1wbGVSYW5nZVBhcmFtLnNhbXBsZUlkLCBQcmVtaXVtUmF0ZVNhbXBsZVJhbmdlewogICAgICAgICAgICAgICAgICAgIHNhbXBsZUxlbmd0aDogcHJlbWl1bVJhdGVTYW1wbGVSYW5nZVBhcmFtLnNhbXBsZUxlbmd0aCwKICAgICAgICAgICAgICAgICAgICBzYW1wbGVzOiBwcmVtaXVtUmF0ZVNhbXBsZVJhbmdlUGFyYW0uc2FtcGxlcwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAocHJlbWl1bVJhdGVTYW1wbGVSYW5nZVBhcmFtLnNhbXBsZUlkID49IHNlbGYucHJlbWl1bVJhdGVTYW1wbGVSYW5nZUxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgIHNlbGYucHJlbWl1bVJhdGVTYW1wbGVSYW5nZUxlbmd0aCA9IHByZW1pdW1SYXRlU2FtcGxlUmFuZ2VQYXJhbS5zYW1wbGVJZCArIDE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGkgKz0gMTsKICAgICAgICB9CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbmRlcigpLAogICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ1ZhbHVlCiAgICAgICAgfSk7CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBwcml2YXRlIGZ1bmN0aW9uID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCiAgICBmdW4gdXBkYXRlUHJpY2VBbmRGdW5kaW5nRmVlKHByaWNlc0xlbmd0aDogSW50LCBwcmljZXM6IG1hcDxJbnQsIFVwZGF0ZVByaWNlUGFyYW0+KSB7CiAgICAgICAgaWYgKHByaWNlc0xlbmd0aCA8PSAwKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgbGV0IGk6IEludCA9IDA7CiAgICAgICAgbGV0IHRvdGFsR2xvYmFsVW5yZWFsaXplZFBubDogSW50ID0gc2VsZi5nbG9iYWxMUFVucmVhbGl6ZWRQbmw7CiAgICAgICAgd2hpbGUoaSA8IHByaWNlc0xlbmd0aCkgewogICAgICAgICAgICBsZXQgdXBkYXRlUHJpY2U6IFVwZGF0ZVByaWNlUGFyYW0/ID0gcHJpY2VzLmdldChpKTsKICAgICAgICAgICAgaWYgKHVwZGF0ZVByaWNlICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIC8vIFRPRE8gY2hlY2sgcHJpY2Ugb2Zmc2V0CiAgICAgICAgICAgICAgICBsZXQgcHJpY2U6IEludCA9ICh1cGRhdGVQcmljZSEhKS5wcmljZTsKICAgICAgICAgICAgICAgIGxldCB0b2tlbklkOiBJbnQgPSAodXBkYXRlUHJpY2UhISkudG9rZW5JZDsKCiAgICAgICAgICAgICAgICBsZXQgcHJpY2VPcHQ6IEludD8gPSBzZWxmLnByaWNlcy5nZXQodG9rZW5JZCk7CiAgICAgICAgICAgICAgICBpZiAocHJpY2VPcHQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIHNlbGYucHJpY2VzLnNldCh0b2tlbklkLCBwcmljZSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHNlbGYucHJpY2VzLnNldCh0b2tlbklkLCBwcmljZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gdXBkYXRlIGxwIHBubAogICAgICAgICAgICAgICAgbGV0IGdsb2JhbExQUG9zaXRpb25PcHQ6IEdsb2JhbExQUG9zaXRpb24/ID0gc2VsZi5nbG9iYWxMUFBvc2l0aW9ucy5nZXQodG9rZW5JZCk7CiAgICAgICAgICAgICAgICBpZiAoZ2xvYmFsTFBQb3NpdGlvbk9wdCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGdsb2JhbExQUG9zaXRpb246IEdsb2JhbExQUG9zaXRpb24gPSBnbG9iYWxMUFBvc2l0aW9uT3B0ISE7CiAgICAgICAgICAgICAgICAgICAgLy8gdW5yZWFsaXplZCBwbmwKICAgICAgICAgICAgICAgICAgICBsZXQgdW5yZWFsaXplZFBubDogSW50ID0gMDsKICAgICAgICAgICAgICAgICAgICBpZiAoZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdW5yZWFsaXplZFBubCA9IGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSAqIChwcmljZSAtIGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSkgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB1bnJlYWxpemVkUG5sID0gZ2xvYmFsTFBQb3NpdGlvbi5uZXRTaXplICogKGdsb2JhbExQUG9zaXRpb24uZW50cnlQcmljZSAtIHByaWNlKSAvIFBSSUNFX0RFQ0lNQUxfRkFDVE9SOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB0b3RhbEdsb2JhbFVucmVhbGl6ZWRQbmwgPSB0b3RhbEdsb2JhbFVucmVhbGl6ZWRQbmwgLSBnbG9iYWxMUFBvc2l0aW9uLnVucmVhbGl6ZWRQbmwgKyB1bnJlYWxpemVkUG5sOwogICAgICAgICAgICAgICAgICAgIHNlbGYuZ2xvYmFsTFBQb3NpdGlvbnMuc2V0KHRva2VuSWQsIGdsb2JhbExQUG9zaXRpb24pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBnbG9iYWwgdmFsdWUKICAgICAgICAgICAgICAgIGxldCBnbG9iYWxQb3NpdGlvbk9wdDogR2xvYmFsUG9zaXRpb24/ID0gc2VsZi5nbG9iYWxQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgICAgICAgICAgaWYgKGdsb2JhbFBvc2l0aW9uT3B0ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgZ2xvYmFsUG9zaXRpb246IEdsb2JhbFBvc2l0aW9uID0gZ2xvYmFsUG9zaXRpb25PcHQhITsKICAgICAgICAgICAgICAgICAgICBsZXQgc2luZ2xlVmFsdWVCZWZvcmU6IEludCA9IG1heChnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUsIGdsb2JhbFBvc2l0aW9uLnNob3J0VmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGxldCBuZXRWYWx1ZUJlZm9yZTogSW50ID0gYWJzKGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSAtIGdsb2JhbFBvc2l0aW9uLnNob3J0VmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGdsb2JhbFBvc2l0aW9uLmxvbmdWYWx1ZSA9IGdsb2JhbFBvc2l0aW9uLmxvbmdTaXplICogcHJpY2UgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgICAgICAgICBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlID0gZ2xvYmFsUG9zaXRpb24uc2hvcnRTaXplICogcHJpY2UgLyBQUklDRV9ERUNJTUFMX0ZBQ1RPUjsKICAgICAgICAgICAgICAgICAgICBzZWxmLmdsb2JhbFBlcnBTaW5nbGVWYWx1ZSArPSBtYXgoZ2xvYmFsUG9zaXRpb24ubG9uZ1ZhbHVlLCBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlKSAtIHNpbmdsZVZhbHVlQmVmb3JlOwogICAgICAgICAgICAgICAgICAgIHNlbGYuZ2xvYmFsUGVycE5ldFZhbHVlICs9IGFicyhnbG9iYWxQb3NpdGlvbi5sb25nVmFsdWUgLSBnbG9iYWxQb3NpdGlvbi5zaG9ydFZhbHVlKSAtIG5ldFZhbHVlQmVmb3JlOwogICAgICAgICAgICAgICAgICAgIHNlbGYuZ2xvYmFsUG9zaXRpb25zLnNldCh0b2tlbklkLCBnbG9iYWxQb3NpdGlvbik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gdXBkYXRlIGZ1bmRpbmcgZmVlCiAgICAgICAgICAgICAgICBsZXQgbHBSZWNlaXZlZEZ1bmRpbmdGZWU6IEludCA9IHNlbGYudXBkYXRlRnVuZGluZ1JhdGUodG9rZW5JZCwgcHJpY2UpOwogICAgICAgICAgICAgICAgZW1pdChVcGRhdGVQcmljZUV2ZW50ewogICAgICAgICAgICAgICAgICAgIHRva2VuSWQ6IHRva2VuSWQsCiAgICAgICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlLAogICAgICAgICAgICAgICAgICAgIGxwRnVuZGluZ0ZlZTogbHBSZWNlaXZlZEZ1bmRpbmdGZWUKICAgICAgICAgICAgICAgIH0udG9DZWxsKCkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGkgPSBpICsgMTsKICAgICAgICB9CiAgICAgICAgc2VsZi5nbG9iYWxMUFVucmVhbGl6ZWRQbmwgPSB0b3RhbEdsb2JhbFVucmVhbGl6ZWRQbmw7CiAgICB9CgogICAgLy8gZnVuIGdldFByaWNlKHRva2VuSWQ6IEludCk6IEludCB7CiAgICAvLyAgICAgbGV0IHByaWNlRGF0YTogUHJpY2VEYXRhPyA9IHNlbGYucHJpY2VzLmdldCh0b2tlbklkKTsKICAgIC8vICAgICBsZXQgcHJpY2U6IEludCA9IDA7CiAgICAvLyAgICAgaWYgKHByaWNlRGF0YSAhPSBudWxsKSB7CiAgICAvLyAgICAgICAgIHByaWNlID0gKHByaWNlRGF0YSEhKS5wcmljZTsKICAgIC8vICAgICB9CiAgICAvLyAgICAgcmV0dXJuIHByaWNlOwogICAgLy8gfQoKICAgIGZ1biB1cGRhdGVGdW5kaW5nUmF0ZSh0b2tlbklkOiBJbnQsIGluZGV4UHJpY2U6IEludCk6IEludCB7CiAgICAgICAgbGV0IHRva2VuQ29uZmlnT3B0OiBUb2tlbkNvbmZpZz8gPSBzZWxmLnRva2VuQ29uZmlncy5nZXQodG9rZW5JZCk7CiAgICAgICAgcmVxdWlyZSh0b2tlbkNvbmZpZ09wdCAhPSBudWxsLCAidG9rZW4gY29uZmlnIG5vdCBleGlzdCIpOwogICAgICAgIGxldCB0b2tlbkNvbmZpZzogVG9rZW5Db25maWcgPSB0b2tlbkNvbmZpZ09wdCEhOwoKICAgICAgICAvLyA9PT09PT09PT09PSBjYWxjdWxhdGUgc2FtcGxlID09PT09PT09PT09IC8vCiAgICAgICAgLy8gZ2V0IGZ1bmRpbmcgcmF0ZSBzYW1wbGUKICAgICAgICBsZXQgc2FtcGxlT3B0OiBHbG9iYWxGdW5kaW5nUmF0ZVNhbXBsZT8gPSBzZWxmLmdsb2JhbEZ1bmRpbmdSYXRlU2FtcGxlcy5nZXQodG9rZW5JZCk7CiAgICAgICAgbGV0IHNhbXBsZTogR2xvYmFsRnVuZGluZ1JhdGVTYW1wbGUgPSBzYW1wbGVPcHQgIT0gbnVsbCA/IHNhbXBsZU9wdCEhIDogR2xvYmFsRnVuZGluZ1JhdGVTYW1wbGV7CiAgICAgICAgICAgIGxhc3RBZGp1c3RGdW5kaW5nUmF0ZVRpbWU6IG5vdygpIC0gKG5vdygpICUgQURKVVNUX0ZVTkRJTkdfUkFURV9JTlRFUlZBTCksCiAgICAgICAgICAgIHNhbXBsZUNvdW50OiAwLAogICAgICAgICAgICBjdW11bGF0aXZlUHJlbWl1bVJhdGU6IDAKICAgICAgICB9OwoKICAgICAgICBsZXQgbGFzdEFkanVzdEZ1bmRpbmdSYXRlVGltZTogSW50ID0gc2FtcGxlLmxhc3RBZGp1c3RGdW5kaW5nUmF0ZVRpbWU7CiAgICAgICAgLy8gYXQgbW9zdCAxIGhvdXIgb2YgcHJlbWl1bSByYXRlIHNhbXBsaW5nCiAgICAgICAgbGV0IG1heFNhbXBsaW5nVGltZTogSW50ID0gbGFzdEFkanVzdEZ1bmRpbmdSYXRlVGltZSArIEFESlVTVF9GVU5ESU5HX1JBVEVfSU5URVJWQUw7CiAgICAgICAgbGV0IHRpbWVzdGFtcDogSW50ID0gbm93KCk7CiAgICAgICAgaWYgKG1heFNhbXBsaW5nVGltZSA8IHRpbWVzdGFtcCkgewogICAgICAgICAgICB0aW1lc3RhbXAgPSBtYXhTYW1wbGluZ1RpbWU7CiAgICAgICAgfQoKICAgICAgICBsZXQgbGFzdFNhbXBsaW5nVGltZTogSW50ID0gbGFzdEFkanVzdEZ1bmRpbmdSYXRlVGltZSArIHNhbXBsZS5zYW1wbGVDb3VudCAqIFNBTVBMRV9QUkVNSVVNX1JBVEVfSU5URVJWQUw7CiAgICAgICAgbGV0IHRpbWVEZWx0YTogSW50ID0gdGltZXN0YW1wIC0gbGFzdFNhbXBsaW5nVGltZTsKICAgICAgICBpZiAodGltZURlbHRhIDwgU0FNUExFX1BSRU1JVU1fUkFURV9JTlRFUlZBTCkgewogICAgICAgICAgICAvLyBubyBuZWVkIHRvIHVwZGF0ZQogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CgogICAgICAgIC8vIGdldCBQUgogICAgICAgIGxldCBwcmV2UHJlbWl1bVJhdGVTYW1wbGVPcHQ6IFByZW1pdW1SYXRlU2FtcGxlRGF0YT8gPSBzZWxmLnByZXZQcmVtaXVtUmF0ZVNhbXBsZXMuZ2V0KHRva2VuSWQpOwogICAgICAgIGxldCBwcmV2UHJlbWl1bVJhdGVTYW1wbGU6IFByZW1pdW1SYXRlU2FtcGxlRGF0YSA9IHByZXZQcmVtaXVtUmF0ZVNhbXBsZU9wdCAhPSBudWxsID8gcHJldlByZW1pdW1SYXRlU2FtcGxlT3B0ISEgOiBQcmVtaXVtUmF0ZVNhbXBsZURhdGF7CiAgICAgICAgICAgIHJhbmdlSWQ6IDAsCiAgICAgICAgICAgIHNhbXBsZUlkOiAwLAogICAgICAgICAgICBkZXZpYXRpb25SYXRlOiAwLAogICAgICAgICAgICBwcmVtaXVtUmF0ZTogMAogICAgICAgIH07CiAgICAgICAgbGV0IHByZW1pdW1SYXRlOiBJbnQgPSBwcmV2UHJlbWl1bVJhdGVTYW1wbGUucHJlbWl1bVJhdGU7CgogICAgICAgIC8vIGN1bXVsYXRpdmUgc2FtcGxlIGNvdW50CiAgICAgICAgbGV0IHNhbXBsZUNvdW50RGVsdGE6IEludCA9IHRpbWVEZWx0YSAvIFNBTVBMRV9QUkVNSVVNX1JBVEVfSU5URVJWQUw7CiAgICAgICAgbGV0IHNhbXBsZUNvdW50QWZ0ZXI6IEludCA9IHNhbXBsZS5zYW1wbGVDb3VudCArIHNhbXBsZUNvdW50RGVsdGE7CgogICAgICAgIC8vIGN1bXVsYXRpdmUgUFIKICAgICAgICBsZXQgY3VtdWxhdGl2ZVByZW1pdW1SYXRlOiBJbnQgPSBwcmVtaXVtUmF0ZSAqICgoc2FtcGxlLnNhbXBsZUNvdW50ICsgMSArIHNhbXBsZUNvdW50QWZ0ZXIpICogc2FtcGxlQ291bnREZWx0YSAvIDIgKTsKICAgICAgICBjdW11bGF0aXZlUHJlbWl1bVJhdGUgPSBzYW1wbGUuY3VtdWxhdGl2ZVByZW1pdW1SYXRlICsgY3VtdWxhdGl2ZVByZW1pdW1SYXRlOwoKICAgICAgICAvLyBkdW1wKHNhbXBsZUNvdW50QWZ0ZXIpOwoKICAgICAgICAvLyBzYW1wbGUgY291bnQgPCA3MjAsIG5vIG5lZWQgdXBkYXRlIGZ1bmRpbmcgcmF0ZQogICAgICAgIGlmIChzYW1wbGVDb3VudEFmdGVyIDwgUkVRVUlSRURfU0FNUExFX0NPVU5UKSB7CiAgICAgICAgICAgIHNhbXBsZS5jdW11bGF0aXZlUHJlbWl1bVJhdGUgPSBjdW11bGF0aXZlUHJlbWl1bVJhdGU7CiAgICAgICAgICAgIHNhbXBsZS5zYW1wbGVDb3VudCA9IHNhbXBsZUNvdW50QWZ0ZXI7CiAgICAgICAgICAgIHNlbGYuZ2xvYmFsRnVuZGluZ1JhdGVTYW1wbGVzLnNldCh0b2tlbklkLCBzYW1wbGUpOwogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CgogICAgICAgIC8vIGF2ZXJhZ2UgUFIKICAgICAgICBsZXQgcHJlbWl1bVJhdGVBdmc6IEludCA9IGN1bXVsYXRpdmVQcmVtaXVtUmF0ZSAvIFBSRU1JVU1fUkFURV9BVkdfREVOT01JTkFUT1I7CiAgICAgICAgCiAgICAgICAgLy8gY2xhbXAgKElSIC0gYXZnUFIpIDogLTAuMDUlIDw9IChJUiAtIGF2Z1BSKSA8PSAwLjA1JQogICAgICAgIGxldCByYXRlRGVsdGE6IEludCA9IHRva2VuQ29uZmlnLmludGVyZXN0UmF0ZSAtIHByZW1pdW1SYXRlQXZnOwogICAgICAgIGxldCBjbGFtcGVkUmF0ZURlbHRhOiBJbnQgPSAwOwogICAgICAgIGlmIChyYXRlRGVsdGEgPiBQUkVNSVVNX1JBVEVfQ0xBTVBfQk9VTkRBUlkpIHsKICAgICAgICAgICAgY2xhbXBlZFJhdGVEZWx0YSA9IFBSRU1JVU1fUkFURV9DTEFNUF9CT1VOREFSWTsKICAgICAgICB9IGVsc2UgaWYgKHJhdGVEZWx0YSA8IC1QUkVNSVVNX1JBVEVfQ0xBTVBfQk9VTkRBUlkpIHsKICAgICAgICAgICAgY2xhbXBlZFJhdGVEZWx0YSA9IC1QUkVNSVVNX1JBVEVfQ0xBTVBfQk9VTkRBUlk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2xhbXBlZFJhdGVEZWx0YSA9IHJhdGVEZWx0YTsKICAgICAgICB9CiAgICAgICAgbGV0IGZ1bmRpbmdSYXRlRGVsdGE6IEludCA9IHByZW1pdW1SYXRlQXZnICsgY2xhbXBlZFJhdGVEZWx0YTsKICAgICAgICAKICAgICAgICBzYW1wbGUubGFzdEFkanVzdEZ1bmRpbmdSYXRlVGltZSA9IG1heFNhbXBsaW5nVGltZTsKICAgICAgICBzYW1wbGUuY3VtdWxhdGl2ZVByZW1pdW1SYXRlID0gMDsKICAgICAgICBzYW1wbGUuc2FtcGxlQ291bnQgPSAwOwogICAgICAgIHNlbGYuZ2xvYmFsRnVuZGluZ1JhdGVTYW1wbGVzLnNldCh0b2tlbklkLCBzYW1wbGUpOwoKICAgICAgICAvLyA9PT09PT09PT09PSB1cGRhdGUgZnVuZGluZyByYXRlID09PT09PT09PT09IC8vCiAgICAgICAgLy8gY2xhbXAgZnVuZGluZ1JhdGVEZWx0YTogLW1heEZ1bmRpbmdSYXRlIDw9IGZ1bmRpbmdSYXRlRGVsdGEgPD0gbWF4RnVuZGluZ1JhdGUKICAgICAgICBsZXQgbWF4RnVuZGluZ1JhdGU6IEludCA9IHRva2VuQ29uZmlnLm1heEZ1bmRpbmdSYXRlOwogICAgICAgIGxldCBjbGFtcGVkRnVuZGluZ1JhdGVEZWx0YTogSW50ID0gMDsKICAgICAgICBpZiAoZnVuZGluZ1JhdGVEZWx0YSA+IG1heEZ1bmRpbmdSYXRlKSB7CiAgICAgICAgICAgIGNsYW1wZWRGdW5kaW5nUmF0ZURlbHRhID0gbWF4RnVuZGluZ1JhdGU7CiAgICAgICAgfSBlbHNlIGlmIChmdW5kaW5nUmF0ZURlbHRhIDwgLW1heEZ1bmRpbmdSYXRlKSB7CiAgICAgICAgICAgIGNsYW1wZWRGdW5kaW5nUmF0ZURlbHRhID0gLW1heEZ1bmRpbmdSYXRlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNsYW1wZWRGdW5kaW5nUmF0ZURlbHRhID0gZnVuZGluZ1JhdGVEZWx0YTsKICAgICAgICB9CgogICAgICAgIC8vIGR1bXAoY2xhbXBlZEZ1bmRpbmdSYXRlRGVsdGEpOwoKICAgICAgICAvLyBnZXQgcGFpZFNpemUgYW5kIHJlY2VpdmVkU2l6ZQogICAgICAgIGxldCBnbG9iYWxQb3NpdGlvbk9wdDogR2xvYmFsUG9zaXRpb24/ID0gc2VsZi5nbG9iYWxQb3NpdGlvbnMuZ2V0KHRva2VuSWQpOwogICAgICAgIGlmIChnbG9iYWxQb3NpdGlvbk9wdCA9PSBudWxsKSB7CiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KCiAgICAgICAgbGV0IGdsb2JhbFBvc2l0aW9uOiBHbG9iYWxQb3NpdGlvbiA9IGdsb2JhbFBvc2l0aW9uT3B0ISE7CgogICAgICAgIGxldCBwYWlkU2l6ZTogSW50ID0gMDsKICAgICAgICBsZXQgcmVjZWl2ZWRTaXplOiBJbnQgPSAwOwogICAgICAgIGlmIChjbGFtcGVkRnVuZGluZ1JhdGVEZWx0YSA+PSAwKSB7CiAgICAgICAgICAgIHBhaWRTaXplID0gZ2xvYmFsUG9zaXRpb24ubG9uZ1NpemU7CiAgICAgICAgICAgIHJlY2VpdmVkU2l6ZSA9IGdsb2JhbFBvc2l0aW9uLnNob3J0U2l6ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwYWlkU2l6ZSA9IGdsb2JhbFBvc2l0aW9uLnNob3J0U2l6ZTsKICAgICAgICAgICAgcmVjZWl2ZWRTaXplID0gZ2xvYmFsUG9zaXRpb24ubG9uZ1NpemU7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIGNhbGN1bGF0ZSBmdW5kaW5nIHJhdGUgZ3Jvd3RoCiAgICAgICAgLy8gcGFpZEZ1bmRpbmdGZWVHcm93dGhEZWx0YSA9IChwYWlkU2l6ZSAqIHByaWNlICogZnVuZGluZ1JhdGUpIC8gcGFpZFNpemUgPSBwcmljZSAqIGZ1bmRpbmdSYXRlCiAgICAgICAgbGV0IHBhaWRGdW5kaW5nRmVlR3Jvd3RoRGVsdGE6IEludCA9IGluZGV4UHJpY2UgKiBjbGFtcGVkRnVuZGluZ1JhdGVEZWx0YSAvIFBFUkNFTlRBR0VfQkFTSVNfUE9JTlQ7CgogICAgICAgIGxldCByZWNlaXZlZEZ1bmRpbmdGZWVHcm93dGhEZWx0YTogSW50ID0gMDsKICAgICAgICBsZXQgbHBSZWNlaXZlZEZ1bmRpbmdGZWU6IEludCA9IDA7CiAgICAgICAgaWYgKHBhaWRGdW5kaW5nRmVlR3Jvd3RoRGVsdGEgPiAwKSB7CiAgICAgICAgICAgIGlmIChyZWNlaXZlZFNpemUgPiAwKSB7CiAgICAgICAgICAgICAgICByZWNlaXZlZEZ1bmRpbmdGZWVHcm93dGhEZWx0YSA9IHBhaWRGdW5kaW5nRmVlR3Jvd3RoRGVsdGE7CiAgICAgICAgICAgICAgICBscFJlY2VpdmVkRnVuZGluZ0ZlZSA9IHBhaWRGdW5kaW5nRmVlR3Jvd3RoRGVsdGEgKiAocGFpZFNpemUgLSByZWNlaXZlZFNpemUpOwogICAgICAgICAgICAgICAgc2VsZi5nbG9iYWxMUEZ1bmRpbmdGZWVHcm93dGggKz0gbHBSZWNlaXZlZEZ1bmRpbmdGZWUgLyBzZWxmLmdsb2JhbExQTGlxdWlkaXR5OwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbHBSZWNlaXZlZEZ1bmRpbmdGZWUgPSBwYWlkU2l6ZSAqIHBhaWRGdW5kaW5nRmVlR3Jvd3RoRGVsdGE7CiAgICAgICAgICAgICAgICBzZWxmLmdsb2JhbExQRnVuZGluZ0ZlZUdyb3d0aCArPSBscFJlY2VpdmVkRnVuZGluZ0ZlZSAvIHNlbGYuZ2xvYmFsTFBMaXF1aWRpdHk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgbGV0IGxvbmdGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXI6IEludCA9IGdsb2JhbFBvc2l0aW9uLmxvbmdGdW5kaW5nRmVlR3Jvd3RoOwogICAgICAgIGxldCBzaG9ydEZ1bmRpbmdGZWVHcm93dGhBZnRlcjogSW50ID0gZ2xvYmFsUG9zaXRpb24uc2hvcnRGdW5kaW5nRmVlR3Jvd3RoOwogICAgICAgIAogICAgICAgIC8vIGZ1bmRpbmcgcmF0ZSA+IDAsIGxvbmcgcGF5IGZvciBzaG9ydCBhbmQgTFAKICAgICAgICBpZiAoY2xhbXBlZEZ1bmRpbmdSYXRlRGVsdGEgPj0gMCkgewogICAgICAgICAgICBsb25nRnVuZGluZ0ZlZUdyb3d0aEFmdGVyID0gbG9uZ0Z1bmRpbmdGZWVHcm93dGhBZnRlciAtIHBhaWRGdW5kaW5nRmVlR3Jvd3RoRGVsdGE7CiAgICAgICAgICAgIHNob3J0RnVuZGluZ0ZlZUdyb3d0aEFmdGVyID0gc2hvcnRGdW5kaW5nRmVlR3Jvd3RoQWZ0ZXIgKyByZWNlaXZlZEZ1bmRpbmdGZWVHcm93dGhEZWx0YTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBsb25nRnVuZGluZ0ZlZUdyb3d0aEFmdGVyID0gbG9uZ0Z1bmRpbmdGZWVHcm93dGhBZnRlciArIHJlY2VpdmVkRnVuZGluZ0ZlZUdyb3d0aERlbHRhOwogICAgICAgICAgICBzaG9ydEZ1bmRpbmdGZWVHcm93dGhBZnRlciA9IHNob3J0RnVuZGluZ0ZlZUdyb3d0aEFmdGVyIC0gcGFpZEZ1bmRpbmdGZWVHcm93dGhEZWx0YTsKICAgICAgICB9CiAgICAgICAgZ2xvYmFsUG9zaXRpb24ubG9uZ0Z1bmRpbmdGZWVHcm93dGggPSBsb25nRnVuZGluZ0ZlZUdyb3d0aEFmdGVyOwogICAgICAgIGdsb2JhbFBvc2l0aW9uLnNob3J0RnVuZGluZ0ZlZUdyb3d0aCA9IHNob3J0RnVuZGluZ0ZlZUdyb3d0aEFmdGVyOwogICAgICAgIHNlbGYuZ2xvYmFsUG9zaXRpb25zLnNldCh0b2tlbklkLCBnbG9iYWxQb3NpdGlvbik7CiAgICAgICAgcmV0dXJuIGxwUmVjZWl2ZWRGdW5kaW5nRmVlIC8gUFJJQ0VfREVDSU1BTF9GQUNUT1I7CiAgICB9CgogICAgZnVuIGNhbGN1bGF0ZVByZW1pdW1SYXRlKHRva2VuSWQ6IEludCwgc2l6ZURlbHRhOiBJbnQsIGlzTG9uZzogQm9vbCk6IFByZW1pdW1SYXRlU2FtcGxlRGF0YT8gewogICAgICAgIC8vIGdldCB0b2tlbiBjb25maWcKICAgICAgICBsZXQgdG9rZW5Db25maWdPcHQ6IFRva2VuQ29uZmlnPyA9IHNlbGYudG9rZW5Db25maWdzLmdldCh0b2tlbklkKTsKICAgICAgICBpZiAodG9rZW5Db25maWdPcHQgPT0gbnVsbCkgewogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgICAgbGV0IHRva2VuQ29uZmlnOiBUb2tlbkNvbmZpZyA9IHRva2VuQ29uZmlnT3B0ISE7CgogICAgICAgIC8vIGdldCBnbG9iYWwgbHAgcG9zaXRpb24KICAgICAgICBsZXQgZ2xvYmFsTFBQb3NpdGlvbk9wdDogR2xvYmFsTFBQb3NpdGlvbj8gPSBzZWxmLmdsb2JhbExQUG9zaXRpb25zLmdldCh0b2tlbklkKTsKICAgICAgICBpZiAoZ2xvYmFsTFBQb3NpdGlvbk9wdCA9PSBudWxsKSB7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgICAgICBsZXQgZ2xvYmFsTFBQb3NpdGlvbjogR2xvYmFsTFBQb3NpdGlvbiA9IGdsb2JhbExQUG9zaXRpb25PcHQhITsKCiAgICAgICAgLy8gc2ltdWxhdGUgZ2xvYmFsIGxwIGFmdGVyCiAgICAgICAgbGV0IGdsb2JhbExQTmV0U2l6ZUFmdGVyOiBJbnQgPSBnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemU7CiAgICAgICAgbGV0IGdsb2JhbExQSXNMb25nQWZ0ZXI6IEJvb2wgPSBnbG9iYWxMUFBvc2l0aW9uLmlzTG9uZzsKICAgICAgICBsZXQgc2l6ZVJlbWFpbmluZzogSW50ID0gc2l6ZURlbHRhOwogICAgICAgIGlmIChnbG9iYWxMUFBvc2l0aW9uLm5ldFNpemUgPiAwICYmIChpc0xvbmcgPT0gZ2xvYmFsTFBQb3NpdGlvbi5pc0xvbmcpKSB7CiAgICAgICAgICAgIGxldCBzaXplVXNlZDogSW50ID0gbWluKGdsb2JhbExQUG9zaXRpb24ubmV0U2l6ZSwgc2l6ZURlbHRhKTsKICAgICAgICAgICAgc2l6ZVJlbWFpbmluZyAtPSBzaXplVXNlZDsKICAgICAgICAgICAgZ2xvYmFsTFBOZXRTaXplQWZ0ZXIgLT0gc2l6ZVVzZWQ7CiAgICAgICAgfQogICAgICAgIGlmKHNpemVSZW1haW5pbmcgPiAwKSB7CiAgICAgICAgICAgIGdsb2JhbExQTmV0U2l6ZUFmdGVyICs9IHNpemVSZW1haW5pbmc7CiAgICAgICAgICAgIGdsb2JhbExQSXNMb25nQWZ0ZXIgPSAhaXNMb25nOwogICAgICAgIH0KCiAgICAgICAgLy8gY2FsY3VsYXRlIERSCiAgICAgICAgbGV0IHRva2VuTGlxdWlkaXR5OiBJbnQgPSAoc2VsZi5nbG9iYWxMUEZ1bmQgKyBzZWxmLmdsb2JhbExQVW5yZWFsaXplZFBubCkgKiB0b2tlbkNvbmZpZy5saXF1aWRpdHlQcm9wb3J0aW9uIC8gUEVSQ0VOVEFHRV9CQVNJU19QT0lOVDsKICAgICAgICBsZXQgZGV2aWF0aW9uUmF0ZTogSW50ID0gZ2xvYmFsTFBOZXRTaXplQWZ0ZXIgKiBQRVJDRU5UQUdFX0JBU0lTX1BPSU5UIC8gdG9rZW5MaXF1aWRpdHk7CgogICAgICAgIGxldCBwcmVtaXVtUmF0ZVNhbXBsZTogUHJlbWl1bVJhdGVTYW1wbGVEYXRhID0gc2VsZi5zZWFyY2hQcmVtaXVtUmF0ZSh0b2tlbklkLCBkZXZpYXRpb25SYXRlKTsKICAgICAgICBpZiAoZ2xvYmFsTFBJc0xvbmdBZnRlcikgewogICAgICAgICAgICBwcmVtaXVtUmF0ZVNhbXBsZS5kZXZpYXRpb25SYXRlID0gLXByZW1pdW1SYXRlU2FtcGxlLmRldmlhdGlvblJhdGU7CiAgICAgICAgICAgIHByZW1pdW1SYXRlU2FtcGxlLnByZW1pdW1SYXRlID0gLXByZW1pdW1SYXRlU2FtcGxlLnByZW1pdW1SYXRlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHByZW1pdW1SYXRlU2FtcGxlOwogICAgfQoKICAgIC8vIHJlY2VpdmUobXNnOiBEZXZpYXRpb25SYXRlKSB7CiAgICAvLyAgICAgbGV0IHJlc3VsdDogUHJlbWl1bVJhdGVTYW1wbGVEYXRhID0gc2VsZi5zZWFyY2hQcmVtaXVtUmF0ZShtc2cuZGV2aWF0aW9uUmF0ZSk7CiAgICAvLyAgICAgc2VsZi5wcmV2UHJlbWl1bVJhdGVTYW1wbGUgPSByZXN1bHQ7CiAgICAvLyAgICAgZHVtcCgiZmluZCBQUiIpOwogICAgLy8gICAgIGR1bXAocmVzdWx0LnJhbmdlSWQpOwogICAgLy8gICAgIGR1bXAocmVzdWx0LnNhbXBsZUlkKTsKICAgIC8vICAgICBkdW1wKHJlc3VsdC5kZXZpYXRpb25SYXRlKTsKICAgIC8vICAgICBkdW1wKHJlc3VsdC5wcmVtaXVtUmF0ZSk7CiAgICAvLyB9CgogICAgZnVuIHNlYXJjaFByZW1pdW1SYXRlKHRva2VuSWQ6IEludCwgZGV2aWF0aW9uUmF0ZTogSW50KTogUHJlbWl1bVJhdGVTYW1wbGVEYXRhIHsKICAgICAgICBsZXQgcmFuZ2VJZDogSW50ID0gZGV2aWF0aW9uUmF0ZSAvIDEwXzAwMF8wMDA7CiAgICAgICAgaWYgKHJhbmdlSWQgPj0gMjAwKSB7CiAgICAgICAgICAgIHJhbmdlSWQgPSByYW5nZUlkIC8gMTAgKiAxMDsKICAgICAgICB9IGVsc2UgaWYgKHJhbmdlSWQgPj0gMzAwKSB7CiAgICAgICAgICAgIHJhbmdlSWQgPSAzMDA7CiAgICAgICAgfQogICAgICAgIC8vIGR1bXAocmFuZ2VJZCk7CgogICAgICAgIGxldCBwcmVtaXVtUmF0ZVNhbXBsZVJhbmdlT3B0OiBQcmVtaXVtUmF0ZVNhbXBsZVJhbmdlPyA9IHNlbGYucHJlbWl1bVJhdGVTYW1wbGVSYW5nZXMuZ2V0KHJhbmdlSWQpOwogICAgICAgIGlmIChwcmVtaXVtUmF0ZVNhbXBsZVJhbmdlT3B0ID09IG51bGwpIHsKICAgICAgICAgICAgcmV0dXJuIFByZW1pdW1SYXRlU2FtcGxlRGF0YSB7CiAgICAgICAgICAgICAgICByYW5nZUlkOiByYW5nZUlkLAogICAgICAgICAgICAgICAgc2FtcGxlSWQ6IDAsCiAgICAgICAgICAgICAgICBkZXZpYXRpb25SYXRlOiAwLAogICAgICAgICAgICAgICAgcHJlbWl1bVJhdGU6IDAKICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgbGV0IHByZW1pdW1SYXRlU2FtcGxlUmFuZ2U6IFByZW1pdW1SYXRlU2FtcGxlUmFuZ2UgPSBwcmVtaXVtUmF0ZVNhbXBsZVJhbmdlT3B0ISE7CiAgICAgICAgCiAgICAgICAgLy8gc2VhcmNoIGluIHJhbmdlCiAgICAgICAgbGV0IHByZXZQcmVtaXVtUmF0ZVNhbXBsZU9wdDogUHJlbWl1bVJhdGVTYW1wbGVEYXRhPyA9IHNlbGYucHJldlByZW1pdW1SYXRlU2FtcGxlcy5nZXQodG9rZW5JZCk7CiAgICAgICAgbGV0IHByZXZTYW1wbGU6IFByZW1pdW1SYXRlU2FtcGxlRGF0YSA9IHByZXZQcmVtaXVtUmF0ZVNhbXBsZU9wdCAhPSBudWxsID8gcHJldlByZW1pdW1SYXRlU2FtcGxlT3B0ISEgOiBQcmVtaXVtUmF0ZVNhbXBsZURhdGF7CiAgICAgICAgICAgIHJhbmdlSWQ6IDAsCiAgICAgICAgICAgIHNhbXBsZUlkOiAwLAogICAgICAgICAgICBkZXZpYXRpb25SYXRlOiAwLAogICAgICAgICAgICBwcmVtaXVtUmF0ZTogMAogICAgICAgIH07CiAgICAgICAgaWYgKGRldmlhdGlvblJhdGUgPT0gcHJldlNhbXBsZS5kZXZpYXRpb25SYXRlKSB7CiAgICAgICAgICAgIHJldHVybiBwcmV2U2FtcGxlOwogICAgICAgIH0KICAgICAgICBsZXQgc3RhcnQ6IEludCA9IDA7CiAgICAgICAgbGV0IGVuZDogSW50ID0gcHJlbWl1bVJhdGVTYW1wbGVSYW5nZS5zYW1wbGVMZW5ndGg7CiAgICAgICAgbGV0IGN1cjogSW50ID0gMDsKICAgICAgICBsZXQgZm9yd2FyZDogQm9vbCA9IChkZXZpYXRpb25SYXRlID4gcHJldlNhbXBsZS5kZXZpYXRpb25SYXRlKSA/IHRydWUgOiBmYWxzZTsKICAgICAgICBsZXQgY3VyU2FtcGxlOiBQcmVtaXVtUmF0ZVNhbXBsZSA9IFByZW1pdW1SYXRlU2FtcGxlewogICAgICAgICAgICBkZXZpYXRpb25SYXRlOiAwLAogICAgICAgICAgICBwcmVtaXVtUmF0ZTogMAogICAgICAgIH07CiAgICAgICAgaWYgKHJhbmdlSWQgPT0gcHJldlNhbXBsZS5yYW5nZUlkKSB7CiAgICAgICAgICAgIGN1ciA9IHByZXZTYW1wbGUuc2FtcGxlSWQ7CiAgICAgICAgICAgIGN1clNhbXBsZS5kZXZpYXRpb25SYXRlID0gcHJldlNhbXBsZS5kZXZpYXRpb25SYXRlOwogICAgICAgICAgICBjdXJTYW1wbGUucHJlbWl1bVJhdGUgPSBwcmV2U2FtcGxlLnByZW1pdW1SYXRlOwogICAgICAgICAgICBpZiAoZGV2aWF0aW9uUmF0ZSA+IHByZXZTYW1wbGUuZGV2aWF0aW9uUmF0ZSkgewogICAgICAgICAgICAgICAgc3RhcnQgPSBwcmV2U2FtcGxlLnNhbXBsZUlkOwogICAgICAgICAgICAgICAgY3VyID0gc3RhcnQ7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBlbmQgPSBwcmV2U2FtcGxlLnNhbXBsZUlkOwogICAgICAgICAgICAgICAgY3VyID0gZW5kOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKGZvcndhcmQpIHsKICAgICAgICAgICAgICAgIGxldCBzdGFydFNhbXBsZU9wdDogUHJlbWl1bVJhdGVTYW1wbGU/ID0gcHJlbWl1bVJhdGVTYW1wbGVSYW5nZS5zYW1wbGVzLmdldChzdGFydCk7CiAgICAgICAgICAgICAgICBpZiAoc3RhcnRTYW1wbGVPcHQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIGN1clNhbXBsZSA9IFByZW1pdW1SYXRlU2FtcGxlewogICAgICAgICAgICAgICAgICAgICAgICBkZXZpYXRpb25SYXRlOiAoc3RhcnRTYW1wbGVPcHQhISkuZGV2aWF0aW9uUmF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgcHJlbWl1bVJhdGU6IChzdGFydFNhbXBsZU9wdCEhKS5wcmVtaXVtUmF0ZQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBsZXQgZW5kU2FtcGxlT3B0OiBQcmVtaXVtUmF0ZVNhbXBsZT8gPSBwcmVtaXVtUmF0ZVNhbXBsZVJhbmdlLnNhbXBsZXMuZ2V0KGVuZCk7CiAgICAgICAgICAgICAgICBpZiAoZW5kU2FtcGxlT3B0ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICBjdXJTYW1wbGUgPSBQcmVtaXVtUmF0ZVNhbXBsZXsKICAgICAgICAgICAgICAgICAgICAgICAgZGV2aWF0aW9uUmF0ZTogKGVuZFNhbXBsZU9wdCEhKS5kZXZpYXRpb25SYXRlLAogICAgICAgICAgICAgICAgICAgICAgICBwcmVtaXVtUmF0ZTogKGVuZFNhbXBsZU9wdCEhKS5wcmVtaXVtUmF0ZQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICB9CgogICAgICAgIH0KCiAgICAgICAgd2hpbGUoY3VyID49IHN0YXJ0ICYmIGN1ciA8PSBlbmQpIHsKICAgICAgICAgICAgLy8gZ2V0IG5leHQKICAgICAgICAgICAgbGV0IG5leHQ6IEludCA9IGZvcndhcmQgPyBjdXIgKyAxIDogY3VyIC0gMTsKICAgICAgICAgICAgbGV0IG5leHRTYW1wbGVPcHQ6IFByZW1pdW1SYXRlU2FtcGxlPyA9IHByZW1pdW1SYXRlU2FtcGxlUmFuZ2Uuc2FtcGxlcy5nZXQobmV4dCk7CiAgICAgICAgICAgIGlmIChuZXh0U2FtcGxlT3B0ID09IG51bGwpIHsKICAgICAgICAgICAgICAgIHJldHVybiBQcmVtaXVtUmF0ZVNhbXBsZURhdGF7CiAgICAgICAgICAgICAgICAgICAgcmFuZ2VJZDogcmFuZ2VJZCwKICAgICAgICAgICAgICAgICAgICBzYW1wbGVJZDogY3VyLAogICAgICAgICAgICAgICAgICAgIGRldmlhdGlvblJhdGU6IGN1clNhbXBsZS5kZXZpYXRpb25SYXRlLAogICAgICAgICAgICAgICAgICAgIHByZW1pdW1SYXRlOiBjdXJTYW1wbGUucHJlbWl1bVJhdGUKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbGV0IG5leHRTYW1wbGU6IFByZW1pdW1SYXRlU2FtcGxlID0gbmV4dFNhbXBsZU9wdCEhOwoKICAgICAgICAgICAgaWYgKGZvcndhcmQpIHsKICAgICAgICAgICAgICAgIGlmIChkZXZpYXRpb25SYXRlIDwgbmV4dFNhbXBsZS5kZXZpYXRpb25SYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByZW1pdW1SYXRlU2FtcGxlRGF0YXsKICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VJZDogcmFuZ2VJZCwKICAgICAgICAgICAgICAgICAgICAgICAgc2FtcGxlSWQ6IGN1ciwKICAgICAgICAgICAgICAgICAgICAgICAgZGV2aWF0aW9uUmF0ZTogY3VyU2FtcGxlLmRldmlhdGlvblJhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgIHByZW1pdW1SYXRlOiBjdXJTYW1wbGUucHJlbWl1bVJhdGUKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkZXZpYXRpb25SYXRlID09IG5leHRTYW1wbGUuZGV2aWF0aW9uUmF0ZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBQcmVtaXVtUmF0ZVNhbXBsZURhdGF7CiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlSWQ6IHJhbmdlSWQsCiAgICAgICAgICAgICAgICAgICAgICAgIHNhbXBsZUlkOiBuZXh0LAogICAgICAgICAgICAgICAgICAgICAgICBkZXZpYXRpb25SYXRlOiBuZXh0U2FtcGxlLmRldmlhdGlvblJhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgIHByZW1pdW1SYXRlOiBuZXh0U2FtcGxlLnByZW1pdW1SYXRlCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2FtcGxlID0gbmV4dFNhbXBsZTsKICAgICAgICAgICAgICAgICAgICBjdXIgPSBuZXh0OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaWYgKGRldmlhdGlvblJhdGUgPj0gbmV4dFNhbXBsZS5kZXZpYXRpb25SYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByZW1pdW1SYXRlU2FtcGxlRGF0YXsKICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VJZDogcmFuZ2VJZCwKICAgICAgICAgICAgICAgICAgICAgICAgc2FtcGxlSWQ6IG5leHQsCiAgICAgICAgICAgICAgICAgICAgICAgIGRldmlhdGlvblJhdGU6IG5leHRTYW1wbGUuZGV2aWF0aW9uUmF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgcHJlbWl1bVJhdGU6IG5leHRTYW1wbGUucHJlbWl1bVJhdGUKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjdXJTYW1wbGUgPSBuZXh0U2FtcGxlOwogICAgICAgICAgICAgICAgICAgIGN1ciA9IG5leHQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgfQoKICAgICAgICByZXR1cm4gUHJlbWl1bVJhdGVTYW1wbGVEYXRhewogICAgICAgICAgICByYW5nZUlkOiByYW5nZUlkLAogICAgICAgICAgICBzYW1wbGVJZDogY3VyLAogICAgICAgICAgICBkZXZpYXRpb25SYXRlOiBjdXJTYW1wbGUuZGV2aWF0aW9uUmF0ZSwKICAgICAgICAgICAgcHJlbWl1bVJhdGU6IGN1clNhbXBsZS5wcmVtaXVtUmF0ZQogICAgICAgIH07CiAgICB9CgoKfQo="},"compiler":{"name":"tact","version":"1.2.0","parameters":"{\"entrypoint\":\"contracts/pool/pool.tact\",\"options\":{}}"}}